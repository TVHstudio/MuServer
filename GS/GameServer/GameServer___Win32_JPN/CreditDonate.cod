; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	E:\work\tranet_version\GS\GameServer\CreditDonate.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?gCreditDonate@@3VcCreditDonate@@A		; gCreditDonate
_BSS	SEGMENT
?gCreditDonate@@3VcCreditDonate@@A DB 02afc8H DUP (?)	; gCreditDonate
_BSS	ENDS
PUBLIC	?set@PBMSG_HEAD2@@QAEXPAEEEE@Z			; PBMSG_HEAD2::set
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\include\prodef.h
;	COMDAT ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z
_TEXT	SEGMENT
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_sub$ = 16						; size = 1
_size$ = 20						; size = 1
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z PROC			; PBMSG_HEAD2::set, COMDAT
; _this$ = ecx

; 104  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 105  : 		lpBuf[0] = 0xC1;

  00003	8b 45 08	 mov	 eax, DWORD PTR _lpBuf$[ebp]

; 106  : 		lpBuf[1] = size;

  00006	8a 4d 14	 mov	 cl, BYTE PTR _size$[ebp]

; 107  : 		lpBuf[2] = head;

  00009	8a 55 0c	 mov	 dl, BYTE PTR _head$[ebp]
  0000c	88 48 01	 mov	 BYTE PTR [eax+1], cl

; 108  : 		lpBuf[3] = sub;

  0000f	8a 4d 10	 mov	 cl, BYTE PTR _sub$[ebp]
  00012	c6 00 c1	 mov	 BYTE PTR [eax], 193	; 000000c1H
  00015	88 50 02	 mov	 BYTE PTR [eax+2], dl
  00018	88 48 03	 mov	 BYTE PTR [eax+3], cl

; 109  : 	};

  0001b	5d		 pop	 ebp
  0001c	c2 10 00	 ret	 16			; 00000010H
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ENDP			; PBMSG_HEAD2::set
_TEXT	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi
  00004	8b 7d 10	 mov	 edi, DWORD PTR ___n$[ebp]
  00007	4f		 dec	 edi
  00008	78 14		 js	 SHORT $LN1@vector
  0000a	53		 push	 ebx
  0000b	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00012	8b ce		 mov	 ecx, esi
  00014	ff d3		 call	 ebx
  00016	03 75 0c	 add	 esi, DWORD PTR ___s$[ebp]
  00019	4f		 dec	 edi
  0001a	79 f6		 jns	 SHORT $LL2@vector
  0001c	5e		 pop	 esi
  0001d	5b		 pop	 ebx
$LN1@vector:
  0001e	5f		 pop	 edi
  0001f	5d		 pop	 ebp
  00020	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?SetItemCount@cCreditDonate@@QAEHH@Z		; cCreditDonate::SetItemCount
EXTRN	?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A:BYTE	; ItemAttribute
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\creditdonate.cpp
;	COMDAT ?SetItemCount@cCreditDonate@@QAEHH@Z
_TEXT	SEGMENT
_Type$ = 8						; size = 4
?SetItemCount@cCreditDonate@@QAEHH@Z PROC		; cCreditDonate::SetItemCount, COMDAT
; _this$ = ecx

; 23   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 24   : 	if( ItemAttribute[Type].RequireClass[0] == 0 && 
; 25   : 		ItemAttribute[Type].RequireClass[1] == 0 &&   
; 26   : 		ItemAttribute[Type].RequireClass[2] == 0 && 
; 27   : 		ItemAttribute[Type].RequireClass[4] == 0 &&
; 28   : 		ItemAttribute[Type].RequireClass[5] == 0 )

  00003	8b 45 08	 mov	 eax, DWORD PTR _Type$[ebp]
  00006	6b c0 70	 imul	 eax, 112		; 00000070H
  00009	80 b8 3e 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+62], 0
  00010	75 3f		 jne	 SHORT $LN2@SetItemCou
  00012	80 b8 3f 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+63], 0
  00019	75 36		 jne	 SHORT $LN2@SetItemCou
  0001b	80 b8 40 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+64], 0
  00022	75 2d		 jne	 SHORT $LN2@SetItemCou
  00024	80 b8 42 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+66], 0
  0002b	75 24		 jne	 SHORT $LN2@SetItemCou
  0002d	80 b8 43 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+67], 0
  00034	75 1b		 jne	 SHORT $LN2@SetItemCou

; 29   : 	{
; 30   : 		if( ItemAttribute[Type].RequireClass[3] > 0 || ItemAttribute[Type].RequireClass[6] > 0 )

  00036	80 b8 41 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+65], 0
  0003d	77 09		 ja	 SHORT $LN1@SetItemCou
  0003f	80 b8 44 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+68], 0
  00046	76 09		 jbe	 SHORT $LN2@SetItemCou
$LN1@SetItemCou:

; 31   : 		{
; 32   : 			return 4;

  00048	b8 04 00 00 00	 mov	 eax, 4

; 37   : }

  0004d	5d		 pop	 ebp
  0004e	c2 04 00	 ret	 4
$LN2@SetItemCou:

; 33   : 		}
; 34   : 	}
; 35   : 
; 36   : 	return 5;

  00051	b8 05 00 00 00	 mov	 eax, 5

; 37   : }

  00056	5d		 pop	 ebp
  00057	c2 04 00	 ret	 4
?SetItemCount@cCreditDonate@@QAEHH@Z ENDP		; cCreditDonate::SetItemCount
_TEXT	ENDS
PUBLIC	?NumberFor100@@YAHH@Z				; NumberFor100
; Function compile flags: /Ogtp
;	COMDAT ?NumberFor100@@YAHH@Z
_TEXT	SEGMENT
_a$ = 8							; size = 4
?NumberFor100@@YAHH@Z PROC				; NumberFor100, COMDAT

; 40   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 41   : 	int b = 0;
; 42   : 	for(int i = 100; i < 10000; i+=100)

  00003	8b 55 08	 mov	 edx, DWORD PTR _a$[ebp]
  00006	33 c0		 xor	 eax, eax
  00008	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0000d	8d 49 00	 npad	 3
$LL4@NumberFor1:

; 43   : 	{
; 44   : 		b++;

  00010	40		 inc	 eax

; 45   : 		if(a == i)

  00011	3b d1		 cmp	 edx, ecx
  00013	74 0e		 je	 SHORT $LN5@NumberFor1

; 41   : 	int b = 0;
; 42   : 	for(int i = 100; i < 10000; i+=100)

  00015	83 c1 64	 add	 ecx, 100		; 00000064H
  00018	81 f9 10 27 00
	00		 cmp	 ecx, 10000		; 00002710H
  0001e	7c f0		 jl	 SHORT $LL4@NumberFor1

; 46   : 		{
; 47   : 			return b;
; 48   : 		}
; 49   : 	}
; 50   : 	return -1;

  00020	83 c8 ff	 or	 eax, -1
$LN5@NumberFor1:

; 51   : }

  00023	5d		 pop	 ebp
  00024	c3		 ret	 0
?NumberFor100@@YAHH@Z ENDP				; NumberFor100
_TEXT	ENDS
PUBLIC	?NormalItem@@YA_NHH@Z				; NormalItem
; Function compile flags: /Ogtp
;	COMDAT ?NormalItem@@YA_NHH@Z
_TEXT	SEGMENT
_Type$ = 8						; size = 4
_Index$ = 12						; size = 4
?NormalItem@@YA_NHH@Z PROC				; NormalItem, COMDAT

; 54   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 55   : 	if(ITEMGET(Type, Index) < ITEMGET(11,255) ) return true;

  00003	8b 45 08	 mov	 eax, DWORD PTR _Type$[ebp]
  00006	c1 e0 09	 shl	 eax, 9
  00009	03 45 0c	 add	 eax, DWORD PTR _Index$[ebp]
  0000c	3d ff 16 00 00	 cmp	 eax, 5887		; 000016ffH
  00011	0f 9c c0	 setl	 al

; 56   : 	else return false;
; 57   : }

  00014	5d		 pop	 ebp
  00015	c3		 ret	 0
?NormalItem@@YA_NHH@Z ENDP				; NormalItem
_TEXT	ENDS
PUBLIC	??_C@_02DKCKIIND@?$CFs?$AA@			; `string'
PUBLIC	??_C@_0CD@MBABJFMK@?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5@ ; `string'
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_0N@KFOMAHLG@EndDayChange?$AA@		; `string'
PUBLIC	??_C@_0P@MFEPLFBD@StartDayChange?$AA@		; `string'
PUBLIC	??_C@_0BE@IBGOKHOG@MinusDivGrandChange?$AA@	; `string'
PUBLIC	??_C@_0BF@IEOLIBEM@ActiveDivGrandChange?$AA@	; `string'
PUBLIC	??_C@_0BE@EPKNBCGB@MinusDivResetChange?$AA@	; `string'
PUBLIC	??_C@_0BF@EKCIDEML@ActiveDivResetChange?$AA@	; `string'
PUBLIC	??_C@_0P@GPCKADMD@MinGrandChange?$AA@		; `string'
PUBLIC	??_C@_0P@KBOJLGEE@MinResetChange?$AA@		; `string'
PUBLIC	??_C@_0BB@BDGDNJPA@premium_price_30?$AA@	; `string'
PUBLIC	??_C@_0BA@ENPEFDLA@premium_price_7?$AA@		; `string'
PUBLIC	??_C@_0BA@BLKOPEDG@premium_price_1?$AA@		; `string'
PUBLIC	??_C@_0M@FBABJPHA@ChangeWCoin?$AA@		; `string'
PUBLIC	??_C@_0N@PKCFHGHN@ChangeCredit?$AA@		; `string'
PUBLIC	??_C@_0M@IENFFKKB@ChangeClass?$AA@		; `string'
PUBLIC	??_C@_0L@IFDBMNGG@BuyPremium?$AA@		; `string'
PUBLIC	??_C@_09NJGFGAFN@BuyGoblin?$AA@			; `string'
PUBLIC	??_C@_09ECLNAFJD@BuyWcoinP?$AA@			; `string'
PUBLIC	??_C@_09CDFCEEAB@BuyWcoinC?$AA@			; `string'
PUBLIC	??_C@_0M@JDMDMCGH@SellProcent?$AA@		; `string'
PUBLIC	??_C@_06CNKIADGI@ZtTeam?$AA@			; `string'
PUBLIC	??_C@_06CKGENIKG@Enable?$AA@			; `string'
PUBLIC	??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Load@cCreditDonate@@QAEXXZ			; cCreditDonate::Load
EXTRN	_fclose:PROC
EXTRN	_sprintf:PROC
EXTRN	_sscanf:PROC
EXTRN	?Zt_IsBadFileLine@@YA_NPADAAH@Z:PROC		; Zt_IsBadFileLine
EXTRN	_fgets:PROC
EXTRN	_feof:PROC
EXTRN	_fopen:PROC
EXTRN	?CheckUser@CZtLicense@@QAE_NH@Z:PROC		; CZtLicense::CheckUser
EXTRN	?g_ZtLicense@@3VCZtLicense@@A:BYTE		; g_ZtLicense
EXTRN	__imp__GetPrivateProfileIntA@16:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_02DKCKIIND@?$CFs?$AA@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs?$AA@ DB '%s', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@MBABJFMK@?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5@
CONST	SEGMENT
??_C@_0CD@MBABJFMK@?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5@ DB '"'
	DB	'%[^"]" %d %d %d %d %d %d %d %d %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@KFOMAHLG@EndDayChange?$AA@
CONST	SEGMENT
??_C@_0N@KFOMAHLG@EndDayChange?$AA@ DB 'EndDayChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@MFEPLFBD@StartDayChange?$AA@
CONST	SEGMENT
??_C@_0P@MFEPLFBD@StartDayChange?$AA@ DB 'StartDayChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@IBGOKHOG@MinusDivGrandChange?$AA@
CONST	SEGMENT
??_C@_0BE@IBGOKHOG@MinusDivGrandChange?$AA@ DB 'MinusDivGrandChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@IEOLIBEM@ActiveDivGrandChange?$AA@
CONST	SEGMENT
??_C@_0BF@IEOLIBEM@ActiveDivGrandChange?$AA@ DB 'ActiveDivGrandChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@EPKNBCGB@MinusDivResetChange?$AA@
CONST	SEGMENT
??_C@_0BE@EPKNBCGB@MinusDivResetChange?$AA@ DB 'MinusDivResetChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@EKCIDEML@ActiveDivResetChange?$AA@
CONST	SEGMENT
??_C@_0BF@EKCIDEML@ActiveDivResetChange?$AA@ DB 'ActiveDivResetChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@GPCKADMD@MinGrandChange?$AA@
CONST	SEGMENT
??_C@_0P@GPCKADMD@MinGrandChange?$AA@ DB 'MinGrandChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@KBOJLGEE@MinResetChange?$AA@
CONST	SEGMENT
??_C@_0P@KBOJLGEE@MinResetChange?$AA@ DB 'MinResetChange', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@BDGDNJPA@premium_price_30?$AA@
CONST	SEGMENT
??_C@_0BB@BDGDNJPA@premium_price_30?$AA@ DB 'premium_price_30', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@ENPEFDLA@premium_price_7?$AA@
CONST	SEGMENT
??_C@_0BA@ENPEFDLA@premium_price_7?$AA@ DB 'premium_price_7', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@BLKOPEDG@premium_price_1?$AA@
CONST	SEGMENT
??_C@_0BA@BLKOPEDG@premium_price_1?$AA@ DB 'premium_price_1', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@FBABJPHA@ChangeWCoin?$AA@
CONST	SEGMENT
??_C@_0M@FBABJPHA@ChangeWCoin?$AA@ DB 'ChangeWCoin', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@PKCFHGHN@ChangeCredit?$AA@
CONST	SEGMENT
??_C@_0N@PKCFHGHN@ChangeCredit?$AA@ DB 'ChangeCredit', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@IENFFKKB@ChangeClass?$AA@
CONST	SEGMENT
??_C@_0M@IENFFKKB@ChangeClass?$AA@ DB 'ChangeClass', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@IFDBMNGG@BuyPremium?$AA@
CONST	SEGMENT
??_C@_0L@IFDBMNGG@BuyPremium?$AA@ DB 'BuyPremium', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_09NJGFGAFN@BuyGoblin?$AA@
CONST	SEGMENT
??_C@_09NJGFGAFN@BuyGoblin?$AA@ DB 'BuyGoblin', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_09ECLNAFJD@BuyWcoinP?$AA@
CONST	SEGMENT
??_C@_09ECLNAFJD@BuyWcoinP?$AA@ DB 'BuyWcoinP', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_09CDFCEEAB@BuyWcoinC?$AA@
CONST	SEGMENT
??_C@_09CDFCEEAB@BuyWcoinC?$AA@ DB 'BuyWcoinC', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@JDMDMCGH@SellProcent?$AA@
CONST	SEGMENT
??_C@_0M@JDMDMCGH@SellProcent?$AA@ DB 'SellProcent', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06CNKIADGI@ZtTeam?$AA@
CONST	SEGMENT
??_C@_06CNKIADGI@ZtTeam?$AA@ DB 'ZtTeam', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CKGENIKG@Enable?$AA@
CONST	SEGMENT
??_C@_06CKGENIKG@Enable?$AA@ DB 'Enable', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
CONST	SEGMENT
??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@ DB '..\Data'
	DB	'\ZtData\CreditDonate.ini', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Load@cCreditDonate@@QAEXXZ
_TEXT	SEGMENT
_Flag$ = -400						; size = 4
_n$207139 = -396					; size = 36
_Buff$ = -360						; size = 256
_mes$207140 = -104					; size = 100
__$ArrayPad$ = -4					; size = 4
?Load@cCreditDonate@@QAEXXZ PROC			; cCreditDonate::Load, COMDAT
; _this$ = ecx

; 60   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 01 00
	00		 sub	 esp, 400		; 00000190H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi

; 61   : 	this->Enable = GetPrivateProfileInt("ZtTeam","Enable",0,CR_DONATE_DIR);

  00016	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR __imp__GetPrivateProfileIntA@16
  0001c	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00021	33 db		 xor	 ebx, ebx
  00023	53		 push	 ebx
  00024	68 00 00 00 00	 push	 OFFSET ??_C@_06CKGENIKG@Enable?$AA@
  00029	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  0002e	8b f1		 mov	 esi, ecx
  00030	ff d7		 call	 edi

; 62   : 	this->SellProcent = GetPrivateProfileInt("ZtTeam","SellProcent",0,CR_DONATE_DIR);

  00032	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00037	53		 push	 ebx
  00038	85 c0		 test	 eax, eax
  0003a	68 00 00 00 00	 push	 OFFSET ??_C@_0M@JDMDMCGH@SellProcent?$AA@
  0003f	0f 95 c0	 setne	 al
  00042	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  00047	88 06		 mov	 BYTE PTR [esi], al
  00049	ff d7		 call	 edi

; 63   : 
; 64   : 	this->BuyWcoinC = GetPrivateProfileInt("ZtTeam","BuyWcoinC",0,CR_DONATE_DIR);

  0004b	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00050	53		 push	 ebx
  00051	68 00 00 00 00	 push	 OFFSET ??_C@_09CDFCEEAB@BuyWcoinC?$AA@
  00056	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  0005b	89 46 04	 mov	 DWORD PTR [esi+4], eax
  0005e	ff d7		 call	 edi

; 65   : 	this->BuyWcoinP = GetPrivateProfileInt("ZtTeam","BuyWcoinP",0,CR_DONATE_DIR);

  00060	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00065	53		 push	 ebx
  00066	85 c0		 test	 eax, eax
  00068	68 00 00 00 00	 push	 OFFSET ??_C@_09ECLNAFJD@BuyWcoinP?$AA@
  0006d	0f 95 c1	 setne	 cl
  00070	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  00075	88 4e 08	 mov	 BYTE PTR [esi+8], cl
  00078	ff d7		 call	 edi

; 66   : 	this->BuyGoblin = GetPrivateProfileInt("ZtTeam","BuyGoblin",0,CR_DONATE_DIR);

  0007a	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  0007f	53		 push	 ebx
  00080	85 c0		 test	 eax, eax
  00082	68 00 00 00 00	 push	 OFFSET ??_C@_09NJGFGAFN@BuyGoblin?$AA@
  00087	0f 95 c2	 setne	 dl
  0008a	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  0008f	88 56 09	 mov	 BYTE PTR [esi+9], dl
  00092	ff d7		 call	 edi

; 67   : 	this->BuyPremium = GetPrivateProfileInt("ZtTeam","BuyPremium",0,CR_DONATE_DIR);

  00094	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00099	53		 push	 ebx
  0009a	85 c0		 test	 eax, eax
  0009c	68 00 00 00 00	 push	 OFFSET ??_C@_0L@IFDBMNGG@BuyPremium?$AA@
  000a1	0f 95 c0	 setne	 al
  000a4	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  000a9	88 46 0a	 mov	 BYTE PTR [esi+10], al
  000ac	ff d7		 call	 edi

; 68   : 
; 69   : 	this->ChangeClass = GetPrivateProfileInt("ZtTeam","ChangeClass",0,CR_DONATE_DIR);

  000ae	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  000b3	53		 push	 ebx
  000b4	85 c0		 test	 eax, eax
  000b6	68 00 00 00 00	 push	 OFFSET ??_C@_0M@IENFFKKB@ChangeClass?$AA@
  000bb	0f 95 c1	 setne	 cl
  000be	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  000c3	88 4e 0b	 mov	 BYTE PTR [esi+11], cl
  000c6	ff d7		 call	 edi

; 70   : 	this->ChangeCredit = GetPrivateProfileInt("ZtTeam","ChangeCredit",0,CR_DONATE_DIR);

  000c8	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  000cd	53		 push	 ebx
  000ce	85 c0		 test	 eax, eax
  000d0	68 00 00 00 00	 push	 OFFSET ??_C@_0N@PKCFHGHN@ChangeCredit?$AA@
  000d5	0f 95 c2	 setne	 dl
  000d8	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  000dd	88 56 0c	 mov	 BYTE PTR [esi+12], dl
  000e0	ff d7		 call	 edi

; 71   : 	this->ChangeWCoin = GetPrivateProfileInt("ZtTeam","ChangeWCoin",0,CR_DONATE_DIR);

  000e2	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  000e7	53		 push	 ebx
  000e8	68 00 00 00 00	 push	 OFFSET ??_C@_0M@FBABJPHA@ChangeWCoin?$AA@
  000ed	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  000f2	89 46 10	 mov	 DWORD PTR [esi+16], eax
  000f5	ff d7		 call	 edi

; 72   : 
; 73   : #ifdef PRIVATE_MODULE
; 74   : 	if(g_ZtLicense.CheckUser(eZtUB::Vadim))

  000f7	6a 09		 push	 9
  000f9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  000fe	89 46 14	 mov	 DWORD PTR [esi+20], eax
  00101	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00106	84 c0		 test	 al, al
  00108	74 48		 je	 SHORT $LN13@Load

; 75   : 	{
; 76   : 		this->premium_price_1 = GetPrivateProfileInt("ZtTeam","premium_price_1",0,CR_DONATE_DIR);

  0010a	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  0010f	53		 push	 ebx
  00110	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@BLKOPEDG@premium_price_1?$AA@
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  0011a	ff d7		 call	 edi

; 77   : 		this->premium_price_7 = GetPrivateProfileInt("ZtTeam","premium_price_7",0,CR_DONATE_DIR);

  0011c	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00121	53		 push	 ebx
  00122	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@ENPEFDLA@premium_price_7?$AA@
  00127	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  0012c	89 86 9c af 02
	00		 mov	 DWORD PTR [esi+176028], eax
  00132	ff d7		 call	 edi

; 78   : 		this->premium_price_30 = GetPrivateProfileInt("ZtTeam","premium_price_30",0,CR_DONATE_DIR);

  00134	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00139	53		 push	 ebx
  0013a	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@BDGDNJPA@premium_price_30?$AA@
  0013f	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  00144	89 86 a0 af 02
	00		 mov	 DWORD PTR [esi+176032], eax
  0014a	ff d7		 call	 edi
  0014c	89 86 a4 af 02
	00		 mov	 DWORD PTR [esi+176036], eax
$LN13@Load:

; 79   : 	}
; 80   : #endif
; 81   : 
; 82   : 	// -> Evo
; 83   : 	this->m_MinResetChange = GetPrivateProfileInt("ZtTeam","MinResetChange",0,CR_DONATE_DIR);

  00152	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00157	53		 push	 ebx
  00158	68 00 00 00 00	 push	 OFFSET ??_C@_0P@KBOJLGEE@MinResetChange?$AA@
  0015d	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  00162	ff d7		 call	 edi

; 84   : 	this->m_MinGrandChange = GetPrivateProfileInt("ZtTeam","MinGrandChange",0,CR_DONATE_DIR);

  00164	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00169	53		 push	 ebx
  0016a	68 00 00 00 00	 push	 OFFSET ??_C@_0P@GPCKADMD@MinGrandChange?$AA@
  0016f	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  00174	89 86 a8 af 02
	00		 mov	 DWORD PTR [esi+176040], eax
  0017a	ff d7		 call	 edi

; 85   : 	this->m_ActiveDivResetChange = GetPrivateProfileInt("ZtTeam","ActiveDivResetChange",0,CR_DONATE_DIR);

  0017c	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00181	53		 push	 ebx
  00182	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@EKCIDEML@ActiveDivResetChange?$AA@
  00187	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  0018c	89 86 ac af 02
	00		 mov	 DWORD PTR [esi+176044], eax
  00192	ff d7		 call	 edi

; 86   : 	this->m_MinusDivResetChange = GetPrivateProfileInt("ZtTeam","MinusDivResetChange",0,CR_DONATE_DIR);

  00194	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  00199	53		 push	 ebx
  0019a	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@EPKNBCGB@MinusDivResetChange?$AA@
  0019f	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  001a4	89 86 b0 af 02
	00		 mov	 DWORD PTR [esi+176048], eax
  001aa	ff d7		 call	 edi

; 87   : 	this->m_ActiveDivGrandChange = GetPrivateProfileInt("ZtTeam","ActiveDivGrandChange",0,CR_DONATE_DIR);

  001ac	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  001b1	53		 push	 ebx
  001b2	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@IEOLIBEM@ActiveDivGrandChange?$AA@
  001b7	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  001bc	89 86 b4 af 02
	00		 mov	 DWORD PTR [esi+176052], eax
  001c2	ff d7		 call	 edi

; 88   : 	this->m_MinusDivGrandChange = GetPrivateProfileInt("ZtTeam","MinusDivGrandChange",0,CR_DONATE_DIR);

  001c4	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  001c9	53		 push	 ebx
  001ca	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@IBGOKHOG@MinusDivGrandChange?$AA@
  001cf	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  001d4	89 86 b8 af 02
	00		 mov	 DWORD PTR [esi+176056], eax
  001da	ff d7		 call	 edi

; 89   : 	this->m_StartDayChange = GetPrivateProfileInt("ZtTeam","StartDayChange",-1,CR_DONATE_DIR);

  001dc	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  001e1	6a ff		 push	 -1
  001e3	68 00 00 00 00	 push	 OFFSET ??_C@_0P@MFEPLFBD@StartDayChange?$AA@
  001e8	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  001ed	89 86 bc af 02
	00		 mov	 DWORD PTR [esi+176060], eax
  001f3	ff d7		 call	 edi

; 90   : 	this->m_EndDayChange = GetPrivateProfileInt("ZtTeam","EndDayChange",0,CR_DONATE_DIR);

  001f5	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  001fa	53		 push	 ebx
  001fb	68 00 00 00 00	 push	 OFFSET ??_C@_0N@KFOMAHLG@EndDayChange?$AA@
  00200	68 00 00 00 00	 push	 OFFSET ??_C@_06CNKIADGI@ZtTeam?$AA@
  00205	89 86 c0 af 02
	00		 mov	 DWORD PTR [esi+176064], eax
  0020b	ff d7		 call	 edi
  0020d	89 86 c4 af 02
	00		 mov	 DWORD PTR [esi+176068], eax
  00213	8d 46 4c	 lea	 eax, DWORD PTR [esi+76]
  00216	b9 d0 07 00 00	 mov	 ecx, 2000		; 000007d0H
  0021b	eb 03 8d 49 00	 npad	 5
$LL12@Load:

; 91   : 
; 92   : 	for(int i=0;i<MAX_DONATE_ITEM;i++)
; 93   : 	{
; 94   : 		this->Donate[i].cmd[0]	= 0;

  00220	88 58 cc	 mov	 BYTE PTR [eax-52], bl

; 95   : 		this->Donate[i].Type	= 0;

  00223	89 18		 mov	 DWORD PTR [eax], ebx

; 96   : 		this->Donate[i].Index	= 0;

  00225	89 58 04	 mov	 DWORD PTR [eax+4], ebx

; 97   : 		this->Donate[i].Level	= 0;

  00228	89 58 08	 mov	 DWORD PTR [eax+8], ebx

; 98   : 		this->Donate[i].Skill	= 0;

  0022b	89 58 0c	 mov	 DWORD PTR [eax+12], ebx

; 99   : 		this->Donate[i].Luck	= 0;

  0022e	89 58 10	 mov	 DWORD PTR [eax+16], ebx

; 100  : 		this->Donate[i].Opt		= 0;

  00231	89 58 14	 mov	 DWORD PTR [eax+20], ebx

; 101  : 		this->Donate[i].Exl		= 0;

  00234	89 58 18	 mov	 DWORD PTR [eax+24], ebx

; 102  : 		this->Donate[i].Anc		= 0;

  00237	89 58 1c	 mov	 DWORD PTR [eax+28], ebx

; 103  : 		this->Donate[i].CrPrice	= 0;

  0023a	89 58 20	 mov	 DWORD PTR [eax+32], ebx
  0023d	83 c0 58	 add	 eax, 88			; 00000058H
  00240	49		 dec	 ecx
  00241	75 dd		 jne	 SHORT $LL12@Load

; 104  : 	}
; 105  : 
; 106  : 	//CheckFile(CR_DONATE_DIR);
; 107  : 
; 108  : 	FILE *file = fopen(CR_DONATE_DIR,"r");

  00243	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  00248	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@JELECIFK@?4?4?2Data?2ZtData?2CreditDonate?4ini?$AA@
  0024d	e8 00 00 00 00	 call	 _fopen
  00252	8b f8		 mov	 edi, eax
  00254	83 c4 08	 add	 esp, 8

; 109  : 
; 110  : 	if(file == NULL)

  00257	3b fb		 cmp	 edi, ebx
  00259	75 13		 jne	 SHORT $LN9@Load

; 111  : 	{
; 112  : 		this->Enable = 0;

  0025b	5f		 pop	 edi
  0025c	88 1e		 mov	 BYTE PTR [esi], bl
  0025e	5e		 pop	 esi
  0025f	5b		 pop	 ebx

; 160  : }

  00260	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00263	33 cd		 xor	 ecx, ebp
  00265	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0026a	8b e5		 mov	 esp, ebp
  0026c	5d		 pop	 ebp
  0026d	c3		 ret	 0
$LN9@Load:

; 113  : 		return;
; 114  : 	}
; 115  : 
; 116  : 	char Buff[256];
; 117  : 	int Flag = 0;
; 118  : 	this->Count = 0;
; 119  : 
; 120  : 	while(!feof(file))

  0026e	57		 push	 edi
  0026f	89 9d 70 fe ff
	ff		 mov	 DWORD PTR _Flag$[ebp], ebx
  00275	89 9e 98 af 02
	00		 mov	 DWORD PTR [esi+176024], ebx
  0027b	e8 00 00 00 00	 call	 _feof
  00280	83 c4 04	 add	 esp, 4
  00283	85 c0		 test	 eax, eax
  00285	0f 85 bb 01 00
	00		 jne	 $LN20@Load
  0028b	eb 03 8d 49 00	 npad	 5
$LL8@Load:

; 121  : 	{
; 122  : 		fgets(Buff,256,file);	

  00290	57		 push	 edi
  00291	8d 85 98 fe ff
	ff		 lea	 eax, DWORD PTR _Buff$[ebp]
  00297	68 00 01 00 00	 push	 256			; 00000100H
  0029c	50		 push	 eax
  0029d	e8 00 00 00 00	 call	 _fgets

; 123  : 		if(Zt_IsBadFileLine(Buff, Flag))	

  002a2	8d 8d 70 fe ff
	ff		 lea	 ecx, DWORD PTR _Flag$[ebp]
  002a8	51		 push	 ecx
  002a9	8d 95 98 fe ff
	ff		 lea	 edx, DWORD PTR _Buff$[ebp]
  002af	52		 push	 edx
  002b0	e8 00 00 00 00	 call	 ?Zt_IsBadFileLine@@YA_NPADAAH@Z ; Zt_IsBadFileLine
  002b5	83 c4 14	 add	 esp, 20			; 00000014H
  002b8	84 c0		 test	 al, al
  002ba	0f 85 75 01 00
	00		 jne	 $LN1@Load

; 124  : 			continue;
; 125  : 
; 126  : 		if(Flag == 1)

  002c0	83 bd 70 fe ff
	ff 01		 cmp	 DWORD PTR _Flag$[ebp], 1
  002c7	0f 85 68 01 00
	00		 jne	 $LN1@Load

; 127  : 		{
; 128  : 			int n[9];
; 129  : 			char mes[100];
; 130  : 
; 131  : 			sscanf(Buff,"\"%[^\"]\" %d %d %d %d %d %d %d %d %d",&mes,&n[0],&n[1],&n[2],&n[3],&n[4],&n[5],&n[6],&n[7],&n[8]);

  002cd	8d 85 94 fe ff
	ff		 lea	 eax, DWORD PTR _n$207139[ebp+32]
  002d3	50		 push	 eax
  002d4	8d 8d 90 fe ff
	ff		 lea	 ecx, DWORD PTR _n$207139[ebp+28]
  002da	51		 push	 ecx
  002db	8d 95 8c fe ff
	ff		 lea	 edx, DWORD PTR _n$207139[ebp+24]
  002e1	52		 push	 edx
  002e2	8d 85 88 fe ff
	ff		 lea	 eax, DWORD PTR _n$207139[ebp+20]
  002e8	50		 push	 eax
  002e9	8d 8d 84 fe ff
	ff		 lea	 ecx, DWORD PTR _n$207139[ebp+16]
  002ef	51		 push	 ecx
  002f0	8d 95 80 fe ff
	ff		 lea	 edx, DWORD PTR _n$207139[ebp+12]
  002f6	52		 push	 edx
  002f7	8d 85 7c fe ff
	ff		 lea	 eax, DWORD PTR _n$207139[ebp+8]
  002fd	50		 push	 eax
  002fe	8d 8d 78 fe ff
	ff		 lea	 ecx, DWORD PTR _n$207139[ebp+4]
  00304	51		 push	 ecx
  00305	8d 95 74 fe ff
	ff		 lea	 edx, DWORD PTR _n$207139[ebp]
  0030b	52		 push	 edx
  0030c	8d 45 98	 lea	 eax, DWORD PTR _mes$207140[ebp]
  0030f	50		 push	 eax
  00310	8d 8d 98 fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  00316	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@MBABJFMK@?$CC?$CF?$FL?$FO?$CC?$FN?$CC?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5@
  0031b	51		 push	 ecx
  0031c	e8 00 00 00 00	 call	 _sscanf

; 132  : 
; 133  : 			sprintf(this->Donate[this->Count].cmd,"%s",mes);

  00321	8b 86 98 af 02
	00		 mov	 eax, DWORD PTR [esi+176024]
  00327	6b c0 58	 imul	 eax, 88			; 00000058H
  0032a	8d 55 98	 lea	 edx, DWORD PTR _mes$207140[ebp]
  0032d	52		 push	 edx
  0032e	8d 4c 30 18	 lea	 ecx, DWORD PTR [eax+esi+24]
  00332	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs?$AA@
  00337	51		 push	 ecx
  00338	e8 00 00 00 00	 call	 _sprintf

; 134  : 
; 135  : 			if(n[0] == -1) continue;

  0033d	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR _n$207139[ebp]
  00343	83 c4 3c	 add	 esp, 60			; 0000003cH
  00346	83 f8 ff	 cmp	 eax, -1
  00349	0f 84 e6 00 00
	00		 je	 $LN1@Load

; 136  : 
; 137  : 			this->Donate[this->Count].Type		= n[0];

  0034f	8b 96 98 af 02
	00		 mov	 edx, DWORD PTR [esi+176024]
  00355	6b d2 58	 imul	 edx, 88			; 00000058H
  00358	89 44 32 4c	 mov	 DWORD PTR [edx+esi+76], eax

; 138  : 			this->Donate[this->Count].Index		= n[1];

  0035c	8b 86 98 af 02
	00		 mov	 eax, DWORD PTR [esi+176024]
  00362	8b 8d 78 fe ff
	ff		 mov	 ecx, DWORD PTR _n$207139[ebp+4]
  00368	6b c0 58	 imul	 eax, 88			; 00000058H
  0036b	89 4c 30 50	 mov	 DWORD PTR [eax+esi+80], ecx

; 139  : 			this->Donate[this->Count].Level		= n[2];

  0036f	8b 96 98 af 02
	00		 mov	 edx, DWORD PTR [esi+176024]
  00375	8b 85 7c fe ff
	ff		 mov	 eax, DWORD PTR _n$207139[ebp+8]
  0037b	6b d2 58	 imul	 edx, 88			; 00000058H
  0037e	89 44 32 54	 mov	 DWORD PTR [edx+esi+84], eax

; 140  : 			this->Donate[this->Count].Skill		= n[3];

  00382	8b 8e 98 af 02
	00		 mov	 ecx, DWORD PTR [esi+176024]
  00388	8b 95 80 fe ff
	ff		 mov	 edx, DWORD PTR _n$207139[ebp+12]
  0038e	41		 inc	 ecx
  0038f	6b c9 58	 imul	 ecx, 88			; 00000058H
  00392	89 14 31	 mov	 DWORD PTR [ecx+esi], edx

; 141  : 			this->Donate[this->Count].Luck		= n[4];

  00395	8b 86 98 af 02
	00		 mov	 eax, DWORD PTR [esi+176024]
  0039b	8b 8d 84 fe ff
	ff		 mov	 ecx, DWORD PTR _n$207139[ebp+16]
  003a1	6b c0 58	 imul	 eax, 88			; 00000058H
  003a4	89 4c 30 5c	 mov	 DWORD PTR [eax+esi+92], ecx

; 142  : 			this->Donate[this->Count].Opt		= n[5];

  003a8	8b 96 98 af 02
	00		 mov	 edx, DWORD PTR [esi+176024]
  003ae	8b 85 88 fe ff
	ff		 mov	 eax, DWORD PTR _n$207139[ebp+20]
  003b4	6b d2 58	 imul	 edx, 88			; 00000058H
  003b7	89 44 32 60	 mov	 DWORD PTR [edx+esi+96], eax

; 143  : 			this->Donate[this->Count].Exl		= n[6];

  003bb	8b 8e 98 af 02
	00		 mov	 ecx, DWORD PTR [esi+176024]
  003c1	8b 95 8c fe ff
	ff		 mov	 edx, DWORD PTR _n$207139[ebp+24]
  003c7	6b c9 58	 imul	 ecx, 88			; 00000058H
  003ca	89 54 31 64	 mov	 DWORD PTR [ecx+esi+100], edx

; 144  : 			this->Donate[this->Count].Anc		= n[7];

  003ce	8b 86 98 af 02
	00		 mov	 eax, DWORD PTR [esi+176024]
  003d4	8b 8d 90 fe ff
	ff		 mov	 ecx, DWORD PTR _n$207139[ebp+28]
  003da	6b c0 58	 imul	 eax, 88			; 00000058H
  003dd	89 4c 30 68	 mov	 DWORD PTR [eax+esi+104], ecx

; 145  : 
; 146  : 			this->Donate[this->Count].CrPrice	= n[8];

  003e1	8b 96 98 af 02
	00		 mov	 edx, DWORD PTR [esi+176024]
  003e7	8b 85 94 fe ff
	ff		 mov	 eax, DWORD PTR _n$207139[ebp+32]
  003ed	6b d2 58	 imul	 edx, 88			; 00000058H
  003f0	89 44 32 6c	 mov	 DWORD PTR [edx+esi+108], eax

; 147  : 
; 148  : 			if(this->Donate[this->Count].Skill) this->Donate[this->Count].Skill = 1;

  003f4	8b 86 98 af 02
	00		 mov	 eax, DWORD PTR [esi+176024]
  003fa	40		 inc	 eax
  003fb	6b c0 58	 imul	 eax, 88			; 00000058H
  003fe	39 1c 30	 cmp	 DWORD PTR [eax+esi], ebx
  00401	74 07		 je	 SHORT $LN3@Load
  00403	c7 04 30 01 00
	00 00		 mov	 DWORD PTR [eax+esi], 1
$LN3@Load:

; 149  : 			if(this->Donate[this->Count].Luck) this->Donate[this->Count].Luck = 1;

  0040a	8b 96 98 af 02
	00		 mov	 edx, DWORD PTR [esi+176024]
  00410	6b d2 58	 imul	 edx, 88			; 00000058H
  00413	39 5c 32 5c	 cmp	 DWORD PTR [edx+esi+92], ebx
  00417	8d 44 32 5c	 lea	 eax, DWORD PTR [edx+esi+92]
  0041b	74 06		 je	 SHORT $LN2@Load
  0041d	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1
$LN2@Load:

; 150  : 
; 151  : 			this->Count++;

  00423	ff 86 98 af 02
	00		 inc	 DWORD PTR [esi+176024]

; 152  : 
; 153  : 			if (this->Count>=MAX_DONATE_ITEM)

  00429	81 be 98 af 02
	00 d0 07 00 00	 cmp	 DWORD PTR [esi+176024], 2000 ; 000007d0H
  00433	7d 11		 jge	 SHORT $LN20@Load
$LN1@Load:

; 113  : 		return;
; 114  : 	}
; 115  : 
; 116  : 	char Buff[256];
; 117  : 	int Flag = 0;
; 118  : 	this->Count = 0;
; 119  : 
; 120  : 	while(!feof(file))

  00435	57		 push	 edi
  00436	e8 00 00 00 00	 call	 _feof
  0043b	83 c4 04	 add	 esp, 4
  0043e	85 c0		 test	 eax, eax
  00440	0f 84 4a fe ff
	ff		 je	 $LL8@Load
$LN20@Load:

; 154  : 			{
; 155  : 				break;
; 156  : 			}
; 157  : 		}
; 158  : 	}
; 159  : 	fclose(file);

  00446	57		 push	 edi
  00447	e8 00 00 00 00	 call	 _fclose

; 160  : }

  0044c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0044f	83 c4 04	 add	 esp, 4
  00452	5f		 pop	 edi
  00453	5e		 pop	 esi
  00454	33 cd		 xor	 ecx, ebp
  00456	5b		 pop	 ebx
  00457	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0045c	8b e5		 mov	 esp, ebp
  0045e	5d		 pop	 ebp
  0045f	c3		 ret	 0
?Load@cCreditDonate@@QAEXXZ ENDP			; cCreditDonate::Load
_TEXT	ENDS
PUBLIC	??_C@_07LAKGFKMJ@premium?$AA@			; `string'
PUBLIC	??_C@_06PLFKDFHF@goblin?$AA@			; `string'
PUBLIC	??_C@_06PFAGHEBJ@wcoinp?$AA@			; `string'
PUBLIC	??_C@_06JEOJDFIL@wcoinc?$AA@			; `string'
PUBLIC	?Chat@cCreditDonate@@QAEXHPADH@Z		; cCreditDonate::Chat
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	?CheckInventoryEmptySpace@@YAHPAUOBJECTSTRUCT@@HH@Z:PROC ; CheckInventoryEmptySpace
EXTRN	?ZtUserDataSend@@YAXH@Z:PROC			; ZtUserDataSend
EXTRN	?GDSaveUserInfo@GameShop@@QAEXH@Z:PROC		; GameShop::GDSaveUserInfo
EXTRN	?gGameShop@@3VGameShop@@A:BYTE			; gGameShop
EXTRN	?MsgOutput@@YAXHPADZZ:PROC			; MsgOutput
EXTRN	?GetText@CZtText@@QAEPADH@Z:PROC		; CZtText::GetText
EXTRN	?g_ZtText@@3VCZtText@@A:BYTE			; g_ZtText
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_07LAKGFKMJ@premium?$AA@
CONST	SEGMENT
??_C@_07LAKGFKMJ@premium?$AA@ DB 'premium', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06PLFKDFHF@goblin?$AA@
CONST	SEGMENT
??_C@_06PLFKDFHF@goblin?$AA@ DB 'goblin', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06PFAGHEBJ@wcoinp?$AA@
CONST	SEGMENT
??_C@_06PFAGHEBJ@wcoinp?$AA@ DB 'wcoinp', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06JEOJDFIL@wcoinc?$AA@
CONST	SEGMENT
??_C@_06JEOJDFIL@wcoinc?$AA@ DB 'wcoinc', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Chat@cCreditDonate@@QAEXHPADH@Z
_TEXT	SEGMENT
_lpObj$ = -8						; size = 4
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
tv704 = 12						; size = 4
tv656 = 12						; size = 4
tv641 = 12						; size = 4
tv621 = 12						; size = 4
_b$207170 = 12						; size = 4
_b$207164 = 12						; size = 4
_b$207158 = 12						; size = 4
_Message$ = 12						; size = 4
tv747 = 16						; size = 4
tv746 = 16						; size = 4
tv698 = 16						; size = 4
tv697 = 16						; size = 4
tv688 = 16						; size = 4
tv687 = 16						; size = 4
tv675 = 16						; size = 4
tv674 = 16						; size = 4
_Count$ = 16						; size = 4
tv721 = 19						; size = 1
?Chat@cCreditDonate@@QAEXHPADH@Z PROC			; cCreditDonate::Chat, COMDAT
; _this$ = ecx

; 163  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 164  : 	if(!this->Enable) return;

  00006	80 39 00	 cmp	 BYTE PTR [ecx], 0
  00009	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	0f 84 c6 05 00
	00		 je	 $LN5@Chat

; 165  : 
; 166  : 	LPOBJ lpObj = &gObj[aIndex];

  00012	53		 push	 ebx
  00013	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00016	56		 push	 esi
  00017	8b f3		 mov	 esi, ebx
  00019	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001f	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 167  : 	if(Count)

  00025	83 7d 10 00	 cmp	 DWORD PTR _Count$[ebp], 0
  00029	57		 push	 edi
  0002a	89 75 f8	 mov	 DWORD PTR _lpObj$[ebp], esi
  0002d	0f 84 29 04 00
	00		 je	 $LN33@Chat

; 168  : 	{
; 169  : 		if(!strcmp(Message,"wcoinc") && this->BuyWcoinC)

  00033	8b 45 0c	 mov	 eax, DWORD PTR _Message$[ebp]
  00036	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_06JEOJDFIL@wcoinc?$AA@
  0003b	eb 03 8d 49 00	 npad	 5
$LL40@Chat:
  00040	8a 10		 mov	 dl, BYTE PTR [eax]
  00042	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00044	75 1a		 jne	 SHORT $LN41@Chat
  00046	84 d2		 test	 dl, dl
  00048	74 12		 je	 SHORT $LN42@Chat
  0004a	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0004d	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00050	75 0e		 jne	 SHORT $LN41@Chat
  00052	83 c0 02	 add	 eax, 2
  00055	83 c1 02	 add	 ecx, 2
  00058	84 d2		 test	 dl, dl
  0005a	75 e4		 jne	 SHORT $LL40@Chat
$LN42@Chat:
  0005c	33 c0		 xor	 eax, eax
  0005e	eb 05		 jmp	 SHORT $LN43@Chat
$LN41@Chat:
  00060	1b c0		 sbb	 eax, eax
  00062	83 d8 ff	 sbb	 eax, -1
$LN43@Chat:
  00065	8b 7d fc	 mov	 edi, DWORD PTR _this$[ebp]
  00068	85 c0		 test	 eax, eax
  0006a	0f 85 96 00 00
	00		 jne	 $LN32@Chat
  00070	38 47 08	 cmp	 BYTE PTR [edi+8], al
  00073	0f 84 8d 00 00
	00		 je	 $LN32@Chat

; 170  : 		{
; 171  : 			int b = NumberFor100(Count);

  00079	8b 45 10	 mov	 eax, DWORD PTR _Count$[ebp]
  0007c	50		 push	 eax
  0007d	e8 00 00 00 00	 call	 ?NumberFor100@@YAHH@Z	; NumberFor100
  00082	8b c8		 mov	 ecx, eax
  00084	83 c4 04	 add	 esp, 4
  00087	89 4d 0c	 mov	 DWORD PTR _b$207158[ebp], ecx

; 172  : 			if(b == -1)

  0008a	83 f9 ff	 cmp	 ecx, -1
  0008d	75 1f		 jne	 SHORT $LN31@Chat

; 173  : 			{
; 174  : 				MsgOutput(aIndex,g_ZtText.GetText(113));

  0008f	6a 71		 push	 113			; 00000071H
  00091	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  00096	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  0009b	50		 push	 eax
  0009c	53		 push	 ebx
  0009d	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  000a2	83 c4 08	 add	 esp, 8
  000a5	5f		 pop	 edi
  000a6	5e		 pop	 esi
  000a7	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  000a8	8b e5		 mov	 esp, ebp
  000aa	5d		 pop	 ebp
  000ab	c2 0c 00	 ret	 12			; 0000000cH
$LN31@Chat:

; 175  : 				return;
; 176  : 			}
; 177  : 			if(b > lpObj->ZtCred )

  000ae	db 45 0c	 fild	 DWORD PTR _b$207158[ebp]
  000b1	d9 5d 0c	 fstp	 DWORD PTR tv621[ebp]
  000b4	d9 45 0c	 fld	 DWORD PTR tv621[ebp]
  000b7	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  000bd	d8 d9		 fcomp	 ST(1)
  000bf	df e0		 fnstsw	 ax
  000c1	f6 c4 05	 test	 ah, 5
  000c4	7a 08		 jp	 SHORT $LN30@Chat

; 178  : 			{
; 179  : 				MsgOutput(aIndex,g_ZtText.GetText(114),b);

  000c6	51		 push	 ecx
  000c7	6a 72		 push	 114			; 00000072H

; 180  : 				return;

  000c9	e9 45 03 00 00	 jmp	 $LN93@Chat
$LN30@Chat:

; 181  : 			}
; 182  : 			lpObj->ZtCred -= b;

  000ce	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]

; 183  : 			lpObj->GameShop.WCoinC += Count;
; 184  : 
; 185  : 			gGameShop.GDSaveUserInfo(aIndex);

  000d4	53		 push	 ebx
  000d5	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  000da	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  000e0	db 45 10	 fild	 DWORD PTR _Count$[ebp]
  000e3	dc 86 00 23 00
	00		 fadd	 QWORD PTR [esi+8960]
  000e9	dd 9e 00 23 00
	00		 fstp	 QWORD PTR [esi+8960]
  000ef	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 186  : #ifndef FIX_DS_CRASH
; 187  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 188  : #endif
; 189  : 			ZtUserDataSend(aIndex);

  000f4	53		 push	 ebx
  000f5	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  000fa	83 c4 04	 add	 esp, 4
  000fd	5f		 pop	 edi
  000fe	5e		 pop	 esi
  000ff	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  00100	8b e5		 mov	 esp, ebp
  00102	5d		 pop	 ebp
  00103	c2 0c 00	 ret	 12			; 0000000cH
$LN32@Chat:

; 190  : 		}
; 191  : 		else if(!strcmp(Message,"wcoinp") && this->BuyWcoinP)

  00106	8b 45 0c	 mov	 eax, DWORD PTR _Message$[ebp]
  00109	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_06PFAGHEBJ@wcoinp?$AA@
  0010e	8b ff		 npad	 2
$LL44@Chat:
  00110	8a 10		 mov	 dl, BYTE PTR [eax]
  00112	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00114	75 1a		 jne	 SHORT $LN45@Chat
  00116	84 d2		 test	 dl, dl
  00118	74 12		 je	 SHORT $LN46@Chat
  0011a	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0011d	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00120	75 0e		 jne	 SHORT $LN45@Chat
  00122	83 c0 02	 add	 eax, 2
  00125	83 c1 02	 add	 ecx, 2
  00128	84 d2		 test	 dl, dl
  0012a	75 e4		 jne	 SHORT $LL44@Chat
$LN46@Chat:
  0012c	33 c0		 xor	 eax, eax
  0012e	eb 05		 jmp	 SHORT $LN47@Chat
$LN45@Chat:
  00130	1b c0		 sbb	 eax, eax
  00132	83 d8 ff	 sbb	 eax, -1
$LN47@Chat:
  00135	85 c0		 test	 eax, eax
  00137	0f 85 96 00 00
	00		 jne	 $LN28@Chat
  0013d	38 47 09	 cmp	 BYTE PTR [edi+9], al
  00140	0f 84 8d 00 00
	00		 je	 $LN28@Chat

; 192  : 		{
; 193  : 			int b = NumberFor100(Count);

  00146	8b 4d 10	 mov	 ecx, DWORD PTR _Count$[ebp]
  00149	51		 push	 ecx
  0014a	e8 00 00 00 00	 call	 ?NumberFor100@@YAHH@Z	; NumberFor100
  0014f	8b c8		 mov	 ecx, eax
  00151	83 c4 04	 add	 esp, 4
  00154	89 4d 0c	 mov	 DWORD PTR _b$207164[ebp], ecx

; 194  : 			if(b == -1)

  00157	83 f9 ff	 cmp	 ecx, -1
  0015a	75 1f		 jne	 SHORT $LN27@Chat

; 195  : 			{
; 196  : 				MsgOutput(aIndex,g_ZtText.GetText(115));

  0015c	6a 73		 push	 115			; 00000073H
  0015e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  00163	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  00168	50		 push	 eax
  00169	53		 push	 ebx
  0016a	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0016f	83 c4 08	 add	 esp, 8
  00172	5f		 pop	 edi
  00173	5e		 pop	 esi
  00174	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  00175	8b e5		 mov	 esp, ebp
  00177	5d		 pop	 ebp
  00178	c2 0c 00	 ret	 12			; 0000000cH
$LN27@Chat:

; 197  : 				return;
; 198  : 			}
; 199  : 			if(b > lpObj->ZtCred )

  0017b	db 45 0c	 fild	 DWORD PTR _b$207164[ebp]
  0017e	d9 5d 0c	 fstp	 DWORD PTR tv641[ebp]
  00181	d9 45 0c	 fld	 DWORD PTR tv641[ebp]
  00184	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  0018a	d8 d9		 fcomp	 ST(1)
  0018c	df e0		 fnstsw	 ax
  0018e	f6 c4 05	 test	 ah, 5
  00191	7a 08		 jp	 SHORT $LN26@Chat

; 200  : 			{
; 201  : 				MsgOutput(aIndex,g_ZtText.GetText(116),b);

  00193	51		 push	 ecx
  00194	6a 74		 push	 116			; 00000074H

; 202  : 				return;

  00196	e9 78 02 00 00	 jmp	 $LN93@Chat
$LN26@Chat:

; 203  : 			}
; 204  : 			lpObj->ZtCred -= b;

  0019b	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]

; 205  : 			lpObj->GameShop.WCoinP += Count;
; 206  : 
; 207  : 			gGameShop.GDSaveUserInfo(aIndex);

  001a1	53		 push	 ebx
  001a2	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  001a7	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  001ad	db 45 10	 fild	 DWORD PTR _Count$[ebp]
  001b0	dc 86 f8 22 00
	00		 fadd	 QWORD PTR [esi+8952]
  001b6	dd 9e f8 22 00
	00		 fstp	 QWORD PTR [esi+8952]
  001bc	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 208  : #ifndef FIX_DS_CRASH
; 209  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 210  : #endif
; 211  : 			ZtUserDataSend(aIndex);

  001c1	53		 push	 ebx
  001c2	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  001c7	83 c4 04	 add	 esp, 4
  001ca	5f		 pop	 edi
  001cb	5e		 pop	 esi
  001cc	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  001cd	8b e5		 mov	 esp, ebp
  001cf	5d		 pop	 ebp
  001d0	c2 0c 00	 ret	 12			; 0000000cH
$LN28@Chat:

; 212  : 		}
; 213  : 		else if(!strcmp(Message,"goblin") && this->BuyGoblin)

  001d3	8b 45 0c	 mov	 eax, DWORD PTR _Message$[ebp]
  001d6	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_06PLFKDFHF@goblin?$AA@
  001db	eb 03 8d 49 00	 npad	 5
$LL48@Chat:
  001e0	8a 10		 mov	 dl, BYTE PTR [eax]
  001e2	3a 11		 cmp	 dl, BYTE PTR [ecx]
  001e4	75 1a		 jne	 SHORT $LN49@Chat
  001e6	84 d2		 test	 dl, dl
  001e8	74 12		 je	 SHORT $LN50@Chat
  001ea	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  001ed	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  001f0	75 0e		 jne	 SHORT $LN49@Chat
  001f2	83 c0 02	 add	 eax, 2
  001f5	83 c1 02	 add	 ecx, 2
  001f8	84 d2		 test	 dl, dl
  001fa	75 e4		 jne	 SHORT $LL48@Chat
$LN50@Chat:
  001fc	33 c0		 xor	 eax, eax
  001fe	eb 05		 jmp	 SHORT $LN51@Chat
$LN49@Chat:
  00200	1b c0		 sbb	 eax, eax
  00202	83 d8 ff	 sbb	 eax, -1
$LN51@Chat:
  00205	85 c0		 test	 eax, eax
  00207	0f 85 96 00 00
	00		 jne	 $LN24@Chat
  0020d	38 47 0a	 cmp	 BYTE PTR [edi+10], al
  00210	0f 84 8d 00 00
	00		 je	 $LN24@Chat

; 214  : 		{
; 215  : 			int b = NumberFor100(Count);

  00216	8b 55 10	 mov	 edx, DWORD PTR _Count$[ebp]
  00219	52		 push	 edx
  0021a	e8 00 00 00 00	 call	 ?NumberFor100@@YAHH@Z	; NumberFor100
  0021f	8b c8		 mov	 ecx, eax
  00221	83 c4 04	 add	 esp, 4
  00224	89 4d 0c	 mov	 DWORD PTR _b$207170[ebp], ecx

; 216  : 			if(b == -1)

  00227	83 f9 ff	 cmp	 ecx, -1
  0022a	75 1f		 jne	 SHORT $LN23@Chat

; 217  : 			{
; 218  : 				MsgOutput(aIndex,g_ZtText.GetText(117));

  0022c	6a 75		 push	 117			; 00000075H
  0022e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  00233	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  00238	50		 push	 eax
  00239	53		 push	 ebx
  0023a	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0023f	83 c4 08	 add	 esp, 8
  00242	5f		 pop	 edi
  00243	5e		 pop	 esi
  00244	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  00245	8b e5		 mov	 esp, ebp
  00247	5d		 pop	 ebp
  00248	c2 0c 00	 ret	 12			; 0000000cH
$LN23@Chat:

; 219  : 				return;
; 220  : 			}
; 221  : 			if(b > lpObj->ZtCred )

  0024b	db 45 0c	 fild	 DWORD PTR _b$207170[ebp]
  0024e	d9 5d 0c	 fstp	 DWORD PTR tv656[ebp]
  00251	d9 45 0c	 fld	 DWORD PTR tv656[ebp]
  00254	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  0025a	d8 d9		 fcomp	 ST(1)
  0025c	df e0		 fnstsw	 ax
  0025e	f6 c4 05	 test	 ah, 5
  00261	7a 08		 jp	 SHORT $LN22@Chat

; 222  : 			{
; 223  : 				MsgOutput(aIndex,g_ZtText.GetText(118),b);

  00263	51		 push	 ecx
  00264	6a 76		 push	 118			; 00000076H

; 224  : 				return;

  00266	e9 a8 01 00 00	 jmp	 $LN93@Chat
$LN22@Chat:

; 225  : 			}
; 226  : 			lpObj->ZtCred -= b;

  0026b	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]

; 227  : 			lpObj->GameShop.GoblinPoint += Count;
; 228  : 
; 229  : 			gGameShop.GDSaveUserInfo(aIndex);

  00271	53		 push	 ebx
  00272	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00277	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  0027d	db 45 10	 fild	 DWORD PTR _Count$[ebp]
  00280	dc 86 08 23 00
	00		 fadd	 QWORD PTR [esi+8968]
  00286	dd 9e 08 23 00
	00		 fstp	 QWORD PTR [esi+8968]
  0028c	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 230  : #ifndef FIX_DS_CRASH
; 231  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 232  : #endif
; 233  : 			ZtUserDataSend(aIndex);

  00291	53		 push	 ebx
  00292	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  00297	83 c4 04	 add	 esp, 4
  0029a	5f		 pop	 edi
  0029b	5e		 pop	 esi
  0029c	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  0029d	8b e5		 mov	 esp, ebp
  0029f	5d		 pop	 ebp
  002a0	c2 0c 00	 ret	 12			; 0000000cH
$LN24@Chat:

; 234  : 		}
; 235  : 		else if(!strcmp(Message,"premium") && this->BuyPremium)

  002a3	8b 45 0c	 mov	 eax, DWORD PTR _Message$[ebp]
  002a6	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_07LAKGFKMJ@premium?$AA@
  002ab	eb 03 8d 49 00	 npad	 5
$LL52@Chat:
  002b0	8a 10		 mov	 dl, BYTE PTR [eax]
  002b2	3a 11		 cmp	 dl, BYTE PTR [ecx]
  002b4	75 1a		 jne	 SHORT $LN53@Chat
  002b6	84 d2		 test	 dl, dl
  002b8	74 12		 je	 SHORT $LN54@Chat
  002ba	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  002bd	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  002c0	75 0e		 jne	 SHORT $LN53@Chat
  002c2	83 c0 02	 add	 eax, 2
  002c5	83 c1 02	 add	 ecx, 2
  002c8	84 d2		 test	 dl, dl
  002ca	75 e4		 jne	 SHORT $LL52@Chat
$LN54@Chat:
  002cc	33 c0		 xor	 eax, eax
  002ce	eb 05		 jmp	 SHORT $LN55@Chat
$LN53@Chat:
  002d0	1b c0		 sbb	 eax, eax
  002d2	83 d8 ff	 sbb	 eax, -1
$LN55@Chat:
  002d5	85 c0		 test	 eax, eax
  002d7	0f 85 f8 02 00
	00		 jne	 $LN62@Chat
  002dd	38 47 0b	 cmp	 BYTE PTR [edi+11], al
  002e0	0f 84 ef 02 00
	00		 je	 $LN62@Chat

; 236  : 		{
; 237  : #ifdef PRIVATE_MODULE
; 238  : 			if(g_ZtLicense.CheckUser(eZtUB::Vadim))

  002e6	6a 09		 push	 9
  002e8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  002ed	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  002f2	84 c0		 test	 al, al
  002f4	0f 84 fb 00 00
	00		 je	 $LN19@Chat

; 239  : 			{
; 240  : 				if(Count == 1)

  002fa	8b 45 10	 mov	 eax, DWORD PTR _Count$[ebp]
  002fd	83 f8 01	 cmp	 eax, 1
  00300	75 4f		 jne	 SHORT $LN18@Chat

; 241  : 				{
; 242  : 					if(this->premium_price_1 > lpObj->ZtCred)

  00302	8b 8f 9c af 02
	00		 mov	 ecx, DWORD PTR [edi+176028]
  00308	89 4d 10	 mov	 DWORD PTR tv674[ebp], ecx
  0030b	db 45 10	 fild	 DWORD PTR tv674[ebp]
  0030e	d9 5d 10	 fstp	 DWORD PTR tv675[ebp]
  00311	d9 45 10	 fld	 DWORD PTR tv675[ebp]
  00314	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  0031a	d8 d9		 fcomp	 ST(1)
  0031c	df e0		 fnstsw	 ax
  0031e	f6 c4 05	 test	 ah, 5
  00321	7a 06		 jp	 SHORT $LN17@Chat
$LN92@Chat:

; 243  : 					{
; 244  : 						MsgOutput(aIndex,g_ZtText.GetText(119),this->premium_price_1);

  00323	51		 push	 ecx

; 245  : 						return;

  00324	e9 e8 00 00 00	 jmp	 $LN91@Chat
$LN17@Chat:

; 246  : 					}
; 247  : 					lpObj->ZtCred -= this->premium_price_1;

  00329	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]

; 248  : 					lpObj->PremiumTime += ( 1 * 86400 );

  0032f	81 86 b8 22 00
	00 80 51 01 00	 add	 DWORD PTR [esi+8888], 86400 ; 00015180H

; 249  : #ifndef FIX_DS_CRASH
; 250  : 					GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 251  : #endif
; 252  : 					ZtUserDataSend(aIndex);

  00339	53		 push	 ebx
  0033a	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  00340	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  00345	83 c4 04	 add	 esp, 4
  00348	5f		 pop	 edi
  00349	5e		 pop	 esi
  0034a	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  0034b	8b e5		 mov	 esp, ebp
  0034d	5d		 pop	 ebp
  0034e	c2 0c 00	 ret	 12			; 0000000cH
$LN18@Chat:

; 253  : 				}
; 254  : 				else if(Count == 2)

  00351	83 f8 02	 cmp	 eax, 2
  00354	75 49		 jne	 SHORT $LN15@Chat

; 255  : 				{
; 256  : 					if(this->premium_price_7 > lpObj->ZtCred)

  00356	8b 8f a0 af 02
	00		 mov	 ecx, DWORD PTR [edi+176032]
  0035c	89 4d 10	 mov	 DWORD PTR tv687[ebp], ecx
  0035f	db 45 10	 fild	 DWORD PTR tv687[ebp]
  00362	d9 5d 10	 fstp	 DWORD PTR tv688[ebp]
  00365	d9 45 10	 fld	 DWORD PTR tv688[ebp]
  00368	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  0036e	d8 d9		 fcomp	 ST(1)
  00370	df e0		 fnstsw	 ax
  00372	f6 c4 05	 test	 ah, 5

; 257  : 					{
; 258  : 						MsgOutput(aIndex,g_ZtText.GetText(119),this->premium_price_7);
; 259  : 						return;

  00375	7b ac		 jnp	 SHORT $LN92@Chat

; 260  : 					}
; 261  : 					lpObj->ZtCred -= this->premium_price_7;

  00377	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]

; 262  : 					lpObj->PremiumTime += ( 7 * 86400 );

  0037d	81 86 b8 22 00
	00 80 3a 09 00	 add	 DWORD PTR [esi+8888], 604800 ; 00093a80H

; 263  : #ifndef FIX_DS_CRASH
; 264  : 					GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 265  : #endif
; 266  : 					ZtUserDataSend(aIndex);

  00387	53		 push	 ebx
  00388	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  0038e	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  00393	83 c4 04	 add	 esp, 4
  00396	5f		 pop	 edi
  00397	5e		 pop	 esi
  00398	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  00399	8b e5		 mov	 esp, ebp
  0039b	5d		 pop	 ebp
  0039c	c2 0c 00	 ret	 12			; 0000000cH
$LN15@Chat:

; 267  : 				}
; 268  : 				else if(Count == 3)

  0039f	83 f8 03	 cmp	 eax, 3
  003a2	0f 85 2d 02 00
	00		 jne	 $LN62@Chat

; 269  : 				{
; 270  : 					if(this->premium_price_30 > lpObj->ZtCred)

  003a8	8b 8f a4 af 02
	00		 mov	 ecx, DWORD PTR [edi+176036]
  003ae	89 4d 10	 mov	 DWORD PTR tv697[ebp], ecx
  003b1	db 45 10	 fild	 DWORD PTR tv697[ebp]
  003b4	d9 5d 10	 fstp	 DWORD PTR tv698[ebp]
  003b7	d9 45 10	 fld	 DWORD PTR tv698[ebp]
  003ba	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  003c0	d8 d9		 fcomp	 ST(1)
  003c2	df e0		 fnstsw	 ax
  003c4	f6 c4 05	 test	 ah, 5

; 271  : 					{
; 272  : 						MsgOutput(aIndex,g_ZtText.GetText(119),this->premium_price_30);
; 273  : 						return;

  003c7	0f 8b 56 ff ff
	ff		 jnp	 $LN92@Chat

; 274  : 					}
; 275  : 					lpObj->ZtCred -= this->premium_price_30;

  003cd	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]

; 276  : 					lpObj->PremiumTime += ( 30 * 86400 );

  003d3	81 86 b8 22 00
	00 00 8d 27 00	 add	 DWORD PTR [esi+8888], 2592000 ; 00278d00H

; 277  : #ifndef FIX_DS_CRASH
; 278  : 					GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 279  : #endif
; 280  : 					ZtUserDataSend(aIndex);

  003dd	53		 push	 ebx
  003de	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  003e4	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  003e9	83 c4 04	 add	 esp, 4
  003ec	5f		 pop	 edi
  003ed	5e		 pop	 esi
  003ee	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  003ef	8b e5		 mov	 esp, ebp
  003f1	5d		 pop	 ebp
  003f2	c2 0c 00	 ret	 12			; 0000000cH
$LN19@Chat:

; 281  : 				}
; 282  : 			}
; 283  : 			else
; 284  : 			{
; 285  : 				if(Count > lpObj->ZtCred)

  003f5	db 45 10	 fild	 DWORD PTR _Count$[ebp]
  003f8	d9 5d 0c	 fstp	 DWORD PTR tv704[ebp]
  003fb	d9 45 0c	 fld	 DWORD PTR tv704[ebp]
  003fe	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  00404	d8 d9		 fcomp	 ST(1)
  00406	df e0		 fnstsw	 ax
  00408	f6 c4 05	 test	 ah, 5

; 286  : 				{
; 287  : 					MsgOutput(aIndex,g_ZtText.GetText(119),Count);

  0040b	8b 45 10	 mov	 eax, DWORD PTR _Count$[ebp]
  0040e	7a 22		 jp	 SHORT $LN9@Chat
  00410	50		 push	 eax
$LN91@Chat:
  00411	6a 77		 push	 119			; 00000077H
$LN93@Chat:
  00413	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  00418	dd d8		 fstp	 ST(0)
  0041a	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  0041f	50		 push	 eax
  00420	53		 push	 ebx
  00421	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  00426	83 c4 0c	 add	 esp, 12			; 0000000cH
  00429	5f		 pop	 edi
  0042a	5e		 pop	 esi
  0042b	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  0042c	8b e5		 mov	 esp, ebp
  0042e	5d		 pop	 ebp
  0042f	c2 0c 00	 ret	 12			; 0000000cH
$LN9@Chat:

; 288  : 					return;
; 289  : 				}
; 290  : 				lpObj->ZtCred -= Count;

  00432	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]

; 291  : 				lpObj->PremiumTime += ( Count * 86400 );

  00438	69 c0 80 51 01
	00		 imul	 eax, 86400		; 00015180H
  0043e	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  00444	01 86 b8 22 00
	00		 add	 DWORD PTR [esi+8888], eax

; 292  : #ifndef FIX_DS_CRASH
; 293  : 				GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 294  : #endif
; 295  : 				ZtUserDataSend(aIndex);

  0044a	53		 push	 ebx
  0044b	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  00450	83 c4 04	 add	 esp, 4
  00453	5f		 pop	 edi
  00454	5e		 pop	 esi
  00455	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  00456	8b e5		 mov	 esp, ebp
  00458	5d		 pop	 ebp
  00459	c2 0c 00	 ret	 12			; 0000000cH
$LN33@Chat:
  0045c	8b 99 98 af 02
	00		 mov	 ebx, DWORD PTR [ecx+176024]

; 296  : 			}
; 297  : #else
; 298  : 			if(Count > lpObj->ZtCred)
; 299  : 			{
; 300  : 				MsgOutput(aIndex,"[Credit Donate]:Buy Premium Need %d",Count);
; 301  : 				return;
; 302  : 			}
; 303  : 			lpObj->ZtCred -= Count;
; 304  : 			lpObj->PremiumTime += ( Count * 86400 );
; 305  : #ifndef FIX_DS_CRASH
; 306  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 307  : #endif
; 308  : 			ZtUserDataSend(aIndex);
; 309  : #endif
; 310  : 		}
; 311  : 	}
; 312  : 	else
; 313  : 	{
; 314  : 		for(int i=0;i<this->Count;i++)

  00462	33 f6		 xor	 esi, esi
  00464	85 db		 test	 ebx, ebx
  00466	0f 8e 69 01 00
	00		 jle	 $LN62@Chat

; 317  : 			{
; 318  : 				if(!strcmp(Message,this->Donate[i].cmd))

  0046c	8b 55 0c	 mov	 edx, DWORD PTR _Message$[ebp]
  0046f	8a 02		 mov	 al, BYTE PTR [edx]
  00471	88 45 13	 mov	 BYTE PTR tv721[ebp], al
  00474	8d 79 18	 lea	 edi, DWORD PTR [ecx+24]
$LL61@Chat:

; 315  : 		{
; 316  : 			if(this->Donate[i].cmd[0] == Message[0])

  00477	8a 4d 13	 mov	 cl, BYTE PTR tv721[ebp]
  0047a	38 0f		 cmp	 BYTE PTR [edi], cl
  0047c	75 2e		 jne	 SHORT $LN6@Chat

; 317  : 			{
; 318  : 				if(!strcmp(Message,this->Donate[i].cmd))

  0047e	8b 45 0c	 mov	 eax, DWORD PTR _Message$[ebp]
  00481	8b cf		 mov	 ecx, edi
$LL56@Chat:
  00483	8a 10		 mov	 dl, BYTE PTR [eax]
  00485	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00487	75 1a		 jne	 SHORT $LN57@Chat
  00489	84 d2		 test	 dl, dl
  0048b	74 12		 je	 SHORT $LN58@Chat
  0048d	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  00490	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00493	75 0e		 jne	 SHORT $LN57@Chat
  00495	83 c0 02	 add	 eax, 2
  00498	83 c1 02	 add	 ecx, 2
  0049b	84 d2		 test	 dl, dl
  0049d	75 e4		 jne	 SHORT $LL56@Chat
$LN58@Chat:
  0049f	33 c0		 xor	 eax, eax
  004a1	eb 05		 jmp	 SHORT $LN59@Chat
$LN57@Chat:
  004a3	1b c0		 sbb	 eax, eax
  004a5	83 d8 ff	 sbb	 eax, -1
$LN59@Chat:
  004a8	85 c0		 test	 eax, eax
  004aa	74 11		 je	 SHORT $LN38@Chat
$LN6@Chat:

; 296  : 			}
; 297  : #else
; 298  : 			if(Count > lpObj->ZtCred)
; 299  : 			{
; 300  : 				MsgOutput(aIndex,"[Credit Donate]:Buy Premium Need %d",Count);
; 301  : 				return;
; 302  : 			}
; 303  : 			lpObj->ZtCred -= Count;
; 304  : 			lpObj->PremiumTime += ( Count * 86400 );
; 305  : #ifndef FIX_DS_CRASH
; 306  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 307  : #endif
; 308  : 			ZtUserDataSend(aIndex);
; 309  : #endif
; 310  : 		}
; 311  : 	}
; 312  : 	else
; 313  : 	{
; 314  : 		for(int i=0;i<this->Count;i++)

  004ac	46		 inc	 esi
  004ad	83 c7 58	 add	 edi, 88			; 00000058H
  004b0	3b f3		 cmp	 esi, ebx
  004b2	7c c3		 jl	 SHORT $LL61@Chat
  004b4	5f		 pop	 edi
  004b5	5e		 pop	 esi
  004b6	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  004b7	8b e5		 mov	 esp, ebp
  004b9	5d		 pop	 ebp
  004ba	c2 0c 00	 ret	 12			; 0000000cH
$LN38@Chat:

; 319  : 				{
; 320  : 					//if ( CheckInventoryEmptySpace(lpObj,4,8) == false )
; 321  : 
; 322  : 					int iHeight = ItemAttribute[ITEMGET(this->Donate[i].Type,this->Donate[i].Index)].Height;

  004bd	6b f6 58	 imul	 esi, 88			; 00000058H
  004c0	03 75 fc	 add	 esi, DWORD PTR _this$[ebp]
  004c3	8b 46 4c	 mov	 eax, DWORD PTR [esi+76]
  004c6	c1 e0 09	 shl	 eax, 9
  004c9	03 46 50	 add	 eax, DWORD PTR [esi+80]
  004cc	6b c0 70	 imul	 eax, 112		; 00000070H

; 323  : 					int iWidth = ItemAttribute[ITEMGET(this->Donate[i].Type,this->Donate[i].Index)].Width;

  004cf	0f b6 98 23 00
	00 00		 movzx	 ebx, BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+35]
  004d6	0f b6 b8 24 00
	00 00		 movzx	 edi, BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+36]

; 324  : 					
; 325  : 					if ( CheckInventoryEmptySpace(lpObj,iHeight,iWidth) == false )

  004dd	8b 45 f8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  004e0	53		 push	 ebx
  004e1	57		 push	 edi
  004e2	50		 push	 eax
  004e3	e8 00 00 00 00	 call	 ?CheckInventoryEmptySpace@@YAHPAUOBJECTSTRUCT@@HH@Z ; CheckInventoryEmptySpace
  004e8	83 c4 0c	 add	 esp, 12			; 0000000cH
  004eb	85 c0		 test	 eax, eax
  004ed	75 24		 jne	 SHORT $LN2@Chat

; 326  : 					{
; 327  : 						MsgOutput(aIndex,g_ZtText.GetText(120),iHeight,iWidth);

  004ef	53		 push	 ebx
  004f0	57		 push	 edi
  004f1	6a 78		 push	 120			; 00000078H
  004f3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  004f8	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  004fd	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00500	50		 push	 eax
  00501	51		 push	 ecx
  00502	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  00507	83 c4 10	 add	 esp, 16			; 00000010H
  0050a	5f		 pop	 edi
  0050b	5e		 pop	 esi
  0050c	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  0050d	8b e5		 mov	 esp, ebp
  0050f	5d		 pop	 ebp
  00510	c2 0c 00	 ret	 12			; 0000000cH
$LN2@Chat:

; 328  : 						//GCServerMsgStringSend("[Credit Donate]: Need to make space in the inventory (4x8)",aIndex,1);
; 329  : 						return;
; 330  : 					}
; 331  : 
; 332  : 					if(this->Donate[i].CrPrice > lpObj->ZtCred)

  00513	8b 56 6c	 mov	 edx, DWORD PTR [esi+108]
  00516	8b 4d f8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00519	89 55 10	 mov	 DWORD PTR tv746[ebp], edx
  0051c	db 45 10	 fild	 DWORD PTR tv746[ebp]
  0051f	d9 5d 10	 fstp	 DWORD PTR tv747[ebp]
  00522	d9 45 10	 fld	 DWORD PTR tv747[ebp]
  00525	d9 81 a8 22 00
	00		 fld	 DWORD PTR [ecx+8872]
  0052b	d8 d9		 fcomp	 ST(1)
  0052d	df e0		 fnstsw	 ax
  0052f	f6 c4 05	 test	 ah, 5
  00532	7a 25		 jp	 SHORT $LN1@Chat

; 333  : 					{
; 334  : 						MsgOutput(aIndex,g_ZtText.GetText(121),this->Donate[i].CrPrice);

  00534	52		 push	 edx
  00535	dd d8		 fstp	 ST(0)
  00537	6a 79		 push	 121			; 00000079H
  00539	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  0053e	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  00543	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00546	50		 push	 eax
  00547	52		 push	 edx
  00548	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0054d	83 c4 0c	 add	 esp, 12			; 0000000cH
  00550	5f		 pop	 edi
  00551	5e		 pop	 esi
  00552	5b		 pop	 ebx

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  00553	8b e5		 mov	 esp, ebp
  00555	5d		 pop	 ebp
  00556	c2 0c 00	 ret	 12			; 0000000cH
$LN1@Chat:

; 335  : 						return;
; 336  : 					}
; 337  : 
; 338  : 					lpObj->ZtCred -= this->Donate[i].CrPrice;

  00559	d8 a9 a8 22 00
	00		 fsubr	 DWORD PTR [ecx+8872]

; 339  : 
; 340  : 					//if(this->Donate[i].Type == -1)
; 341  : 					//{
; 342  : 					//	ItemSerialCreateSend(aIndex,235,1,1,ITEMGET(7,this->Donate[i].Index),this->Donate[i].Level,0,this->Donate[i].Skill,this->Donate[i].Luck,this->Donate[i].Opt,aIndex,this->Donate[i].Exl,this->Donate[i].Anc);
; 343  : 					//	ItemSerialCreateSend(aIndex,235,1,1,ITEMGET(8,this->Donate[i].Index),this->Donate[i].Level,0,this->Donate[i].Skill,this->Donate[i].Luck,this->Donate[i].Opt,aIndex,this->Donate[i].Exl,this->Donate[i].Anc);
; 344  : 					//	ItemSerialCreateSend(aIndex,235,1,1,ITEMGET(9,this->Donate[i].Index),this->Donate[i].Level,0,this->Donate[i].Skill,this->Donate[i].Luck,this->Donate[i].Opt,aIndex,this->Donate[i].Exl,this->Donate[i].Anc);
; 345  : 					//	ItemSerialCreateSend(aIndex,235,1,1,ITEMGET(10,this->Donate[i].Index),this->Donate[i].Level,0,this->Donate[i].Skill,this->Donate[i].Luck,this->Donate[i].Opt,aIndex,this->Donate[i].Exl,this->Donate[i].Anc);
; 346  : 					//	ItemSerialCreateSend(aIndex,235,1,1,ITEMGET(11,this->Donate[i].Index),this->Donate[i].Level,0,this->Donate[i].Skill,this->Donate[i].Luck,this->Donate[i].Opt,aIndex,this->Donate[i].Exl,this->Donate[i].Anc);
; 347  : 					//}
; 348  : 					//else
; 349  : 					//{
; 350  : 						ItemSerialCreateSend(aIndex,235,lpObj->X,lpObj->Y,ITEMGET(this->Donate[i].Type,this->Donate[i].Index),this->Donate[i].Level,0,this->Donate[i].Skill,this->Donate[i].Luck,this->Donate[i].Opt,aIndex,this->Donate[i].Exl,this->Donate[i].Anc);

  0055f	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00562	d9 99 a8 22 00
	00		 fstp	 DWORD PTR [ecx+8872]
  00568	0f b6 46 68	 movzx	 eax, BYTE PTR [esi+104]
  0056c	0f b6 56 64	 movzx	 edx, BYTE PTR [esi+100]
  00570	50		 push	 eax
  00571	0f b6 46 60	 movzx	 eax, BYTE PTR [esi+96]
  00575	52		 push	 edx
  00576	0f b6 56 5c	 movzx	 edx, BYTE PTR [esi+92]
  0057a	57		 push	 edi
  0057b	50		 push	 eax
  0057c	0f b6 46 58	 movzx	 eax, BYTE PTR [esi+88]
  00580	52		 push	 edx
  00581	0f b6 56 54	 movzx	 edx, BYTE PTR [esi+84]
  00585	50		 push	 eax
  00586	8b 46 4c	 mov	 eax, DWORD PTR [esi+76]
  00589	6a 00		 push	 0
  0058b	52		 push	 edx
  0058c	0f b6 91 46 01
	00 00		 movzx	 edx, BYTE PTR [ecx+326]
  00593	c1 e0 09	 shl	 eax, 9
  00596	03 46 50	 add	 eax, DWORD PTR [esi+80]
  00599	50		 push	 eax
  0059a	0f b6 81 44 01
	00 00		 movzx	 eax, BYTE PTR [ecx+324]
  005a1	52		 push	 edx
  005a2	50		 push	 eax
  005a3	68 eb 00 00 00	 push	 235			; 000000ebH
  005a8	57		 push	 edi
  005a9	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend

; 351  : 					//}
; 352  : 
; 353  : 					MsgOutput(aIndex,g_ZtText.GetText(122),this->Donate[i].cmd,this->Donate[i].CrPrice);

  005ae	8b 4e 6c	 mov	 ecx, DWORD PTR [esi+108]
  005b1	83 c4 34	 add	 esp, 52			; 00000034H
  005b4	51		 push	 ecx
  005b5	83 c6 18	 add	 esi, 24			; 00000018H
  005b8	56		 push	 esi
  005b9	6a 7a		 push	 122			; 0000007aH
  005bb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  005c0	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  005c5	50		 push	 eax
  005c6	57		 push	 edi
  005c7	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput

; 354  : 
; 355  : 					ZtUserDataSend(aIndex);

  005cc	57		 push	 edi
  005cd	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend
  005d2	83 c4 14	 add	 esp, 20			; 00000014H
$LN62@Chat:
  005d5	5f		 pop	 edi
  005d6	5e		 pop	 esi
  005d7	5b		 pop	 ebx
$LN5@Chat:

; 356  : 			
; 357  : 					return;
; 358  : 				}
; 359  : 			}
; 360  : 		}		
; 361  : 	}
; 362  : }

  005d8	8b e5		 mov	 esp, ebp
  005da	5d		 pop	 ebp
  005db	c2 0c 00	 ret	 12			; 0000000cH
?Chat@cCreditDonate@@QAEXHPADH@Z ENDP			; cCreditDonate::Chat
_TEXT	ENDS
PUBLIC	__real@4059000000000000
PUBLIC	?Sell@cCreditDonate@@QAE_NHHAAH@Z		; cCreditDonate::Sell
EXTRN	?CheckOptions@@YA_N_NHH@Z:PROC			; CheckOptions
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Sell@cCreditDonate@@QAE_NHHAAH@Z
_TEXT	SEGMENT
_this$ = -8						; size = 4
_i$207206 = -4						; size = 4
_aIndex$ = 8						; size = 4
_bItems$207210 = 12					; size = 1
_CrSell$207213 = 12					; size = 4
_NewPrice$207212 = 12					; size = 4
_Pos$ = 12						; size = 4
_iAddZen$ = 16						; size = 4
?Sell@cCreditDonate@@QAE_NHHAAH@Z PROC			; cCreditDonate::Sell, COMDAT
; _this$ = ecx

; 365  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 366  : 	if(!this->Enable) return false;

  00006	80 39 00	 cmp	 BYTE PTR [ecx], 0
  00009	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	75 08		 jne	 SHORT $LN5@Sell
  0000e	32 c0		 xor	 al, al

; 402  : 		}
; 403  : 		//else if( lpObj->pInventory[Pos].m_Number == 1 &&
; 404  : 		//	this->Donate[i].Type == -1 && lpObj->pInventory[Pos].m_Type % 512 == this->Donate[i].Index && 
; 405  : 		//	lpObj->pInventory[Pos].m_Level == this->Donate[i].Level &&
; 406  : 		//	CheckOptions(lpObj->pInventory[Pos].m_NewOption, this->Donate[i].Exl))
; 407  : 		//{
; 408  : 		//	float NewPrice = this->Donate[i].CrPrice / SetItemCount(lpObj->pInventory[Pos].m_Type);
; 409  : 		//	float CrSell = NewPrice - ( ( NewPrice * this->SellProcent ) / 100 );
; 410  : 		//	if(lpObj->pInventory[Pos].m_SetOption)
; 411  : 		//	{
; 412  : 		//		CrSell += 10;
; 413  : 		//	}
; 414  : 		//	lpObj->ZtCred += CrSell;
; 415  : 		//	MsgOutput(aIndex,"[Credit Donate]: Sell %.2f Credits",CrSell);
; 416  : 
; 417  : 		//	GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 418  : 		//	ZtUserDataSend(aIndex);
; 419  : 		//	iAddZen = 0;
; 420  : 		//	return;
; 421  : 		//}
; 422  : 	}
; 423  : }

  00010	8b e5		 mov	 esp, ebp
  00012	5d		 pop	 ebp
  00013	c2 0c 00	 ret	 12			; 0000000cH
$LN5@Sell:
  00016	57		 push	 edi

; 367  : 
; 368  : 	LPOBJ lpObj = &gObj[aIndex];

  00017	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  0001a	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00020	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 369  : 
; 370  : 	//if(lpObj->pInventory[Pos].m_Number != 1 && lpObj->pInventory[Pos].m_Number != 2)
; 371  : 	//{
; 372  : 	//	return;
; 373  : 	//}
; 374  : 
; 375  : 	for(int i=0;i<this->Count;i++)

  00026	83 b9 98 af 02
	00 00		 cmp	 DWORD PTR [ecx+176024], 0
  0002d	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$207206[ebp], 0
  00034	0f 8e 0d 01 00
	00		 jle	 $LN11@Sell
  0003a	53		 push	 ebx
  0003b	8b 5d 0c	 mov	 ebx, DWORD PTR _Pos$[ebp]
  0003e	56		 push	 esi
  0003f	69 db d4 00 00
	00		 imul	 ebx, 212		; 000000d4H
  00045	8d 71 50	 lea	 esi, DWORD PTR [ecx+80]
$LL4@Sell:

; 376  : 	{
; 377  : 		bool bItems = NormalItem(this->Donate[i].Type,this->Donate[i].Index);

  00048	8b 16		 mov	 edx, DWORD PTR [esi]
  0004a	8b 4e fc	 mov	 ecx, DWORD PTR [esi-4]
  0004d	52		 push	 edx
  0004e	51		 push	 ecx
  0004f	e8 00 00 00 00	 call	 ?NormalItem@@YA_NHH@Z	; NormalItem
  00054	88 45 0c	 mov	 BYTE PTR _bItems$207210[ebp], al

; 378  : 
; 379  : 		if(
; 380  : 			lpObj->pInventory[Pos].m_Type == ITEMGET(this->Donate[i].Type,this->Donate[i].Index) && 
; 381  : 			lpObj->pInventory[Pos].m_Level == this->Donate[i].Level &&
; 382  : 			lpObj->pInventory[Pos].m_Option2 == this->Donate[i].Luck &&
; 383  : 			lpObj->pInventory[Pos].m_Option3 >= this->Donate[i].Opt &&
; 384  : 			CheckOptions(bItems, lpObj->pInventory[Pos].m_NewOption, this->Donate[i].Exl) &&
; 385  : 			lpObj->pInventory[Pos].m_SetOption == this->Donate[i].Anc
; 386  : 			)

  00057	8b 87 24 0e 00
	00		 mov	 eax, DWORD PTR [edi+3620]
  0005d	c1 e1 09	 shl	 ecx, 9
  00060	03 c3		 add	 eax, ebx
  00062	03 ca		 add	 ecx, edx
  00064	0f bf 50 06	 movsx	 edx, WORD PTR [eax+6]
  00068	83 c4 08	 add	 esp, 8
  0006b	3b d1		 cmp	 edx, ecx
  0006d	75 50		 jne	 SHORT $LN3@Sell
  0006f	0f bf 48 08	 movsx	 ecx, WORD PTR [eax+8]
  00073	3b 4e 04	 cmp	 ecx, DWORD PTR [esi+4]
  00076	75 47		 jne	 SHORT $LN3@Sell
  00078	0f b6 90 95 00
	00 00		 movzx	 edx, BYTE PTR [eax+149]
  0007f	3b 56 0c	 cmp	 edx, DWORD PTR [esi+12]
  00082	75 3b		 jne	 SHORT $LN3@Sell
  00084	0f b6 88 96 00
	00 00		 movzx	 ecx, BYTE PTR [eax+150]
  0008b	3b 4e 10	 cmp	 ecx, DWORD PTR [esi+16]
  0008e	7c 2f		 jl	 SHORT $LN3@Sell
  00090	8b 56 14	 mov	 edx, DWORD PTR [esi+20]
  00093	0f b6 80 97 00
	00 00		 movzx	 eax, BYTE PTR [eax+151]
  0009a	8b 4d 0c	 mov	 ecx, DWORD PTR _bItems$207210[ebp]
  0009d	52		 push	 edx
  0009e	50		 push	 eax
  0009f	51		 push	 ecx
  000a0	e8 00 00 00 00	 call	 ?CheckOptions@@YA_N_NHH@Z ; CheckOptions
  000a5	83 c4 0c	 add	 esp, 12			; 0000000cH
  000a8	84 c0		 test	 al, al
  000aa	74 13		 je	 SHORT $LN3@Sell
  000ac	8b 97 24 0e 00
	00		 mov	 edx, DWORD PTR [edi+3620]
  000b2	0f b6 84 13 ae
	00 00 00	 movzx	 eax, BYTE PTR [ebx+edx+174]
  000ba	3b 46 18	 cmp	 eax, DWORD PTR [esi+24]
  000bd	74 22		 je	 SHORT $LN9@Sell
$LN3@Sell:

; 369  : 
; 370  : 	//if(lpObj->pInventory[Pos].m_Number != 1 && lpObj->pInventory[Pos].m_Number != 2)
; 371  : 	//{
; 372  : 	//	return;
; 373  : 	//}
; 374  : 
; 375  : 	for(int i=0;i<this->Count;i++)

  000bf	8b 45 fc	 mov	 eax, DWORD PTR _i$207206[ebp]
  000c2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000c5	40		 inc	 eax
  000c6	83 c6 58	 add	 esi, 88			; 00000058H
  000c9	89 45 fc	 mov	 DWORD PTR _i$207206[ebp], eax
  000cc	3b 81 98 af 02
	00		 cmp	 eax, DWORD PTR [ecx+176024]
  000d2	0f 8c 70 ff ff
	ff		 jl	 $LL4@Sell
  000d8	5e		 pop	 esi
  000d9	5b		 pop	 ebx
  000da	5f		 pop	 edi

; 402  : 		}
; 403  : 		//else if( lpObj->pInventory[Pos].m_Number == 1 &&
; 404  : 		//	this->Donate[i].Type == -1 && lpObj->pInventory[Pos].m_Type % 512 == this->Donate[i].Index && 
; 405  : 		//	lpObj->pInventory[Pos].m_Level == this->Donate[i].Level &&
; 406  : 		//	CheckOptions(lpObj->pInventory[Pos].m_NewOption, this->Donate[i].Exl))
; 407  : 		//{
; 408  : 		//	float NewPrice = this->Donate[i].CrPrice / SetItemCount(lpObj->pInventory[Pos].m_Type);
; 409  : 		//	float CrSell = NewPrice - ( ( NewPrice * this->SellProcent ) / 100 );
; 410  : 		//	if(lpObj->pInventory[Pos].m_SetOption)
; 411  : 		//	{
; 412  : 		//		CrSell += 10;
; 413  : 		//	}
; 414  : 		//	lpObj->ZtCred += CrSell;
; 415  : 		//	MsgOutput(aIndex,"[Credit Donate]: Sell %.2f Credits",CrSell);
; 416  : 
; 417  : 		//	GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 418  : 		//	ZtUserDataSend(aIndex);
; 419  : 		//	iAddZen = 0;
; 420  : 		//	return;
; 421  : 		//}
; 422  : 	}
; 423  : }

  000db	8b e5		 mov	 esp, ebp
  000dd	5d		 pop	 ebp
  000de	c2 0c 00	 ret	 12			; 0000000cH
$LN9@Sell:

; 387  : 		{
; 388  : 			float NewPrice = this->Donate[i].CrPrice;

  000e1	8b 45 fc	 mov	 eax, DWORD PTR _i$207206[ebp]
  000e4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000e7	6b c0 58	 imul	 eax, 88			; 00000058H

; 389  : 			float CrSell = NewPrice - ( ( NewPrice * this->SellProcent ) / 100 );
; 390  : 			//if(lpObj->pInventory[Pos].m_SetOption)
; 391  : 			//{
; 392  : 			//	CrSell += 10;
; 393  : 			//}
; 394  : 			lpObj->ZtCred += CrSell;
; 395  : 			MsgOutput(aIndex,g_ZtText.GetText(123),CrSell);

  000ea	83 ec 08	 sub	 esp, 8
  000ed	db 44 08 6c	 fild	 DWORD PTR [eax+ecx+108]
  000f1	d9 5d 0c	 fstp	 DWORD PTR _NewPrice$207212[ebp]
  000f4	d9 45 0c	 fld	 DWORD PTR _NewPrice$207212[ebp]
  000f7	db 41 04	 fild	 DWORD PTR [ecx+4]
  000fa	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  000ff	d8 c9		 fmul	 ST(0), ST(1)
  00101	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  00107	de e9		 fsubp	 ST(1), ST(0)
  00109	d9 5d 0c	 fstp	 DWORD PTR _CrSell$207213[ebp]
  0010c	d9 45 0c	 fld	 DWORD PTR _CrSell$207213[ebp]
  0010f	d9 c0		 fld	 ST(0)
  00111	d8 87 a8 22 00
	00		 fadd	 DWORD PTR [edi+8872]
  00117	d9 9f a8 22 00
	00		 fstp	 DWORD PTR [edi+8872]
  0011d	dd 1c 24	 fstp	 QWORD PTR [esp]
  00120	6a 7b		 push	 123			; 0000007bH
  00122	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  00127	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0012a	50		 push	 eax
  0012b	56		 push	 esi
  0012c	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput

; 396  : #ifndef FIX_DS_CRASH
; 397  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 398  : #endif
; 399  : 			ZtUserDataSend(aIndex);

  00131	56		 push	 esi
  00132	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend

; 400  : 			iAddZen = 0;

  00137	8b 55 10	 mov	 edx, DWORD PTR _iAddZen$[ebp]
  0013a	83 c4 14	 add	 esp, 20			; 00000014H
  0013d	5e		 pop	 esi
  0013e	c7 02 00 00 00
	00		 mov	 DWORD PTR [edx], 0

; 401  : 			return true;

  00144	b0 01		 mov	 al, 1
  00146	5b		 pop	 ebx
$LN11@Sell:
  00147	5f		 pop	 edi

; 402  : 		}
; 403  : 		//else if( lpObj->pInventory[Pos].m_Number == 1 &&
; 404  : 		//	this->Donate[i].Type == -1 && lpObj->pInventory[Pos].m_Type % 512 == this->Donate[i].Index && 
; 405  : 		//	lpObj->pInventory[Pos].m_Level == this->Donate[i].Level &&
; 406  : 		//	CheckOptions(lpObj->pInventory[Pos].m_NewOption, this->Donate[i].Exl))
; 407  : 		//{
; 408  : 		//	float NewPrice = this->Donate[i].CrPrice / SetItemCount(lpObj->pInventory[Pos].m_Type);
; 409  : 		//	float CrSell = NewPrice - ( ( NewPrice * this->SellProcent ) / 100 );
; 410  : 		//	if(lpObj->pInventory[Pos].m_SetOption)
; 411  : 		//	{
; 412  : 		//		CrSell += 10;
; 413  : 		//	}
; 414  : 		//	lpObj->ZtCred += CrSell;
; 415  : 		//	MsgOutput(aIndex,"[Credit Donate]: Sell %.2f Credits",CrSell);
; 416  : 
; 417  : 		//	GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 418  : 		//	ZtUserDataSend(aIndex);
; 419  : 		//	iAddZen = 0;
; 420  : 		//	return;
; 421  : 		//}
; 422  : 	}
; 423  : }

  00148	8b e5		 mov	 esp, ebp
  0014a	5d		 pop	 ebp
  0014b	c2 0c 00	 ret	 12			; 0000000cH
?Sell@cCreditDonate@@QAE_NHHAAH@Z ENDP			; cCreditDonate::Sell
_TEXT	ENDS
PUBLIC	??_C@_04PPHKAIAN@monk?$AA@			; `string'
PUBLIC	??_C@_08PJONMIAH@summoner?$AA@			; `string'
PUBLIC	??_C@_04FALOGHGG@lord?$AA@			; `string'
PUBLIC	??_C@_05PBCCBLFE@magic?$AA@			; `string'
PUBLIC	??_C@_03KACJNJLH@elf?$AA@			; `string'
PUBLIC	??_C@_06OGJIKKFI@knight?$AA@			; `string'
PUBLIC	??_C@_06CLLOKCD@wizard?$AA@			; `string'
PUBLIC	?exClass@cCreditDonate@@QAEXHPAD@Z		; cCreditDonate::exClass
EXTRN	?gObjCloseSet@@YAXHH@Z:PROC			; gObjCloseSet
EXTRN	?ClearPassiveSkill@CMasterLevelSkillTreeSystem@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CMasterLevelSkillTreeSystem::ClearPassiveSkill
EXTRN	?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A:BYTE ; g_MasterSkillSystem
EXTRN	?Clear@CMagicInf@@QAEXXZ:PROC			; CMagicInf::Clear
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
EXTRN	_memset:PROC
;	COMDAT ??_C@_04PPHKAIAN@monk?$AA@
CONST	SEGMENT
??_C@_04PPHKAIAN@monk?$AA@ DB 'monk', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_08PJONMIAH@summoner?$AA@
CONST	SEGMENT
??_C@_08PJONMIAH@summoner?$AA@ DB 'summoner', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_04FALOGHGG@lord?$AA@
CONST	SEGMENT
??_C@_04FALOGHGG@lord?$AA@ DB 'lord', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05PBCCBLFE@magic?$AA@
CONST	SEGMENT
??_C@_05PBCCBLFE@magic?$AA@ DB 'magic', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_03KACJNJLH@elf?$AA@
CONST	SEGMENT
??_C@_03KACJNJLH@elf?$AA@ DB 'elf', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06OGJIKKFI@knight?$AA@
CONST	SEGMENT
??_C@_06OGJIKKFI@knight?$AA@ DB 'knight', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CLLOKCD@wizard?$AA@
CONST	SEGMENT
??_C@_06CLLOKCD@wizard?$AA@ DB 'wizard', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?exClass@cCreditDonate@@QAEXHPAD@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
tv259 = 12						; size = 4
tv258 = 12						; size = 4
_Message$ = 12						; size = 4
?exClass@cCreditDonate@@QAEXHPAD@Z PROC			; cCreditDonate::exClass, COMDAT
; _this$ = ecx

; 426  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 427  : 	if(!this->ChangeClass)

  00004	80 79 0c 00	 cmp	 BYTE PTR [ecx+12], 0
  00008	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000b	0f 84 c6 02 00
	00		 je	 $LN10@exClass

; 428  : 	{
; 429  : 		return;
; 430  : 	}
; 431  : 	LPOBJ lpObj = &gObj[aIndex];
; 432  : 
; 433  : 	BYTE NewClass;
; 434  : 
; 435  : 	if(!strcmp(Message,"wizard") && lpObj->Class != CLASS_WIZARD)

  00011	56		 push	 esi
  00012	8b 75 0c	 mov	 esi, DWORD PTR _Message$[ebp]
  00015	57		 push	 edi
  00016	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00019	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0001f	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00025	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_06CLLOKCD@wizard?$AA@
  0002a	8b c6		 mov	 eax, esi
  0002c	8d 64 24 00	 npad	 4
$LL31@exClass:
  00030	8a 10		 mov	 dl, BYTE PTR [eax]
  00032	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00034	75 1a		 jne	 SHORT $LN32@exClass
  00036	84 d2		 test	 dl, dl
  00038	74 12		 je	 SHORT $LN33@exClass
  0003a	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0003d	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00040	75 0e		 jne	 SHORT $LN32@exClass
  00042	83 c0 02	 add	 eax, 2
  00045	83 c1 02	 add	 ecx, 2
  00048	84 d2		 test	 dl, dl
  0004a	75 e4		 jne	 SHORT $LL31@exClass
$LN33@exClass:
  0004c	33 c0		 xor	 eax, eax
  0004e	eb 05		 jmp	 SHORT $LN34@exClass
$LN32@exClass:
  00050	1b c0		 sbb	 eax, eax
  00052	83 d8 ff	 sbb	 eax, -1
$LN34@exClass:
  00055	53		 push	 ebx
  00056	85 c0		 test	 eax, eax
  00058	75 10		 jne	 SHORT $LN22@exClass
  0005a	66 39 87 b8 00
	00 00		 cmp	 WORD PTR [edi+184], ax
  00061	74 07		 je	 SHORT $LN22@exClass

; 436  : 	{
; 437  : 		NewClass = 0;

  00063	32 db		 xor	 bl, bl
  00065	e9 86 01 00 00	 jmp	 $LN9@exClass
$LN22@exClass:

; 438  : 	}
; 439  : 	else if(!strcmp(Message,"knight") && lpObj->Class != CLASS_KNIGHT)

  0006a	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_06OGJIKKFI@knight?$AA@
  0006f	8b c6		 mov	 eax, esi
$LL35@exClass:
  00071	8a 10		 mov	 dl, BYTE PTR [eax]
  00073	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00075	75 1a		 jne	 SHORT $LN36@exClass
  00077	84 d2		 test	 dl, dl
  00079	74 12		 je	 SHORT $LN37@exClass
  0007b	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0007e	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00081	75 0e		 jne	 SHORT $LN36@exClass
  00083	83 c0 02	 add	 eax, 2
  00086	83 c1 02	 add	 ecx, 2
  00089	84 d2		 test	 dl, dl
  0008b	75 e4		 jne	 SHORT $LL35@exClass
$LN37@exClass:
  0008d	33 c0		 xor	 eax, eax
  0008f	eb 05		 jmp	 SHORT $LN38@exClass
$LN36@exClass:
  00091	1b c0		 sbb	 eax, eax
  00093	83 d8 ff	 sbb	 eax, -1
$LN38@exClass:
  00096	85 c0		 test	 eax, eax
  00098	75 11		 jne	 SHORT $LN20@exClass
  0009a	66 83 bf b8 00
	00 00 01	 cmp	 WORD PTR [edi+184], 1
  000a2	74 07		 je	 SHORT $LN20@exClass

; 440  : 	{
; 441  : 		NewClass = 16;

  000a4	b3 10		 mov	 bl, 16			; 00000010H
  000a6	e9 45 01 00 00	 jmp	 $LN9@exClass
$LN20@exClass:

; 442  : 	}
; 443  : 	else if(!strcmp(Message,"elf") && lpObj->Class != CLASS_ELF)

  000ab	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_03KACJNJLH@elf?$AA@
  000b0	8b c6		 mov	 eax, esi
$LL39@exClass:
  000b2	8a 10		 mov	 dl, BYTE PTR [eax]
  000b4	3a 11		 cmp	 dl, BYTE PTR [ecx]
  000b6	75 1a		 jne	 SHORT $LN40@exClass
  000b8	84 d2		 test	 dl, dl
  000ba	74 12		 je	 SHORT $LN41@exClass
  000bc	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  000bf	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  000c2	75 0e		 jne	 SHORT $LN40@exClass
  000c4	83 c0 02	 add	 eax, 2
  000c7	83 c1 02	 add	 ecx, 2
  000ca	84 d2		 test	 dl, dl
  000cc	75 e4		 jne	 SHORT $LL39@exClass
$LN41@exClass:
  000ce	33 c0		 xor	 eax, eax
  000d0	eb 05		 jmp	 SHORT $LN42@exClass
$LN40@exClass:
  000d2	1b c0		 sbb	 eax, eax
  000d4	83 d8 ff	 sbb	 eax, -1
$LN42@exClass:
  000d7	85 c0		 test	 eax, eax
  000d9	75 11		 jne	 SHORT $LN18@exClass
  000db	66 83 bf b8 00
	00 00 02	 cmp	 WORD PTR [edi+184], 2
  000e3	74 07		 je	 SHORT $LN18@exClass

; 444  : 	{
; 445  : 		NewClass = 32;

  000e5	b3 20		 mov	 bl, 32			; 00000020H
  000e7	e9 04 01 00 00	 jmp	 $LN9@exClass
$LN18@exClass:

; 446  : 	}
; 447  : 	else if(!strcmp(Message,"magic") && lpObj->Class != CLASS_MAGUMSA)

  000ec	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_05PBCCBLFE@magic?$AA@
  000f1	8b c6		 mov	 eax, esi
$LL43@exClass:
  000f3	8a 10		 mov	 dl, BYTE PTR [eax]
  000f5	3a 11		 cmp	 dl, BYTE PTR [ecx]
  000f7	75 1a		 jne	 SHORT $LN44@exClass
  000f9	84 d2		 test	 dl, dl
  000fb	74 12		 je	 SHORT $LN45@exClass
  000fd	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  00100	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00103	75 0e		 jne	 SHORT $LN44@exClass
  00105	83 c0 02	 add	 eax, 2
  00108	83 c1 02	 add	 ecx, 2
  0010b	84 d2		 test	 dl, dl
  0010d	75 e4		 jne	 SHORT $LL43@exClass
$LN45@exClass:
  0010f	33 c0		 xor	 eax, eax
  00111	eb 05		 jmp	 SHORT $LN46@exClass
$LN44@exClass:
  00113	1b c0		 sbb	 eax, eax
  00115	83 d8 ff	 sbb	 eax, -1
$LN46@exClass:
  00118	85 c0		 test	 eax, eax
  0011a	75 11		 jne	 SHORT $LN16@exClass
  0011c	66 83 bf b8 00
	00 00 03	 cmp	 WORD PTR [edi+184], 3
  00124	74 07		 je	 SHORT $LN16@exClass

; 448  : 	{
; 449  : 		NewClass = 48;

  00126	b3 30		 mov	 bl, 48			; 00000030H
  00128	e9 c3 00 00 00	 jmp	 $LN9@exClass
$LN16@exClass:

; 450  : 	}
; 451  : 	else if(!strcmp(Message,"lord") && lpObj->Class != CLASS_DARKLORD)

  0012d	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_04FALOGHGG@lord?$AA@
  00132	8b c6		 mov	 eax, esi
$LL47@exClass:
  00134	8a 10		 mov	 dl, BYTE PTR [eax]
  00136	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00138	75 1a		 jne	 SHORT $LN48@exClass
  0013a	84 d2		 test	 dl, dl
  0013c	74 12		 je	 SHORT $LN49@exClass
  0013e	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  00141	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00144	75 0e		 jne	 SHORT $LN48@exClass
  00146	83 c0 02	 add	 eax, 2
  00149	83 c1 02	 add	 ecx, 2
  0014c	84 d2		 test	 dl, dl
  0014e	75 e4		 jne	 SHORT $LL47@exClass
$LN49@exClass:
  00150	33 c0		 xor	 eax, eax
  00152	eb 05		 jmp	 SHORT $LN50@exClass
$LN48@exClass:
  00154	1b c0		 sbb	 eax, eax
  00156	83 d8 ff	 sbb	 eax, -1
$LN50@exClass:
  00159	85 c0		 test	 eax, eax
  0015b	75 11		 jne	 SHORT $LN14@exClass
  0015d	66 83 bf b8 00
	00 00 04	 cmp	 WORD PTR [edi+184], 4
  00165	74 07		 je	 SHORT $LN14@exClass

; 452  : 	{
; 453  : 		NewClass = 64;

  00167	b3 40		 mov	 bl, 64			; 00000040H
  00169	e9 82 00 00 00	 jmp	 $LN9@exClass
$LN14@exClass:

; 454  : 	}		
; 455  : 	else if(!strcmp(Message,"summoner") && lpObj->Class != CLASS_SUMMONER)

  0016e	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_08PJONMIAH@summoner?$AA@
  00173	8b c6		 mov	 eax, esi
$LL51@exClass:
  00175	8a 10		 mov	 dl, BYTE PTR [eax]
  00177	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00179	75 1a		 jne	 SHORT $LN52@exClass
  0017b	84 d2		 test	 dl, dl
  0017d	74 12		 je	 SHORT $LN53@exClass
  0017f	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  00182	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00185	75 0e		 jne	 SHORT $LN52@exClass
  00187	83 c0 02	 add	 eax, 2
  0018a	83 c1 02	 add	 ecx, 2
  0018d	84 d2		 test	 dl, dl
  0018f	75 e4		 jne	 SHORT $LL51@exClass
$LN53@exClass:
  00191	33 c0		 xor	 eax, eax
  00193	eb 05		 jmp	 SHORT $LN54@exClass
$LN52@exClass:
  00195	1b c0		 sbb	 eax, eax
  00197	83 d8 ff	 sbb	 eax, -1
$LN54@exClass:
  0019a	85 c0		 test	 eax, eax
  0019c	75 0e		 jne	 SHORT $LN12@exClass
  0019e	66 83 bf b8 00
	00 00 05	 cmp	 WORD PTR [edi+184], 5
  001a6	74 04		 je	 SHORT $LN12@exClass

; 456  : 	{
; 457  : 		NewClass = 80;

  001a8	b3 50		 mov	 bl, 80			; 00000050H
  001aa	eb 44		 jmp	 SHORT $LN9@exClass
$LN12@exClass:

; 458  : 	}
; 459  : 	else if(!strcmp(Message,"monk") && lpObj->Class != CLASS_MONK)

  001ac	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_04PPHKAIAN@monk?$AA@
  001b1	8b c6		 mov	 eax, esi
$LL55@exClass:
  001b3	8a 10		 mov	 dl, BYTE PTR [eax]
  001b5	3a 11		 cmp	 dl, BYTE PTR [ecx]
  001b7	75 1a		 jne	 SHORT $LN56@exClass
  001b9	84 d2		 test	 dl, dl
  001bb	74 12		 je	 SHORT $LN57@exClass
  001bd	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  001c0	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  001c3	75 0e		 jne	 SHORT $LN56@exClass
  001c5	83 c0 02	 add	 eax, 2
  001c8	83 c1 02	 add	 ecx, 2
  001cb	84 d2		 test	 dl, dl
  001cd	75 e4		 jne	 SHORT $LL55@exClass
$LN57@exClass:
  001cf	33 c0		 xor	 eax, eax
  001d1	eb 05		 jmp	 SHORT $LN58@exClass
$LN56@exClass:
  001d3	1b c0		 sbb	 eax, eax
  001d5	83 d8 ff	 sbb	 eax, -1
$LN58@exClass:
  001d8	85 c0		 test	 eax, eax
  001da	0f 85 f4 00 00
	00		 jne	 $LN61@exClass
  001e0	66 83 bf b8 00
	00 00 06	 cmp	 WORD PTR [edi+184], 6
  001e8	0f 84 e6 00 00
	00		 je	 $LN61@exClass

; 460  : 	{
; 461  : 		NewClass = 96;

  001ee	b3 60		 mov	 bl, 96			; 00000060H
$LN9@exClass:

; 462  : 	}
; 463  : 	else
; 464  : 	{
; 465  : 		return;
; 466  : 	}
; 467  : 
; 468  : 	for ( int i=0;i<INVETORY_WEAR_SIZE;i++)

  001f0	33 f6		 xor	 esi, esi
$LL8@exClass:

; 469  : 	{
; 470  : 		if ( lpObj->pInventory[i].IsItem() )

  001f2	8b 8f 24 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3620]
  001f8	03 ce		 add	 ecx, esi
  001fa	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  001ff	85 c0		 test	 eax, eax
  00201	75 54		 jne	 SHORT $LN28@exClass

; 462  : 	}
; 463  : 	else
; 464  : 	{
; 465  : 		return;
; 466  : 	}
; 467  : 
; 468  : 	for ( int i=0;i<INVETORY_WEAR_SIZE;i++)

  00203	81 c6 d4 00 00
	00		 add	 esi, 212		; 000000d4H
  00209	81 fe f0 09 00
	00		 cmp	 esi, 2544		; 000009f0H
  0020f	7c e1		 jl	 SHORT $LL8@exClass

; 473  : 			return;
; 474  : 		}
; 475  : 	}
; 476  : 
; 477  : 	if(this->ChangeCredit > lpObj->ZtCred)

  00211	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00214	8b 49 10	 mov	 ecx, DWORD PTR [ecx+16]
  00217	89 4d 0c	 mov	 DWORD PTR tv258[ebp], ecx
  0021a	db 45 0c	 fild	 DWORD PTR tv258[ebp]
  0021d	d9 5d 0c	 fstp	 DWORD PTR tv259[ebp]
  00220	d9 45 0c	 fld	 DWORD PTR tv259[ebp]
  00223	d9 87 a8 22 00
	00		 fld	 DWORD PTR [edi+8872]
  00229	d8 d9		 fcomp	 ST(1)
  0022b	df e0		 fnstsw	 ax
  0022d	f6 c4 05	 test	 ah, 5
  00230	7a 47		 jp	 SHORT $LN4@exClass

; 478  : 	{
; 479  : 		MsgOutput(aIndex,g_ZtText.GetText(125),this->ChangeCredit);

  00232	51		 push	 ecx
  00233	dd d8		 fstp	 ST(0)
  00235	6a 7d		 push	 125			; 0000007dH
  00237	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  0023c	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  00241	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00244	50		 push	 eax
  00245	52		 push	 edx
  00246	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0024b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0024e	5b		 pop	 ebx
  0024f	5f		 pop	 edi
  00250	5e		 pop	 esi

; 495  : 
; 496  : 
; 497  : }

  00251	8b e5		 mov	 esp, ebp
  00253	5d		 pop	 ebp
  00254	c2 08 00	 ret	 8
$LN28@exClass:

; 471  : 		{
; 472  : 			MsgOutput(aIndex,g_ZtText.GetText(124));

  00257	6a 7c		 push	 124			; 0000007cH
  00259	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtText@@3VCZtText@@A ; g_ZtText
  0025e	e8 00 00 00 00	 call	 ?GetText@CZtText@@QAEPADH@Z ; CZtText::GetText
  00263	50		 push	 eax
  00264	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00267	50		 push	 eax
  00268	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0026d	83 c4 08	 add	 esp, 8
  00270	5b		 pop	 ebx
  00271	5f		 pop	 edi
  00272	5e		 pop	 esi

; 495  : 
; 496  : 
; 497  : }

  00273	8b e5		 mov	 esp, ebp
  00275	5d		 pop	 ebp
  00276	c2 08 00	 ret	 8
$LN4@exClass:

; 480  : 		return;
; 481  : 	}
; 482  : 
; 483  : 	lpObj->ZtCred -= this->ChangeCredit;

  00279	d8 af a8 22 00
	00		 fsubr	 DWORD PTR [edi+8872]

; 484  : 
; 485  : 	lpObj->DbClass = NewClass;

  0027f	88 9f ba 00 00
	00		 mov	 BYTE PTR [edi+186], bl
  00285	33 f6		 xor	 esi, esi
  00287	d9 9f a8 22 00
	00		 fstp	 DWORD PTR [edi+8872]
  0028d	8d 49 00	 npad	 3
$LL3@exClass:

; 486  : 
; 487  : 	for (int i=0;i<MAX_MAGIC ; i++)
; 488  : 	{
; 489  : 		lpObj->Magic[i].Clear(); //Changed

  00290	8b 8f c8 04 00
	00		 mov	 ecx, DWORD PTR [edi+1224]
  00296	03 ce		 add	 ecx, esi
  00298	e8 00 00 00 00	 call	 ?Clear@CMagicInf@@QAEXXZ ; CMagicInf::Clear
  0029d	83 c6 18	 add	 esi, 24			; 00000018H
  002a0	81 fe 10 0e 00
	00		 cmp	 esi, 3600		; 00000e10H
  002a6	7c e8		 jl	 SHORT $LL3@exClass

; 490  : 	}
; 491  : 
; 492  : 	g_MasterSkillSystem.ClearPassiveSkill(lpObj);

  002a8	57		 push	 edi
  002a9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  002ae	e8 00 00 00 00	 call	 ?ClearPassiveSkill@CMasterLevelSkillTreeSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMasterLevelSkillTreeSystem::ClearPassiveSkill

; 493  : 	memset(lpObj->m_Quest, 0xFF, sizeof(lpObj->m_Quest));

  002b3	6a 32		 push	 50			; 00000032H
  002b5	68 ff 00 00 00	 push	 255			; 000000ffH
  002ba	81 c7 8c 10 00
	00		 add	 edi, 4236		; 0000108cH
  002c0	57		 push	 edi
  002c1	e8 00 00 00 00	 call	 _memset

; 494  : 	gObjCloseSet(aIndex, 1);

  002c6	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  002c9	6a 01		 push	 1
  002cb	50		 push	 eax
  002cc	e8 00 00 00 00	 call	 ?gObjCloseSet@@YAXHH@Z	; gObjCloseSet
  002d1	83 c4 14	 add	 esp, 20			; 00000014H
$LN61@exClass:
  002d4	5b		 pop	 ebx
  002d5	5f		 pop	 edi
  002d6	5e		 pop	 esi
$LN10@exClass:

; 495  : 
; 496  : 
; 497  : }

  002d7	8b e5		 mov	 esp, ebp
  002d9	5d		 pop	 ebp
  002da	c2 08 00	 ret	 8
?exClass@cCreditDonate@@QAEXHPAD@Z ENDP			; cCreditDonate::exClass
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?GCChangeClassConfig@cCreditDonate@@QAEXH@Z	; cCreditDonate::GCChangeClassConfig
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
; Function compile flags: /Ogtp
;	COMDAT ?GCChangeClassConfig@cCreditDonate@@QAEXH@Z
_TEXT	SEGMENT
_pMsg$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?GCChangeClassConfig@cCreditDonate@@QAEXH@Z PROC	; cCreditDonate::GCChangeClassConfig, COMDAT
; _this$ = ecx

; 500  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00014	57		 push	 edi
  00015	8b f9		 mov	 edi, ecx

; 501  : 	if( !g_ZtLicense.CheckUser(eZtUB::Local) && 
; 502  : 		!g_ZtLicense.CheckUser(eZtUB::Gredy) &&
; 503  : 		!g_ZtLicense.CheckUser(eZtUB::Gredy2) && 
; 504  : 		!g_ZtLicense.CheckUser(eZtUB::GredyLocal) &&
; 505  : 		!g_ZtLicense.CheckUser(eZtUB::EpicMU) &&
; 506  : 		!g_ZtLicense.CheckUser(eZtUB::MedoniAndrei) &&
; 507  : 		!THINNAKORN_MAC &&
; 508  : 		!g_ZtLicense.CheckUser(eZtUB::MUCustom) &&
; 509  : 		!g_ZtLicense.CheckUser(eZtUB::AsteraMU))

  00017	6a 00		 push	 0
  00019	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0001e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00023	84 c0		 test	 al, al
  00025	75 70		 jne	 SHORT $LN2@GCChangeCl
  00027	6a 20		 push	 32			; 00000020H
  00029	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0002e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00033	84 c0		 test	 al, al
  00035	75 60		 jne	 SHORT $LN2@GCChangeCl
  00037	6a 22		 push	 34			; 00000022H
  00039	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0003e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00043	84 c0		 test	 al, al
  00045	75 50		 jne	 SHORT $LN2@GCChangeCl
  00047	6a 21		 push	 33			; 00000021H
  00049	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0004e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00053	84 c0		 test	 al, al
  00055	75 40		 jne	 SHORT $LN2@GCChangeCl
  00057	6a 3b		 push	 59			; 0000003bH
  00059	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0005e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00063	84 c0		 test	 al, al
  00065	75 30		 jne	 SHORT $LN2@GCChangeCl
  00067	6a 32		 push	 50			; 00000032H
  00069	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0006e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00073	84 c0		 test	 al, al
  00075	75 20		 jne	 SHORT $LN2@GCChangeCl
  00077	6a 55		 push	 85			; 00000055H
  00079	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0007e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00083	84 c0		 test	 al, al
  00085	75 10		 jne	 SHORT $LN2@GCChangeCl
  00087	6a 62		 push	 98			; 00000062H
  00089	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0008e	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00093	84 c0		 test	 al, al
  00095	74 35		 je	 SHORT $LN3@GCChangeCl
$LN2@GCChangeCl:

; 510  : 	{
; 511  : 		return;
; 512  : 	}
; 513  : 
; 514  : 	if(OBJMAX_RANGE(aIndex) == 0)

  00097	85 f6		 test	 esi, esi
  00099	78 31		 js	 SHORT $LN3@GCChangeCl
  0009b	33 c0		 xor	 eax, eax
  0009d	81 fe 97 3a 00
	00		 cmp	 esi, 14999		; 00003a97H
  000a3	0f 9e c0	 setle	 al
  000a6	85 c0		 test	 eax, eax
  000a8	74 22		 je	 SHORT $LN3@GCChangeCl

; 515  : 	{
; 516  : 		return;
; 517  : 	}
; 518  : 
; 519  : 	LPOBJ lpUser = &gObj[aIndex];
; 520  : 
; 521  : 	PMSG_GC_CHANGECLASS_CONFIG pMsg;
; 522  : 	pMsg.h.set((LPBYTE)&pMsg, 0xFB, 0x40, sizeof(pMsg));
; 523  : 	pMsg.iChangeClassWcoinPrice = this->ChangeWCoin;

  000aa	8b 47 14	 mov	 eax, DWORD PTR [edi+20]

; 524  : 	pMsg.iChangeClassCreditPrice = this->ChangeCredit;

  000ad	8b 4f 10	 mov	 ecx, DWORD PTR [edi+16]

; 525  : 	DataSend(aIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  000b0	6a 0c		 push	 12			; 0000000cH
  000b2	8d 55 f0	 lea	 edx, DWORD PTR _pMsg$[ebp]
  000b5	52		 push	 edx
  000b6	56		 push	 esi
  000b7	c7 45 f0 c1 0c
	fb 40		 mov	 DWORD PTR _pMsg$[ebp], 1090194625 ; 40fb0cc1H
  000be	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+4], eax
  000c1	89 4d f8	 mov	 DWORD PTR _pMsg$[ebp+8], ecx
  000c4	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  000c9	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@GCChangeCl:

; 526  : }

  000cc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000cf	5f		 pop	 edi
  000d0	33 cd		 xor	 ecx, ebp
  000d2	5e		 pop	 esi
  000d3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000d8	8b e5		 mov	 esp, ebp
  000da	5d		 pop	 ebp
  000db	c2 04 00	 ret	 4
?GCChangeClassConfig@cCreditDonate@@QAEXH@Z ENDP	; cCreditDonate::GCChangeClassConfig
_TEXT	ENDS
PUBLIC	??_C@_0BL@KFFEMCK@?$FLChange?5Class?$FN?3?5class?5busy?$AA@ ; `string'
PUBLIC	??_C@_0BO@MHAIPFF@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5WCoin?$AA@ ; `string'
PUBLIC	??_C@_0CJ@LADKEPDC@?$FLChange?5Class?$FN?3?5You?5need?5Empty?5I@ ; `string'
PUBLIC	??_C@_0BP@LBHMNDCK@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5Credit?$AA@ ; `string'
PUBLIC	?CGChangeClass@cCreditDonate@@QAEXPAUPMSG_CG_CHANGECLASS@@H@Z ; cCreditDonate::CGChangeClass
EXTRN	?gGrandReset@@3VcGrandReset@@A:BYTE		; gGrandReset
EXTRN	?gResetSystem@@3VcResetSystem@@A:BYTE		; gResetSystem
;	COMDAT ??_C@_0BL@KFFEMCK@?$FLChange?5Class?$FN?3?5class?5busy?$AA@
CONST	SEGMENT
??_C@_0BL@KFFEMCK@?$FLChange?5Class?$FN?3?5class?5busy?$AA@ DB '[Change C'
	DB	'lass]: class busy', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BO@MHAIPFF@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5WCoin?$AA@
CONST	SEGMENT
??_C@_0BO@MHAIPFF@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5WCoin?$AA@ DB '[C'
	DB	'hange Class]: Need %d WCoin', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@LADKEPDC@?$FLChange?5Class?$FN?3?5You?5need?5Empty?5I@
CONST	SEGMENT
??_C@_0CJ@LADKEPDC@?$FLChange?5Class?$FN?3?5You?5need?5Empty?5I@ DB '[Cha'
	DB	'nge Class]: You need Empty Inventory', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@LBHMNDCK@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5Credit?$AA@
CONST	SEGMENT
??_C@_0BP@LBHMNDCK@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5Credit?$AA@ DB '['
	DB	'Change Class]: Need %d Credit', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?CGChangeClass@cCreditDonate@@QAEXPAUPMSG_CG_CHANGECLASS@@H@Z
_TEXT	SEGMENT
tv673 = -12						; size = 4
tv661 = -12						; size = 4
tv660 = -12						; size = 4
_this$ = -8						; size = 4
_btPriceType$ = -1					; size = 1
_aRecv$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?CGChangeClass@cCreditDonate@@QAEXPAUPMSG_CG_CHANGECLASS@@H@Z PROC ; cCreditDonate::CGChangeClass, COMDAT
; _this$ = ecx

; 529  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 530  : 	if( !g_ZtLicense.CheckUser(eZtUB::Local) && 
; 531  : 		!g_ZtLicense.CheckUser(eZtUB::Gredy) &&
; 532  : 		!g_ZtLicense.CheckUser(eZtUB::Gredy2) && 
; 533  : 		!g_ZtLicense.CheckUser(eZtUB::GredyLocal) &&
; 534  : 		!g_ZtLicense.CheckUser(eZtUB::EpicMU) &&
; 535  : 		!g_ZtLicense.CheckUser(eZtUB::MedoniAndrei) &&
; 536  : 		!THINNAKORN_MAC &&
; 537  : 		!g_ZtLicense.CheckUser(eZtUB::MUCustom) &&
; 538  : 		!g_ZtLicense.CheckUser(eZtUB::AsteraMU))

  00009	6a 00		 push	 0
  0000b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00010	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00015	84 c0		 test	 al, al
  00017	75 74		 jne	 SHORT $LN76@CGChangeCl@2
  00019	6a 20		 push	 32			; 00000020H
  0001b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00020	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00025	84 c0		 test	 al, al
  00027	75 64		 jne	 SHORT $LN76@CGChangeCl@2
  00029	6a 22		 push	 34			; 00000022H
  0002b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00030	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00035	84 c0		 test	 al, al
  00037	75 54		 jne	 SHORT $LN76@CGChangeCl@2
  00039	6a 21		 push	 33			; 00000021H
  0003b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00040	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00045	84 c0		 test	 al, al
  00047	75 44		 jne	 SHORT $LN76@CGChangeCl@2
  00049	6a 3b		 push	 59			; 0000003bH
  0004b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00050	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00055	84 c0		 test	 al, al
  00057	75 34		 jne	 SHORT $LN76@CGChangeCl@2
  00059	6a 32		 push	 50			; 00000032H
  0005b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00060	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00065	84 c0		 test	 al, al
  00067	75 24		 jne	 SHORT $LN76@CGChangeCl@2
  00069	6a 55		 push	 85			; 00000055H
  0006b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00070	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00075	84 c0		 test	 al, al
  00077	75 14		 jne	 SHORT $LN76@CGChangeCl@2
  00079	6a 62		 push	 98			; 00000062H
  0007b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00080	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00085	84 c0		 test	 al, al
  00087	0f 84 79 05 00
	00		 je	 $LN77@CGChangeCl@2
$LN76@CGChangeCl@2:
  0008d	57		 push	 edi

; 539  : 	{
; 540  : 		return;
; 541  : 	}
; 542  : 
; 543  : 	if(OBJMAX_RANGE(aIndex) == 0)

  0008e	8b 7d 0c	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00091	85 ff		 test	 edi, edi
  00093	0f 88 6c 05 00
	00		 js	 $LN89@CGChangeCl@2
  00099	33 c0		 xor	 eax, eax
  0009b	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  000a1	0f 9e c0	 setle	 al
  000a4	85 c0		 test	 eax, eax
  000a6	0f 84 59 05 00
	00		 je	 $LN89@CGChangeCl@2

; 544  : 	{
; 545  : 		return;
; 546  : 	}
; 547  : 
; 548  : 	LPOBJ lpUser = &gObj[aIndex];

  000ac	56		 push	 esi
  000ad	8b f7		 mov	 esi, edi
  000af	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000b5	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 549  : 
; 550  : 	if(lpUser->Connected < PLAYER_PLAYING)

  000bb	ba 03 00 00 00	 mov	 edx, 3
  000c0	39 56 04	 cmp	 DWORD PTR [esi+4], edx
  000c3	0f 8c 3b 05 00
	00		 jl	 $LN90@CGChangeCl@2

; 551  : 	{
; 552  : 		return;
; 553  : 	}
; 554  : 	/*
; 555  : 	if(g_ZtLicense.CheckUser(eZtUB::Gredy) || g_ZtLicense.CheckUser(eZtUB::Gredy2) || g_ZtLicense.CheckUser(eZtUB::GredyLocal))	
; 556  : 	{
; 557  : 		SYSTEMTIME systime;
; 558  : 		GetLocalTime(&systime);
; 559  : 
; 560  : 		if(this->m_StartDayChange >= systime.wDayOfWeek && systime.wDayOfWeek <= this->m_EndDayChange )
; 561  : 		{
; 562  : 			if(this->m_MinResetChange > lpUser->Reset)
; 563  : 			{
; 564  : 				MsgOutput(aIndex, "[Change Class]: Min Reset %d", this->m_MinResetChange);
; 565  : 				return;
; 566  : 			}
; 567  : 
; 568  : 			if(this->m_MinGrandChange > lpUser->GReset)
; 569  : 			{
; 570  : 				MsgOutput(aIndex, "[Change Class]: Min Grand %d", this->m_MinResetChange);
; 571  : 				return;
; 572  : 			}
; 573  : 		}
; 574  : 		else
; 575  : 		{
; 576  : 			MsgOutput(aIndex, "[Change Class]: Day Of Week %d - %d", this->m_StartDayChange, this->m_EndDayChange);
; 577  : 			return;
; 578  : 		}
; 579  : 	}
; 580  : 	*/
; 581  : 	BYTE NewClass = aRecv->iNewClass;

  000c9	8b 4d 08	 mov	 ecx, DWORD PTR _aRecv$[ebp]
  000cc	8a 41 04	 mov	 al, BYTE PTR [ecx+4]

; 582  : 	BYTE btPriceType = aRecv->PriceType;

  000cf	8a 49 05	 mov	 cl, BYTE PTR [ecx+5]
  000d2	53		 push	 ebx
  000d3	88 4d ff	 mov	 BYTE PTR _btPriceType$[ebp], cl

; 583  : 
; 584  : 	if(NewClass == CLASS_WIZARD && lpUser->Class != CLASS_WIZARD)

  000d6	84 c0		 test	 al, al
  000d8	75 15		 jne	 SHORT $LN73@CGChangeCl@2
  000da	66 83 be b8 00
	00 00 00	 cmp	 WORD PTR [esi+184], 0
  000e2	0f 84 0d 05 00
	00		 je	 $LN61@CGChangeCl@2

; 585  : 	{
; 586  : 		NewClass = 0;

  000e8	32 db		 xor	 bl, bl
  000ea	e9 85 00 00 00	 jmp	 $LN60@CGChangeCl@2
$LN73@CGChangeCl@2:

; 587  : 	}
; 588  : 	else if(NewClass == CLASS_KNIGHT && lpUser->Class != CLASS_KNIGHT)

  000ef	3c 01		 cmp	 al, 1
  000f1	75 12		 jne	 SHORT $LN71@CGChangeCl@2
  000f3	66 83 be b8 00
	00 00 01	 cmp	 WORD PTR [esi+184], 1
  000fb	0f 84 f4 04 00
	00		 je	 $LN61@CGChangeCl@2

; 589  : 	{
; 590  : 		NewClass = 16;

  00101	b3 10		 mov	 bl, 16			; 00000010H
  00103	eb 6f		 jmp	 SHORT $LN60@CGChangeCl@2
$LN71@CGChangeCl@2:

; 591  : 	}
; 592  : 	else if(NewClass == CLASS_ELF && lpUser->Class != CLASS_ELF)

  00105	3c 02		 cmp	 al, 2
  00107	75 12		 jne	 SHORT $LN69@CGChangeCl@2
  00109	66 83 be b8 00
	00 00 02	 cmp	 WORD PTR [esi+184], 2
  00111	0f 84 de 04 00
	00		 je	 $LN61@CGChangeCl@2

; 593  : 	{
; 594  : 		NewClass = 32;

  00117	b3 20		 mov	 bl, 32			; 00000020H
  00119	eb 59		 jmp	 SHORT $LN60@CGChangeCl@2
$LN69@CGChangeCl@2:

; 595  : 	}
; 596  : 	else if(NewClass == CLASS_MAGUMSA && lpUser->Class != CLASS_MAGUMSA)

  0011b	3c 03		 cmp	 al, 3
  0011d	75 11		 jne	 SHORT $LN67@CGChangeCl@2
  0011f	66 39 96 b8 00
	00 00		 cmp	 WORD PTR [esi+184], dx
  00126	0f 84 c9 04 00
	00		 je	 $LN61@CGChangeCl@2

; 597  : 	{
; 598  : 		NewClass = 48;

  0012c	b3 30		 mov	 bl, 48			; 00000030H
  0012e	eb 44		 jmp	 SHORT $LN60@CGChangeCl@2
$LN67@CGChangeCl@2:

; 599  : 	}
; 600  : 	else if(NewClass == CLASS_DARKLORD && lpUser->Class != CLASS_DARKLORD)

  00130	3c 04		 cmp	 al, 4
  00132	75 12		 jne	 SHORT $LN65@CGChangeCl@2
  00134	66 83 be b8 00
	00 00 04	 cmp	 WORD PTR [esi+184], 4
  0013c	0f 84 b3 04 00
	00		 je	 $LN61@CGChangeCl@2

; 601  : 	{
; 602  : 		NewClass = 64;

  00142	b3 40		 mov	 bl, 64			; 00000040H
  00144	eb 2e		 jmp	 SHORT $LN60@CGChangeCl@2
$LN65@CGChangeCl@2:

; 603  : 	}		
; 604  : 	else if(NewClass == CLASS_SUMMONER && lpUser->Class != CLASS_SUMMONER)

  00146	3c 05		 cmp	 al, 5
  00148	75 12		 jne	 SHORT $LN63@CGChangeCl@2
  0014a	66 83 be b8 00
	00 00 05	 cmp	 WORD PTR [esi+184], 5
  00152	0f 84 9d 04 00
	00		 je	 $LN61@CGChangeCl@2

; 605  : 	{
; 606  : 		NewClass = 80;

  00158	b3 50		 mov	 bl, 80			; 00000050H
  0015a	eb 18		 jmp	 SHORT $LN60@CGChangeCl@2
$LN63@CGChangeCl@2:

; 607  : 	}
; 608  : 	else if(NewClass == CLASS_MONK && lpUser->Class != CLASS_MONK)

  0015c	3c 06		 cmp	 al, 6
  0015e	0f 85 91 04 00
	00		 jne	 $LN61@CGChangeCl@2
  00164	66 83 be b8 00
	00 00 06	 cmp	 WORD PTR [esi+184], 6
  0016c	0f 84 83 04 00
	00		 je	 $LN61@CGChangeCl@2

; 609  : 	{
; 610  : 		NewClass = 96;

  00172	b3 60		 mov	 bl, 96			; 00000060H
$LN60@CGChangeCl@2:

; 615  : 		return;
; 616  : 	}
; 617  : 
; 618  : 	for ( int i=0;i<INVETORY_WEAR_SIZE;i++)

  00174	33 ff		 xor	 edi, edi
  00176	eb 08 8d a4 24
	00 00 00 00 90	 npad	 10
$LL59@CGChangeCl@2:

; 619  : 	{
; 620  : 		if ( lpUser->pInventory[i].IsItem() )

  00180	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00186	03 cf		 add	 ecx, edi
  00188	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0018d	85 c0		 test	 eax, eax
  0018f	75 53		 jne	 SHORT $LN83@CGChangeCl@2

; 615  : 		return;
; 616  : 	}
; 617  : 
; 618  : 	for ( int i=0;i<INVETORY_WEAR_SIZE;i++)

  00191	81 c7 d4 00 00
	00		 add	 edi, 212		; 000000d4H
  00197	81 ff f0 09 00
	00		 cmp	 edi, 2544		; 000009f0H
  0019d	7c e1		 jl	 SHORT $LL59@CGChangeCl@2

; 623  : 			return;
; 624  : 		}
; 625  : 	}
; 626  : 
; 627  : 	if(btPriceType == 0)

  0019f	8a 45 ff	 mov	 al, BYTE PTR _btPriceType$[ebp]
  001a2	84 c0		 test	 al, al
  001a4	75 66		 jne	 SHORT $LN55@CGChangeCl@2

; 628  : 	{
; 629  : 		if(this->ChangeCredit > lpUser->ZtCred)

  001a6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001a9	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  001ac	89 4d f4	 mov	 DWORD PTR tv660[ebp], ecx
  001af	db 45 f4	 fild	 DWORD PTR tv660[ebp]
  001b2	d9 5d f4	 fstp	 DWORD PTR tv661[ebp]
  001b5	d9 45 f4	 fld	 DWORD PTR tv661[ebp]
  001b8	d9 86 a8 22 00
	00		 fld	 DWORD PTR [esi+8872]
  001be	d8 d9		 fcomp	 ST(1)
  001c0	df e0		 fnstsw	 ax
  001c2	f6 c4 05	 test	 ah, 5
  001c5	7a 37		 jp	 SHORT $LN54@CGChangeCl@2

; 630  : 		{
; 631  : 			MsgOutput(aIndex,"[Change Class]: Need %d Credit",this->ChangeCredit);

  001c7	51		 push	 ecx
  001c8	dd d8		 fstp	 ST(0)
  001ca	8b 4d 0c	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  001cd	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@LBHMNDCK@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5Credit?$AA@
  001d2	51		 push	 ecx
  001d3	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  001d8	83 c4 0c	 add	 esp, 12			; 0000000cH
  001db	5b		 pop	 ebx
  001dc	5e		 pop	 esi
  001dd	5f		 pop	 edi

; 778  : }

  001de	8b e5		 mov	 esp, ebp
  001e0	5d		 pop	 ebp
  001e1	c2 08 00	 ret	 8
$LN83@CGChangeCl@2:

; 621  : 		{
; 622  : 			MsgOutput(aIndex,"[Change Class]: You need Empty Inventory");

  001e4	8b 55 0c	 mov	 edx, DWORD PTR _aIndex$[ebp]
  001e7	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@LADKEPDC@?$FLChange?5Class?$FN?3?5You?5need?5Empty?5I@
  001ec	52		 push	 edx
  001ed	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  001f2	83 c4 08	 add	 esp, 8
  001f5	5b		 pop	 ebx
  001f6	5e		 pop	 esi
  001f7	5f		 pop	 edi

; 778  : }

  001f8	8b e5		 mov	 esp, ebp
  001fa	5d		 pop	 ebp
  001fb	c2 08 00	 ret	 8
$LN54@CGChangeCl@2:

; 632  : 			return;
; 633  : 		}
; 634  : 		lpUser->ZtCred -= this->ChangeCredit;

  001fe	d8 ae a8 22 00
	00		 fsubr	 DWORD PTR [esi+8872]
  00204	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  0020a	eb 46		 jmp	 SHORT $LN52@CGChangeCl@2
$LN55@CGChangeCl@2:

; 635  : 	}
; 636  : 	else if(btPriceType == 1)

  0020c	3c 01		 cmp	 al, 1
  0020e	75 42		 jne	 SHORT $LN52@CGChangeCl@2

; 637  : 	{
; 638  : 		if(this->ChangeWCoin > lpUser->GameShop.WCoinC)

  00210	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00213	8b 4a 14	 mov	 ecx, DWORD PTR [edx+20]
  00216	89 4d f4	 mov	 DWORD PTR tv673[ebp], ecx
  00219	db 45 f4	 fild	 DWORD PTR tv673[ebp]
  0021c	dc 96 00 23 00
	00		 fcom	 QWORD PTR [esi+8960]
  00222	df e0		 fnstsw	 ax
  00224	f6 c4 41	 test	 ah, 65			; 00000041H
  00227	75 1d		 jne	 SHORT $LN51@CGChangeCl@2

; 639  : 		{
; 640  : 			MsgOutput(aIndex,"[Change Class]: Need %d WCoin",this->ChangeWCoin);

  00229	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0022c	dd d8		 fstp	 ST(0)
  0022e	51		 push	 ecx
  0022f	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@MHAIPFF@?$FLChange?5Class?$FN?3?5Need?5?$CFd?5WCoin?$AA@
  00234	50		 push	 eax
  00235	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0023a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0023d	5b		 pop	 ebx
  0023e	5e		 pop	 esi
  0023f	5f		 pop	 edi

; 778  : }

  00240	8b e5		 mov	 esp, ebp
  00242	5d		 pop	 ebp
  00243	c2 08 00	 ret	 8
$LN51@CGChangeCl@2:

; 641  : 			return;
; 642  : 		}
; 643  : 		lpUser->GameShop.WCoinC -= this->ChangeWCoin;

  00246	dc ae 00 23 00
	00		 fsubr	 QWORD PTR [esi+8960]
  0024c	dd 9e 00 23 00
	00		 fstp	 QWORD PTR [esi+8960]
$LN52@CGChangeCl@2:

; 644  : 	}
; 645  : 
; 646  : 	if(g_ZtLicense.CheckUser(eZtUB::Gredy) || g_ZtLicense.CheckUser(eZtUB::Gredy2) || g_ZtLicense.CheckUser(eZtUB::GredyLocal))	

  00252	6a 20		 push	 32			; 00000020H
  00254	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00259	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  0025e	84 c0		 test	 al, al
  00260	75 20		 jne	 SHORT $LN49@CGChangeCl@2
  00262	6a 22		 push	 34			; 00000022H
  00264	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00269	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  0026e	84 c0		 test	 al, al
  00270	75 10		 jne	 SHORT $LN49@CGChangeCl@2
  00272	6a 21		 push	 33			; 00000021H
  00274	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  00279	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  0027e	84 c0		 test	 al, al
  00280	74 38		 je	 SHORT $LN47@CGChangeCl@2
$LN49@CGChangeCl@2:

; 647  : 	{
; 648  : 		if(this->m_ActiveDivResetChange)

  00282	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00285	83 b9 b0 af 02
	00 00		 cmp	 DWORD PTR [ecx+176048], 0
  0028c	74 13		 je	 SHORT $LN48@CGChangeCl@2

; 649  : 		{
; 650  : 			lpUser->Reset = lpUser->Reset / this->m_MinusDivResetChange;

  0028e	8b 86 90 22 00
	00		 mov	 eax, DWORD PTR [esi+8848]
  00294	99		 cdq
  00295	f7 b9 b4 af 02
	00		 idiv	 DWORD PTR [ecx+176052]
  0029b	89 86 90 22 00
	00		 mov	 DWORD PTR [esi+8848], eax
$LN48@CGChangeCl@2:

; 651  : 		}
; 652  : 
; 653  : 		if(this->m_MinusDivGrandChange)

  002a1	8b 89 bc af 02
	00		 mov	 ecx, DWORD PTR [ecx+176060]
  002a7	85 c9		 test	 ecx, ecx
  002a9	74 0f		 je	 SHORT $LN47@CGChangeCl@2

; 654  : 		{
; 655  : 			lpUser->GReset = lpUser->GReset / this->m_MinusDivGrandChange;

  002ab	8b 86 94 22 00
	00		 mov	 eax, DWORD PTR [esi+8852]
  002b1	99		 cdq
  002b2	f7 f9		 idiv	 ecx
  002b4	89 86 94 22 00
	00		 mov	 DWORD PTR [esi+8852], eax
$LN47@CGChangeCl@2:

; 656  : 		}
; 657  : 	}
; 658  : 
; 659  : 	lpUser->DbClass = NewClass;

  002ba	88 9e ba 00 00
	00		 mov	 BYTE PTR [esi+186], bl
  002c0	33 ff		 xor	 edi, edi
$LL46@CGChangeCl@2:

; 660  : 
; 661  : 	for (int i=0;i<MAX_MAGIC ; i++)
; 662  : 	{
; 663  : 		lpUser->Magic[i].Clear();

  002c2	8b 8e c8 04 00
	00		 mov	 ecx, DWORD PTR [esi+1224]
  002c8	03 cf		 add	 ecx, edi
  002ca	e8 00 00 00 00	 call	 ?Clear@CMagicInf@@QAEXXZ ; CMagicInf::Clear
  002cf	83 c7 18	 add	 edi, 24			; 00000018H
  002d2	81 ff 10 0e 00
	00		 cmp	 edi, 3600		; 00000e10H
  002d8	7c e8		 jl	 SHORT $LL46@CGChangeCl@2

; 664  : 	}
; 665  : 
; 666  : 	g_MasterSkillSystem.ClearPassiveSkill(lpUser);

  002da	56		 push	 esi
  002db	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  002e0	e8 00 00 00 00	 call	 ?ClearPassiveSkill@CMasterLevelSkillTreeSystem@@QAEXPAUOBJECTSTRUCT@@@Z ; CMasterLevelSkillTreeSystem::ClearPassiveSkill

; 667  : 
; 668  : 	if(g_ZtLicense.CheckUser(eZtUB::Local) ||	
; 669  : 	   g_ZtLicense.CheckUser(eZtUB::Gredy) ||
; 670  : 	   g_ZtLicense.CheckUser(eZtUB::Gredy2) || 
; 671  : 	   g_ZtLicense.CheckUser(eZtUB::GredyLocal))

  002e5	6a 00		 push	 0
  002e7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  002ec	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  002f1	84 c0		 test	 al, al
  002f3	75 5d		 jne	 SHORT $LN42@CGChangeCl@2
  002f5	6a 20		 push	 32			; 00000020H
  002f7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  002fc	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00301	84 c0		 test	 al, al
  00303	75 4d		 jne	 SHORT $LN42@CGChangeCl@2
  00305	6a 22		 push	 34			; 00000022H
  00307	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0030c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00311	84 c0		 test	 al, al
  00313	75 3d		 jne	 SHORT $LN42@CGChangeCl@2
  00315	6a 21		 push	 33			; 00000021H
  00317	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0031c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00321	84 c0		 test	 al, al
  00323	75 2d		 jne	 SHORT $LN42@CGChangeCl@2

; 758  : 					}
; 759  : 				}
; 760  : 			}
; 761  : 		}
; 762  : 
; 763  : 		lpUser->LevelUpPoint += lpUser->ZtFreePoints;
; 764  : 
; 765  : 
; 766  : 
; 767  : #endif
; 768  : 
; 769  : 	}
; 770  : 	else
; 771  : 	{
; 772  : 		memset(lpUser->m_Quest, 0xFF, sizeof(lpUser->m_Quest));

  00325	6a 32		 push	 50			; 00000032H
  00327	68 ff 00 00 00	 push	 255			; 000000ffH
  0032c	81 c6 8c 10 00
	00		 add	 esi, 4236		; 0000108cH
  00332	56		 push	 esi
  00333	e8 00 00 00 00	 call	 _memset

; 773  : 	}
; 774  : 
; 775  : 	// ---------------
; 776  : 	
; 777  : 	gObjCloseSet(aIndex, 2);

  00338	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0033b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0033e	6a 02		 push	 2
  00340	50		 push	 eax
  00341	e8 00 00 00 00	 call	 ?gObjCloseSet@@YAXHH@Z	; gObjCloseSet
  00346	83 c4 08	 add	 esp, 8
  00349	5b		 pop	 ebx
  0034a	5e		 pop	 esi
  0034b	5f		 pop	 edi

; 778  : }

  0034c	8b e5		 mov	 esp, ebp
  0034e	5d		 pop	 ebp
  0034f	c2 08 00	 ret	 8
$LN42@CGChangeCl@2:

; 672  : 	{
; 673  : 
; 674  : #if(EVO_CREDITDONATE)
; 675  : 
; 676  : 		if(aRecv->iNewClass == CLASS_WIZARD ||
; 677  : 			aRecv->iNewClass == CLASS_KNIGHT || 
; 678  : 			aRecv->iNewClass == CLASS_ELF ||
; 679  : 			aRecv->iNewClass == CLASS_SUMMONER )

  00352	8b 55 08	 mov	 edx, DWORD PTR _aRecv$[ebp]
  00355	8a 42 04	 mov	 al, BYTE PTR [edx+4]
  00358	84 c0		 test	 al, al
  0035a	74 0c		 je	 SHORT $LN40@CGChangeCl@2
  0035c	3c 01		 cmp	 al, 1
  0035e	74 08		 je	 SHORT $LN40@CGChangeCl@2
  00360	3c 02		 cmp	 al, 2
  00362	74 04		 je	 SHORT $LN40@CGChangeCl@2
  00364	3c 05		 cmp	 al, 5
  00366	75 0f		 jne	 SHORT $LN39@CGChangeCl@2
$LN40@CGChangeCl@2:

; 680  : 		{
; 681  : 			if(lpUser->ChangeUP)

  00368	80 be bb 00 00
	00 00		 cmp	 BYTE PTR [esi+187], 0
  0036f	74 06		 je	 SHORT $LN39@CGChangeCl@2

; 682  : 			{
; 683  : 				lpUser->DbClass += 1;

  00371	fe 86 ba 00 00
	00		 inc	 BYTE PTR [esi+186]
$LN39@CGChangeCl@2:

; 684  : 			}
; 685  : 		}
; 686  : 
; 687  : 		if(lpUser->ChangeUP3rd)

  00377	80 be bc 00 00
	00 00		 cmp	 BYTE PTR [esi+188], 0
  0037e	74 07		 je	 SHORT $LN38@CGChangeCl@2

; 688  : 		{
; 689  : 			lpUser->DbClass += 2;

  00380	80 86 ba 00 00
	00 02		 add	 BYTE PTR [esi+186], 2
$LN38@CGChangeCl@2:

; 690  : 		}
; 691  : 
; 692  : 		/*
; 693  : 		if(aRecv->iNewClass == CLASS_KNIGHT)
; 694  : 		{
; 695  : 			g_QuestInfo.SetQuestState(lpUser, 2, 1);
; 696  : 			g_QuestInfo.SetQuestState(lpUser, 3, 1);
; 697  : 		}
; 698  : 		*/
; 699  : 
; 700  : 		lpUser->Strength = 25;
; 701  : 		lpUser->Dexterity = 25;
; 702  : 		lpUser->Vitality = 25;
; 703  : 		lpUser->Energy = 25;
; 704  : 
; 705  : 		if(lpUser->Class == 4)

  00387	66 83 be b8 00
	00 00 04	 cmp	 WORD PTR [esi+184], 4
  0038f	c7 86 f4 00 00
	00 19 00 19 00	 mov	 DWORD PTR [esi+244], 1638425 ; 00190019H
  00399	c7 86 f8 00 00
	00 19 00 19 00	 mov	 DWORD PTR [esi+248], 1638425 ; 00190019H
  003a3	75 0c		 jne	 SHORT $LN37@CGChangeCl@2

; 706  : 		{
; 707  : 			lpUser->Leadership = 25;

  003a5	b9 19 00 00 00	 mov	 ecx, 25			; 00000019H
  003aa	66 89 8e 18 01
	00 00		 mov	 WORD PTR [esi+280], cx
$LN37@CGChangeCl@2:

; 708  : 		}
; 709  : 
; 710  : 		lpUser->ChangeUP = 0;

  003b1	66 c7 86 bb 00
	00 00 00 00	 mov	 WORD PTR [esi+187], 0

; 711  : 		lpUser->ChangeUP3rd = 0;
; 712  : 		lpUser->LevelUpPoint = 0;

  003ba	c7 86 c0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+192], 0

; 713  : 
; 714  : 		//  ?
; 715  : 		if(gResetSystem.AddForm == 1 || gResetSystem.AddForm == 2)

  003c4	a1 14 00 00 00	 mov	 eax, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+20
  003c9	83 f8 01	 cmp	 eax, 1
  003cc	74 09		 je	 SHORT $LN86@CGChangeCl@2
  003ce	83 f8 02	 cmp	 eax, 2
  003d1	0f 85 9a 00 00
	00		 jne	 $LN87@CGChangeCl@2
$LN86@CGChangeCl@2:

; 716  : 		{
; 717  : 			switch (aRecv->iNewClass)

  003d7	0f b6 42 04	 movzx	 eax, BYTE PTR [edx+4]
  003db	83 f8 06	 cmp	 eax, 6
  003de	0f 87 8d 00 00
	00		 ja	 $LN87@CGChangeCl@2
  003e4	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN102@CGChangeCl@2[eax*4]
$LN32@CGChangeCl@2:

; 718  : 			{
; 719  : 				case 0: lpUser->LevelUpPoint += ( lpUser->Reset + 1 ) * gResetSystem.AddPointsDW ;  break;

  003eb	8b 86 90 22 00
	00		 mov	 eax, DWORD PTR [esi+8848]
  003f1	40		 inc	 eax
  003f2	0f af 05 18 00
	00 00		 imul	 eax, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+24
  003f9	eb 70		 jmp	 SHORT $LN99@CGChangeCl@2
$LN31@CGChangeCl@2:

; 720  : 				case 1: lpUser->LevelUpPoint += ( lpUser->Reset + 1 ) * gResetSystem.AddPointsDK ;  break;

  003fb	8b 8e 90 22 00
	00		 mov	 ecx, DWORD PTR [esi+8848]
  00401	41		 inc	 ecx
  00402	0f af 0d 1c 00
	00 00		 imul	 ecx, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+28
  00409	89 8e c0 00 00
	00		 mov	 DWORD PTR [esi+192], ecx
  0040f	eb 60		 jmp	 SHORT $LN87@CGChangeCl@2
$LN30@CGChangeCl@2:

; 721  : 				case 2: lpUser->LevelUpPoint += ( lpUser->Reset + 1 ) * gResetSystem.AddPointsELF ; break;

  00411	8b 86 90 22 00
	00		 mov	 eax, DWORD PTR [esi+8848]
  00417	40		 inc	 eax
  00418	0f af 05 20 00
	00 00		 imul	 eax, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+32
  0041f	eb 4a		 jmp	 SHORT $LN99@CGChangeCl@2
$LN29@CGChangeCl@2:

; 722  : 				case 3: lpUser->LevelUpPoint += ( lpUser->Reset + 1 ) * gResetSystem.AddPointsMG ;  break;

  00421	8b 8e 90 22 00
	00		 mov	 ecx, DWORD PTR [esi+8848]
  00427	41		 inc	 ecx
  00428	0f af 0d 28 00
	00 00		 imul	 ecx, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+40
  0042f	89 8e c0 00 00
	00		 mov	 DWORD PTR [esi+192], ecx
  00435	eb 3a		 jmp	 SHORT $LN87@CGChangeCl@2
$LN28@CGChangeCl@2:

; 723  : 				case 4: lpUser->LevelUpPoint += ( lpUser->Reset + 1 ) * gResetSystem.AddPointsDL ;  break;

  00437	8b 86 90 22 00
	00		 mov	 eax, DWORD PTR [esi+8848]
  0043d	40		 inc	 eax
  0043e	0f af 05 2c 00
	00 00		 imul	 eax, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+44
  00445	eb 24		 jmp	 SHORT $LN99@CGChangeCl@2
$LN27@CGChangeCl@2:

; 724  : 				case 5: lpUser->LevelUpPoint += ( lpUser->Reset + 1 ) * gResetSystem.AddPointsSUM ; break;

  00447	8b 8e 90 22 00
	00		 mov	 ecx, DWORD PTR [esi+8848]
  0044d	41		 inc	 ecx
  0044e	0f af 0d 24 00
	00 00		 imul	 ecx, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+36
  00455	89 8e c0 00 00
	00		 mov	 DWORD PTR [esi+192], ecx
  0045b	eb 14		 jmp	 SHORT $LN87@CGChangeCl@2
$LN26@CGChangeCl@2:

; 725  : 				case 6: lpUser->LevelUpPoint += ( lpUser->Reset + 1 ) * gResetSystem.AddPointsRF ; break;

  0045d	8b 86 90 22 00
	00		 mov	 eax, DWORD PTR [esi+8848]
  00463	40		 inc	 eax
  00464	0f af 05 30 00
	00 00		 imul	 eax, DWORD PTR ?gResetSystem@@3VcResetSystem@@A+48
$LN99@CGChangeCl@2:
  0046b	89 86 c0 00 00
	00		 mov	 DWORD PTR [esi+192], eax
$LN87@CGChangeCl@2:

; 726  : 			}
; 727  : 		}
; 728  : 
; 729  : 		//  ?
; 730  : 		if(gGrandReset.EnableGrandResetSystem)

  00471	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGrandReset@@3VcGrandReset@@A, 0
  00478	0f 84 54 01 00
	00		 je	 $LN20@CGChangeCl@2

; 731  : 		{
; 732  : 			if(lpUser->GReset > 0)

  0047e	8b 86 94 22 00
	00		 mov	 eax, DWORD PTR [esi+8852]
  00484	85 c0		 test	 eax, eax
  00486	0f 8e 46 01 00
	00		 jle	 $LN20@CGChangeCl@2

; 733  : 			{
; 734  : 				if(gGrandReset.AddForm == 1 || gGrandReset.AddForm == 2)

  0048c	8b 0d 18 00 00
	00		 mov	 ecx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+24
  00492	83 f9 01	 cmp	 ecx, 1
  00495	0f 84 e4 00 00
	00		 je	 $LN22@CGChangeCl@2
  0049b	83 f9 02	 cmp	 ecx, 2
  0049e	0f 84 db 00 00
	00		 je	 $LN22@CGChangeCl@2

; 745  : 					}
; 746  : 				}
; 747  : 				else if(gGrandReset.AddForm == 3)

  004a4	83 f9 03	 cmp	 ecx, 3
  004a7	0f 85 25 01 00
	00		 jne	 $LN20@CGChangeCl@2

; 748  : 				{
; 749  : 					switch (aRecv->iNewClass)

  004ad	0f b6 4a 04	 movzx	 ecx, BYTE PTR [edx+4]
  004b1	83 f9 06	 cmp	 ecx, 6
  004b4	0f 87 18 01 00
	00		 ja	 $LN20@CGChangeCl@2
  004ba	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN103@CGChangeCl@2[ecx*4]
$LN8@CGChangeCl@2:

; 750  : 					{
; 751  : 						case 0: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsDW  * ( lpUser->Reset+1 ); break;

  004c1	8b 8e 90 22 00
	00		 mov	 ecx, DWORD PTR [esi+8848]
  004c7	41		 inc	 ecx
  004c8	0f af c8	 imul	 ecx, eax
  004cb	0f af 0d 1c 00
	00 00		 imul	 ecx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+28
  004d2	01 8e c0 00 00
	00		 add	 DWORD PTR [esi+192], ecx
  004d8	e9 f5 00 00 00	 jmp	 $LN20@CGChangeCl@2
$LN7@CGChangeCl@2:

; 752  : 						case 1: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsDK  * ( lpUser->Reset+1 ); break;

  004dd	8b 96 90 22 00
	00		 mov	 edx, DWORD PTR [esi+8848]
  004e3	42		 inc	 edx
  004e4	0f af d0	 imul	 edx, eax
  004e7	0f af 15 20 00
	00 00		 imul	 edx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+32
  004ee	01 96 c0 00 00
	00		 add	 DWORD PTR [esi+192], edx
  004f4	e9 d9 00 00 00	 jmp	 $LN20@CGChangeCl@2
$LN6@CGChangeCl@2:

; 753  : 						case 2: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsELF * ( lpUser->Reset+1 ); break;

  004f9	8b 8e 90 22 00
	00		 mov	 ecx, DWORD PTR [esi+8848]
  004ff	41		 inc	 ecx
  00500	0f af c8	 imul	 ecx, eax
  00503	0f af 0d 24 00
	00 00		 imul	 ecx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+36
  0050a	01 8e c0 00 00
	00		 add	 DWORD PTR [esi+192], ecx
  00510	e9 bd 00 00 00	 jmp	 $LN20@CGChangeCl@2
$LN5@CGChangeCl@2:

; 754  : 						case 3: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsMG  * ( lpUser->Reset+1 ); break;

  00515	8b 96 90 22 00
	00		 mov	 edx, DWORD PTR [esi+8848]
  0051b	42		 inc	 edx
  0051c	0f af d0	 imul	 edx, eax
  0051f	0f af 15 2c 00
	00 00		 imul	 edx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+44
  00526	01 96 c0 00 00
	00		 add	 DWORD PTR [esi+192], edx
  0052c	e9 a1 00 00 00	 jmp	 $LN20@CGChangeCl@2
$LN4@CGChangeCl@2:

; 755  : 						case 4: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsDL  * ( lpUser->Reset+1 ); break;

  00531	8b 8e 90 22 00
	00		 mov	 ecx, DWORD PTR [esi+8848]
  00537	41		 inc	 ecx
  00538	0f af c8	 imul	 ecx, eax
  0053b	0f af 0d 30 00
	00 00		 imul	 ecx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+48
  00542	01 8e c0 00 00
	00		 add	 DWORD PTR [esi+192], ecx
  00548	e9 85 00 00 00	 jmp	 $LN20@CGChangeCl@2
$LN3@CGChangeCl@2:

; 756  : 						case 5: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsSUM * ( lpUser->Reset+1 ); break;

  0054d	8b 96 90 22 00
	00		 mov	 edx, DWORD PTR [esi+8848]
  00553	42		 inc	 edx
  00554	0f af d0	 imul	 edx, eax
  00557	0f af 15 28 00
	00 00		 imul	 edx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+40
  0055e	01 96 c0 00 00
	00		 add	 DWORD PTR [esi+192], edx
  00564	eb 6c		 jmp	 SHORT $LN20@CGChangeCl@2
$LN2@CGChangeCl@2:

; 757  : 						case 6: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsRF * ( lpUser->Reset+1 ); break;

  00566	8b 8e 90 22 00
	00		 mov	 ecx, DWORD PTR [esi+8848]
  0056c	41		 inc	 ecx
  0056d	0f af c8	 imul	 ecx, eax
  00570	0f af 0d 34 00
	00 00		 imul	 ecx, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+52
  00577	01 8e c0 00 00
	00		 add	 DWORD PTR [esi+192], ecx
  0057d	eb 53		 jmp	 SHORT $LN20@CGChangeCl@2
$LN22@CGChangeCl@2:

; 735  : 				{
; 736  : 					switch (aRecv->iNewClass)

  0057f	0f b6 4a 04	 movzx	 ecx, BYTE PTR [edx+4]
  00583	83 f9 06	 cmp	 ecx, 6
  00586	77 4a		 ja	 SHORT $LN20@CGChangeCl@2
  00588	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN104@CGChangeCl@2[ecx*4]
$LN19@CGChangeCl@2:

; 737  : 					{
; 738  : 						case 0: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsDW ;  break;

  0058f	0f af 05 1c 00
	00 00		 imul	 eax, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+28
  00596	eb 34		 jmp	 SHORT $LN100@CGChangeCl@2
$LN18@CGChangeCl@2:

; 739  : 						case 1: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsDK ;  break;

  00598	0f af 05 20 00
	00 00		 imul	 eax, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+32
  0059f	eb 2b		 jmp	 SHORT $LN100@CGChangeCl@2
$LN17@CGChangeCl@2:

; 740  : 						case 2: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsELF ; break;

  005a1	0f af 05 24 00
	00 00		 imul	 eax, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+36
  005a8	eb 22		 jmp	 SHORT $LN100@CGChangeCl@2
$LN16@CGChangeCl@2:

; 741  : 						case 3: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsMG ;  break;

  005aa	0f af 05 2c 00
	00 00		 imul	 eax, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+44
  005b1	eb 19		 jmp	 SHORT $LN100@CGChangeCl@2
$LN15@CGChangeCl@2:

; 742  : 						case 4: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsDL ;  break;

  005b3	0f af 05 30 00
	00 00		 imul	 eax, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+48
  005ba	eb 10		 jmp	 SHORT $LN100@CGChangeCl@2
$LN14@CGChangeCl@2:

; 743  : 						case 5: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsSUM ; break;

  005bc	0f af 05 28 00
	00 00		 imul	 eax, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+40
  005c3	eb 07		 jmp	 SHORT $LN100@CGChangeCl@2
$LN13@CGChangeCl@2:

; 744  : 						case 6: lpUser->LevelUpPoint += lpUser->GReset * gGrandReset.AddPointsRF ; break;

  005c5	0f af 05 34 00
	00 00		 imul	 eax, DWORD PTR ?gGrandReset@@3VcGrandReset@@A+52
$LN100@CGChangeCl@2:
  005cc	01 86 c0 00 00
	00		 add	 DWORD PTR [esi+192], eax
$LN20@CGChangeCl@2:

; 773  : 	}
; 774  : 
; 775  : 	// ---------------
; 776  : 	
; 777  : 	gObjCloseSet(aIndex, 2);

  005d2	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  005d5	8b 96 8c 22 00
	00		 mov	 edx, DWORD PTR [esi+8844]
  005db	01 96 c0 00 00
	00		 add	 DWORD PTR [esi+192], edx
  005e1	6a 02		 push	 2
  005e3	50		 push	 eax
  005e4	e8 00 00 00 00	 call	 ?gObjCloseSet@@YAXHH@Z	; gObjCloseSet
  005e9	83 c4 08	 add	 esp, 8
  005ec	5b		 pop	 ebx
  005ed	5e		 pop	 esi
  005ee	5f		 pop	 edi

; 778  : }

  005ef	8b e5		 mov	 esp, ebp
  005f1	5d		 pop	 ebp
  005f2	c2 08 00	 ret	 8
$LN61@CGChangeCl@2:

; 611  : 	}
; 612  : 	else
; 613  : 	{
; 614  : 		MsgOutput(aIndex,"[Change Class]: class busy");

  005f5	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@KFFEMCK@?$FLChange?5Class?$FN?3?5class?5busy?$AA@
  005fa	57		 push	 edi
  005fb	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  00600	83 c4 08	 add	 esp, 8
  00603	5b		 pop	 ebx
$LN90@CGChangeCl@2:
  00604	5e		 pop	 esi
$LN89@CGChangeCl@2:
  00605	5f		 pop	 edi
$LN77@CGChangeCl@2:

; 778  : }

  00606	8b e5		 mov	 esp, ebp
  00608	5d		 pop	 ebp
  00609	c2 08 00	 ret	 8
$LN102@CGChangeCl@2:
  0060c	00 00 00 00	 DD	 $LN32@CGChangeCl@2
  00610	00 00 00 00	 DD	 $LN31@CGChangeCl@2
  00614	00 00 00 00	 DD	 $LN30@CGChangeCl@2
  00618	00 00 00 00	 DD	 $LN29@CGChangeCl@2
  0061c	00 00 00 00	 DD	 $LN28@CGChangeCl@2
  00620	00 00 00 00	 DD	 $LN27@CGChangeCl@2
  00624	00 00 00 00	 DD	 $LN26@CGChangeCl@2
$LN103@CGChangeCl@2:
  00628	00 00 00 00	 DD	 $LN8@CGChangeCl@2
  0062c	00 00 00 00	 DD	 $LN7@CGChangeCl@2
  00630	00 00 00 00	 DD	 $LN6@CGChangeCl@2
  00634	00 00 00 00	 DD	 $LN5@CGChangeCl@2
  00638	00 00 00 00	 DD	 $LN4@CGChangeCl@2
  0063c	00 00 00 00	 DD	 $LN3@CGChangeCl@2
  00640	00 00 00 00	 DD	 $LN2@CGChangeCl@2
$LN104@CGChangeCl@2:
  00644	00 00 00 00	 DD	 $LN19@CGChangeCl@2
  00648	00 00 00 00	 DD	 $LN18@CGChangeCl@2
  0064c	00 00 00 00	 DD	 $LN17@CGChangeCl@2
  00650	00 00 00 00	 DD	 $LN16@CGChangeCl@2
  00654	00 00 00 00	 DD	 $LN15@CGChangeCl@2
  00658	00 00 00 00	 DD	 $LN14@CGChangeCl@2
  0065c	00 00 00 00	 DD	 $LN13@CGChangeCl@2
?CGChangeClass@cCreditDonate@@QAEXPAUPMSG_CG_CHANGECLASS@@H@Z ENDP ; cCreditDonate::CGChangeClass
_TEXT	ENDS
PUBLIC	?GetClassID@cCreditDonate@@QAEHHH@Z		; cCreditDonate::GetClassID
; Function compile flags: /Ogtp
;	COMDAT ?GetClassID@cCreditDonate@@QAEHHH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_NewClass$ = 12						; size = 4
?GetClassID@cCreditDonate@@QAEHHH@Z PROC		; cCreditDonate::GetClassID, COMDAT
; _this$ = ecx

; 781  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 782  : 	LPOBJ lpUser = &gObj[aIndex];

  00003	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]

; 783  : 
; 784  : 	if(NewClass == CLASS_WIZARD && lpUser->Class != CLASS_WIZARD)

  00006	8b 4d 0c	 mov	 ecx, DWORD PTR _NewClass$[ebp]
  00009	8b c2		 mov	 eax, edx
  0000b	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00011	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00017	85 c9		 test	 ecx, ecx
  00019	75 0d		 jne	 SHORT $LN14@GetClassID
  0001b	66 39 88 b8 00
	00 00		 cmp	 WORD PTR [eax+184], cx
  00022	74 6c		 je	 SHORT $LN2@GetClassID

; 816  : 	}
; 817  : }

  00024	5d		 pop	 ebp
  00025	c2 08 00	 ret	 8
$LN14@GetClassID:

; 785  : 	{
; 786  : 		NewClass = 16;
; 787  : 	}
; 788  : 	else if(NewClass == CLASS_KNIGHT && lpUser->Class != CLASS_KNIGHT)

  00028	83 f9 01	 cmp	 ecx, 1
  0002b	75 0d		 jne	 SHORT $LN12@GetClassID
  0002d	66 39 88 b8 00
	00 00		 cmp	 WORD PTR [eax+184], cx
  00034	74 5a		 je	 SHORT $LN2@GetClassID

; 816  : 	}
; 817  : }

  00036	5d		 pop	 ebp
  00037	c2 08 00	 ret	 8
$LN12@GetClassID:

; 789  : 	{
; 790  : 		NewClass = 16;
; 791  : 	}
; 792  : 	else if(NewClass == CLASS_ELF && lpUser->Class != CLASS_ELF)

  0003a	83 f9 02	 cmp	 ecx, 2
  0003d	75 0d		 jne	 SHORT $LN10@GetClassID
  0003f	66 39 88 b8 00
	00 00		 cmp	 WORD PTR [eax+184], cx
  00046	74 48		 je	 SHORT $LN2@GetClassID

; 816  : 	}
; 817  : }

  00048	5d		 pop	 ebp
  00049	c2 08 00	 ret	 8
$LN10@GetClassID:

; 793  : 	{
; 794  : 		NewClass = 32;
; 795  : 	}
; 796  : 	else if(NewClass == CLASS_MAGUMSA && lpUser->Class != CLASS_MAGUMSA)

  0004c	83 f9 03	 cmp	 ecx, 3
  0004f	75 0d		 jne	 SHORT $LN8@GetClassID
  00051	66 39 88 b8 00
	00 00		 cmp	 WORD PTR [eax+184], cx
  00058	74 36		 je	 SHORT $LN2@GetClassID

; 816  : 	}
; 817  : }

  0005a	5d		 pop	 ebp
  0005b	c2 08 00	 ret	 8
$LN8@GetClassID:

; 797  : 	{
; 798  : 		NewClass = 48;
; 799  : 	}
; 800  : 	else if(NewClass == CLASS_DARKLORD && lpUser->Class != CLASS_DARKLORD)

  0005e	83 f9 04	 cmp	 ecx, 4
  00061	75 0d		 jne	 SHORT $LN6@GetClassID
  00063	66 39 88 b8 00
	00 00		 cmp	 WORD PTR [eax+184], cx
  0006a	74 24		 je	 SHORT $LN2@GetClassID

; 816  : 	}
; 817  : }

  0006c	5d		 pop	 ebp
  0006d	c2 08 00	 ret	 8
$LN6@GetClassID:

; 801  : 	{
; 802  : 		NewClass = 64;
; 803  : 	}		
; 804  : 	else if(NewClass == CLASS_SUMMONER && lpUser->Class != CLASS_SUMMONER)

  00070	83 f9 05	 cmp	 ecx, 5
  00073	75 0d		 jne	 SHORT $LN4@GetClassID
  00075	66 39 88 b8 00
	00 00		 cmp	 WORD PTR [eax+184], cx
  0007c	74 12		 je	 SHORT $LN2@GetClassID

; 816  : 	}
; 817  : }

  0007e	5d		 pop	 ebp
  0007f	c2 08 00	 ret	 8
$LN4@GetClassID:

; 805  : 	{
; 806  : 		NewClass = 80;
; 807  : 	}
; 808  : 	else if(NewClass == CLASS_MONK && lpUser->Class != CLASS_MONK)

  00082	83 f9 06	 cmp	 ecx, 6
  00085	75 09		 jne	 SHORT $LN2@GetClassID
  00087	66 39 88 b8 00
	00 00		 cmp	 WORD PTR [eax+184], cx
  0008e	75 11		 jne	 SHORT $LN1@GetClassID
$LN2@GetClassID:

; 809  : 	{
; 810  : 		NewClass = 96;
; 811  : 	}
; 812  : 	else
; 813  : 	{
; 814  : 		MsgOutput(aIndex,"[Change Class]: class busy");

  00090	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@KFFEMCK@?$FLChange?5Class?$FN?3?5class?5busy?$AA@
  00095	52		 push	 edx
  00096	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0009b	83 c4 08	 add	 esp, 8

; 815  : 		return -1;

  0009e	83 c8 ff	 or	 eax, -1
$LN1@GetClassID:

; 816  : 	}
; 817  : }

  000a1	5d		 pop	 ebp
  000a2	c2 08 00	 ret	 8
?GetClassID@cCreditDonate@@QAEHHH@Z ENDP		; cCreditDonate::GetClassID
_TEXT	ENDS
END
