; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	E:\work\tranet_version\GS\GameServer\DeviasBattle.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?g_DeviasBattle@@3VCDeviasBattle@@A		; g_DeviasBattle
_BSS	SEGMENT
?g_DeviasBattle@@3VCDeviasBattle@@A DB 021cc8H DUP (?)	; g_DeviasBattle
_BSS	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi
  00004	8b 7d 10	 mov	 edi, DWORD PTR ___n$[ebp]
  00007	4f		 dec	 edi
  00008	78 14		 js	 SHORT $LN1@vector
  0000a	53		 push	 ebx
  0000b	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00012	8b ce		 mov	 ecx, esi
  00014	ff d3		 call	 ebx
  00016	03 75 0c	 add	 esi, DWORD PTR ___s$[ebp]
  00019	4f		 dec	 edi
  0001a	79 f6		 jns	 SHORT $LL2@vector
  0001c	5e		 pop	 esi
  0001d	5b		 pop	 ebx
$LN1@vector:
  0001e	5f		 pop	 edi
  0001f	5d		 pop	 ebp
  00020	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??_C@_0BC@HDIJPDCG@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0CB@HDEBLLGM@DeviasBattleEvent?4ini?5Load?5Error@ ; `string'
PUBLIC	??_C@_0P@BPENEPNJ@CRITICAL?5ERROR?$AA@		; `string'
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_0BF@JLLCHHMO@FallenItemDropAncOpt?$AA@	; `string'
PUBLIC	??_C@_0BF@LKHCLCFL@FallenItemDropExcOpt?$AA@	; `string'
PUBLIC	??_C@_0BC@MOMDCMLD@FallenItemDropOpt?$AA@	; `string'
PUBLIC	??_C@_0BD@LNLIKMGB@FallenItemDropLuck?$AA@	; `string'
PUBLIC	??_C@_0BE@LEOCKCIF@FallenItemDropSkill?$AA@	; `string'
PUBLIC	??_C@_0BE@POPJNAOM@FallenItemDropLevel?$AA@	; `string'
PUBLIC	??_C@_0BB@EKAHBGBH@FallenItemDropID?$AA@	; `string'
PUBLIC	??_C@_0BD@CHBNPPDN@FallenItemDropType?$AA@	; `string'
PUBLIC	??_C@_06BOLACBCI@Fallen?$AA@			; `string'
PUBLIC	??_C@_0M@IPCHJHK@Fallen_DROP?$AA@		; `string'
PUBLIC	??_C@_0BF@FCMLKBH@RewardItemDropAncOpt?$AA@	; `string'
PUBLIC	??_C@_0BF@CEOMHPIC@RewardItemDropExcOpt?$AA@	; `string'
PUBLIC	??_C@_0BC@OBBCBHMH@RewardItemDropOpt?$AA@	; `string'
PUBLIC	??_C@_0BD@OKPPMIHP@RewardItemDropLuck?$AA@	; `string'
PUBLIC	??_C@_0BE@EOLKNIIC@RewardItemDropSkill?$AA@	; `string'
PUBLIC	??_C@_0BE@EKBKKOL@RewardItemDropLevel?$AA@	; `string'
PUBLIC	??_C@_0BB@PEEAOFCL@RewardItemDropID?$AA@	; `string'
PUBLIC	??_C@_0BD@HAFKJLCD@RewardItemDropType?$AA@	; `string'
PUBLIC	??_C@_0N@MMJKFJLL@RewardZtCred?$AA@		; `string'
PUBLIC	??_C@_0N@BMBAGBBL@RewardGoblin?$AA@		; `string'
PUBLIC	??_C@_0N@IAGEABOD@RewardWCoinP?$AA@		; `string'
PUBLIC	??_C@_0N@OBILEAHB@RewardWCoinC?$AA@		; `string'
PUBLIC	??_C@_06BAGMPINC@Reward?$AA@			; `string'
PUBLIC	??_C@_0L@MMIEHGGH@RewardItem?$AA@		; `string'
PUBLIC	??_C@_03FDIGDFNB@MGS?$AA@			; `string'
PUBLIC	??_C@_0CF@GHNLONBB@?$FLDevias?5Battle?$FN?5Start?5after?51?5mi@ ; `string'
PUBLIC	??_C@_06POMJKEPM@Common?$AA@			; `string'
PUBLIC	??_C@_06CKGENIKG@Enable?$AA@			; `string'
PUBLIC	??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?LoadConfigs@CDeviasBattle@@QAEXXZ		; CDeviasBattle::LoadConfigs
EXTRN	_fclose:PROC
EXTRN	_sscanf:PROC
EXTRN	?Zt_IsBadFileLine@@YA_NPADAAH@Z:PROC		; Zt_IsBadFileLine
EXTRN	_fgets:PROC
EXTRN	_feof:PROC
EXTRN	__imp__MessageBoxA@16:PROC
EXTRN	_fopen:PROC
EXTRN	__imp__GetPrivateProfileStringA@24:PROC
EXTRN	?g_ZtLicense@@3VCZtLicense@@A:BYTE		; g_ZtLicense
EXTRN	__imp__GetPrivateProfileIntA@16:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_0BC@HDIJPDCG@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@
; File e:\work\tranet_version\gs\gameserver\deviasbattle.cpp
CONST	SEGMENT
??_C@_0BC@HDIJPDCG@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@ DB '%d %'
	DB	'd %d %d %d %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@HDEBLLGM@DeviasBattleEvent?4ini?5Load?5Error@
CONST	SEGMENT
??_C@_0CB@HDEBLLGM@DeviasBattleEvent?4ini?5Load?5Error@ DB 'DeviasBattleE'
	DB	'vent.ini Load Error', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@BPENEPNJ@CRITICAL?5ERROR?$AA@
CONST	SEGMENT
??_C@_0P@BPENEPNJ@CRITICAL?5ERROR?$AA@ DB 'CRITICAL ERROR', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@JLLCHHMO@FallenItemDropAncOpt?$AA@
CONST	SEGMENT
??_C@_0BF@JLLCHHMO@FallenItemDropAncOpt?$AA@ DB 'FallenItemDropAncOpt', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@LKHCLCFL@FallenItemDropExcOpt?$AA@
CONST	SEGMENT
??_C@_0BF@LKHCLCFL@FallenItemDropExcOpt?$AA@ DB 'FallenItemDropExcOpt', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@MOMDCMLD@FallenItemDropOpt?$AA@
CONST	SEGMENT
??_C@_0BC@MOMDCMLD@FallenItemDropOpt?$AA@ DB 'FallenItemDropOpt', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@LNLIKMGB@FallenItemDropLuck?$AA@
CONST	SEGMENT
??_C@_0BD@LNLIKMGB@FallenItemDropLuck?$AA@ DB 'FallenItemDropLuck', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@LEOCKCIF@FallenItemDropSkill?$AA@
CONST	SEGMENT
??_C@_0BE@LEOCKCIF@FallenItemDropSkill?$AA@ DB 'FallenItemDropSkill', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@POPJNAOM@FallenItemDropLevel?$AA@
CONST	SEGMENT
??_C@_0BE@POPJNAOM@FallenItemDropLevel?$AA@ DB 'FallenItemDropLevel', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@EKAHBGBH@FallenItemDropID?$AA@
CONST	SEGMENT
??_C@_0BB@EKAHBGBH@FallenItemDropID?$AA@ DB 'FallenItemDropID', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@CHBNPPDN@FallenItemDropType?$AA@
CONST	SEGMENT
??_C@_0BD@CHBNPPDN@FallenItemDropType?$AA@ DB 'FallenItemDropType', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06BOLACBCI@Fallen?$AA@
CONST	SEGMENT
??_C@_06BOLACBCI@Fallen?$AA@ DB 'Fallen', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@IPCHJHK@Fallen_DROP?$AA@
CONST	SEGMENT
??_C@_0M@IPCHJHK@Fallen_DROP?$AA@ DB 'Fallen_DROP', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@FCMLKBH@RewardItemDropAncOpt?$AA@
CONST	SEGMENT
??_C@_0BF@FCMLKBH@RewardItemDropAncOpt?$AA@ DB 'RewardItemDropAncOpt', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@CEOMHPIC@RewardItemDropExcOpt?$AA@
CONST	SEGMENT
??_C@_0BF@CEOMHPIC@RewardItemDropExcOpt?$AA@ DB 'RewardItemDropExcOpt', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@OBBCBHMH@RewardItemDropOpt?$AA@
CONST	SEGMENT
??_C@_0BC@OBBCBHMH@RewardItemDropOpt?$AA@ DB 'RewardItemDropOpt', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@OKPPMIHP@RewardItemDropLuck?$AA@
CONST	SEGMENT
??_C@_0BD@OKPPMIHP@RewardItemDropLuck?$AA@ DB 'RewardItemDropLuck', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@EOLKNIIC@RewardItemDropSkill?$AA@
CONST	SEGMENT
??_C@_0BE@EOLKNIIC@RewardItemDropSkill?$AA@ DB 'RewardItemDropSkill', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@EKBKKOL@RewardItemDropLevel?$AA@
CONST	SEGMENT
??_C@_0BE@EKBKKOL@RewardItemDropLevel?$AA@ DB 'RewardItemDropLevel', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@PEEAOFCL@RewardItemDropID?$AA@
CONST	SEGMENT
??_C@_0BB@PEEAOFCL@RewardItemDropID?$AA@ DB 'RewardItemDropID', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@HAFKJLCD@RewardItemDropType?$AA@
CONST	SEGMENT
??_C@_0BD@HAFKJLCD@RewardItemDropType?$AA@ DB 'RewardItemDropType', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@MMJKFJLL@RewardZtCred?$AA@
CONST	SEGMENT
??_C@_0N@MMJKFJLL@RewardZtCred?$AA@ DB 'RewardZtCred', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@BMBAGBBL@RewardGoblin?$AA@
CONST	SEGMENT
??_C@_0N@BMBAGBBL@RewardGoblin?$AA@ DB 'RewardGoblin', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@IAGEABOD@RewardWCoinP?$AA@
CONST	SEGMENT
??_C@_0N@IAGEABOD@RewardWCoinP?$AA@ DB 'RewardWCoinP', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@OBILEAHB@RewardWCoinC?$AA@
CONST	SEGMENT
??_C@_0N@OBILEAHB@RewardWCoinC?$AA@ DB 'RewardWCoinC', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06BAGMPINC@Reward?$AA@
CONST	SEGMENT
??_C@_06BAGMPINC@Reward?$AA@ DB 'Reward', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@MMIEHGGH@RewardItem?$AA@
CONST	SEGMENT
??_C@_0L@MMIEHGGH@RewardItem?$AA@ DB 'RewardItem', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_03FDIGDFNB@MGS?$AA@
CONST	SEGMENT
??_C@_03FDIGDFNB@MGS?$AA@ DB 'MGS', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@GHNLONBB@?$FLDevias?5Battle?$FN?5Start?5after?51?5mi@
CONST	SEGMENT
??_C@_0CF@GHNLONBB@?$FLDevias?5Battle?$FN?5Start?5after?51?5mi@ DB '[Devi'
	DB	'as Battle] Start after 1 minute', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06POMJKEPM@Common?$AA@
CONST	SEGMENT
??_C@_06POMJKEPM@Common?$AA@ DB 'Common', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06CKGENIKG@Enable?$AA@
CONST	SEGMENT
??_C@_06CKGENIKG@Enable?$AA@ DB 'Enable', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
CONST	SEGMENT
??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@ DB '..\Data\Zt'
	DB	'Data\Events\DeviasBattleEvent.ini', 00H	; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?LoadConfigs@CDeviasBattle@@QAEXXZ
_TEXT	SEGMENT
_Flag$ = -296						; size = 4
_file$ = -292						; size = 4
_n$203679 = -288					; size = 28
_Buff$ = -260						; size = 256
__$ArrayPad$ = -4					; size = 4
?LoadConfigs@CDeviasBattle@@QAEXXZ PROC			; CDeviasBattle::LoadConfigs, COMDAT
; _this$ = ecx

; 15   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 28 01 00
	00		 sub	 esp, 296		; 00000128H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi

; 16   : 	Enable = GetPrivateProfileInt("Common","Enable",1,DEVBATTLE_DIR);

  00016	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR __imp__GetPrivateProfileIntA@16
  0001c	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00021	6a 01		 push	 1
  00023	68 00 00 00 00	 push	 OFFSET ??_C@_06CKGENIKG@Enable?$AA@
  00028	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  0002d	8b f1		 mov	 esi, ecx
  0002f	ff d7		 call	 edi

; 17   : 	
; 18   : 	if(!g_ZtLicense.user.LoraBattle)

  00031	33 db		 xor	 ebx, ebx
  00033	89 06		 mov	 DWORD PTR [esi], eax
  00035	38 1d df 00 00
	00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+223, bl

; 19   : 	{
; 20   : 		Enable = 0;
; 21   : 	}
; 22   : 
; 23   : 	if(!Enable)

  0003b	0f 84 56 02 00
	00		 je	 $LN18@LoadConfig
  00041	3b c3		 cmp	 eax, ebx
  00043	0f 84 10 04 00
	00		 je	 $LN11@LoadConfig

; 24   : 		return;
; 25   : 
; 26   : 	//Configs
; 27   : 	GetPrivateProfileStringA("Common", "MGS","[Devias Battle] Start after 1 minute",MSG,sizeof(MSG),DEVBATTLE_DIR);

  00049	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  0004e	68 00 01 00 00	 push	 256			; 00000100H
  00053	8d 86 c0 0f 02
	00		 lea	 eax, DWORD PTR [esi+135104]
  00059	50		 push	 eax
  0005a	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@GHNLONBB@?$FLDevias?5Battle?$FN?5Start?5after?51?5mi@
  0005f	68 00 00 00 00	 push	 OFFSET ??_C@_03FDIGDFNB@MGS?$AA@
  00064	68 00 00 00 00	 push	 OFFSET ??_C@_06POMJKEPM@Common?$AA@
  00069	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetPrivateProfileStringA@24

; 28   : 	RewardItem = GetPrivateProfileInt("Reward","RewardItem",1,DEVBATTLE_DIR);

  0006f	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00074	6a 01		 push	 1
  00076	68 00 00 00 00	 push	 OFFSET ??_C@_0L@MMIEHGGH@RewardItem?$AA@
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  00080	ff d7		 call	 edi

; 29   : 
; 30   : 	RewardWCoinC = GetPrivateProfileInt("Reward","RewardWCoinC",0,DEVBATTLE_DIR);

  00082	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00087	53		 push	 ebx
  00088	68 00 00 00 00	 push	 OFFSET ??_C@_0N@OBILEAHB@RewardWCoinC?$AA@
  0008d	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  00092	89 46 08	 mov	 DWORD PTR [esi+8], eax
  00095	ff d7		 call	 edi

; 31   : 	RewardWCoinP = GetPrivateProfileInt("Reward","RewardWCoinP",0,DEVBATTLE_DIR);

  00097	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  0009c	53		 push	 ebx
  0009d	68 00 00 00 00	 push	 OFFSET ??_C@_0N@IAGEABOD@RewardWCoinP?$AA@
  000a2	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  000a7	89 46 0c	 mov	 DWORD PTR [esi+12], eax
  000aa	ff d7		 call	 edi

; 32   : 	RewardGoblin = GetPrivateProfileInt("Reward","RewardGoblin",0,DEVBATTLE_DIR);

  000ac	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  000b1	53		 push	 ebx
  000b2	68 00 00 00 00	 push	 OFFSET ??_C@_0N@BMBAGBBL@RewardGoblin?$AA@
  000b7	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  000bc	89 46 10	 mov	 DWORD PTR [esi+16], eax
  000bf	ff d7		 call	 edi

; 33   : 	RewardZtCred = GetPrivateProfileInt("Reward","RewardZtCred",0,DEVBATTLE_DIR);

  000c1	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  000c6	53		 push	 ebx
  000c7	68 00 00 00 00	 push	 OFFSET ??_C@_0N@MMJKFJLL@RewardZtCred?$AA@
  000cc	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  000d1	89 46 14	 mov	 DWORD PTR [esi+20], eax
  000d4	ff d7		 call	 edi

; 34   : 
; 35   : 	RewardItemDropType	= GetPrivateProfileInt("Reward","RewardItemDropType",12,DEVBATTLE_DIR);

  000d6	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  000db	6a 0c		 push	 12			; 0000000cH
  000dd	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@HAFKJLCD@RewardItemDropType?$AA@
  000e2	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  000e7	89 46 18	 mov	 DWORD PTR [esi+24], eax
  000ea	ff d7		 call	 edi

; 36   : 	RewardItemDropID		= GetPrivateProfileInt("Reward","RewardItemDropID",15,DEVBATTLE_DIR);

  000ec	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  000f1	6a 0f		 push	 15			; 0000000fH
  000f3	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@PEEAOFCL@RewardItemDropID?$AA@
  000f8	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  000fd	89 46 1c	 mov	 DWORD PTR [esi+28], eax
  00100	ff d7		 call	 edi

; 37   : 	RewardItemDropLevel	= GetPrivateProfileInt("Reward","RewardItemDropLevel",0,DEVBATTLE_DIR);

  00102	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00107	53		 push	 ebx
  00108	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@EKBKKOL@RewardItemDropLevel?$AA@
  0010d	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  00112	89 46 20	 mov	 DWORD PTR [esi+32], eax
  00115	ff d7		 call	 edi

; 38   : 	RewardItemDropSkill	= GetPrivateProfileInt("Reward","RewardItemDropSkill",0,DEVBATTLE_DIR);

  00117	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  0011c	53		 push	 ebx
  0011d	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@EOLKNIIC@RewardItemDropSkill?$AA@
  00122	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  00127	89 46 24	 mov	 DWORD PTR [esi+36], eax
  0012a	ff d7		 call	 edi

; 39   : 	RewardItemDropLuck	= GetPrivateProfileInt("Reward","RewardItemDropLuck",0,DEVBATTLE_DIR);

  0012c	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00131	53		 push	 ebx
  00132	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@OKPPMIHP@RewardItemDropLuck?$AA@
  00137	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  0013c	89 46 28	 mov	 DWORD PTR [esi+40], eax
  0013f	ff d7		 call	 edi

; 40   : 	RewardItemDropOpt	= GetPrivateProfileInt("Reward","RewardItemDropOpt",0,DEVBATTLE_DIR);

  00141	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00146	53		 push	 ebx
  00147	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@OBBCBHMH@RewardItemDropOpt?$AA@
  0014c	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  00151	89 46 2c	 mov	 DWORD PTR [esi+44], eax
  00154	ff d7		 call	 edi

; 41   : 	RewardItemDropExcOpt	= GetPrivateProfileInt("Reward","RewardItemDropExcOpt",0,DEVBATTLE_DIR);

  00156	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  0015b	53		 push	 ebx
  0015c	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@CEOMHPIC@RewardItemDropExcOpt?$AA@
  00161	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  00166	89 46 30	 mov	 DWORD PTR [esi+48], eax
  00169	ff d7		 call	 edi
  0016b	89 46 34	 mov	 DWORD PTR [esi+52], eax

; 42   : 	RewardItemDropAncOpt	= GetPrivateProfileInt("Reward","RewardItemDropAncOpt",0,DEVBATTLE_DIR);

  0016e	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00173	53		 push	 ebx
  00174	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@FCMLKBH@RewardItemDropAncOpt?$AA@
  00179	68 00 00 00 00	 push	 OFFSET ??_C@_06BAGMPINC@Reward?$AA@
  0017e	ff d7		 call	 edi

; 43   : 
; 44   : 	Fallen_DROP = GetPrivateProfileInt("Fallen","Fallen_DROP",1,DEVBATTLE_DIR);

  00180	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00185	6a 01		 push	 1
  00187	68 00 00 00 00	 push	 OFFSET ??_C@_0M@IPCHJHK@Fallen_DROP?$AA@
  0018c	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  00191	89 46 38	 mov	 DWORD PTR [esi+56], eax
  00194	ff d7		 call	 edi

; 45   : 
; 46   : 	FallenItemDropType	= GetPrivateProfileInt("Fallen","FallenItemDropType",12,DEVBATTLE_DIR);

  00196	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  0019b	6a 0c		 push	 12			; 0000000cH
  0019d	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@CHBNPPDN@FallenItemDropType?$AA@
  001a2	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  001a7	89 46 3c	 mov	 DWORD PTR [esi+60], eax
  001aa	ff d7		 call	 edi

; 47   : 	FallenItemDropID		= GetPrivateProfileInt("Fallen","FallenItemDropID",15,DEVBATTLE_DIR);

  001ac	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  001b1	6a 0f		 push	 15			; 0000000fH
  001b3	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@EKAHBGBH@FallenItemDropID?$AA@
  001b8	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  001bd	89 46 40	 mov	 DWORD PTR [esi+64], eax
  001c0	ff d7		 call	 edi

; 48   : 	FallenItemDropLevel	= GetPrivateProfileInt("Fallen","FallenItemDropLevel",0,DEVBATTLE_DIR);

  001c2	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  001c7	53		 push	 ebx
  001c8	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@POPJNAOM@FallenItemDropLevel?$AA@
  001cd	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  001d2	89 46 44	 mov	 DWORD PTR [esi+68], eax
  001d5	ff d7		 call	 edi

; 49   : 	FallenItemDropSkill	= GetPrivateProfileInt("Fallen","FallenItemDropSkill",0,DEVBATTLE_DIR);

  001d7	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  001dc	53		 push	 ebx
  001dd	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@LEOCKCIF@FallenItemDropSkill?$AA@
  001e2	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  001e7	89 46 48	 mov	 DWORD PTR [esi+72], eax
  001ea	ff d7		 call	 edi

; 50   : 	FallenItemDropLuck	= GetPrivateProfileInt("Fallen","FallenItemDropLuck",0,DEVBATTLE_DIR);

  001ec	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  001f1	53		 push	 ebx
  001f2	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@LNLIKMGB@FallenItemDropLuck?$AA@
  001f7	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  001fc	89 46 4c	 mov	 DWORD PTR [esi+76], eax
  001ff	ff d7		 call	 edi

; 51   : 	FallenItemDropOpt	= GetPrivateProfileInt("Fallen","FallenItemDropOpt",0,DEVBATTLE_DIR);

  00201	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00206	53		 push	 ebx
  00207	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@MOMDCMLD@FallenItemDropOpt?$AA@
  0020c	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  00211	89 46 50	 mov	 DWORD PTR [esi+80], eax
  00214	ff d7		 call	 edi

; 52   : 	FallenItemDropExcOpt	= GetPrivateProfileInt("Fallen","FallenItemDropExcOpt",0,DEVBATTLE_DIR);

  00216	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  0021b	53		 push	 ebx
  0021c	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@LKHCLCFL@FallenItemDropExcOpt?$AA@
  00221	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  00226	89 46 54	 mov	 DWORD PTR [esi+84], eax
  00229	ff d7		 call	 edi

; 53   : 	FallenItemDropAncOpt	= GetPrivateProfileInt("Fallen","FallenItemDropAncOpt",0,DEVBATTLE_DIR);

  0022b	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00230	53		 push	 ebx
  00231	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@JLLCHHMO@FallenItemDropAncOpt?$AA@
  00236	68 00 00 00 00	 push	 OFFSET ??_C@_06BOLACBCI@Fallen?$AA@
  0023b	89 46 58	 mov	 DWORD PTR [esi+88], eax
  0023e	ff d7		 call	 edi
  00240	89 46 5c	 mov	 DWORD PTR [esi+92], eax
  00243	8d 86 18 00 02
	00		 lea	 eax, DWORD PTR [esi+131096]
  00249	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  0024e	8b ff		 npad	 2
$LL8@LoadConfig:

; 54   : 
; 55   : 
; 56   : 	for(int i=OBJ_STARTUSERINDZT; i<OBJMAX; i++)
; 57   : 	{
; 58   : 		KillSocer[i] = 0;

  00250	89 98 08 db fe
	ff		 mov	 DWORD PTR [eax-75000], ebx

; 59   : 		m_PK_Level[i] = 0;

  00256	89 18		 mov	 DWORD PTR [eax], ebx
  00258	83 c0 04	 add	 eax, 4
  0025b	49		 dec	 ecx
  0025c	75 f2		 jne	 SHORT $LL8@LoadConfig

; 60   : 	}
; 61   : 
; 62   : 	MaxSocer	 = 0;
; 63   : 
; 64   : 	Start = false;
; 65   : 
; 66   : 	FILE *file = fopen(DEVBATTLE_DIR,"r");

  0025e	68 00 00 00 00	 push	 OFFSET ??_C@_01KDCPPGHE@r?$AA@
  00263	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@EPPJOLCB@?4?4?2Data?2ZtData?2Events?2DeviasBatt@
  00268	89 9e b8 0f 02
	00		 mov	 DWORD PTR [esi+135096], ebx
  0026e	89 5e 04	 mov	 DWORD PTR [esi+4], ebx
  00271	e8 00 00 00 00	 call	 _fopen
  00276	8b f8		 mov	 edi, eax
  00278	83 c4 08	 add	 esp, 8
  0027b	89 bd dc fe ff
	ff		 mov	 DWORD PTR _file$[ebp], edi

; 67   : 
; 68   : 	if(file == NULL)

  00281	3b fb		 cmp	 edi, ebx
  00283	75 25		 jne	 SHORT $LN5@LoadConfig

; 69   : 	{
; 70   : 		MessageBoxA(0,"DeviasBattleEvent.ini Load Error","CRITICAL ERROR",0);

  00285	53		 push	 ebx
  00286	68 00 00 00 00	 push	 OFFSET ??_C@_0P@BPENEPNJ@CRITICAL?5ERROR?$AA@
  0028b	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HDEBLLGM@DeviasBattleEvent?4ini?5Load?5Error@
  00290	53		 push	 ebx
  00291	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
$LN18@LoadConfig:

; 71   : 		//ExitProcess(1);
; 72   : 		this->Enable = 0;

  00297	5f		 pop	 edi
  00298	89 1e		 mov	 DWORD PTR [esi], ebx
  0029a	5e		 pop	 esi
  0029b	5b		 pop	 ebx

; 107  : }

  0029c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0029f	33 cd		 xor	 ecx, ebp
  002a1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002a6	8b e5		 mov	 esp, ebp
  002a8	5d		 pop	 ebp
  002a9	c3		 ret	 0
$LN5@LoadConfig:

; 73   : 		return;
; 74   : 	}
; 75   : 
; 76   : 	char Buff[256];
; 77   : 	int Flag = 0;
; 78   : 
; 79   : 	Count = 0;
; 80   : 
; 81   : 	while(!feof(file)) // Проверяем есть ли строка ?документ?

  002aa	57		 push	 edi
  002ab	89 9d d8 fe ff
	ff		 mov	 DWORD PTR _Flag$[ebp], ebx
  002b1	89 9e c0 1c 02
	00		 mov	 DWORD PTR [esi+138432], ebx
  002b7	e8 00 00 00 00	 call	 _feof
  002bc	83 c4 04	 add	 esp, 4
  002bf	85 c0		 test	 eax, eax
  002c1	0f 85 89 01 00
	00		 jne	 $LN3@LoadConfig
  002c7	eb 07 8d a4 24
	00 00 00 00	 npad	 9
$LL4@LoadConfig:

; 82   : 	{
; 83   : 		fgets(Buff,256,file);//Функция читает текущу?строку

  002d0	57		 push	 edi
  002d1	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  002d7	68 00 01 00 00	 push	 256			; 00000100H
  002dc	51		 push	 ecx
  002dd	e8 00 00 00 00	 call	 _fgets

; 84   : 		if(Zt_IsBadFileLine(Buff, Flag)) //Вспомогательная функция

  002e2	8d 95 d8 fe ff
	ff		 lea	 edx, DWORD PTR _Flag$[ebp]
  002e8	52		 push	 edx
  002e9	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _Buff$[ebp]
  002ef	50		 push	 eax
  002f0	e8 00 00 00 00	 call	 ?Zt_IsBadFileLine@@YA_NPADAAH@Z ; Zt_IsBadFileLine
  002f5	83 c4 14	 add	 esp, 20			; 00000014H
  002f8	84 c0		 test	 al, al
  002fa	0f 85 3f 01 00
	00		 jne	 $LN1@LoadConfig

; 85   : 			continue;
; 86   : 		if(Flag == 1)

  00300	bf 01 00 00 00	 mov	 edi, 1
  00305	39 bd d8 fe ff
	ff		 cmp	 DWORD PTR _Flag$[ebp], edi
  0030b	0f 85 28 01 00
	00		 jne	 $LN17@LoadConfig

; 87   : 		{
; 88   : 			Time[Count].StrHour	= 0;

  00311	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  00317	8d 8c 40 18 42
	00 00		 lea	 ecx, DWORD PTR [eax+eax*2+16920]
  0031e	89 1c ce	 mov	 DWORD PTR [esi+ecx*8], ebx

; 89   : 			Time[Count].StrMin	= 0;

  00321	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  00327	8d 14 40	 lea	 edx, DWORD PTR [eax+eax*2]
  0032a	89 9c d6 c4 10
	02 00		 mov	 DWORD PTR [esi+edx*8+135364], ebx

; 90   : 			Time[Count].Hour	= 0;

  00331	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  00337	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]
  0033a	89 9c c6 c8 10
	02 00		 mov	 DWORD PTR [esi+eax*8+135368], ebx

; 91   : 			Time[Count].Min		= 0;

  00341	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  00347	8d 0c 40	 lea	 ecx, DWORD PTR [eax+eax*2]
  0034a	89 9c ce cc 10
	02 00		 mov	 DWORD PTR [esi+ecx*8+135372], ebx

; 92   : 			Time[Count].EndHour	= 0;

  00351	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  00357	8d 14 40	 lea	 edx, DWORD PTR [eax+eax*2]
  0035a	89 9c d6 d0 10
	02 00		 mov	 DWORD PTR [esi+edx*8+135376], ebx

; 93   : 			Time[Count].EndMin	= 0;

  00361	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  00367	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]

; 94   : 
; 95   : 			int n[7];
; 96   : 			sscanf(Buff, "%d %d %d %d %d %d", &n[0], &n[1], &n[2], &n[3], &n[4], &n[5]);

  0036a	8d 8d f4 fe ff
	ff		 lea	 ecx, DWORD PTR _n$203679[ebp+20]
  00370	51		 push	 ecx
  00371	89 9c c6 d4 10
	02 00		 mov	 DWORD PTR [esi+eax*8+135380], ebx
  00378	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _n$203679[ebp+16]
  0037e	52		 push	 edx
  0037f	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _n$203679[ebp+12]
  00385	50		 push	 eax
  00386	8d 8d e8 fe ff
	ff		 lea	 ecx, DWORD PTR _n$203679[ebp+8]
  0038c	51		 push	 ecx
  0038d	8d 95 e4 fe ff
	ff		 lea	 edx, DWORD PTR _n$203679[ebp+4]
  00393	52		 push	 edx
  00394	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _n$203679[ebp]
  0039a	50		 push	 eax
  0039b	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _Buff$[ebp]
  003a1	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@HDIJPDCG@?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?5?$CFd?$AA@
  003a6	51		 push	 ecx
  003a7	e8 00 00 00 00	 call	 _sscanf

; 97   : 			Time[Count].StrHour	= n[0];

  003ac	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  003b2	8d 94 40 18 42
	00 00		 lea	 edx, DWORD PTR [eax+eax*2+16920]
  003b9	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _n$203679[ebp]
  003bf	89 04 d6	 mov	 DWORD PTR [esi+edx*8], eax

; 98   : 			Time[Count].StrMin	= n[1];

  003c2	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  003c8	8b 95 e4 fe ff
	ff		 mov	 edx, DWORD PTR _n$203679[ebp+4]
  003ce	8d 0c 40	 lea	 ecx, DWORD PTR [eax+eax*2]
  003d1	89 94 ce c4 10
	02 00		 mov	 DWORD PTR [esi+ecx*8+135364], edx

; 99   : 			Time[Count].Hour	= n[2];

  003d8	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  003de	8b 8d e8 fe ff
	ff		 mov	 ecx, DWORD PTR _n$203679[ebp+8]
  003e4	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]
  003e7	89 8c c6 c8 10
	02 00		 mov	 DWORD PTR [esi+eax*8+135368], ecx

; 100  : 			Time[Count].Min		= n[3];;

  003ee	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  003f4	8d 14 40	 lea	 edx, DWORD PTR [eax+eax*2]
  003f7	8b 85 ec fe ff
	ff		 mov	 eax, DWORD PTR _n$203679[ebp+12]
  003fd	89 84 d6 cc 10
	02 00		 mov	 DWORD PTR [esi+edx*8+135372], eax

; 101  : 			Time[Count].EndHour	= n[4];

  00404	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  0040a	8b 95 f0 fe ff
	ff		 mov	 edx, DWORD PTR _n$203679[ebp+16]
  00410	8d 0c 40	 lea	 ecx, DWORD PTR [eax+eax*2]
  00413	89 94 ce d0 10
	02 00		 mov	 DWORD PTR [esi+ecx*8+135376], edx

; 102  : 			Time[Count].EndMin	= n[5];

  0041a	8b 86 c0 1c 02
	00		 mov	 eax, DWORD PTR [esi+138432]
  00420	8b 8d f4 fe ff
	ff		 mov	 ecx, DWORD PTR _n$203679[ebp+20]
  00426	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]
  00429	83 c4 20	 add	 esp, 32			; 00000020H
  0042c	89 8c c6 d4 10
	02 00		 mov	 DWORD PTR [esi+eax*8+135380], ecx

; 103  : 			Count++;

  00433	01 be c0 1c 02
	00		 add	 DWORD PTR [esi+138432], edi
$LN17@LoadConfig:
  00439	8b bd dc fe ff
	ff		 mov	 edi, DWORD PTR _file$[ebp]
$LN1@LoadConfig:

; 73   : 		return;
; 74   : 	}
; 75   : 
; 76   : 	char Buff[256];
; 77   : 	int Flag = 0;
; 78   : 
; 79   : 	Count = 0;
; 80   : 
; 81   : 	while(!feof(file)) // Проверяем есть ли строка ?документ?

  0043f	57		 push	 edi
  00440	e8 00 00 00 00	 call	 _feof
  00445	83 c4 04	 add	 esp, 4
  00448	85 c0		 test	 eax, eax
  0044a	0f 84 80 fe ff
	ff		 je	 $LL4@LoadConfig
$LN3@LoadConfig:

; 104  : 		}
; 105  : 	}
; 106  : 	fclose(file);

  00450	57		 push	 edi
  00451	e8 00 00 00 00	 call	 _fclose
  00456	83 c4 04	 add	 esp, 4
$LN11@LoadConfig:

; 107  : }

  00459	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0045c	5f		 pop	 edi
  0045d	5e		 pop	 esi
  0045e	33 cd		 xor	 ecx, ebp
  00460	5b		 pop	 ebx
  00461	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00466	8b e5		 mov	 esp, ebp
  00468	5d		 pop	 ebp
  00469	c3		 ret	 0
?LoadConfigs@CDeviasBattle@@QAEXXZ ENDP			; CDeviasBattle::LoadConfigs
_TEXT	ENDS
PUBLIC	??_C@_02DKCKIIND@?$CFs?$AA@			; `string'
PUBLIC	?Start1min@CDeviasBattle@@QAEXXZ		; CDeviasBattle::Start1min
EXTRN	?MessaageAllGlobal@@YAXPADZZ:PROC		; MessaageAllGlobal
;	COMDAT ??_C@_02DKCKIIND@?$CFs?$AA@
CONST	SEGMENT
??_C@_02DKCKIIND@?$CFs?$AA@ DB '%s', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Start1min@CDeviasBattle@@QAEXXZ
_TEXT	SEGMENT
?Start1min@CDeviasBattle@@QAEXXZ PROC			; CDeviasBattle::Start1min, COMDAT
; _this$ = ecx

; 110  : 	MessaageAllGlobal("%s",MSG);

  00000	81 c1 c0 0f 02
	00		 add	 ecx, 135104		; 00020fc0H
  00006	51		 push	 ecx
  00007	68 00 00 00 00	 push	 OFFSET ??_C@_02DKCKIIND@?$CFs?$AA@
  0000c	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00011	83 c4 08	 add	 esp, 8

; 111  : }

  00014	c3		 ret	 0
?Start1min@CDeviasBattle@@QAEXXZ ENDP			; CDeviasBattle::Start1min
_TEXT	ENDS
PUBLIC	??_C@_0BP@JPDGJLJP@?$FLDevias?5Battle?$FN?5Event?5Started?$CB?$AA@ ; `string'
PUBLIC	?StartEvent@CDeviasBattle@@QAEXXZ		; CDeviasBattle::StartEvent
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
;	COMDAT ??_C@_0BP@JPDGJLJP@?$FLDevias?5Battle?$FN?5Event?5Started?$CB?$AA@
CONST	SEGMENT
??_C@_0BP@JPDGJLJP@?$FLDevias?5Battle?$FN?5Event?5Started?$CB?$AA@ DB '[D'
	DB	'evias Battle] Event Started!', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?StartEvent@CDeviasBattle@@QAEXXZ
_TEXT	SEGMENT
?StartEvent@CDeviasBattle@@QAEXXZ PROC			; CDeviasBattle::StartEvent, COMDAT
; _this$ = ecx

; 115  : 	for(int j=OBJ_STARTUSERINDZT; j<OBJMAX; j++)

  00000	b8 00 a7 40 09	 mov	 eax, 155232000		; 0940a700H
  00005	8d 91 18 00 02
	00		 lea	 edx, DWORD PTR [ecx+131096]
  0000b	56		 push	 esi
  0000c	8d 64 24 00	 npad	 4
$LL3@StartEvent:

; 116  : 	{
; 117  : 		LPOBJ lpObj = &gObj[j];
; 118  : 		m_PK_Level[j] = lpObj->m_PK_Level;

  00010	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00016	0f be b4 30 3d
	01 00 00	 movsx	 esi, BYTE PTR [eax+esi+317]
  0001e	89 32		 mov	 DWORD PTR [edx], esi
  00020	05 50 2b 00 00	 add	 eax, 11088		; 00002b50H
  00025	83 c2 04	 add	 edx, 4
  00028	3d 80 d7 e9 09	 cmp	 eax, 166320000		; 09e9d780H
  0002d	7c e1		 jl	 SHORT $LL3@StartEvent

; 119  : 	}
; 120  : 
; 121  : 	Start = true;
; 122  : 	MessaageAllGlobal("[Devias Battle] Event Started!");

  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@JPDGJLJP@?$FLDevias?5Battle?$FN?5Event?5Started?$CB?$AA@
  00034	c7 41 04 01 00
	00 00		 mov	 DWORD PTR [ecx+4], 1
  0003b	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00040	83 c4 04	 add	 esp, 4
  00043	5e		 pop	 esi

; 123  : }

  00044	c3		 ret	 0
?StartEvent@CDeviasBattle@@QAEXXZ ENDP			; CDeviasBattle::StartEvent
_TEXT	ENDS
PUBLIC	??_C@_0BL@OLGLDOGN@?$FLDevias?5Battle?$FN?5Killed?3?5?$CFd?$AA@ ; `string'
PUBLIC	?BattleKillSocer@CDeviasBattle@@QAEXHH@Z	; CDeviasBattle::BattleKillSocer
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	?MsgNormal@@YAXHPADZZ:PROC			; MsgNormal
;	COMDAT ??_C@_0BL@OLGLDOGN@?$FLDevias?5Battle?$FN?5Killed?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BL@OLGLDOGN@?$FLDevias?5Battle?$FN?5Killed?3?5?$CFd?$AA@ DB '[Devi'
	DB	'as Battle] Killed: %d', 00H			; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?BattleKillSocer@CDeviasBattle@@QAEXHH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aIndex2$ = 12						; size = 4
?BattleKillSocer@CDeviasBattle@@QAEXHH@Z PROC		; CDeviasBattle::BattleKillSocer, COMDAT
; _this$ = ecx

; 226  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 227  : 	LPOBJ lpObj = &gObj[aIndex];	

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	8b fb		 mov	 edi, ebx
  0000b	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00011	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00017	8b f1		 mov	 esi, ecx

; 228  : 	LPOBJ lpTargetObj = &gObj[aIndex2];	
; 229  : 	if(lpObj->MapNumber == 2 && lpObj->X >= 144 && lpObj->X <= 159 && lpObj->Y >= 34 && lpObj->Y <= 49)

  00019	80 bf 49 01 00
	00 02		 cmp	 BYTE PTR [edi+329], 2
  00020	0f 85 9b 00 00
	00		 jne	 $LN1@BattleKill
  00026	0f b7 87 44 01
	00 00		 movzx	 eax, WORD PTR [edi+324]
  0002d	b9 90 00 00 00	 mov	 ecx, 144		; 00000090H
  00032	66 3b c1	 cmp	 ax, cx
  00035	0f 8c 86 00 00
	00		 jl	 $LN1@BattleKill
  0003b	ba 9f 00 00 00	 mov	 edx, 159		; 0000009fH
  00040	66 3b c2	 cmp	 ax, dx
  00043	7f 7c		 jg	 SHORT $LN1@BattleKill
  00045	0f b7 87 46 01
	00 00		 movzx	 eax, WORD PTR [edi+326]
  0004c	66 83 f8 22	 cmp	 ax, 34			; 00000022H
  00050	7c 6f		 jl	 SHORT $LN1@BattleKill
  00052	66 83 f8 31	 cmp	 ax, 49			; 00000031H
  00056	7f 69		 jg	 SHORT $LN1@BattleKill

; 230  : 	{
; 231  : 		KillSocer[aIndex]++;

  00058	ff 44 9e 60	 inc	 DWORD PTR [esi+ebx*4+96]
  0005c	8b 44 9e 60	 mov	 eax, DWORD PTR [esi+ebx*4+96]

; 232  : 		MsgNormal(aIndex,"[Devias Battle] Killed: %d",KillSocer[aIndex]);

  00060	50		 push	 eax
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@OLGLDOGN@?$FLDevias?5Battle?$FN?5Killed?3?5?$CFd?$AA@
  00066	53		 push	 ebx
  00067	e8 00 00 00 00	 call	 ?MsgNormal@@YAXHPADZZ	; MsgNormal
  0006c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 233  : 		if(Fallen_DROP)

  0006f	83 7e 3c 00	 cmp	 DWORD PTR [esi+60], 0
  00073	74 4c		 je	 SHORT $LN1@BattleKill

; 234  : 		{
; 235  : 			ItemSerialCreateSend(aIndex,lpObj->MapNumber,lpObj->X,lpObj->Y,ITEMGET(this->FallenItemDropType,this->FallenItemDropID),
; 236  : 					this->FallenItemDropLevel,0, this->FallenItemDropSkill,this->FallenItemDropLuck,
; 237  : 					this->FallenItemDropOpt,aIndex,this->FallenItemDropExcOpt,this->FallenItemDropAncOpt);	

  00075	0f b6 46 5c	 movzx	 eax, BYTE PTR [esi+92]
  00079	0f b6 4e 58	 movzx	 ecx, BYTE PTR [esi+88]
  0007d	0f b6 56 54	 movzx	 edx, BYTE PTR [esi+84]
  00081	50		 push	 eax
  00082	0f b6 46 50	 movzx	 eax, BYTE PTR [esi+80]
  00086	51		 push	 ecx
  00087	0f b6 4e 4c	 movzx	 ecx, BYTE PTR [esi+76]
  0008b	53		 push	 ebx
  0008c	52		 push	 edx
  0008d	0f b6 56 48	 movzx	 edx, BYTE PTR [esi+72]
  00091	50		 push	 eax
  00092	8b 46 40	 mov	 eax, DWORD PTR [esi+64]
  00095	51		 push	 ecx
  00096	0f b6 8f 46 01
	00 00		 movzx	 ecx, BYTE PTR [edi+326]
  0009d	6a 00		 push	 0
  0009f	52		 push	 edx
  000a0	0f b6 97 44 01
	00 00		 movzx	 edx, BYTE PTR [edi+324]
  000a7	c1 e0 09	 shl	 eax, 9
  000aa	03 46 44	 add	 eax, DWORD PTR [esi+68]
  000ad	50		 push	 eax
  000ae	0f b6 87 49 01
	00 00		 movzx	 eax, BYTE PTR [edi+329]
  000b5	51		 push	 ecx
  000b6	52		 push	 edx
  000b7	50		 push	 eax
  000b8	53		 push	 ebx
  000b9	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  000be	83 c4 34	 add	 esp, 52			; 00000034H
$LN1@BattleKill:
  000c1	5f		 pop	 edi
  000c2	5e		 pop	 esi
  000c3	5b		 pop	 ebx

; 238  : 		}
; 239  : 	}
; 240  : }

  000c4	5d		 pop	 ebp
  000c5	c2 08 00	 ret	 8
?BattleKillSocer@CDeviasBattle@@QAEXHH@Z ENDP		; CDeviasBattle::BattleKillSocer
_TEXT	ENDS
PUBLIC	??_C@_0BM@CGIKKGMH@?$HO?$FLCredit?$FN?3?5Online?5Bonus?3?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0CK@FFIKEMNG@?$HO?$FLGoblin?$FN?3?5Devias?5Battle?5Event?5R@ ; `string'
PUBLIC	??_C@_0CK@DLFIOBDH@?$HO?$FLWCoinP?$FN?3?5Devias?5Battle?5Event?5R@ ; `string'
PUBLIC	??_C@_0CL@PCCNPDPE@?$HO?$FLWCoinC?$FN?3?5Devias?5Battle?5Event?5R@ ; `string'
PUBLIC	?Reward@CDeviasBattle@@QAEXH@Z			; CDeviasBattle::Reward
EXTRN	?ZtFireCracker@@YAXHEE@Z:PROC			; ZtFireCracker
EXTRN	?ZtUserDataSend@@YAXH@Z:PROC			; ZtUserDataSend
EXTRN	?MessageChat@@YAXHPADZZ:PROC			; MessageChat
EXTRN	?GDSaveUserInfo@GameShop@@QAEXH@Z:PROC		; GameShop::GDSaveUserInfo
EXTRN	?gGameShop@@3VGameShop@@A:BYTE			; gGameShop
EXTRN	__fltused:DWORD
;	COMDAT ??_C@_0BM@CGIKKGMH@?$HO?$FLCredit?$FN?3?5Online?5Bonus?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BM@CGIKKGMH@?$HO?$FLCredit?$FN?3?5Online?5Bonus?3?5?$CFd?$AA@ DB '~'
	DB	'[Credit]: Online Bonus: %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@FFIKEMNG@?$HO?$FLGoblin?$FN?3?5Devias?5Battle?5Event?5R@
CONST	SEGMENT
??_C@_0CK@FFIKEMNG@?$HO?$FLGoblin?$FN?3?5Devias?5Battle?5Event?5R@ DB '~['
	DB	'Goblin]: Devias Battle Event Reward: %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@DLFIOBDH@?$HO?$FLWCoinP?$FN?3?5Devias?5Battle?5Event?5R@
CONST	SEGMENT
??_C@_0CK@DLFIOBDH@?$HO?$FLWCoinP?$FN?3?5Devias?5Battle?5Event?5R@ DB '~['
	DB	'WCoinP]: Devias Battle Event Reward: %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CL@PCCNPDPE@?$HO?$FLWCoinC?$FN?3?5Devias?5Battle?5Event?5R@
CONST	SEGMENT
??_C@_0CL@PCCNPDPE@?$HO?$FLWCoinC?$FN?3?5Devias?5Battle?5Event?5R@ DB '~['
	DB	'WCoinC]: Devias Battle Event Reward : %d', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Reward@CDeviasBattle@@QAEXH@Z
_TEXT	SEGMENT
tv255 = 8						; size = 4
tv246 = 8						; size = 4
tv237 = 8						; size = 4
tv228 = 8						; size = 4
_aIndex$ = 8						; size = 4
?Reward@CDeviasBattle@@QAEXH@Z PROC			; CDeviasBattle::Reward, COMDAT
; _this$ = ecx

; 243  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 244  : 	LPOBJ lpObj = &gObj[aIndex];	

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00007	56		 push	 esi
  00008	8b f3		 mov	 esi, ebx
  0000a	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00010	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00016	57		 push	 edi
  00017	8b f9		 mov	 edi, ecx

; 245  : 	if(this->RewardWCoinC > 0)

  00019	8b 47 0c	 mov	 eax, DWORD PTR [edi+12]
  0001c	89 45 08	 mov	 DWORD PTR tv228[ebp], eax
  0001f	85 c0		 test	 eax, eax
  00021	7e 2c		 jle	 SHORT $LN5@Reward

; 246  : 	{
; 247  : 			lpObj->GameShop.WCoinC += this->RewardWCoinC;

  00023	db 45 08	 fild	 DWORD PTR tv228[ebp]

; 248  : 			gGameShop.GDSaveUserInfo(aIndex);

  00026	53		 push	 ebx
  00027	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  0002c	dc 86 00 23 00
	00		 fadd	 QWORD PTR [esi+8960]
  00032	dd 9e 00 23 00
	00		 fstp	 QWORD PTR [esi+8960]
  00038	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 249  : 			MessageChat(aIndex,"~[WCoinC]: Devias Battle Event Reward : %d",this->RewardWCoinC);

  0003d	8b 47 0c	 mov	 eax, DWORD PTR [edi+12]
  00040	50		 push	 eax
  00041	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@PCCNPDPE@?$HO?$FLWCoinC?$FN?3?5Devias?5Battle?5Event?5R@
  00046	53		 push	 ebx
  00047	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  0004c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN5@Reward:

; 250  : 	}
; 251  : 
; 252  : 	if(this->RewardWCoinP > 0)

  0004f	8b 47 10	 mov	 eax, DWORD PTR [edi+16]
  00052	89 45 08	 mov	 DWORD PTR tv237[ebp], eax
  00055	85 c0		 test	 eax, eax
  00057	7e 2c		 jle	 SHORT $LN4@Reward

; 253  : 	{
; 254  : 			lpObj->GameShop.WCoinP += this->RewardWCoinP;

  00059	db 45 08	 fild	 DWORD PTR tv237[ebp]

; 255  : 			gGameShop.GDSaveUserInfo(aIndex);

  0005c	53		 push	 ebx
  0005d	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00062	dc 86 f8 22 00
	00		 fadd	 QWORD PTR [esi+8952]
  00068	dd 9e f8 22 00
	00		 fstp	 QWORD PTR [esi+8952]
  0006e	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 256  : 			MessageChat(aIndex,"~[WCoinP]: Devias Battle Event Reward: %d",this->RewardWCoinP);

  00073	8b 4f 10	 mov	 ecx, DWORD PTR [edi+16]
  00076	51		 push	 ecx
  00077	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@DLFIOBDH@?$HO?$FLWCoinP?$FN?3?5Devias?5Battle?5Event?5R@
  0007c	53		 push	 ebx
  0007d	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  00082	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@Reward:

; 257  : 	}
; 258  : 
; 259  : 	if(this->RewardGoblin > 0)

  00085	8b 47 14	 mov	 eax, DWORD PTR [edi+20]
  00088	89 45 08	 mov	 DWORD PTR tv246[ebp], eax
  0008b	85 c0		 test	 eax, eax
  0008d	7e 2c		 jle	 SHORT $LN3@Reward

; 260  : 	{
; 261  : 			lpObj->GameShop.GoblinPoint += this->RewardGoblin;

  0008f	db 45 08	 fild	 DWORD PTR tv246[ebp]

; 262  : 			gGameShop.GDSaveUserInfo(aIndex);

  00092	53		 push	 ebx
  00093	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGameShop@@3VGameShop@@A ; gGameShop
  00098	dc 86 08 23 00
	00		 fadd	 QWORD PTR [esi+8968]
  0009e	dd 9e 08 23 00
	00		 fstp	 QWORD PTR [esi+8968]
  000a4	e8 00 00 00 00	 call	 ?GDSaveUserInfo@GameShop@@QAEXH@Z ; GameShop::GDSaveUserInfo

; 263  : 			MessageChat(aIndex,"~[Goblin]: Devias Battle Event Reward: %d",this->RewardGoblin);

  000a9	8b 57 14	 mov	 edx, DWORD PTR [edi+20]
  000ac	52		 push	 edx
  000ad	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@FFIKEMNG@?$HO?$FLGoblin?$FN?3?5Devias?5Battle?5Event?5R@
  000b2	53		 push	 ebx
  000b3	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  000b8	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@Reward:

; 264  : 	}
; 265  : 
; 266  : 	if(this->RewardZtCred > 0)

  000bb	8b 47 18	 mov	 eax, DWORD PTR [edi+24]
  000be	89 45 08	 mov	 DWORD PTR tv255[ebp], eax
  000c1	85 c0		 test	 eax, eax
  000c3	7e 27		 jle	 SHORT $LN2@Reward

; 267  : 	{
; 268  : 			lpObj->ZtCred += this->RewardZtCred;

  000c5	db 45 08	 fild	 DWORD PTR tv255[ebp]

; 269  : #ifndef FIX_DS_CRASH
; 270  : 			GJSetCharacterInfo(lpObj, lpObj->m_Index, 0);
; 271  : #endif
; 272  : 			ZtUserDataSend(aIndex);

  000c8	53		 push	 ebx
  000c9	d8 86 a8 22 00
	00		 fadd	 DWORD PTR [esi+8872]
  000cf	d9 9e a8 22 00
	00		 fstp	 DWORD PTR [esi+8872]
  000d5	e8 00 00 00 00	 call	 ?ZtUserDataSend@@YAXH@Z	; ZtUserDataSend

; 273  : 			MessageChat(aIndex,"~[Credit]: Online Bonus: %d",this->RewardZtCred);

  000da	8b 47 18	 mov	 eax, DWORD PTR [edi+24]
  000dd	50		 push	 eax
  000de	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@CGIKKGMH@?$HO?$FLCredit?$FN?3?5Online?5Bonus?3?5?$CFd?$AA@
  000e3	53		 push	 ebx
  000e4	e8 00 00 00 00	 call	 ?MessageChat@@YAXHPADZZ	; MessageChat
  000e9	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@Reward:

; 274  : 	}
; 275  : 
; 276  : 	if(RewardItem)

  000ec	83 7f 08 00	 cmp	 DWORD PTR [edi+8], 0
  000f0	74 4c		 je	 SHORT $LN1@Reward

; 277  : 	{
; 278  : 		ItemSerialCreateSend(aIndex,lpObj->MapNumber,lpObj->X,lpObj->Y,ITEMGET(this->RewardItemDropType,this->RewardItemDropID),
; 279  : 					this->RewardItemDropLevel,0, this->RewardItemDropSkill,this->RewardItemDropLuck,
; 280  : 					this->RewardItemDropOpt,aIndex,this->RewardItemDropExcOpt,this->RewardItemDropAncOpt);

  000f2	0f b6 4f 38	 movzx	 ecx, BYTE PTR [edi+56]
  000f6	0f b6 57 34	 movzx	 edx, BYTE PTR [edi+52]
  000fa	0f b6 47 30	 movzx	 eax, BYTE PTR [edi+48]
  000fe	51		 push	 ecx
  000ff	0f b6 4f 2c	 movzx	 ecx, BYTE PTR [edi+44]
  00103	52		 push	 edx
  00104	0f b6 57 28	 movzx	 edx, BYTE PTR [edi+40]
  00108	53		 push	 ebx
  00109	50		 push	 eax
  0010a	0f b6 47 24	 movzx	 eax, BYTE PTR [edi+36]
  0010e	51		 push	 ecx
  0010f	8b 4f 1c	 mov	 ecx, DWORD PTR [edi+28]
  00112	52		 push	 edx
  00113	0f b6 96 46 01
	00 00		 movzx	 edx, BYTE PTR [esi+326]
  0011a	6a 00		 push	 0
  0011c	50		 push	 eax
  0011d	0f b6 86 44 01
	00 00		 movzx	 eax, BYTE PTR [esi+324]
  00124	c1 e1 09	 shl	 ecx, 9
  00127	03 4f 20	 add	 ecx, DWORD PTR [edi+32]
  0012a	51		 push	 ecx
  0012b	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00132	52		 push	 edx
  00133	50		 push	 eax
  00134	51		 push	 ecx
  00135	53		 push	 ebx
  00136	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0013b	83 c4 34	 add	 esp, 52			; 00000034H
$LN1@Reward:

; 281  : 	}
; 282  : 
; 283  : 	
; 284  : 	ZtFireCracker(aIndex,lpObj->X,lpObj->Y);

  0013e	0f b6 96 46 01
	00 00		 movzx	 edx, BYTE PTR [esi+326]
  00145	0f b6 86 44 01
	00 00		 movzx	 eax, BYTE PTR [esi+324]
  0014c	52		 push	 edx
  0014d	50		 push	 eax
  0014e	53		 push	 ebx
  0014f	e8 00 00 00 00	 call	 ?ZtFireCracker@@YAXHEE@Z ; ZtFireCracker
  00154	83 c4 0c	 add	 esp, 12			; 0000000cH
  00157	5f		 pop	 edi
  00158	5e		 pop	 esi
  00159	5b		 pop	 ebx

; 285  : }

  0015a	5d		 pop	 ebp
  0015b	c2 04 00	 ret	 4
?Reward@CDeviasBattle@@QAEXH@Z ENDP			; CDeviasBattle::Reward
_TEXT	ENDS
PUBLIC	?PkCheck@CDeviasBattle@@QAE_NPAUOBJECTSTRUCT@@0@Z ; CDeviasBattle::PkCheck
; Function compile flags: /Ogtp
;	COMDAT ?PkCheck@CDeviasBattle@@QAE_NPAUOBJECTSTRUCT@@0@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_lpTarget$ = 12						; size = 4
?PkCheck@CDeviasBattle@@QAE_NPAUOBJECTSTRUCT@@0@Z PROC	; CDeviasBattle::PkCheck, COMDAT
; _this$ = ecx

; 288  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 289  : 	if(!this->Enable)return true;

  00003	83 39 00	 cmp	 DWORD PTR [ecx], 0
  00006	75 06		 jne	 SHORT $LN3@PkCheck
$LN6@PkCheck:
  00008	b0 01		 mov	 al, 1

; 292  : 	return true;
; 293  : }

  0000a	5d		 pop	 ebp
  0000b	c2 08 00	 ret	 8
$LN3@PkCheck:

; 290  : 	if(!this->Start)return true;

  0000e	83 79 04 00	 cmp	 DWORD PTR [ecx+4], 0
  00012	74 f4		 je	 SHORT $LN6@PkCheck

; 291  : 	if(this->BattleRing[lpObj->m_Index] == true && this->BattleRing[lpTarget->m_Index] == true) return false;

  00014	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00017	8b 10		 mov	 edx, DWORD PTR [eax]
  00019	b0 01		 mov	 al, 1
  0001b	38 84 0a c0 ea
	00 00		 cmp	 BYTE PTR [edx+ecx+60096], al
  00022	75 10		 jne	 SHORT $LN4@PkCheck
  00024	8b 55 0c	 mov	 edx, DWORD PTR _lpTarget$[ebp]
  00027	8b 12		 mov	 edx, DWORD PTR [edx]
  00029	38 84 0a c0 ea
	00 00		 cmp	 BYTE PTR [edx+ecx+60096], al
  00030	75 02		 jne	 SHORT $LN4@PkCheck
  00032	32 c0		 xor	 al, al
$LN4@PkCheck:

; 292  : 	return true;
; 293  : }

  00034	5d		 pop	 ebp
  00035	c2 08 00	 ret	 8
?PkCheck@CDeviasBattle@@QAE_NPAUOBJECTSTRUCT@@0@Z ENDP	; CDeviasBattle::PkCheck
_TEXT	ENDS
PUBLIC	?ReturnStatus@CDeviasBattle@@QAEHHH@Z		; CDeviasBattle::ReturnStatus
; Function compile flags: /Ogtp
;	COMDAT ?ReturnStatus@CDeviasBattle@@QAEHHH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_TargetIndex$ = 12					; size = 4
?ReturnStatus@CDeviasBattle@@QAEHHH@Z PROC		; CDeviasBattle::ReturnStatus, COMDAT
; _this$ = ecx

; 296  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 297  : 	LPOBJ lpObj = &gObj[aIndex];
; 298  : 	LPOBJ lpTargetObj = &gObj[TargetIndex];

  00003	8b 45 0c	 mov	 eax, DWORD PTR _TargetIndex$[ebp]
  00006	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00009	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0000f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00015	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0001b	03 c2		 add	 eax, edx
  0001d	03 ca		 add	 ecx, edx

; 299  : 	//if(lpTargetObj->MapNumber == 0 && lpTargetObj->X >= 137 && lpTargetObj->X <= 144 && lpTargetObj->Y >= 124 && lpTargetObj->Y <= 131)
; 300  : 	if(lpTargetObj->MapNumber == 2 && lpTargetObj->X >= 144 && lpTargetObj->X <= 159 && lpTargetObj->Y >= 34 && lpTargetObj->Y <= 49)

  0001f	80 b8 49 01 00
	00 02		 cmp	 BYTE PTR [eax+329], 2
  00026	56		 push	 esi
  00027	75 38		 jne	 SHORT $LN4@ReturnStat
  00029	0f b7 90 44 01
	00 00		 movzx	 edx, WORD PTR [eax+324]
  00030	be 90 00 00 00	 mov	 esi, 144		; 00000090H
  00035	66 3b d6	 cmp	 dx, si
  00038	7c 27		 jl	 SHORT $LN4@ReturnStat
  0003a	be 9f 00 00 00	 mov	 esi, 159		; 0000009fH
  0003f	66 3b d6	 cmp	 dx, si
  00042	7f 1d		 jg	 SHORT $LN4@ReturnStat
  00044	0f b7 90 46 01
	00 00		 movzx	 edx, WORD PTR [eax+326]
  0004b	66 83 fa 22	 cmp	 dx, 34			; 00000022H
  0004f	7c 10		 jl	 SHORT $LN4@ReturnStat
  00051	66 83 fa 31	 cmp	 dx, 49			; 00000031H
  00055	7f 0a		 jg	 SHORT $LN4@ReturnStat
$LN7@ReturnStat:

; 301  : 	{
; 302  : 		return 6;

  00057	b8 06 00 00 00	 mov	 eax, 6
  0005c	5e		 pop	 esi

; 321  : 	}
; 322  : 
; 323  : }

  0005d	5d		 pop	 ebp
  0005e	c2 08 00	 ret	 8
$LN4@ReturnStat:

; 303  : 	}
; 304  : 	else if(lpObj->MapNumber == 2 && lpObj->X >= 144 && lpObj->X <= 159 && lpObj->Y >= 34 && lpObj->Y <= 49)

  00061	80 b9 49 01 00
	00 02		 cmp	 BYTE PTR [ecx+329], 2
  00068	75 2e		 jne	 SHORT $LN2@ReturnStat
  0006a	0f b7 91 44 01
	00 00		 movzx	 edx, WORD PTR [ecx+324]
  00071	be 90 00 00 00	 mov	 esi, 144		; 00000090H
  00076	66 3b d6	 cmp	 dx, si
  00079	7c 1d		 jl	 SHORT $LN2@ReturnStat
  0007b	be 9f 00 00 00	 mov	 esi, 159		; 0000009fH
  00080	66 3b d6	 cmp	 dx, si
  00083	7f 13		 jg	 SHORT $LN2@ReturnStat
  00085	0f b7 89 46 01
	00 00		 movzx	 ecx, WORD PTR [ecx+326]
  0008c	66 83 f9 22	 cmp	 cx, 34			; 00000022H
  00090	7c 06		 jl	 SHORT $LN2@ReturnStat
  00092	66 83 f9 31	 cmp	 cx, 49			; 00000031H

; 305  : 	{
; 306  : 		return 6;

  00096	7e bf		 jle	 SHORT $LN7@ReturnStat
$LN2@ReturnStat:

; 307  : 	}
; 308  : 	/*
; 309  : 	if(lpTargetObj->MapNumber == 0 && lpTargetObj->X >= 118 && lpTargetObj->X <= 153 && lpTargetObj->Y >= 110 && lpTargetObj->Y <= 150)
; 310  : 	{
; 311  : 		return 6;
; 312  : 	}
; 313  : 	else if(lpObj->MapNumber == 0 && lpObj->X >= 118 && lpObj->X <= 153 && lpObj->Y >= 110 && lpObj->Y <= 150)
; 314  : 	{
; 315  : 		return 6;
; 316  : 	}
; 317  : 	*/
; 318  : 	else
; 319  : 	{
; 320  : 		return (int)lpTargetObj->m_PK_Level;

  00098	0f be 80 3d 01
	00 00		 movsx	 eax, BYTE PTR [eax+317]
  0009f	5e		 pop	 esi

; 321  : 	}
; 322  : 
; 323  : }

  000a0	5d		 pop	 ebp
  000a1	c2 08 00	 ret	 8
?ReturnStatus@CDeviasBattle@@QAEHHH@Z ENDP		; CDeviasBattle::ReturnStatus
_TEXT	ENDS
PUBLIC	?CheckStartEvent@CDeviasBattle@@QAE_NXZ		; CDeviasBattle::CheckStartEvent
; Function compile flags: /Ogtp
;	COMDAT ?CheckStartEvent@CDeviasBattle@@QAE_NXZ
_TEXT	SEGMENT
?CheckStartEvent@CDeviasBattle@@QAE_NXZ PROC		; CDeviasBattle::CheckStartEvent, COMDAT
; _this$ = ecx

; 327  : 	if(!this->Enable || !this->Start)return false;

  00000	83 39 00	 cmp	 DWORD PTR [ecx], 0
  00003	74 09		 je	 SHORT $LN1@CheckStart
  00005	83 79 04 00	 cmp	 DWORD PTR [ecx+4], 0
  00009	74 03		 je	 SHORT $LN1@CheckStart

; 328  : 	return true;

  0000b	b0 01		 mov	 al, 1

; 329  : }

  0000d	c3		 ret	 0
$LN1@CheckStart:

; 327  : 	if(!this->Enable || !this->Start)return false;

  0000e	32 c0		 xor	 al, al

; 329  : }

  00010	c3		 ret	 0
?CheckStartEvent@CDeviasBattle@@QAE_NXZ ENDP		; CDeviasBattle::CheckStartEvent
_TEXT	ENDS
PUBLIC	??_C@_0BL@CIEBKFIP@?$FLDevias?5Battle?$FN?5Event?5End?$CB?$AA@ ; `string'
PUBLIC	??_C@_0CJ@OIOBDICK@?$FLDevias?5Battle?$FN?5Total?5Win?5?$CFd?0?5No@ ; `string'
PUBLIC	??_C@_0BJ@MLOJJNKI@?$FLDevias?5Battle?$FN?5Win?5?$CFs?5?$CB?$AA@ ; `string'
PUBLIC	?EndEvent@CDeviasBattle@@QAEXXZ			; CDeviasBattle::EndEvent
;	COMDAT ??_C@_0BL@CIEBKFIP@?$FLDevias?5Battle?$FN?5Event?5End?$CB?$AA@
CONST	SEGMENT
??_C@_0BL@CIEBKFIP@?$FLDevias?5Battle?$FN?5Event?5End?$CB?$AA@ DB '[Devia'
	DB	's Battle] Event End!', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@OIOBDICK@?$FLDevias?5Battle?$FN?5Total?5Win?5?$CFd?0?5No@
CONST	SEGMENT
??_C@_0CJ@OIOBDICK@?$FLDevias?5Battle?$FN?5Total?5Win?5?$CFd?0?5No@ DB '['
	DB	'Devias Battle] Total Win %d, No Reward!', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@MLOJJNKI@?$FLDevias?5Battle?$FN?5Win?5?$CFs?5?$CB?$AA@
CONST	SEGMENT
??_C@_0BJ@MLOJJNKI@?$FLDevias?5Battle?$FN?5Win?5?$CFs?5?$CB?$AA@ DB '[Dev'
	DB	'ias Battle] Win %s !', 00H			; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?EndEvent@CDeviasBattle@@QAEXXZ
_TEXT	SEGMENT
tv1497 = -4						; size = 4
tv1390 = -4						; size = 4
?EndEvent@CDeviasBattle@@QAEXXZ PROC			; CDeviasBattle::EndEvent, COMDAT
; _this$ = ecx

; 126  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx
  00005	56		 push	 esi
  00006	8b f1		 mov	 esi, ecx

; 127  : 	Start = false;

  00008	c7 46 04 00 00
	00 00		 mov	 DWORD PTR [esi+4], 0

; 128  : 	for(int j=OBJ_STARTUSERINDZT; j<OBJMAX; j++)

  0000f	8b 86 b8 0f 02
	00		 mov	 eax, DWORD PTR [esi+135096]
  00015	57		 push	 edi
  00016	b9 b2 36 00 00	 mov	 ecx, 14002		; 000036b2H
  0001b	8d 96 24 db 00
	00		 lea	 edx, DWORD PTR [esi+56100]
$LL21@EndEvent:

; 129  : 	{
; 130  : 		//MaxSocer = KillSocer[j];
; 131  : 		if(KillSocer[j] > MaxSocer)

  00021	8b 7a fc	 mov	 edi, DWORD PTR [edx-4]
  00024	3b f8		 cmp	 edi, eax
  00026	7e 11		 jle	 SHORT $LN20@EndEvent

; 132  : 		{
; 133  : 			MaxSocer = KillSocer[j];

  00028	8b c7		 mov	 eax, edi

; 134  : 			MaxIndex = j;

  0002a	8d 79 fe	 lea	 edi, DWORD PTR [ecx-2]
  0002d	89 86 b8 0f 02
	00		 mov	 DWORD PTR [esi+135096], eax
  00033	89 be bc 0f 02
	00		 mov	 DWORD PTR [esi+135100], edi
$LN20@EndEvent:

; 129  : 	{
; 130  : 		//MaxSocer = KillSocer[j];
; 131  : 		if(KillSocer[j] > MaxSocer)

  00039	8b 3a		 mov	 edi, DWORD PTR [edx]
  0003b	3b f8		 cmp	 edi, eax
  0003d	7e 11		 jle	 SHORT $LN33@EndEvent

; 132  : 		{
; 133  : 			MaxSocer = KillSocer[j];

  0003f	8b c7		 mov	 eax, edi

; 134  : 			MaxIndex = j;

  00041	8d 79 ff	 lea	 edi, DWORD PTR [ecx-1]
  00044	89 86 b8 0f 02
	00		 mov	 DWORD PTR [esi+135096], eax
  0004a	89 be bc 0f 02
	00		 mov	 DWORD PTR [esi+135100], edi
$LN33@EndEvent:

; 129  : 	{
; 130  : 		//MaxSocer = KillSocer[j];
; 131  : 		if(KillSocer[j] > MaxSocer)

  00050	8b 7a 04	 mov	 edi, DWORD PTR [edx+4]
  00053	3b f8		 cmp	 edi, eax
  00055	7e 0e		 jle	 SHORT $LN34@EndEvent

; 132  : 		{
; 133  : 			MaxSocer = KillSocer[j];

  00057	8b c7		 mov	 eax, edi
  00059	89 86 b8 0f 02
	00		 mov	 DWORD PTR [esi+135096], eax

; 134  : 			MaxIndex = j;

  0005f	89 8e bc 0f 02
	00		 mov	 DWORD PTR [esi+135100], ecx
$LN34@EndEvent:

; 129  : 	{
; 130  : 		//MaxSocer = KillSocer[j];
; 131  : 		if(KillSocer[j] > MaxSocer)

  00065	8b 7a 08	 mov	 edi, DWORD PTR [edx+8]
  00068	3b f8		 cmp	 edi, eax
  0006a	7e 11		 jle	 SHORT $LN35@EndEvent

; 132  : 		{
; 133  : 			MaxSocer = KillSocer[j];

  0006c	8b c7		 mov	 eax, edi

; 134  : 			MaxIndex = j;

  0006e	8d 79 01	 lea	 edi, DWORD PTR [ecx+1]
  00071	89 86 b8 0f 02
	00		 mov	 DWORD PTR [esi+135096], eax
  00077	89 be bc 0f 02
	00		 mov	 DWORD PTR [esi+135100], edi
$LN35@EndEvent:

; 129  : 	{
; 130  : 		//MaxSocer = KillSocer[j];
; 131  : 		if(KillSocer[j] > MaxSocer)

  0007d	8b 7a 0c	 mov	 edi, DWORD PTR [edx+12]
  00080	3b f8		 cmp	 edi, eax
  00082	7e 11		 jle	 SHORT $LN36@EndEvent

; 132  : 		{
; 133  : 			MaxSocer = KillSocer[j];

  00084	8b c7		 mov	 eax, edi

; 134  : 			MaxIndex = j;

  00086	8d 79 02	 lea	 edi, DWORD PTR [ecx+2]
  00089	89 86 b8 0f 02
	00		 mov	 DWORD PTR [esi+135096], eax
  0008f	89 be bc 0f 02
	00		 mov	 DWORD PTR [esi+135100], edi
$LN36@EndEvent:

; 128  : 	for(int j=OBJ_STARTUSERINDZT; j<OBJMAX; j++)

  00095	83 c1 05	 add	 ecx, 5
  00098	8d 79 fe	 lea	 edi, DWORD PTR [ecx-2]
  0009b	83 c2 14	 add	 edx, 20			; 00000014H
  0009e	81 ff 98 3a 00
	00		 cmp	 edi, 15000		; 00003a98H
  000a4	0f 8c 77 ff ff
	ff		 jl	 $LL21@EndEvent

; 135  : 		}
; 136  : 	}
; 137  : 
; 138  : 	int TotalWin = 0;

  000aa	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000b0	33 d2		 xor	 edx, edx
  000b2	81 c7 54 d2 40
	09		 add	 edi, 155243092		; 0940d254H
  000b8	8d 86 24 db 00
	00		 lea	 eax, DWORD PTR [esi+56100]
  000be	c7 45 fc c8 00
	00 00		 mov	 DWORD PTR tv1390[ebp], 200 ; 000000c8H
$LL45@EndEvent:

; 141  : 	{
; 142  : 		if(KillSocer[l] == 0)

  000c5	8b 48 fc	 mov	 ecx, DWORD PTR [eax-4]

; 146  : 		{
; 147  : 			LPOBJ lpObj = &gObj[l];
; 148  : 			if(lpObj->Connected == PLAYER_PLAYING)

  000c8	bb 03 00 00 00	 mov	 ebx, 3
  000cd	85 c9		 test	 ecx, ecx
  000cf	74 11		 je	 SHORT $LN16@EndEvent

; 143  : 			continue;
; 144  : 
; 145  : 		if(MaxSocer == KillSocer[l])

  000d1	39 8e b8 0f 02
	00		 cmp	 DWORD PTR [esi+135096], ecx
  000d7	75 09		 jne	 SHORT $LN16@EndEvent

; 146  : 		{
; 147  : 			LPOBJ lpObj = &gObj[l];
; 148  : 			if(lpObj->Connected == PLAYER_PLAYING)

  000d9	39 9f b0 d4 ff
	ff		 cmp	 DWORD PTR [edi-11088], ebx
  000df	75 01		 jne	 SHORT $LN16@EndEvent

; 149  : 			{
; 150  : 				TotalWin++;

  000e1	42		 inc	 edx
$LN16@EndEvent:

; 141  : 	{
; 142  : 		if(KillSocer[l] == 0)

  000e2	8b 08		 mov	 ecx, DWORD PTR [eax]
  000e4	85 c9		 test	 ecx, ecx
  000e6	74 0d		 je	 SHORT $LN38@EndEvent

; 143  : 			continue;
; 144  : 
; 145  : 		if(MaxSocer == KillSocer[l])

  000e8	39 8e b8 0f 02
	00		 cmp	 DWORD PTR [esi+135096], ecx
  000ee	75 05		 jne	 SHORT $LN38@EndEvent

; 146  : 		{
; 147  : 			LPOBJ lpObj = &gObj[l];
; 148  : 			if(lpObj->Connected == PLAYER_PLAYING)

  000f0	39 1f		 cmp	 DWORD PTR [edi], ebx
  000f2	75 01		 jne	 SHORT $LN38@EndEvent

; 149  : 			{
; 150  : 				TotalWin++;

  000f4	42		 inc	 edx
$LN38@EndEvent:

; 141  : 	{
; 142  : 		if(KillSocer[l] == 0)

  000f5	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  000f8	85 c9		 test	 ecx, ecx
  000fa	74 11		 je	 SHORT $LN39@EndEvent

; 143  : 			continue;
; 144  : 
; 145  : 		if(MaxSocer == KillSocer[l])

  000fc	39 8e b8 0f 02
	00		 cmp	 DWORD PTR [esi+135096], ecx
  00102	75 09		 jne	 SHORT $LN39@EndEvent

; 146  : 		{
; 147  : 			LPOBJ lpObj = &gObj[l];
; 148  : 			if(lpObj->Connected == PLAYER_PLAYING)

  00104	39 9f 50 2b 00
	00		 cmp	 DWORD PTR [edi+11088], ebx
  0010a	75 01		 jne	 SHORT $LN39@EndEvent

; 149  : 			{
; 150  : 				TotalWin++;

  0010c	42		 inc	 edx
$LN39@EndEvent:

; 141  : 	{
; 142  : 		if(KillSocer[l] == 0)

  0010d	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00110	85 c9		 test	 ecx, ecx
  00112	74 11		 je	 SHORT $LN40@EndEvent

; 143  : 			continue;
; 144  : 
; 145  : 		if(MaxSocer == KillSocer[l])

  00114	39 8e b8 0f 02
	00		 cmp	 DWORD PTR [esi+135096], ecx
  0011a	75 09		 jne	 SHORT $LN40@EndEvent

; 146  : 		{
; 147  : 			LPOBJ lpObj = &gObj[l];
; 148  : 			if(lpObj->Connected == PLAYER_PLAYING)

  0011c	39 9f a0 56 00
	00		 cmp	 DWORD PTR [edi+22176], ebx
  00122	75 01		 jne	 SHORT $LN40@EndEvent

; 149  : 			{
; 150  : 				TotalWin++;

  00124	42		 inc	 edx
$LN40@EndEvent:

; 141  : 	{
; 142  : 		if(KillSocer[l] == 0)

  00125	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00128	85 c9		 test	 ecx, ecx
  0012a	74 11		 je	 SHORT $LN46@EndEvent

; 143  : 			continue;
; 144  : 
; 145  : 		if(MaxSocer == KillSocer[l])

  0012c	39 8e b8 0f 02
	00		 cmp	 DWORD PTR [esi+135096], ecx
  00132	75 09		 jne	 SHORT $LN46@EndEvent

; 146  : 		{
; 147  : 			LPOBJ lpObj = &gObj[l];
; 148  : 			if(lpObj->Connected == PLAYER_PLAYING)

  00134	39 9f f0 81 00
	00		 cmp	 DWORD PTR [edi+33264], ebx
  0013a	75 01		 jne	 SHORT $LN46@EndEvent

; 149  : 			{
; 150  : 				TotalWin++;

  0013c	42		 inc	 edx
$LN46@EndEvent:

; 135  : 		}
; 136  : 	}
; 137  : 
; 138  : 	int TotalWin = 0;

  0013d	83 c0 14	 add	 eax, 20			; 00000014H
  00140	81 c7 90 d8 00
	00		 add	 edi, 55440		; 0000d890H

; 139  : 
; 140  : 	for(int l=OBJ_STARTUSERINDZT; l<OBJMAX; l++)

  00146	ff 4d fc	 dec	 DWORD PTR tv1390[ebp]
  00149	0f 85 76 ff ff
	ff		 jne	 $LL45@EndEvent

; 151  : 			}
; 152  : 		}
; 153  : 	}
; 154  : 
; 155  : 	if(TotalWin == 1)

  0014f	83 fa 01	 cmp	 edx, 1
  00152	75 5f		 jne	 SHORT $LN11@EndEvent

; 156  : 	{
; 157  : 		for(int l=OBJ_STARTUSERINDZT; l<OBJMAX; l++)

  00154	8d 86 20 db 00
	00		 lea	 eax, DWORD PTR [esi+56096]
  0015a	bb b0 36 00 00	 mov	 ebx, 14000		; 000036b0H
  0015f	bf 00 a7 40 09	 mov	 edi, 155232000		; 0940a700H
  00164	89 45 fc	 mov	 DWORD PTR tv1497[ebp], eax
$LL10@EndEvent:

; 158  : 		{
; 159  : 			if(KillSocer[l] == 0)

  00167	8b 4d fc	 mov	 ecx, DWORD PTR tv1497[ebp]
  0016a	8b 01		 mov	 eax, DWORD PTR [ecx]
  0016c	85 c0		 test	 eax, eax
  0016e	74 2e		 je	 SHORT $LN9@EndEvent

; 160  : 				continue;
; 161  : 
; 162  : 			if(MaxSocer == KillSocer[l])

  00170	39 86 b8 0f 02
	00		 cmp	 DWORD PTR [esi+135096], eax
  00176	75 26		 jne	 SHORT $LN9@EndEvent

; 163  : 			{
; 164  : 				LPOBJ lpObj = &gObj[l];
; 165  : 				if(lpObj->Connected == PLAYER_PLAYING)

  00178	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0017d	83 7c 07 04 03	 cmp	 DWORD PTR [edi+eax+4], 3
  00182	75 1a		 jne	 SHORT $LN9@EndEvent

; 166  : 				{
; 167  : 					MessaageAllGlobal("[Devias Battle] Win %s !",lpObj->Name);

  00184	8d 54 07 77	 lea	 edx, DWORD PTR [edi+eax+119]
  00188	52		 push	 edx
  00189	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@MLOJJNKI@?$FLDevias?5Battle?$FN?5Win?5?$CFs?5?$CB?$AA@
  0018e	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  00193	83 c4 08	 add	 esp, 8

; 168  : 					Reward(l);

  00196	53		 push	 ebx
  00197	8b ce		 mov	 ecx, esi
  00199	e8 00 00 00 00	 call	 ?Reward@CDeviasBattle@@QAEXH@Z ; CDeviasBattle::Reward
$LN9@EndEvent:

; 156  : 	{
; 157  : 		for(int l=OBJ_STARTUSERINDZT; l<OBJMAX; l++)

  0019e	83 45 fc 04	 add	 DWORD PTR tv1497[ebp], 4
  001a2	81 c7 50 2b 00
	00		 add	 edi, 11088		; 00002b50H
  001a8	43		 inc	 ebx
  001a9	81 ff 80 d7 e9
	09		 cmp	 edi, 166320000		; 09e9d780H
  001af	7c b6		 jl	 SHORT $LL10@EndEvent

; 169  : 				}
; 170  : 			}
; 171  : 		}
; 172  : 	}
; 173  : 	else

  001b1	eb 0e		 jmp	 SHORT $LN4@EndEvent
$LN11@EndEvent:

; 174  : 	{
; 175  : 		MessaageAllGlobal("[Devias Battle] Total Win %d, No Reward!", TotalWin);

  001b3	52		 push	 edx
  001b4	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@OIOBDICK@?$FLDevias?5Battle?$FN?5Total?5Win?5?$CFd?0?5No@
  001b9	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  001be	83 c4 08	 add	 esp, 8
$LN4@EndEvent:

; 176  : 	}
; 177  : 	
; 178  :  	MessaageAllGlobal("[Devias Battle] Event End!");

  001c1	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@CIEBKFIP@?$FLDevias?5Battle?$FN?5Event?5End?$CB?$AA@
  001c6	e8 00 00 00 00	 call	 ?MessaageAllGlobal@@YAXPADZZ ; MessaageAllGlobal
  001cb	83 c4 04	 add	 esp, 4
  001ce	8d be 20 db 00
	00		 lea	 edi, DWORD PTR [esi+56096]

; 179  : 
; 180  : 	for(int i=OBJ_STARTUSERINDZT; i<OBJMAX; i++)
; 181  : 	{
; 182  : 		LPOBJ lpObj = &gObj[i];
; 183  : 		KillSocer[i] = 0;

  001d4	33 c0		 xor	 eax, eax
  001d6	b9 e8 03 00 00	 mov	 ecx, 1000		; 000003e8H
  001db	f3 ab		 rep stosd
  001dd	5f		 pop	 edi

; 184  : 		
; 185  : 		
; 186  : 	}
; 187  : 
; 188  : 	MaxSocer = 0;

  001de	89 86 b8 0f 02
	00		 mov	 DWORD PTR [esi+135096], eax
  001e4	5e		 pop	 esi
  001e5	5b		 pop	 ebx

; 189  : }

  001e6	8b e5		 mov	 esp, ebp
  001e8	5d		 pop	 ebp
  001e9	c3		 ret	 0
?EndEvent@CDeviasBattle@@QAEXXZ ENDP			; CDeviasBattle::EndEvent
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?TickTime@CDeviasBattle@@QAEXXZ			; CDeviasBattle::TickTime
EXTRN	?GetSecond@CTimerZt@@QAEHXZ:PROC		; CTimerZt::GetSecond
EXTRN	?g_TimerZt@@3VCTimerZt@@A:DWORD			; g_TimerZt
EXTRN	__imp__GetLocalTime@4:PROC
; Function compile flags: /Ogtp
;	COMDAT ?TickTime@CDeviasBattle@@QAEXXZ
_TEXT	SEGMENT
_time$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
?TickTime@CDeviasBattle@@QAEXXZ PROC			; CDeviasBattle::TickTime, COMDAT
; _this$ = ecx

; 192  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	57		 push	 edi
  00011	8b f9		 mov	 edi, ecx

; 193  : 	if(!Enable) return;

  00013	83 3f 00	 cmp	 DWORD PTR [edi], 0
  00016	74 7f		 je	 SHORT $LN6@TickTime

; 194  : 	SYSTEMTIME time;
; 195  : 	GetLocalTime(&time);

  00018	8d 45 ec	 lea	 eax, DWORD PTR _time$[ebp]
  0001b	50		 push	 eax
  0001c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetLocalTime@4

; 196  : 
; 197  : #if(NEWTIMEREX)
; 198  : 	if(g_TimerZt.GetSecond() == 00)

  00022	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_TimerZt@@3VCTimerZt@@A ; g_TimerZt
  00027	e8 00 00 00 00	 call	 ?GetSecond@CTimerZt@@QAEHXZ ; CTimerZt::GetSecond
  0002c	85 c0		 test	 eax, eax
  0002e	75 67		 jne	 SHORT $LN6@TickTime

; 199  : #else
; 200  : 	if(time.wSecond == 00)
; 201  : #endif
; 202  : 	{
; 203  : 		for(int i = 0; i < Count; i++)

  00030	53		 push	 ebx
  00031	33 db		 xor	 ebx, ebx
  00033	39 9f c0 1c 02
	00		 cmp	 DWORD PTR [edi+138432], ebx
  00039	7e 5b		 jle	 SHORT $LN16@TickTime
  0003b	56		 push	 esi
  0003c	8d b7 c4 10 02
	00		 lea	 esi, DWORD PTR [edi+135364]
$LL8@TickTime:

; 204  : 		{
; 205  : 			if(Time[i].StrHour == time.wHour && Time[i].StrMin == time.wMinute)

  00042	0f b7 45 f4	 movzx	 eax, WORD PTR _time$[ebp+8]
  00046	66 8b 4d f6	 mov	 cx, WORD PTR _time$[ebp+10]
  0004a	39 46 fc	 cmp	 DWORD PTR [esi-4], eax
  0004d	75 10		 jne	 SHORT $LN5@TickTime
  0004f	0f b7 d1	 movzx	 edx, cx
  00052	39 16		 cmp	 DWORD PTR [esi], edx
  00054	75 09		 jne	 SHORT $LN5@TickTime

; 206  : 			{
; 207  : 
; 208  : 				Start1min();

  00056	8b cf		 mov	 ecx, edi
  00058	e8 00 00 00 00	 call	 ?Start1min@CDeviasBattle@@QAEXXZ ; CDeviasBattle::Start1min
  0005d	eb 2a		 jmp	 SHORT $LN7@TickTime
$LN5@TickTime:

; 209  : 			}
; 210  : 
; 211  : 			else if(Time[i].Hour == time.wHour && Time[i].Min == time.wMinute)

  0005f	39 46 04	 cmp	 DWORD PTR [esi+4], eax
  00062	75 11		 jne	 SHORT $LN3@TickTime
  00064	0f b7 d1	 movzx	 edx, cx
  00067	39 56 08	 cmp	 DWORD PTR [esi+8], edx
  0006a	75 09		 jne	 SHORT $LN3@TickTime

; 212  : 			{
; 213  : 
; 214  : 				StartEvent();

  0006c	8b cf		 mov	 ecx, edi
  0006e	e8 00 00 00 00	 call	 ?StartEvent@CDeviasBattle@@QAEXXZ ; CDeviasBattle::StartEvent
  00073	eb 14		 jmp	 SHORT $LN7@TickTime
$LN3@TickTime:

; 215  : 			}
; 216  : 			else if(Time[i].EndHour == time.wHour && Time[i].EndMin == time.wMinute)

  00075	39 46 0c	 cmp	 DWORD PTR [esi+12], eax
  00078	75 0f		 jne	 SHORT $LN7@TickTime
  0007a	0f b7 c1	 movzx	 eax, cx
  0007d	39 46 10	 cmp	 DWORD PTR [esi+16], eax
  00080	75 07		 jne	 SHORT $LN7@TickTime

; 217  : 			{
; 218  : 
; 219  : 				EndEvent();

  00082	8b cf		 mov	 ecx, edi
  00084	e8 00 00 00 00	 call	 ?EndEvent@CDeviasBattle@@QAEXXZ ; CDeviasBattle::EndEvent
$LN7@TickTime:

; 199  : #else
; 200  : 	if(time.wSecond == 00)
; 201  : #endif
; 202  : 	{
; 203  : 		for(int i = 0; i < Count; i++)

  00089	43		 inc	 ebx
  0008a	83 c6 18	 add	 esi, 24			; 00000018H
  0008d	3b 9f c0 1c 02
	00		 cmp	 ebx, DWORD PTR [edi+138432]
  00093	7c ad		 jl	 SHORT $LL8@TickTime
  00095	5e		 pop	 esi
$LN16@TickTime:
  00096	5b		 pop	 ebx
$LN6@TickTime:

; 220  : 			}
; 221  : 		}
; 222  : 	}
; 223  : }

  00097	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0009a	33 cd		 xor	 ecx, ebp
  0009c	5f		 pop	 edi
  0009d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000a2	8b e5		 mov	 esp, ebp
  000a4	5d		 pop	 ebp
  000a5	c3		 ret	 0
?TickTime@CDeviasBattle@@QAEXXZ ENDP			; CDeviasBattle::TickTime
_TEXT	ENDS
END
