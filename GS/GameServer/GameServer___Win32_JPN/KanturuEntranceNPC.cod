; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	E:\work\tranet_version\GS\GameServer\KanturuEntranceNPC.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi
  00004	8b 7d 10	 mov	 edi, DWORD PTR ___n$[ebp]
  00007	4f		 dec	 edi
  00008	78 14		 js	 SHORT $LN1@vector
  0000a	53		 push	 ebx
  0000b	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00012	8b ce		 mov	 ecx, esi
  00014	ff d3		 call	 ebx
  00016	03 75 0c	 add	 esi, DWORD PTR ___s$[ebp]
  00019	4f		 dec	 edi
  0001a	79 f6		 jns	 SHORT $LL2@vector
  0001c	5e		 pop	 esi
  0001d	5b		 pop	 ebx
$LN1@vector:
  0001e	5f		 pop	 edi
  0001f	5d		 pop	 ebp
  00020	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?GetKanturuState@CKanturu@@QAEHXZ		; CKanturu::GetKanturuState
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\kanturu.h
;	COMDAT ?GetKanturuState@CKanturu@@QAEHXZ
_TEXT	SEGMENT
?GetKanturuState@CKanturu@@QAEHXZ PROC			; CKanturu::GetKanturuState, COMDAT
; _this$ = ecx

; 71   : 	int GetKanturuState(){return this->m_iKanturuState;}

  00000	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00003	c3		 ret	 0
?GetKanturuState@CKanturu@@QAEHXZ ENDP			; CKanturu::GetKanturuState
_TEXT	ENDS
PUBLIC	??_7CKanturuEntranceNPC@@6B@			; CKanturuEntranceNPC::`vftable'
PUBLIC	??0CKanturuEntranceNPC@@QAE@XZ			; CKanturuEntranceNPC::CKanturuEntranceNPC
PUBLIC	??_R4CKanturuEntranceNPC@@6B@			; CKanturuEntranceNPC::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCKanturuEntranceNPC@@@8			; CKanturuEntranceNPC `RTTI Type Descriptor'
PUBLIC	??_R3CKanturuEntranceNPC@@8			; CKanturuEntranceNPC::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CKanturuEntranceNPC@@8			; CKanturuEntranceNPC::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CKanturuEntranceNPC@@8		; CKanturuEntranceNPC::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECKanturuEntranceNPC@@UAEPAXI@Z:PROC		; CKanturuEntranceNPC::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CKanturuEntranceNPC@@8
; File e:\work\tranet_version\gs\gameserver\kanturuentrancenpc.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CKanturuEntranceNPC@@8 DD FLAT:??_R0?AVCKanturuEntranceNPC@@@8 ; CKanturuEntranceNPC::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CKanturuEntranceNPC@@8
rdata$r	ENDS
;	COMDAT ??_R2CKanturuEntranceNPC@@8
rdata$r	SEGMENT
??_R2CKanturuEntranceNPC@@8 DD FLAT:??_R1A@?0A@EA@CKanturuEntranceNPC@@8 ; CKanturuEntranceNPC::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CKanturuEntranceNPC@@8
rdata$r	SEGMENT
??_R3CKanturuEntranceNPC@@8 DD 00H			; CKanturuEntranceNPC::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CKanturuEntranceNPC@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCKanturuEntranceNPC@@@8
_DATA	SEGMENT
??_R0?AVCKanturuEntranceNPC@@@8 DD FLAT:??_7type_info@@6B@ ; CKanturuEntranceNPC `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCKanturuEntranceNPC@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CKanturuEntranceNPC@@6B@
rdata$r	SEGMENT
??_R4CKanturuEntranceNPC@@6B@ DD 00H			; CKanturuEntranceNPC::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCKanturuEntranceNPC@@@8
	DD	FLAT:??_R3CKanturuEntranceNPC@@8
rdata$r	ENDS
;	COMDAT ??_7CKanturuEntranceNPC@@6B@
CONST	SEGMENT
??_7CKanturuEntranceNPC@@6B@ DD FLAT:??_R4CKanturuEntranceNPC@@6B@ ; CKanturuEntranceNPC::`vftable'
	DD	FLAT:??_ECKanturuEntranceNPC@@UAEPAXI@Z
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ??0CKanturuEntranceNPC@@QAE@XZ
_TEXT	SEGMENT
??0CKanturuEntranceNPC@@QAE@XZ PROC			; CKanturuEntranceNPC::CKanturuEntranceNPC, COMDAT
; _this$ = ecx

; 25   : {

  00000	8b c1		 mov	 eax, ecx
  00002	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CKanturuEntranceNPC@@6B@

; 26   : 	return;
; 27   : }

  00008	c3		 ret	 0
??0CKanturuEntranceNPC@@QAE@XZ ENDP			; CKanturuEntranceNPC::CKanturuEntranceNPC
_TEXT	ENDS
PUBLIC	??1CKanturuEntranceNPC@@UAE@XZ			; CKanturuEntranceNPC::~CKanturuEntranceNPC
; Function compile flags: /Ogtp
;	COMDAT ??1CKanturuEntranceNPC@@UAE@XZ
_TEXT	SEGMENT
??1CKanturuEntranceNPC@@UAE@XZ PROC			; CKanturuEntranceNPC::~CKanturuEntranceNPC, COMDAT
; _this$ = ecx

; 30   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CKanturuEntranceNPC@@6B@

; 31   : 	return;
; 32   : }

  00006	c3		 ret	 0
??1CKanturuEntranceNPC@@UAE@XZ ENDP			; CKanturuEntranceNPC::~CKanturuEntranceNPC
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?NotifyEntranceInfo@CKanturuEntranceNPC@@QAEXH@Z ; CKanturuEntranceNPC::NotifyEntranceInfo
EXTRN	?SendDataToUser@CKanturuUtil@@QAEXHPAEH@Z:PROC	; CKanturuUtil::SendDataToUser
EXTRN	?GetRemainTime@CKanturu@@QAEHXZ:PROC		; CKanturu::GetRemainTime
EXTRN	?GetUserCount@CKanturuBattleUserMng@@QAEHXZ:PROC ; CKanturuBattleUserMng::GetUserCount
EXTRN	?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A:BYTE ; g_KanturuBattleUserMng
EXTRN	?CheckCanEnterKanturuBattle@CKanturu@@QAEHXZ:PROC ; CKanturu::CheckCanEnterKanturuBattle
EXTRN	?GetKanturuDetailState@CKanturu@@QAEHXZ:PROC	; CKanturu::GetKanturuDetailState
EXTRN	?g_Kanturu@@3VCKanturu@@A:BYTE			; g_Kanturu
EXTRN	?PHeadSubSetB@@YAXPAEEEH@Z:PROC			; PHeadSubSetB
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
; Function compile flags: /Ogtp
;	COMDAT ?NotifyEntranceInfo@CKanturuEntranceNPC@@QAEXH@Z
_TEXT	SEGMENT
_pMsg$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_iIndex$ = 8						; size = 4
?NotifyEntranceInfo@CKanturuEntranceNPC@@QAEXH@Z PROC	; CKanturuEntranceNPC::NotifyEntranceInfo, COMDAT
; _this$ = ecx

; 47   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 48   : 	PMSG_ANS_KANTURU_STATE_INFO pMsg = {0};

  00010	33 c0		 xor	 eax, eax
  00012	53		 push	 ebx

; 49   : 
; 50   : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x00, sizeof(pMsg));

  00013	6a 0c		 push	 12			; 0000000cH
  00015	50		 push	 eax
  00016	88 45 f0	 mov	 BYTE PTR _pMsg$[ebp], al
  00019	89 45 f1	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  0001c	89 45 f5	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  0001f	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+9], ax
  00023	88 45 fb	 mov	 BYTE PTR _pMsg$[ebp+11], al
  00026	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00029	68 d1 00 00 00	 push	 209			; 000000d1H
  0002e	50		 push	 eax
  0002f	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 51   : 	int iCurrentState = g_Kanturu.GetKanturuState();

  00034	8b 1d 08 00 00
	00		 mov	 ebx, DWORD PTR ?g_Kanturu@@3VCKanturu@@A+8
  0003a	83 c4 10	 add	 esp, 16			; 00000010H

; 52   : 	int iCurrentDetailState = g_Kanturu.GetKanturuDetailState();

  0003d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Kanturu@@3VCKanturu@@A ; g_Kanturu
  00042	e8 00 00 00 00	 call	 ?GetKanturuDetailState@CKanturu@@QAEHXZ ; CKanturu::GetKanturuDetailState

; 53   : 	pMsg.btState = iCurrentState;
; 54   : 	pMsg.btDetailState = iCurrentDetailState;
; 55   : 	pMsg.btEnter = g_Kanturu.CheckCanEnterKanturuBattle();

  00047	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Kanturu@@3VCKanturu@@A ; g_Kanturu
  0004c	88 5d f4	 mov	 BYTE PTR _pMsg$[ebp+4], bl
  0004f	88 45 f5	 mov	 BYTE PTR _pMsg$[ebp+5], al
  00052	e8 00 00 00 00	 call	 ?CheckCanEnterKanturuBattle@CKanturu@@QAEHXZ ; CKanturu::CheckCanEnterKanturuBattle

; 56   : 	pMsg.btUserCount = g_KanturuBattleUserMng.GetUserCount();

  00057	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A ; g_KanturuBattleUserMng
  0005c	88 45 f6	 mov	 BYTE PTR _pMsg$[ebp+6], al
  0005f	e8 00 00 00 00	 call	 ?GetUserCount@CKanturuBattleUserMng@@QAEHXZ ; CKanturuBattleUserMng::GetUserCount

; 57   : 	pMsg.iRemainTime = g_Kanturu.GetRemainTime();

  00064	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Kanturu@@3VCKanturu@@A ; g_Kanturu
  00069	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+7], al
  0006c	e8 00 00 00 00	 call	 ?GetRemainTime@CKanturu@@QAEHXZ ; CKanturu::GetRemainTime

; 58   : 
; 59   : 	KANTURU_UTIL.SendDataToUser(iIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00071	8b 55 08	 mov	 edx, DWORD PTR _iIndex$[ebp]
  00074	6a 0c		 push	 12			; 0000000cH
  00076	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00079	51		 push	 ecx
  0007a	52		 push	 edx
  0007b	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  00080	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+8], eax
  00083	e8 00 00 00 00	 call	 ?SendDataToUser@CKanturuUtil@@QAEXHPAEH@Z ; CKanturuUtil::SendDataToUser

; 60   : }

  00088	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0008b	33 cd		 xor	 ecx, ebp
  0008d	5b		 pop	 ebx
  0008e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00093	8b e5		 mov	 esp, ebp
  00095	5d		 pop	 ebp
  00096	c2 04 00	 ret	 4
?NotifyEntranceInfo@CKanturuEntranceNPC@@QAEXH@Z ENDP	; CKanturuEntranceNPC::NotifyEntranceInfo
_TEXT	ENDS
PUBLIC	??_C@_0DP@FPALCGEM@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Fail?5@ ; `string'
PUBLIC	??_C@_0DP@OECGBDJN@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Error@ ; `string'
PUBLIC	??_C@_0MK@ODKKBILD@?$FL?5KANTURU?5?$FN?$FL?5Battle?5User?5?$FN?5Add?5U@ ; `string'
PUBLIC	?NotifyResultEnterKanturuBossMap@CKanturuEntranceNPC@@QAEXH@Z ; CKanturuEntranceNPC::NotifyResultEnterKanturuBossMap
EXTRN	?NotifyKanturuEntranceReqResult@CKanturuUtil@@QAEXHH@Z:PROC ; CKanturuUtil::NotifyKanturuEntranceReqResult
EXTRN	?NotifyKanturuCurrentState@CKanturuUtil@@QAEXHHH@Z:PROC ; CKanturuUtil::NotifyKanturuCurrentState
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?AddUserData@CKanturuBattleUserMng@@QAEHH@Z:PROC ; CKanturuBattleUserMng::AddUserData
EXTRN	?gObjMoveGate@@YAHHH@Z:PROC			; gObjMoveGate
EXTRN	?CheckEnterKanturu@CKanturu@@QAEHH@Z:PROC	; CKanturu::CheckEnterKanturu
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
;	COMDAT ??_C@_0DP@FPALCGEM@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Fail?5@
; File e:\work\tranet_version\gs\gameserver\kanturu.h
CONST	SEGMENT
??_C@_0DP@FPALCGEM@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Fail?5@ DB '['
	DB	' KANTURU ][ BossMapMove ] Fail - Result(%d) Character[%s][%s]'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0DP@OECGBDJN@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Error@
CONST	SEGMENT
??_C@_0DP@OECGBDJN@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Error@ DB '['
	DB	' KANTURU ][ BossMapMove ] Error - State(%d) Character[%s][%s]'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0MK@ODKKBILD@?$FL?5KANTURU?5?$FN?$FL?5Battle?5User?5?$FN?5Add?5U@
CONST	SEGMENT
??_C@_0MK@ODKKBILD@?$FL?5KANTURU?5?$FN?$FL?5Battle?5User?5?$FN?5Add?5U@ DB '['
	DB	' KANTURU ][ Battle User ] Add User [%s][%s] Current Battle Us'
	DB	'er:%d State:[%d-%d] (CharInfoSave : Class=%d, Level=%d, LvPoi'
	DB	'nt=%d, Exp=%u, Str=%d, Dex=%d, Vit=%d, Energy=%d, LeaderShip='
	DB	'%d, Map=%d, Pk=%d', 00H			; `string'
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\kanturuentrancenpc.cpp
CONST	ENDS
;	COMDAT ?NotifyResultEnterKanturuBossMap@CKanturuEntranceNPC@@QAEXH@Z
_TEXT	SEGMENT
tv258 = -4						; size = 4
$T203088 = 8						; size = 4
_lpObj$ = 8						; size = 4
_iIndex$ = 8						; size = 4
?NotifyResultEnterKanturuBossMap@CKanturuEntranceNPC@@QAEXH@Z PROC ; CKanturuEntranceNPC::NotifyResultEnterKanturuBossMap, COMDAT
; _this$ = ecx

; 65   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx

; 66   : 	if ( !gObjIsConnected(iIndex))

  00005	8b 5d 08	 mov	 ebx, DWORD PTR _iIndex$[ebp]
  00008	53		 push	 ebx
  00009	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0000e	83 c4 04	 add	 esp, 4
  00011	85 c0		 test	 eax, eax
  00013	0f 84 ce 01 00
	00		 je	 $LN1@NotifyResu

; 67   : 	{
; 68   : 		return;
; 69   : 	}
; 70   : 
; 71   : 	LPOBJ lpObj = &gObj[iIndex];

  00019	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001e	56		 push	 esi
  0001f	57		 push	 edi
  00020	8b fb		 mov	 edi, ebx
  00022	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00028	8d 0c 07	 lea	 ecx, DWORD PTR [edi+eax]
  0002b	89 4d 08	 mov	 DWORD PTR _lpObj$[ebp], ecx

; 72   : 	BOOL bMoveGateSuccess = FALSE;
; 73   : 	int iResult = g_Kanturu.CheckEnterKanturu(iIndex);

  0002e	53		 push	 ebx
  0002f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Kanturu@@3VCKanturu@@A ; g_Kanturu
  00034	e8 00 00 00 00	 call	 ?CheckEnterKanturu@CKanturu@@QAEHH@Z ; CKanturu::CheckEnterKanturu
  00039	8b f0		 mov	 esi, eax

; 74   : 
; 75   : 	if ( iResult == 0 )

  0003b	85 f6		 test	 esi, esi
  0003d	0f 85 6b 01 00
	00		 jne	 $LN7@NotifyResu

; 76   : 	{
; 77   : 		int iCurrentState = g_Kanturu.GetKanturuState();

  00043	a1 08 00 00 00	 mov	 eax, DWORD PTR ?g_Kanturu@@3VCKanturu@@A+8

; 78   : 
; 79   : 		if ( iCurrentState == KANTURU_STATE_BATTLE_OF_MAYA )

  00048	83 f8 02	 cmp	 eax, 2
  0004b	0f 85 f0 00 00
	00		 jne	 $LN6@NotifyResu

; 80   : 		{
; 81   : 			bMoveGateSuccess = gObjMoveGate(iIndex, 133);

  00051	68 85 00 00 00	 push	 133			; 00000085H
  00056	53		 push	 ebx
  00057	e8 00 00 00 00	 call	 ?gObjMoveGate@@YAHHH@Z	; gObjMoveGate
  0005c	83 c4 08	 add	 esp, 8

; 82   : 
; 83   : 			if ( bMoveGateSuccess ==TRUE )

  0005f	83 f8 01	 cmp	 eax, 1
  00062	0f 85 7d 01 00
	00		 jne	 $LN19@NotifyResu

; 84   : 			{
; 85   : 				g_KanturuBattleUserMng.AddUserData(iIndex);

  00068	53		 push	 ebx
  00069	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A ; g_KanturuBattleUserMng
  0006e	e8 00 00 00 00	 call	 ?AddUserData@CKanturuBattleUserMng@@QAEHH@Z ; CKanturuBattleUserMng::AddUserData

; 86   : 
; 87   : 				LogAddTD("[ KANTURU ][ Battle User ] Add User [%s][%s] Current Battle User:%d State:[%d-%d] (CharInfoSave : Class=%d, Level=%d, LvPoint=%d, Exp=%u, Str=%d, Dex=%d, Vit=%d, Energy=%d, LeaderShip=%d, Map=%d, Pk=%d",
; 88   : 					gObj[iIndex].AccountID, gObj[iIndex].Name,
; 89   : 					g_KanturuBattleUserMng.GetUserCount(), g_Kanturu.GetKanturuState(),
; 90   : 					g_Kanturu.GetKanturuDetailState(),
; 91   : 					gObj[iIndex].Class, gObj[iIndex].Level, gObj[iIndex].LevelUpPoint,
; 92   : 					gObj[iIndex].Experience, gObj[iIndex].Strength, gObj[iIndex].Dexterity,
; 93   : 					gObj[iIndex].Vitality, gObj[iIndex].Energy, gObj[iIndex].Leadership, 
; 94   : 					gObj[iIndex].MapNumber, gObj[iIndex].m_PK_Level);

  00073	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00078	8b 15 08 00 00
	00		 mov	 edx, DWORD PTR ?g_Kanturu@@3VCKanturu@@A+8
  0007e	0f b7 8c 07 18
	01 00 00	 movzx	 ecx, WORD PTR [edi+eax+280]
  00086	8d 34 07	 lea	 esi, DWORD PTR [edi+eax]
  00089	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00090	89 55 08	 mov	 DWORD PTR $T203088[ebp], edx
  00093	0f be 96 3d 01
	00 00		 movsx	 edx, BYTE PTR [esi+317]
  0009a	52		 push	 edx
  0009b	0f b7 96 fa 00
	00 00		 movzx	 edx, WORD PTR [esi+250]
  000a2	50		 push	 eax
  000a3	0f b7 86 f8 00
	00 00		 movzx	 eax, WORD PTR [esi+248]
  000aa	51		 push	 ecx
  000ab	0f b7 8e f6 00
	00 00		 movzx	 ecx, WORD PTR [esi+246]
  000b2	52		 push	 edx
  000b3	0f b7 96 f4 00
	00 00		 movzx	 edx, WORD PTR [esi+244]
  000ba	50		 push	 eax
  000bb	8b 86 c8 00 00
	00		 mov	 eax, DWORD PTR [esi+200]
  000c1	51		 push	 ecx
  000c2	8b 8e c0 00 00
	00		 mov	 ecx, DWORD PTR [esi+192]
  000c8	52		 push	 edx
  000c9	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  000d0	50		 push	 eax
  000d1	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  000d8	51		 push	 ecx
  000d9	52		 push	 edx
  000da	50		 push	 eax
  000db	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Kanturu@@3VCKanturu@@A ; g_Kanturu
  000e0	e8 00 00 00 00	 call	 ?GetKanturuDetailState@CKanturu@@QAEHXZ ; CKanturu::GetKanturuDetailState
  000e5	8b 4d 08	 mov	 ecx, DWORD PTR $T203088[ebp]
  000e8	50		 push	 eax
  000e9	51		 push	 ecx
  000ea	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A ; g_KanturuBattleUserMng
  000ef	e8 00 00 00 00	 call	 ?GetUserCount@CKanturuBattleUserMng@@QAEHXZ ; CKanturuBattleUserMng::GetUserCount
  000f4	50		 push	 eax
  000f5	8d 56 77	 lea	 edx, DWORD PTR [esi+119]
  000f8	52		 push	 edx
  000f9	83 c6 6c	 add	 esi, 108		; 0000006cH
  000fc	56		 push	 esi
  000fd	68 00 00 00 00	 push	 OFFSET ??_C@_0MK@ODKKBILD@?$FL?5KANTURU?5?$FN?$FL?5Battle?5User?5?$FN?5Add?5U@
  00102	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 95   : 
; 96   : 				KANTURU_UTIL.NotifyKanturuCurrentState(iIndex, 
; 97   : 					g_Kanturu.GetKanturuState(),g_Kanturu.GetKanturuDetailState());

  00108	8b 35 08 00 00
	00		 mov	 esi, DWORD PTR ?g_Kanturu@@3VCKanturu@@A+8
  0010e	83 c4 44	 add	 esp, 68			; 00000044H
  00111	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Kanturu@@3VCKanturu@@A ; g_Kanturu
  00116	e8 00 00 00 00	 call	 ?GetKanturuDetailState@CKanturu@@QAEHXZ ; CKanturu::GetKanturuDetailState
  0011b	50		 push	 eax
  0011c	56		 push	 esi
  0011d	53		 push	 ebx
  0011e	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  00123	e8 00 00 00 00	 call	 ?NotifyKanturuCurrentState@CKanturuUtil@@QAEXHHH@Z ; CKanturuUtil::NotifyKanturuCurrentState

; 98   : //#if(GS_CASTLE==0)
; 99   : 				gObj[iIndex].m_bKanturuEntranceByNPC = TRUE;

  00128	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0012d	c7 84 07 10 20
	00 00 01 00 00
	00		 mov	 DWORD PTR [edi+eax+8208], 1
  00138	5f		 pop	 edi
  00139	5e		 pop	 esi
  0013a	5b		 pop	 ebx

; 127  : //#endif
; 128  : 	}
; 129  : }

  0013b	8b e5		 mov	 esp, ebp
  0013d	5d		 pop	 ebp
  0013e	c2 04 00	 ret	 4
$LN6@NotifyResu:

; 100  : //#endif
; 101  : 			}
; 102  : 		}
; 103  : 		else if ( iCurrentState == KANTURU_STATE_TOWER_OF_REFINEMENT )

  00141	83 f8 04	 cmp	 eax, 4
  00144	75 45		 jne	 SHORT $LN3@NotifyResu

; 104  : 		{
; 105  : 			bMoveGateSuccess = gObjMoveGate(iIndex, 135);

  00146	68 87 00 00 00	 push	 135			; 00000087H
  0014b	53		 push	 ebx
  0014c	e8 00 00 00 00	 call	 ?gObjMoveGate@@YAHHH@Z	; gObjMoveGate

; 106  : 
; 107  : 			KANTURU_UTIL.NotifyKanturuCurrentState(iIndex, 
; 108  : 				g_Kanturu.GetKanturuState(),g_Kanturu.GetKanturuDetailState());

  00151	8b 35 08 00 00
	00		 mov	 esi, DWORD PTR ?g_Kanturu@@3VCKanturu@@A+8
  00157	83 c4 08	 add	 esp, 8
  0015a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Kanturu@@3VCKanturu@@A ; g_Kanturu
  0015f	e8 00 00 00 00	 call	 ?GetKanturuDetailState@CKanturu@@QAEHXZ ; CKanturu::GetKanturuDetailState
  00164	50		 push	 eax
  00165	56		 push	 esi
  00166	53		 push	 ebx
  00167	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  0016c	e8 00 00 00 00	 call	 ?NotifyKanturuCurrentState@CKanturuUtil@@QAEXHHH@Z ; CKanturuUtil::NotifyKanturuCurrentState

; 109  : //#if(GS_CASTLE==0)
; 110  : 			gObj[iIndex].m_bKanturuEntranceByNPC = TRUE;

  00171	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00177	c7 84 0f 10 20
	00 00 01 00 00
	00		 mov	 DWORD PTR [edi+ecx+8208], 1
  00182	5f		 pop	 edi
  00183	5e		 pop	 esi
  00184	5b		 pop	 ebx

; 127  : //#endif
; 128  : 	}
; 129  : }

  00185	8b e5		 mov	 esp, ebp
  00187	5d		 pop	 ebp
  00188	c2 04 00	 ret	 4
$LN3@NotifyResu:

; 111  : //#endif
; 112  : 		}
; 113  : 		else
; 114  : 		{
; 115  : 			LogAddTD("[ KANTURU ][ BossMapMove ] Error - State(%d) Character[%s][%s]",
; 116  : 				iCurrentState, lpObj->AccountID, lpObj->Name);

  0018b	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0018e	8d 51 77	 lea	 edx, DWORD PTR [ecx+119]
  00191	52		 push	 edx
  00192	83 c1 6c	 add	 ecx, 108		; 0000006cH
  00195	51		 push	 ecx
  00196	50		 push	 eax
  00197	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@OECGBDJN@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Error@
  0019c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 122  : 
; 123  : 		LogAddTD("[ KANTURU ][ BossMapMove ] Fail - Result(%d) Character[%s][%s]",
; 124  : 			iResult, lpObj->AccountID, lpObj->Name);

  001a2	83 c4 10	 add	 esp, 16			; 00000010H
  001a5	5f		 pop	 edi
  001a6	5e		 pop	 esi
  001a7	5b		 pop	 ebx

; 127  : //#endif
; 128  : 	}
; 129  : }

  001a8	8b e5		 mov	 esp, ebp
  001aa	5d		 pop	 ebp
  001ab	c2 04 00	 ret	 4
$LN7@NotifyResu:

; 117  : 		}
; 118  : 	}
; 119  : 	else
; 120  : 	{
; 121  : 		KANTURU_UTIL.NotifyKanturuEntranceReqResult(iIndex, iResult);

  001ae	56		 push	 esi
  001af	53		 push	 ebx
  001b0	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  001b5	e8 00 00 00 00	 call	 ?NotifyKanturuEntranceReqResult@CKanturuUtil@@QAEXHH@Z ; CKanturuUtil::NotifyKanturuEntranceReqResult

; 122  : 
; 123  : 		LogAddTD("[ KANTURU ][ BossMapMove ] Fail - Result(%d) Character[%s][%s]",
; 124  : 			iResult, lpObj->AccountID, lpObj->Name);

  001ba	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  001bd	8d 48 77	 lea	 ecx, DWORD PTR [eax+119]
  001c0	51		 push	 ecx
  001c1	83 c0 6c	 add	 eax, 108		; 0000006cH
  001c4	50		 push	 eax
  001c5	56		 push	 esi
  001c6	68 00 00 00 00	 push	 OFFSET ??_C@_0DP@FPALCGEM@?$FL?5KANTURU?5?$FN?$FL?5BossMapMove?5?$FN?5Fail?5@
  001cb	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 125  : //#if(GS_CASTLE==0)
; 126  : 		gObj[iIndex].m_bKanturuEntranceByNPC = FALSE;

  001d1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001d7	c7 84 17 10 20
	00 00 00 00 00
	00		 mov	 DWORD PTR [edi+edx+8208], 0
  001e2	83 c4 10	 add	 esp, 16			; 00000010H
$LN19@NotifyResu:
  001e5	5f		 pop	 edi
  001e6	5e		 pop	 esi
$LN1@NotifyResu:
  001e7	5b		 pop	 ebx

; 127  : //#endif
; 128  : 	}
; 129  : }

  001e8	8b e5		 mov	 esp, ebp
  001ea	5d		 pop	 ebp
  001eb	c2 04 00	 ret	 4
?NotifyResultEnterKanturuBossMap@CKanturuEntranceNPC@@QAEXH@Z ENDP ; CKanturuEntranceNPC::NotifyResultEnterKanturuBossMap
_TEXT	ENDS
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Ogtp
;	COMDAT ??_GCKanturuEntranceNPC@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCKanturuEntranceNPC@@UAEPAXI@Z PROC			; CKanturuEntranceNPC::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CKanturuEntranceNPC@@UAE@XZ ; CKanturuEntranceNPC::~CKanturuEntranceNPC
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 09		 je	 SHORT $LN4@scalar
  00011	56		 push	 esi
  00012	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00017	83 c4 04	 add	 esp, 4
$LN4@scalar:
  0001a	8b c6		 mov	 eax, esi
  0001c	5e		 pop	 esi
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
??_GCKanturuEntranceNPC@@UAEPAXI@Z ENDP			; CKanturuEntranceNPC::`scalar deleting destructor'
_TEXT	ENDS
EXTRN	_atexit:PROC
EXTRN	??0CKanturuUtil@@QAE@XZ:PROC			; CKanturuUtil::CKanturuUtil
; Function compile flags: /Ogtp
;	COMDAT ??__EKANTURU_UTIL@@YAXXZ
text$yc	SEGMENT
??__EKANTURU_UTIL@@YAXXZ PROC				; `dynamic initializer for 'KANTURU_UTIL'', COMDAT

; 16   : static CKanturuUtil KANTURU_UTIL;

  00000	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  00005	e8 00 00 00 00	 call	 ??0CKanturuUtil@@QAE@XZ	; CKanturuUtil::CKanturuUtil
  0000a	68 00 00 00 00	 push	 OFFSET ??__FKANTURU_UTIL@@YAXXZ ; `dynamic atexit destructor for 'KANTURU_UTIL''
  0000f	e8 00 00 00 00	 call	 _atexit
  00014	59		 pop	 ecx
  00015	c3		 ret	 0
??__EKANTURU_UTIL@@YAXXZ ENDP				; `dynamic initializer for 'KANTURU_UTIL''
; Function compile flags: /Ogtp
text$yc	ENDS
;	COMDAT ??__Eg_KanturuEntranceNPC@@YAXXZ
text$yc	SEGMENT
??__Eg_KanturuEntranceNPC@@YAXXZ PROC			; `dynamic initializer for 'g_KanturuEntranceNPC'', COMDAT

; 18   : CKanturuEntranceNPC g_KanturuEntranceNPC;

  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuEntranceNPC@@3VCKanturuEntranceNPC@@A ; g_KanturuEntranceNPC
  00005	e8 00 00 00 00	 call	 ??0CKanturuEntranceNPC@@QAE@XZ ; CKanturuEntranceNPC::CKanturuEntranceNPC
  0000a	68 00 00 00 00	 push	 OFFSET ??__Fg_KanturuEntranceNPC@@YAXXZ ; `dynamic atexit destructor for 'g_KanturuEntranceNPC''
  0000f	e8 00 00 00 00	 call	 _atexit
  00014	59		 pop	 ecx
  00015	c3		 ret	 0
??__Eg_KanturuEntranceNPC@@YAXXZ ENDP			; `dynamic initializer for 'g_KanturuEntranceNPC''
text$yc	ENDS
EXTRN	??1CKanturuUtil@@UAE@XZ:PROC			; CKanturuUtil::~CKanturuUtil
; Function compile flags: /Ogtp
;	COMDAT ??__FKANTURU_UTIL@@YAXXZ
text$yd	SEGMENT
??__FKANTURU_UTIL@@YAXXZ PROC				; `dynamic atexit destructor for 'KANTURU_UTIL'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET _KANTURU_UTIL
  00005	e9 00 00 00 00	 jmp	 ??1CKanturuUtil@@UAE@XZ	; CKanturuUtil::~CKanturuUtil
??__FKANTURU_UTIL@@YAXXZ ENDP				; `dynamic atexit destructor for 'KANTURU_UTIL''
; Function compile flags: /Ogtp
text$yd	ENDS
;	COMDAT ??__Fg_KanturuEntranceNPC@@YAXXZ
text$yd	SEGMENT
??__Fg_KanturuEntranceNPC@@YAXXZ PROC			; `dynamic atexit destructor for 'g_KanturuEntranceNPC'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuEntranceNPC@@3VCKanturuEntranceNPC@@A ; g_KanturuEntranceNPC
  00005	e9 00 00 00 00	 jmp	 ??1CKanturuEntranceNPC@@UAE@XZ ; CKanturuEntranceNPC::~CKanturuEntranceNPC
??__Fg_KanturuEntranceNPC@@YAXXZ ENDP			; `dynamic atexit destructor for 'g_KanturuEntranceNPC''
text$yd	ENDS
PUBLIC	?g_KanturuEntranceNPC@@3VCKanturuEntranceNPC@@A	; g_KanturuEntranceNPC
_BSS	SEGMENT
?g_KanturuEntranceNPC@@3VCKanturuEntranceNPC@@A DD 01H DUP (?) ; g_KanturuEntranceNPC
_KANTURU_UTIL DD 01H DUP (?)
_BSS	ENDS
CRT$XCU	SEGMENT
_KANTURU_UTIL$initializer$ DD FLAT:??__EKANTURU_UTIL@@YAXXZ
_g_KanturuEntranceNPC$initializer$ DD FLAT:??__Eg_KanturuEntranceNPC@@YAXXZ
CRT$XCU	ENDS
END
