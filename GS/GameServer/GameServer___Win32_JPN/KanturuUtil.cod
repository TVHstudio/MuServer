; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	E:\work\tranet_version\GS\GameServer\KanturuUtil.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi
  00004	8b 7d 10	 mov	 edi, DWORD PTR ___n$[ebp]
  00007	4f		 dec	 edi
  00008	78 14		 js	 SHORT $LN1@vector
  0000a	53		 push	 ebx
  0000b	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00012	8b ce		 mov	 ecx, esi
  00014	ff d3		 call	 ebx
  00016	03 75 0c	 add	 esi, DWORD PTR ___s$[ebp]
  00019	4f		 dec	 edi
  0001a	79 f6		 jns	 SHORT $LL2@vector
  0001c	5e		 pop	 esi
  0001d	5b		 pop	 ebx
$LN1@vector:
  0001e	5f		 pop	 edi
  0001f	5d		 pop	 ebp
  00020	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?GetIndex@CKanturuBattleUser@@QAEHXZ		; CKanturuBattleUser::GetIndex
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\kanturubattleuser.h
;	COMDAT ?GetIndex@CKanturuBattleUser@@QAEHXZ
_TEXT	SEGMENT
?GetIndex@CKanturuBattleUser@@QAEHXZ PROC		; CKanturuBattleUser::GetIndex, COMDAT
; _this$ = ecx

; 24   : 		return this->m_iIndex;

  00000	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]

; 25   : 	}

  00003	c3		 ret	 0
?GetIndex@CKanturuBattleUser@@QAEHXZ ENDP		; CKanturuBattleUser::GetIndex
_TEXT	ENDS
PUBLIC	??_7CKanturuUtil@@6B@				; CKanturuUtil::`vftable'
PUBLIC	??0CKanturuUtil@@QAE@XZ				; CKanturuUtil::CKanturuUtil
PUBLIC	??_R4CKanturuUtil@@6B@				; CKanturuUtil::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCKanturuUtil@@@8			; CKanturuUtil `RTTI Type Descriptor'
PUBLIC	??_R3CKanturuUtil@@8				; CKanturuUtil::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CKanturuUtil@@8				; CKanturuUtil::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CKanturuUtil@@8			; CKanturuUtil::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECKanturuUtil@@UAEPAXI@Z:PROC		; CKanturuUtil::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CKanturuUtil@@8
; File e:\work\tranet_version\gs\gameserver\kanturuutil.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CKanturuUtil@@8 DD FLAT:??_R0?AVCKanturuUtil@@@8 ; CKanturuUtil::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CKanturuUtil@@8
rdata$r	ENDS
;	COMDAT ??_R2CKanturuUtil@@8
rdata$r	SEGMENT
??_R2CKanturuUtil@@8 DD FLAT:??_R1A@?0A@EA@CKanturuUtil@@8 ; CKanturuUtil::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CKanturuUtil@@8
rdata$r	SEGMENT
??_R3CKanturuUtil@@8 DD 00H				; CKanturuUtil::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CKanturuUtil@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCKanturuUtil@@@8
_DATA	SEGMENT
??_R0?AVCKanturuUtil@@@8 DD FLAT:??_7type_info@@6B@	; CKanturuUtil `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCKanturuUtil@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CKanturuUtil@@6B@
rdata$r	SEGMENT
??_R4CKanturuUtil@@6B@ DD 00H				; CKanturuUtil::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCKanturuUtil@@@8
	DD	FLAT:??_R3CKanturuUtil@@8
rdata$r	ENDS
;	COMDAT ??_7CKanturuUtil@@6B@
CONST	SEGMENT
??_7CKanturuUtil@@6B@ DD FLAT:??_R4CKanturuUtil@@6B@	; CKanturuUtil::`vftable'
	DD	FLAT:??_ECKanturuUtil@@UAEPAXI@Z
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ??0CKanturuUtil@@QAE@XZ
_TEXT	SEGMENT
??0CKanturuUtil@@QAE@XZ PROC				; CKanturuUtil::CKanturuUtil, COMDAT
; _this$ = ecx

; 21   : {

  00000	8b c1		 mov	 eax, ecx
  00002	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CKanturuUtil@@6B@

; 22   : 	return;
; 23   : }

  00008	c3		 ret	 0
??0CKanturuUtil@@QAE@XZ ENDP				; CKanturuUtil::CKanturuUtil
_TEXT	ENDS
PUBLIC	??1CKanturuUtil@@UAE@XZ				; CKanturuUtil::~CKanturuUtil
; Function compile flags: /Ogtp
;	COMDAT ??1CKanturuUtil@@UAE@XZ
_TEXT	SEGMENT
??1CKanturuUtil@@UAE@XZ PROC				; CKanturuUtil::~CKanturuUtil, COMDAT
; _this$ = ecx

; 26   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CKanturuUtil@@6B@

; 27   : 	return;
; 28   : }

  00006	c3		 ret	 0
??1CKanturuUtil@@UAE@XZ ENDP				; CKanturuUtil::~CKanturuUtil
_TEXT	ENDS
PUBLIC	?NotifyKanturuEntranceReqResult@CKanturuUtil@@QAEXHH@Z ; CKanturuUtil::NotifyKanturuEntranceReqResult
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	?PHeadSubSetB@@YAXPAEEEH@Z:PROC			; PHeadSubSetB
; Function compile flags: /Ogtp
;	COMDAT ?NotifyKanturuEntranceReqResult@CKanturuUtil@@QAEXHH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 5
_iIndex$ = 8						; size = 4
_iResult$ = 12						; size = 4
?NotifyKanturuEntranceReqResult@CKanturuUtil@@QAEXHH@Z PROC ; CKanturuUtil::NotifyKanturuEntranceReqResult, COMDAT
; _this$ = ecx

; 58   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 59   : 	PMSG_ANS_ENTER_KANTURU_BOSS_MAP pMsg = {0};

  00006	33 c0		 xor	 eax, eax

; 60   : 
; 61   : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x01, sizeof(pMsg));

  00008	6a 05		 push	 5
  0000a	6a 01		 push	 1
  0000c	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp], al
  0000f	89 45 f9	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  00012	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00015	68 d1 00 00 00	 push	 209			; 000000d1H
  0001a	50		 push	 eax
  0001b	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 62   : 	pMsg.btResult = iResult;
; 63   : 
; 64   : 	DataSend(iIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00020	8b 45 08	 mov	 eax, DWORD PTR _iIndex$[ebp]
  00023	8a 4d 0c	 mov	 cl, BYTE PTR _iResult$[ebp]
  00026	6a 05		 push	 5
  00028	8d 55 f8	 lea	 edx, DWORD PTR _pMsg$[ebp]
  0002b	52		 push	 edx
  0002c	50		 push	 eax
  0002d	88 4d fc	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  00030	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00035	83 c4 1c	 add	 esp, 28			; 0000001cH

; 65   : }

  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c2 08 00	 ret	 8
?NotifyKanturuEntranceReqResult@CKanturuUtil@@QAEXHH@Z ENDP ; CKanturuUtil::NotifyKanturuEntranceReqResult
_TEXT	ENDS
PUBLIC	?NotifyKanturuCurrentState@CKanturuUtil@@QAEXHHH@Z ; CKanturuUtil::NotifyKanturuCurrentState
; Function compile flags: /Ogtp
;	COMDAT ?NotifyKanturuCurrentState@CKanturuUtil@@QAEXHHH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 6
_iIndex$ = 8						; size = 4
_iState$ = 12						; size = 4
_iDetailState$ = 16					; size = 4
?NotifyKanturuCurrentState@CKanturuUtil@@QAEXHHH@Z PROC	; CKanturuUtil::NotifyKanturuCurrentState, COMDAT
; _this$ = ecx

; 96   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 97   : 	PMSG_ANS_KANTURU_CURRENT_STATE pMsg = {0};

  00006	33 c0		 xor	 eax, eax

; 98   : 
; 99   : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x02, sizeof(pMsg));

  00008	6a 06		 push	 6
  0000a	6a 02		 push	 2
  0000c	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp], al
  0000f	89 45 f9	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  00012	88 45 fd	 mov	 BYTE PTR _pMsg$[ebp+5], al
  00015	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00018	68 d1 00 00 00	 push	 209			; 000000d1H
  0001d	50		 push	 eax
  0001e	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 100  : 	pMsg.btCurrentState = iState;

  00023	8a 4d 0c	 mov	 cl, BYTE PTR _iState$[ebp]

; 101  : 	pMsg.btCurrentDetailState = iDetailState;

  00026	8a 55 10	 mov	 dl, BYTE PTR _iDetailState$[ebp]

; 102  : 
; 103  : 	DataSend(iIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00029	6a 06		 push	 6
  0002b	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0002e	88 4d fc	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  00031	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  00034	50		 push	 eax
  00035	51		 push	 ecx
  00036	88 55 fd	 mov	 BYTE PTR _pMsg$[ebp+5], dl
  00039	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0003e	83 c4 1c	 add	 esp, 28			; 0000001cH

; 104  : }

  00041	8b e5		 mov	 esp, ebp
  00043	5d		 pop	 ebp
  00044	c2 0c 00	 ret	 12			; 0000000cH
?NotifyKanturuCurrentState@CKanturuUtil@@QAEXHHH@Z ENDP	; CKanturuUtil::NotifyKanturuCurrentState
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SendMsgKanturuBattleUser@CKanturuUtil@@QAAXPADZZ ; CKanturuUtil::SendMsgKanturuBattleUser
EXTRN	?SendNoticeToUser@TNotice@@SAXHPAX@Z:PROC	; TNotice::SendNoticeToUser
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A:BYTE ; g_KanturuBattleUserMng
EXTRN	?MakeNoticeMsg@TNotice@@SAXPAXEPAD@Z:PROC	; TNotice::MakeNoticeMsg
EXTRN	_vsprintf:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
EXTRN	_memset:PROC
; Function compile flags: /Ogtp
;	COMDAT ?SendMsgKanturuBattleUser@CKanturuUtil@@QAAXPADZZ
_TEXT	SEGMENT
_pNotice$ = -788					; size = 272
_szBuffer$ = -516					; size = 512
__$ArrayPad$ = -4					; size = 4
_this$ = 8						; size = 4
_lpszMsg$ = 12						; size = 4
?SendMsgKanturuBattleUser@CKanturuUtil@@QAAXPADZZ PROC	; CKanturuUtil::SendMsgKanturuBattleUser, COMDAT

; 171  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 03 00
	00		 sub	 esp, 788		; 00000314H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi

; 172  : 	if ( !lpszMsg )

  00014	8b 75 0c	 mov	 esi, DWORD PTR _lpszMsg$[ebp]
  00017	85 f6		 test	 esi, esi
  00019	0f 84 86 00 00
	00		 je	 $LN3@SendMsgKan

; 173  : 		return;
; 174  : 
; 175  : 	char szBuffer[512] = "";

  0001f	68 ff 01 00 00	 push	 511			; 000001ffH
  00024	8d 85 fd fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp+1]
  0002a	6a 00		 push	 0
  0002c	50		 push	 eax
  0002d	c6 85 fc fd ff
	ff 00		 mov	 BYTE PTR _szBuffer$[ebp], 0
  00034	e8 00 00 00 00	 call	 _memset

; 176  : 	va_list pArguments;
; 177  : 
; 178  : 	va_start(pArguments, lpszMsg);
; 179  : 	vsprintf(szBuffer, lpszMsg, pArguments);

  00039	8d 4d 10	 lea	 ecx, DWORD PTR _lpszMsg$[ebp+4]
  0003c	51		 push	 ecx
  0003d	8d 95 fc fd ff
	ff		 lea	 edx, DWORD PTR _szBuffer$[ebp]
  00043	56		 push	 esi
  00044	52		 push	 edx
  00045	e8 00 00 00 00	 call	 _vsprintf

; 180  : 	va_end(pArguments);
; 181  : 
; 182  : 	PMSG_NOTICE pNotice;
; 183  : 	TNotice::MakeNoticeMsg(&pNotice, 0, szBuffer);

  0004a	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp]
  00050	50		 push	 eax
  00051	8d 8d ec fc ff
	ff		 lea	 ecx, DWORD PTR _pNotice$[ebp]
  00057	6a 00		 push	 0
  00059	51		 push	 ecx
  0005a	e8 00 00 00 00	 call	 ?MakeNoticeMsg@TNotice@@SAXPAXEPAD@Z ; TNotice::MakeNoticeMsg
  0005f	83 c4 24	 add	 esp, 36			; 00000024H
  00062	be 08 00 00 00	 mov	 esi, OFFSET ?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A+8
$LL5@SendMsgKan:

; 188  : 	{
; 189  : 		if( g_KanturuBattleUserMng.m_BattleUser[iCount].GetIndex() == 0)//Season 4.5 addon

  00067	8b 06		 mov	 eax, DWORD PTR [esi]
  00069	85 c0		 test	 eax, eax
  0006b	74 2d		 je	 SHORT $LN4@SendMsgKan

; 190  : 		{
; 191  : 			continue;
; 192  : 		}
; 193  : 
; 194  : 		iUserIndex = g_KanturuBattleUserMng.m_BattleUser[iCount].GetIndex();
; 195  : 
; 196  : 		if ( gObj[iUserIndex].Connected == PLAYER_PLAYING &&
; 197  : 			 gObj[iUserIndex].Type == OBJ_USER )

  0006d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00073	8b d0		 mov	 edx, eax
  00075	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  0007b	83 7c 11 04 03	 cmp	 DWORD PTR [ecx+edx+4], 3
  00080	75 18		 jne	 SHORT $LN4@SendMsgKan
  00082	66 83 7c 11 68
	01		 cmp	 WORD PTR [ecx+edx+104], 1
  00088	75 10		 jne	 SHORT $LN4@SendMsgKan

; 198  : 		{
; 199  : 			TNotice::SendNoticeToUser(iUserIndex, &pNotice);

  0008a	8d 95 ec fc ff
	ff		 lea	 edx, DWORD PTR _pNotice$[ebp]
  00090	52		 push	 edx
  00091	50		 push	 eax
  00092	e8 00 00 00 00	 call	 ?SendNoticeToUser@TNotice@@SAXHPAX@Z ; TNotice::SendNoticeToUser
  00097	83 c4 08	 add	 esp, 8
$LN4@SendMsgKan:

; 184  : 
; 185  : 	int iUserIndex = 0;
; 186  : 
; 187  : 	for ( int iCount=0;iCount<MAX_KANTURU_BATTLE_USER;iCount++)

  0009a	83 c6 0c	 add	 esi, 12			; 0000000cH
  0009d	81 fe bc 00 00
	00		 cmp	 esi, OFFSET ?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A+188
  000a3	7c c2		 jl	 SHORT $LL5@SendMsgKan
$LN3@SendMsgKan:

; 200  : 		}
; 201  : 	}
; 202  : }

  000a5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a8	33 cd		 xor	 ecx, ebp
  000aa	5e		 pop	 esi
  000ab	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000b0	8b e5		 mov	 esp, ebp
  000b2	5d		 pop	 ebp
  000b3	c3		 ret	 0
?SendMsgKanturuBattleUser@CKanturuUtil@@QAAXPADZZ ENDP	; CKanturuUtil::SendMsgKanturuBattleUser
_TEXT	ENDS
PUBLIC	?SendDataKanturuBattleUser@CKanturuUtil@@QAEXPAEH@Z ; CKanturuUtil::SendDataKanturuBattleUser
; Function compile flags: /Ogtp
;	COMDAT ?SendDataKanturuBattleUser@CKanturuUtil@@QAEXPAEH@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
_iSize$ = 12						; size = 4
?SendDataKanturuBattleUser@CKanturuUtil@@QAEXPAEH@Z PROC ; CKanturuUtil::SendDataKanturuBattleUser, COMDAT
; _this$ = ecx

; 206  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 207  : 	int iUserIndex=0;
; 208  : 
; 209  : 	for ( int iCount=0;iCount<MAX_KANTURU_BATTLE_USER;iCount++)

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	8b 7d 0c	 mov	 edi, DWORD PTR _iSize$[ebp]
  0000c	be 08 00 00 00	 mov	 esi, OFFSET ?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A+8
$LL5@SendDataKa:

; 210  : 	{
; 211  : 		if( g_KanturuBattleUserMng.m_BattleUser[iCount].GetIndex() == 0)//Season 4.5 addon

  00011	8b 06		 mov	 eax, DWORD PTR [esi]
  00013	85 c0		 test	 eax, eax
  00015	74 28		 je	 SHORT $LN4@SendDataKa

; 212  : 		{
; 213  : 			continue;
; 214  : 		}
; 215  : 
; 216  : 		iUserIndex = g_KanturuBattleUserMng.m_BattleUser[iCount].GetIndex();
; 217  : 
; 218  : 		if ( gObj[iUserIndex].Connected == PLAYER_PLAYING &&
; 219  : 			 gObj[iUserIndex].Type == OBJ_USER )

  00017	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001d	8b c8		 mov	 ecx, eax
  0001f	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00025	83 7c 11 04 03	 cmp	 DWORD PTR [ecx+edx+4], 3
  0002a	75 13		 jne	 SHORT $LN4@SendDataKa
  0002c	66 83 7c 11 68
	01		 cmp	 WORD PTR [ecx+edx+104], 1
  00032	75 0b		 jne	 SHORT $LN4@SendDataKa

; 220  : 		{
; 221  : 			DataSend(iUserIndex, lpMsg, iSize);

  00034	57		 push	 edi
  00035	53		 push	 ebx
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0003c	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@SendDataKa:

; 207  : 	int iUserIndex=0;
; 208  : 
; 209  : 	for ( int iCount=0;iCount<MAX_KANTURU_BATTLE_USER;iCount++)

  0003f	83 c6 0c	 add	 esi, 12			; 0000000cH
  00042	81 fe bc 00 00
	00		 cmp	 esi, OFFSET ?g_KanturuBattleUserMng@@3VCKanturuBattleUserMng@@A+188
  00048	7c c7		 jl	 SHORT $LL5@SendDataKa
  0004a	5f		 pop	 edi
  0004b	5e		 pop	 esi
  0004c	5b		 pop	 ebx

; 222  : 		}
; 223  : 	}
; 224  : }

  0004d	5d		 pop	 ebp
  0004e	c2 08 00	 ret	 8
?SendDataKanturuBattleUser@CKanturuUtil@@QAEXPAEH@Z ENDP ; CKanturuUtil::SendDataKanturuBattleUser
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SendMsgKauturuBossMapUser@CKanturuUtil@@QAAXPADZZ ; CKanturuUtil::SendMsgKauturuBossMapUser
; Function compile flags: /Ogtp
;	COMDAT ?SendMsgKauturuBossMapUser@CKanturuUtil@@QAAXPADZZ
_TEXT	SEGMENT
_pNotice$ = -788					; size = 272
_szBuffer$ = -516					; size = 512
__$ArrayPad$ = -4					; size = 4
_this$ = 8						; size = 4
_lpszMsg$ = 12						; size = 4
?SendMsgKauturuBossMapUser@CKanturuUtil@@QAAXPADZZ PROC	; CKanturuUtil::SendMsgKauturuBossMapUser, COMDAT

; 229  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 03 00
	00		 sub	 esp, 788		; 00000314H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi

; 230  : 	if ( !lpszMsg )

  00014	8b 75 0c	 mov	 esi, DWORD PTR _lpszMsg$[ebp]
  00017	85 f6		 test	 esi, esi
  00019	0f 84 91 00 00
	00		 je	 $LN2@SendMsgKau

; 231  : 		return;
; 232  : 
; 233  : 	char szBuffer[512] = "";

  0001f	57		 push	 edi
  00020	68 ff 01 00 00	 push	 511			; 000001ffH
  00025	8d 85 fd fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp+1]
  0002b	6a 00		 push	 0
  0002d	50		 push	 eax
  0002e	c6 85 fc fd ff
	ff 00		 mov	 BYTE PTR _szBuffer$[ebp], 0
  00035	e8 00 00 00 00	 call	 _memset

; 234  : 	va_list pArguments;
; 235  : 
; 236  : 	va_start(pArguments, lpszMsg);
; 237  : 	vsprintf(szBuffer, lpszMsg, pArguments);

  0003a	8d 4d 10	 lea	 ecx, DWORD PTR _lpszMsg$[ebp+4]
  0003d	51		 push	 ecx
  0003e	8d 95 fc fd ff
	ff		 lea	 edx, DWORD PTR _szBuffer$[ebp]
  00044	56		 push	 esi
  00045	52		 push	 edx
  00046	e8 00 00 00 00	 call	 _vsprintf

; 238  : 	va_end(pArguments);
; 239  : 
; 240  : 	PMSG_NOTICE pNotice;
; 241  : 	TNotice::MakeNoticeMsg(&pNotice, 0, szBuffer);

  0004b	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp]
  00051	50		 push	 eax
  00052	8d 8d ec fc ff
	ff		 lea	 ecx, DWORD PTR _pNotice$[ebp]
  00058	6a 00		 push	 0
  0005a	51		 push	 ecx
  0005b	e8 00 00 00 00	 call	 ?MakeNoticeMsg@TNotice@@SAXPAXEPAD@Z ; TNotice::MakeNoticeMsg
  00060	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00065	83 c4 24	 add	 esp, 36			; 00000024H

; 242  : 
; 243  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  00068	bf b0 36 00 00	 mov	 edi, 14000		; 000036b0H
  0006d	be 00 a7 40 09	 mov	 esi, 155232000		; 0940a700H
$LL4@SendMsgKau:

; 244  : 	{
; 245  : 		if ( gObj[iCount].Connected == PLAYER_PLAYING &&
; 246  : 			 gObj[iCount].Type == OBJ_USER &&
; 247  : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU_BOSS)

  00072	83 7c 06 04 03	 cmp	 DWORD PTR [esi+eax+4], 3
  00077	75 27		 jne	 SHORT $LN3@SendMsgKau
  00079	66 83 7c 06 68
	01		 cmp	 WORD PTR [esi+eax+104], 1
  0007f	75 1f		 jne	 SHORT $LN3@SendMsgKau
  00081	80 bc 06 49 01
	00 00 27	 cmp	 BYTE PTR [esi+eax+329], 39 ; 00000027H
  00089	75 15		 jne	 SHORT $LN3@SendMsgKau

; 248  : 		{
; 249  : 			TNotice::SendNoticeToUser(iCount, &pNotice);

  0008b	8d 95 ec fc ff
	ff		 lea	 edx, DWORD PTR _pNotice$[ebp]
  00091	52		 push	 edx
  00092	57		 push	 edi
  00093	e8 00 00 00 00	 call	 ?SendNoticeToUser@TNotice@@SAXHPAX@Z ; TNotice::SendNoticeToUser
  00098	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009d	83 c4 08	 add	 esp, 8
$LN3@SendMsgKau:

; 242  : 
; 243  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  000a0	81 c6 50 2b 00
	00		 add	 esi, 11088		; 00002b50H
  000a6	47		 inc	 edi
  000a7	81 fe 80 d7 e9
	09		 cmp	 esi, 166320000		; 09e9d780H
  000ad	7c c3		 jl	 SHORT $LL4@SendMsgKau
  000af	5f		 pop	 edi
$LN2@SendMsgKau:

; 250  : 		}
; 251  : 	}
; 252  : }

  000b0	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000b3	33 cd		 xor	 ecx, ebp
  000b5	5e		 pop	 esi
  000b6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000bb	8b e5		 mov	 esp, ebp
  000bd	5d		 pop	 ebp
  000be	c3		 ret	 0
?SendMsgKauturuBossMapUser@CKanturuUtil@@QAAXPADZZ ENDP	; CKanturuUtil::SendMsgKauturuBossMapUser
_TEXT	ENDS
PUBLIC	?SendDataKanturuBossMapUser@CKanturuUtil@@QAEXPAEH@Z ; CKanturuUtil::SendDataKanturuBossMapUser
; Function compile flags: /Ogtp
;	COMDAT ?SendDataKanturuBossMapUser@CKanturuUtil@@QAEXPAEH@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
_iSize$ = 12						; size = 4
?SendDataKanturuBossMapUser@CKanturuUtil@@QAEXPAEH@Z PROC ; CKanturuUtil::SendDataKanturuBossMapUser, COMDAT
; _this$ = ecx

; 257  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 258  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	53		 push	 ebx
  00009	8b 5d 0c	 mov	 ebx, DWORD PTR _iSize$[ebp]
  0000c	56		 push	 esi
  0000d	57		 push	 edi
  0000e	bf b0 36 00 00	 mov	 edi, 14000		; 000036b0H
  00013	be 00 a7 40 09	 mov	 esi, 155232000		; 0940a700H
$LL4@SendDataKa@2:

; 259  : 	{
; 260  : 		if ( gObj[iCount].Connected == PLAYER_PLAYING &&
; 261  : 			 gObj[iCount].Type == OBJ_USER &&
; 262  : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU_BOSS)

  00018	83 7c 06 04 03	 cmp	 DWORD PTR [esi+eax+4], 3
  0001d	75 25		 jne	 SHORT $LN3@SendDataKa@2
  0001f	66 83 7c 06 68
	01		 cmp	 WORD PTR [esi+eax+104], 1
  00025	75 1d		 jne	 SHORT $LN3@SendDataKa@2
  00027	80 bc 06 49 01
	00 00 27	 cmp	 BYTE PTR [esi+eax+329], 39 ; 00000027H
  0002f	75 13		 jne	 SHORT $LN3@SendDataKa@2

; 263  : 		{
; 264  : 			DataSend(iCount, lpMsg, iSize);

  00031	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00034	53		 push	 ebx
  00035	50		 push	 eax
  00036	57		 push	 edi
  00037	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0003c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00041	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@SendDataKa@2:

; 258  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  00044	81 c6 50 2b 00
	00		 add	 esi, 11088		; 00002b50H
  0004a	47		 inc	 edi
  0004b	81 fe 80 d7 e9
	09		 cmp	 esi, 166320000		; 09e9d780H
  00051	7c c5		 jl	 SHORT $LL4@SendDataKa@2
  00053	5f		 pop	 edi
  00054	5e		 pop	 esi
  00055	5b		 pop	 ebx

; 265  : 		}
; 266  : 	}
; 267  : }

  00056	5d		 pop	 ebp
  00057	c2 08 00	 ret	 8
?SendDataKanturuBossMapUser@CKanturuUtil@@QAEXPAEH@Z ENDP ; CKanturuUtil::SendDataKanturuBossMapUser
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SendMsgKauturuMapUser@CKanturuUtil@@QAAXPADZZ	; CKanturuUtil::SendMsgKauturuMapUser
; Function compile flags: /Ogtp
;	COMDAT ?SendMsgKauturuMapUser@CKanturuUtil@@QAAXPADZZ
_TEXT	SEGMENT
_pNotice$ = -788					; size = 272
_szBuffer$ = -516					; size = 512
__$ArrayPad$ = -4					; size = 4
_this$ = 8						; size = 4
_lpszMsg$ = 12						; size = 4
?SendMsgKauturuMapUser@CKanturuUtil@@QAAXPADZZ PROC	; CKanturuUtil::SendMsgKauturuMapUser, COMDAT

; 272  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 03 00
	00		 sub	 esp, 788		; 00000314H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi

; 273  : 	if ( !lpszMsg )

  00014	8b 75 0c	 mov	 esi, DWORD PTR _lpszMsg$[ebp]
  00017	85 f6		 test	 esi, esi
  00019	0f 84 9c 00 00
	00		 je	 $LN3@SendMsgKau@2

; 274  : 		return;
; 275  : 
; 276  : 	char szBuffer[512] = "";

  0001f	57		 push	 edi
  00020	68 ff 01 00 00	 push	 511			; 000001ffH
  00025	8d 85 fd fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp+1]
  0002b	6a 00		 push	 0
  0002d	50		 push	 eax
  0002e	c6 85 fc fd ff
	ff 00		 mov	 BYTE PTR _szBuffer$[ebp], 0
  00035	e8 00 00 00 00	 call	 _memset

; 277  : 	va_list pArguments;
; 278  : 
; 279  : 	va_start(pArguments, lpszMsg);
; 280  : 	vsprintf(szBuffer, lpszMsg, pArguments);

  0003a	8d 4d 10	 lea	 ecx, DWORD PTR _lpszMsg$[ebp+4]
  0003d	51		 push	 ecx
  0003e	8d 95 fc fd ff
	ff		 lea	 edx, DWORD PTR _szBuffer$[ebp]
  00044	56		 push	 esi
  00045	52		 push	 edx
  00046	e8 00 00 00 00	 call	 _vsprintf

; 281  : 	va_end(pArguments);
; 282  : 
; 283  : 	PMSG_NOTICE pNotice;
; 284  : 	TNotice::MakeNoticeMsg(&pNotice, 0, szBuffer);

  0004b	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp]
  00051	50		 push	 eax
  00052	8d 8d ec fc ff
	ff		 lea	 ecx, DWORD PTR _pNotice$[ebp]
  00058	6a 00		 push	 0
  0005a	51		 push	 ecx
  0005b	e8 00 00 00 00	 call	 ?MakeNoticeMsg@TNotice@@SAXPAXEPAD@Z ; TNotice::MakeNoticeMsg
  00060	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00066	83 c4 24	 add	 esp, 36			; 00000024H

; 285  : 
; 286  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  00069	bf b0 36 00 00	 mov	 edi, 14000		; 000036b0H
  0006e	be 00 a7 40 09	 mov	 esi, 155232000		; 0940a700H
$LL5@SendMsgKau@2:

; 287  : 	{
; 288  : 		if ( gObj[iCount].Connected == PLAYER_PLAYING &&
; 289  : 			 gObj[iCount].Type == OBJ_USER &&
; 290  : 			 ( gObj[iCount].MapNumber == MAP_INDEX_KANTURU1 ||
; 291  : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU2 ||
; 292  : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU_BOSS ) )

  00073	83 7c 0e 04 03	 cmp	 DWORD PTR [esi+ecx+4], 3
  00078	75 31		 jne	 SHORT $LN4@SendMsgKau@2
  0007a	66 83 7c 0e 68
	01		 cmp	 WORD PTR [esi+ecx+104], 1
  00080	75 29		 jne	 SHORT $LN4@SendMsgKau@2
  00082	8a 84 0e 49 01
	00 00		 mov	 al, BYTE PTR [esi+ecx+329]
  00089	3c 25		 cmp	 al, 37			; 00000025H
  0008b	74 08		 je	 SHORT $LN1@SendMsgKau@2
  0008d	3c 26		 cmp	 al, 38			; 00000026H
  0008f	74 04		 je	 SHORT $LN1@SendMsgKau@2
  00091	3c 27		 cmp	 al, 39			; 00000027H
  00093	75 16		 jne	 SHORT $LN4@SendMsgKau@2
$LN1@SendMsgKau@2:

; 293  : 		{
; 294  : 			TNotice::SendNoticeToUser(iCount, &pNotice);

  00095	8d 95 ec fc ff
	ff		 lea	 edx, DWORD PTR _pNotice$[ebp]
  0009b	52		 push	 edx
  0009c	57		 push	 edi
  0009d	e8 00 00 00 00	 call	 ?SendNoticeToUser@TNotice@@SAXHPAX@Z ; TNotice::SendNoticeToUser
  000a2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000a8	83 c4 08	 add	 esp, 8
$LN4@SendMsgKau@2:

; 285  : 
; 286  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  000ab	81 c6 50 2b 00
	00		 add	 esi, 11088		; 00002b50H
  000b1	47		 inc	 edi
  000b2	81 fe 80 d7 e9
	09		 cmp	 esi, 166320000		; 09e9d780H
  000b8	7c b9		 jl	 SHORT $LL5@SendMsgKau@2
  000ba	5f		 pop	 edi
$LN3@SendMsgKau@2:

; 295  : 		}
; 296  : 	}
; 297  : }

  000bb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000be	33 cd		 xor	 ecx, ebp
  000c0	5e		 pop	 esi
  000c1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000c6	8b e5		 mov	 esp, ebp
  000c8	5d		 pop	 ebp
  000c9	c3		 ret	 0
?SendMsgKauturuMapUser@CKanturuUtil@@QAAXPADZZ ENDP	; CKanturuUtil::SendMsgKauturuMapUser
_TEXT	ENDS
PUBLIC	?SendDataKanturuMapUser@CKanturuUtil@@QAEXPAEH@Z ; CKanturuUtil::SendDataKanturuMapUser
; Function compile flags: /Ogtp
;	COMDAT ?SendDataKanturuMapUser@CKanturuUtil@@QAEXPAEH@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
_iSize$ = 12						; size = 4
?SendDataKanturuMapUser@CKanturuUtil@@QAEXPAEH@Z PROC	; CKanturuUtil::SendDataKanturuMapUser, COMDAT
; _this$ = ecx

; 301  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 302  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  00003	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00009	53		 push	 ebx
  0000a	8b 5d 0c	 mov	 ebx, DWORD PTR _iSize$[ebp]
  0000d	56		 push	 esi
  0000e	57		 push	 edi
  0000f	bf b0 36 00 00	 mov	 edi, 14000		; 000036b0H
  00014	be 00 a7 40 09	 mov	 esi, 155232000		; 0940a700H
  00019	8d a4 24 00 00
	00 00		 npad	 7
$LL5@SendDataKa@3:

; 303  : 	{
; 304  : 		if ( gObj[iCount].Connected == PLAYER_PLAYING &&
; 305  : 			 gObj[iCount].Type == OBJ_USER &&
; 306  : 			 ( gObj[iCount].MapNumber == MAP_INDEX_KANTURU1 ||
; 307  : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU2 ||
; 308  : 			 gObj[iCount].MapNumber == MAP_INDEX_KANTURU_BOSS ) )

  00020	83 7c 0e 04 03	 cmp	 DWORD PTR [esi+ecx+4], 3
  00025	75 2f		 jne	 SHORT $LN4@SendDataKa@3
  00027	66 83 7c 0e 68
	01		 cmp	 WORD PTR [esi+ecx+104], 1
  0002d	75 27		 jne	 SHORT $LN4@SendDataKa@3
  0002f	8a 84 0e 49 01
	00 00		 mov	 al, BYTE PTR [esi+ecx+329]
  00036	3c 25		 cmp	 al, 37			; 00000025H
  00038	74 08		 je	 SHORT $LN1@SendDataKa@3
  0003a	3c 26		 cmp	 al, 38			; 00000026H
  0003c	74 04		 je	 SHORT $LN1@SendDataKa@3
  0003e	3c 27		 cmp	 al, 39			; 00000027H
  00040	75 14		 jne	 SHORT $LN4@SendDataKa@3
$LN1@SendDataKa@3:

; 309  : 		{
; 310  : 			DataSend(iCount, lpMsg, iSize);

  00042	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00045	53		 push	 ebx
  00046	50		 push	 eax
  00047	57		 push	 edi
  00048	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0004d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00053	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@SendDataKa@3:

; 302  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  00056	81 c6 50 2b 00
	00		 add	 esi, 11088		; 00002b50H
  0005c	47		 inc	 edi
  0005d	81 fe 80 d7 e9
	09		 cmp	 esi, 166320000		; 09e9d780H
  00063	7c bb		 jl	 SHORT $LL5@SendDataKa@3
  00065	5f		 pop	 edi
  00066	5e		 pop	 esi
  00067	5b		 pop	 ebx

; 311  : 		}
; 312  : 	}
; 313  : }

  00068	5d		 pop	 ebp
  00069	c2 08 00	 ret	 8
?SendDataKanturuMapUser@CKanturuUtil@@QAEXPAEH@Z ENDP	; CKanturuUtil::SendDataKanturuMapUser
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SendMsgAllUser@CKanturuUtil@@QAAXPADZZ		; CKanturuUtil::SendMsgAllUser
EXTRN	?SendNoticeToAllUser@TNotice@@SAXPAX@Z:PROC	; TNotice::SendNoticeToAllUser
; Function compile flags: /Ogtp
;	COMDAT ?SendMsgAllUser@CKanturuUtil@@QAAXPADZZ
_TEXT	SEGMENT
_pNotice$ = -788					; size = 272
_szBuffer$ = -516					; size = 512
__$ArrayPad$ = -4					; size = 4
_this$ = 8						; size = 4
_lpszMsg$ = 12						; size = 4
?SendMsgAllUser@CKanturuUtil@@QAAXPADZZ PROC		; CKanturuUtil::SendMsgAllUser, COMDAT

; 318  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 03 00
	00		 sub	 esp, 788		; 00000314H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi

; 319  : 	if ( !lpszMsg )

  00014	8b 75 0c	 mov	 esi, DWORD PTR _lpszMsg$[ebp]
  00017	85 f6		 test	 esi, esi
  00019	74 4f		 je	 SHORT $LN2@SendMsgAll

; 320  : 		return;
; 321  : 
; 322  : 	char szBuffer[512] = "";

  0001b	68 ff 01 00 00	 push	 511			; 000001ffH
  00020	8d 85 fd fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp+1]
  00026	6a 00		 push	 0
  00028	50		 push	 eax
  00029	c6 85 fc fd ff
	ff 00		 mov	 BYTE PTR _szBuffer$[ebp], 0
  00030	e8 00 00 00 00	 call	 _memset

; 323  : 	va_list pArguments;
; 324  : 
; 325  : 	va_start(pArguments, lpszMsg);
; 326  : 	vsprintf(szBuffer, lpszMsg, pArguments);

  00035	8d 4d 10	 lea	 ecx, DWORD PTR _lpszMsg$[ebp+4]
  00038	51		 push	 ecx
  00039	8d 95 fc fd ff
	ff		 lea	 edx, DWORD PTR _szBuffer$[ebp]
  0003f	56		 push	 esi
  00040	52		 push	 edx
  00041	e8 00 00 00 00	 call	 _vsprintf

; 327  : 	va_end(pArguments);
; 328  : 
; 329  : 	PMSG_NOTICE pNotice;
; 330  : 	TNotice::MakeNoticeMsg(&pNotice, 0, szBuffer);

  00046	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp]
  0004c	50		 push	 eax
  0004d	8d 8d ec fc ff
	ff		 lea	 ecx, DWORD PTR _pNotice$[ebp]
  00053	6a 00		 push	 0
  00055	51		 push	 ecx
  00056	e8 00 00 00 00	 call	 ?MakeNoticeMsg@TNotice@@SAXPAXEPAD@Z ; TNotice::MakeNoticeMsg

; 331  : 	
; 332  : 	TNotice::SendNoticeToAllUser(&pNotice);

  0005b	8d 95 ec fc ff
	ff		 lea	 edx, DWORD PTR _pNotice$[ebp]
  00061	52		 push	 edx
  00062	e8 00 00 00 00	 call	 ?SendNoticeToAllUser@TNotice@@SAXPAX@Z ; TNotice::SendNoticeToAllUser
  00067	83 c4 28	 add	 esp, 40			; 00000028H
$LN2@SendMsgAll:

; 333  : }

  0006a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006d	33 cd		 xor	 ecx, ebp
  0006f	5e		 pop	 esi
  00070	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00075	8b e5		 mov	 esp, ebp
  00077	5d		 pop	 ebp
  00078	c3		 ret	 0
?SendMsgAllUser@CKanturuUtil@@QAAXPADZZ ENDP		; CKanturuUtil::SendMsgAllUser
_TEXT	ENDS
PUBLIC	?SendDataAllUser@CKanturuUtil@@QAEXPAEH@Z	; CKanturuUtil::SendDataAllUser
; Function compile flags: /Ogtp
;	COMDAT ?SendDataAllUser@CKanturuUtil@@QAEXPAEH@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
_iSize$ = 12						; size = 4
?SendDataAllUser@CKanturuUtil@@QAEXPAEH@Z PROC		; CKanturuUtil::SendDataAllUser, COMDAT
; _this$ = ecx

; 339  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 340  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	53		 push	 ebx
  00009	8b 5d 0c	 mov	 ebx, DWORD PTR _iSize$[ebp]
  0000c	56		 push	 esi
  0000d	57		 push	 edi
  0000e	bf b0 36 00 00	 mov	 edi, 14000		; 000036b0H
  00013	be 00 a7 40 09	 mov	 esi, 155232000		; 0940a700H
$LL4@SendDataAl:

; 341  : 	{
; 342  : 		if ( gObj[iCount].Connected == PLAYER_PLAYING &&
; 343  : 			 gObj[iCount].Type == OBJ_USER )

  00018	83 7c 06 04 03	 cmp	 DWORD PTR [esi+eax+4], 3
  0001d	75 1b		 jne	 SHORT $LN3@SendDataAl
  0001f	66 83 7c 06 68
	01		 cmp	 WORD PTR [esi+eax+104], 1
  00025	75 13		 jne	 SHORT $LN3@SendDataAl

; 344  : 		{
; 345  : 			DataSend(iCount, lpMsg, iSize);

  00027	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  0002a	53		 push	 ebx
  0002b	50		 push	 eax
  0002c	57		 push	 edi
  0002d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00032	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00037	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN3@SendDataAl:

; 340  : 	for ( int iCount=OBJ_STARTUSERINDZT;iCount<OBJMAX;iCount++)

  0003a	81 c6 50 2b 00
	00		 add	 esi, 11088		; 00002b50H
  00040	47		 inc	 edi
  00041	81 fe 80 d7 e9
	09		 cmp	 esi, 166320000		; 09e9d780H
  00047	7c cf		 jl	 SHORT $LL4@SendDataAl
  00049	5f		 pop	 edi
  0004a	5e		 pop	 esi
  0004b	5b		 pop	 ebx

; 346  : 		}
; 347  : 	}
; 348  : }

  0004c	5d		 pop	 ebp
  0004d	c2 08 00	 ret	 8
?SendDataAllUser@CKanturuUtil@@QAEXPAEH@Z ENDP		; CKanturuUtil::SendDataAllUser
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SendMsgToUser@CKanturuUtil@@QAAXHPADZZ		; CKanturuUtil::SendMsgToUser
; Function compile flags: /Ogtp
;	COMDAT ?SendMsgToUser@CKanturuUtil@@QAAXHPADZZ
_TEXT	SEGMENT
_pNotice$ = -788					; size = 272
_szBuffer$ = -516					; size = 512
__$ArrayPad$ = -4					; size = 4
_this$ = 8						; size = 4
_iIndex$ = 12						; size = 4
_lpszMsg$ = 16						; size = 4
?SendMsgToUser@CKanturuUtil@@QAAXHPADZZ PROC		; CKanturuUtil::SendMsgToUser, COMDAT

; 352  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 03 00
	00		 sub	 esp, 788		; 00000314H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi

; 353  : 	if ( !lpszMsg )

  00014	8b 75 10	 mov	 esi, DWORD PTR _lpszMsg$[ebp]
  00017	85 f6		 test	 esi, esi
  00019	74 53		 je	 SHORT $LN2@SendMsgToU

; 354  : 		return;
; 355  : 
; 356  : 	char szBuffer[512] = "";

  0001b	68 ff 01 00 00	 push	 511			; 000001ffH
  00020	8d 85 fd fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp+1]
  00026	6a 00		 push	 0
  00028	50		 push	 eax
  00029	c6 85 fc fd ff
	ff 00		 mov	 BYTE PTR _szBuffer$[ebp], 0
  00030	e8 00 00 00 00	 call	 _memset

; 357  : 	va_list pArguments;
; 358  : 
; 359  : 	va_start(pArguments, lpszMsg);
; 360  : 	vsprintf(szBuffer, lpszMsg, pArguments);

  00035	8d 4d 14	 lea	 ecx, DWORD PTR _lpszMsg$[ebp+4]
  00038	51		 push	 ecx
  00039	8d 95 fc fd ff
	ff		 lea	 edx, DWORD PTR _szBuffer$[ebp]
  0003f	56		 push	 esi
  00040	52		 push	 edx
  00041	e8 00 00 00 00	 call	 _vsprintf

; 361  : 	va_end(pArguments);
; 362  : 
; 363  : 	PMSG_NOTICE pNotice;
; 364  : 	TNotice::MakeNoticeMsg(&pNotice, 0, szBuffer);

  00046	8d 85 fc fd ff
	ff		 lea	 eax, DWORD PTR _szBuffer$[ebp]
  0004c	50		 push	 eax
  0004d	8d 8d ec fc ff
	ff		 lea	 ecx, DWORD PTR _pNotice$[ebp]
  00053	6a 00		 push	 0
  00055	51		 push	 ecx
  00056	e8 00 00 00 00	 call	 ?MakeNoticeMsg@TNotice@@SAXPAXEPAD@Z ; TNotice::MakeNoticeMsg

; 365  : 	
; 366  : 	TNotice::SendNoticeToUser(iIndex, &pNotice);

  0005b	8b 45 0c	 mov	 eax, DWORD PTR _iIndex$[ebp]
  0005e	8d 95 ec fc ff
	ff		 lea	 edx, DWORD PTR _pNotice$[ebp]
  00064	52		 push	 edx
  00065	50		 push	 eax
  00066	e8 00 00 00 00	 call	 ?SendNoticeToUser@TNotice@@SAXHPAX@Z ; TNotice::SendNoticeToUser
  0006b	83 c4 2c	 add	 esp, 44			; 0000002cH
$LN2@SendMsgToU:

; 367  : }

  0006e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00071	33 cd		 xor	 ecx, ebp
  00073	5e		 pop	 esi
  00074	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00079	8b e5		 mov	 esp, ebp
  0007b	5d		 pop	 ebp
  0007c	c3		 ret	 0
?SendMsgToUser@CKanturuUtil@@QAAXHPADZZ ENDP		; CKanturuUtil::SendMsgToUser
_TEXT	ENDS
PUBLIC	?SendDataToUser@CKanturuUtil@@QAEXHPAEH@Z	; CKanturuUtil::SendDataToUser
; Function compile flags: /Ogtp
;	COMDAT ?SendDataToUser@CKanturuUtil@@QAEXHPAEH@Z
_TEXT	SEGMENT
_iIndex$ = 8						; size = 4
_lpMsg$ = 12						; size = 4
_iSize$ = 16						; size = 4
?SendDataToUser@CKanturuUtil@@QAEXHPAEH@Z PROC		; CKanturuUtil::SendDataToUser, COMDAT
; _this$ = ecx

; 371  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 372  : 	if ( gObj[iIndex].Connected == PLAYER_PLAYING &&
; 373  : 		 gObj[iIndex].Type == OBJ_USER )

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  00006	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000c	8b c1		 mov	 eax, ecx
  0000e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00014	83 7c 10 04 03	 cmp	 DWORD PTR [eax+edx+4], 3
  00019	75 19		 jne	 SHORT $LN1@SendDataTo
  0001b	66 83 7c 10 68
	01		 cmp	 WORD PTR [eax+edx+104], 1
  00021	75 11		 jne	 SHORT $LN1@SendDataTo

; 374  : 	{
; 375  : 		DataSend(iIndex, lpMsg, iSize);

  00023	8b 45 10	 mov	 eax, DWORD PTR _iSize$[ebp]
  00026	8b 55 0c	 mov	 edx, DWORD PTR _lpMsg$[ebp]
  00029	50		 push	 eax
  0002a	52		 push	 edx
  0002b	51		 push	 ecx
  0002c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00031	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@SendDataTo:

; 376  : 	}
; 377  : }

  00034	5d		 pop	 ebp
  00035	c2 0c 00	 ret	 12			; 0000000cH
?SendDataToUser@CKanturuUtil@@QAEXHPAEH@Z ENDP		; CKanturuUtil::SendDataToUser
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SendKanturuChattingMsg@CKanturuUtil@@QAAXHPADZZ ; CKanturuUtil::SendKanturuChattingMsg
; Function compile flags: /Ogtp
;	COMDAT ?SendKanturuChattingMsg@CKanturuUtil@@QAAXHPADZZ
_TEXT	SEGMENT
__$ArrayPad$ = -4					; size = 4
_this$ = 8						; size = 4
_iIndex$ = 12						; size = 4
_lpMsg$ = 16						; size = 4
?SendKanturuChattingMsg@CKanturuUtil@@QAAXHPADZZ PROC	; CKanturuUtil::SendKanturuChattingMsg, COMDAT

; 380  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00009	33 c5		 xor	 eax, ebp
  0000b	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 381  : #if(TESTSERVER==0)
; 382  : 	return;
; 383  : #endif
; 384  : 
; 385  : 	if ( !lpMsg )
; 386  : 	{
; 387  : 		return;
; 388  : 	}
; 389  : 
; 390  : 	LPOBJ lpObj = &gObj[iIndex];
; 391  : 	char szBuffer[512] = "";
; 392  : 	va_list pArguments;
; 393  : 
; 394  : 	va_start(pArguments, lpMsg);
; 395  : 	vsprintf(szBuffer, lpMsg, pArguments);
; 396  : 	va_end(pArguments);
; 397  : 
; 398  : 	char szChat[60] = {0};
; 399  : 	memcpy(szChat, szBuffer, sizeof(szChat)-1);
; 400  : 
; 401  : 	for(int i=0;i<MAX_VIEWPORT_MONSTER;i++)
; 402  : 	{
; 403  : 		if ( lpObj->VpPlayer2[i].state )
; 404  : 		{
; 405  : 			int iTargetNumber = lpObj->VpPlayer2[i].number;
; 406  : 
; 407  : 			if ( iTargetNumber >= 0 || iTargetNumber < OBJMAX)
; 408  : 			{
; 409  : 				ChatTargetSend(lpObj, szChat, iTargetNumber);
; 410  : 			}
; 411  : 		}
; 412  : 	}
; 413  : }

  0000e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00011	33 cd		 xor	 ecx, ebp
  00013	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00018	8b e5		 mov	 esp, ebp
  0001a	5d		 pop	 ebp
  0001b	c3		 ret	 0
?SendKanturuChattingMsg@CKanturuUtil@@QAAXHPADZZ ENDP	; CKanturuUtil::SendKanturuChattingMsg
_TEXT	ENDS
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Ogtp
;	COMDAT ??_GCKanturuUtil@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCKanturuUtil@@UAEPAXI@Z PROC			; CKanturuUtil::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CKanturuUtil@@UAE@XZ	; CKanturuUtil::~CKanturuUtil
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 09		 je	 SHORT $LN4@scalar
  00011	56		 push	 esi
  00012	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00017	83 c4 04	 add	 esp, 4
$LN4@scalar:
  0001a	8b c6		 mov	 eax, esi
  0001c	5e		 pop	 esi
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
??_GCKanturuUtil@@UAEPAXI@Z ENDP			; CKanturuUtil::`scalar deleting destructor'
_TEXT	ENDS
PUBLIC	?NotifyKanturuChangeState@CKanturuUtil@@QAEXHH@Z ; CKanturuUtil::NotifyKanturuChangeState
; Function compile flags: /Ogtp
;	COMDAT ?NotifyKanturuChangeState@CKanturuUtil@@QAEXHH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 6
_iState$ = 8						; size = 4
_iDetailState$ = 12					; size = 4
?NotifyKanturuChangeState@CKanturuUtil@@QAEXHH@Z PROC	; CKanturuUtil::NotifyKanturuChangeState, COMDAT
; _this$ = ecx

; 39   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 40   : 	PMSG_ANS_KANTURU_STATE_CHANGE pMsg = {0};

  00007	33 c0		 xor	 eax, eax

; 41   : 
; 42   : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x03, sizeof(pMsg));

  00009	6a 06		 push	 6
  0000b	6a 03		 push	 3
  0000d	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp], al
  00010	89 45 f9	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  00013	88 45 fd	 mov	 BYTE PTR _pMsg$[ebp+5], al
  00016	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00019	68 d1 00 00 00	 push	 209			; 000000d1H
  0001e	50		 push	 eax
  0001f	8b f1		 mov	 esi, ecx
  00021	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 43   : 	pMsg.btState = iState;

  00026	8a 4d 08	 mov	 cl, BYTE PTR _iState$[ebp]

; 44   : 	pMsg.btDetailState = iDetailState;

  00029	8a 55 0c	 mov	 dl, BYTE PTR _iDetailState$[ebp]
  0002c	83 c4 10	 add	 esp, 16			; 00000010H

; 45   : 
; 46   : 	this->SendDataKanturuBossMapUser((LPBYTE)&pMsg, sizeof(pMsg));

  0002f	6a 06		 push	 6
  00031	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00034	88 4d fc	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  00037	50		 push	 eax
  00038	8b ce		 mov	 ecx, esi
  0003a	88 55 fd	 mov	 BYTE PTR _pMsg$[ebp+5], dl
  0003d	e8 00 00 00 00	 call	 ?SendDataKanturuBossMapUser@CKanturuUtil@@QAEXPAEH@Z ; CKanturuUtil::SendDataKanturuBossMapUser
  00042	5e		 pop	 esi

; 47   : }

  00043	8b e5		 mov	 esp, ebp
  00045	5d		 pop	 ebp
  00046	c2 08 00	 ret	 8
?NotifyKanturuChangeState@CKanturuUtil@@QAEXHH@Z ENDP	; CKanturuUtil::NotifyKanturuChangeState
_TEXT	ENDS
PUBLIC	?NotifyKanturuSuccessValue@CKanturuUtil@@QAEXH@Z ; CKanturuUtil::NotifyKanturuSuccessValue
; Function compile flags: /Ogtp
;	COMDAT ?NotifyKanturuSuccessValue@CKanturuUtil@@QAEXH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 5
_iSuccessValue$ = 8					; size = 4
?NotifyKanturuSuccessValue@CKanturuUtil@@QAEXH@Z PROC	; CKanturuUtil::NotifyKanturuSuccessValue, COMDAT
; _this$ = ecx

; 77   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 78   : 	PMSG_ANS_KANTURU_BATTLE_RESULT pMsg = {0};

  00007	33 c0		 xor	 eax, eax

; 79   : 
; 80   : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x04, sizeof(pMsg));

  00009	6a 05		 push	 5
  0000b	6a 04		 push	 4
  0000d	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp], al
  00010	89 45 f9	 mov	 DWORD PTR _pMsg$[ebp+1], eax
  00013	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00016	68 d1 00 00 00	 push	 209			; 000000d1H
  0001b	50		 push	 eax
  0001c	8b f1		 mov	 esi, ecx
  0001e	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 81   : 	pMsg.btResult = iSuccessValue;

  00023	8a 4d 08	 mov	 cl, BYTE PTR _iSuccessValue$[ebp]
  00026	83 c4 10	 add	 esp, 16			; 00000010H

; 82   : 
; 83   : 	this->SendDataKanturuBattleUser((LPBYTE)&pMsg, sizeof(pMsg));

  00029	6a 05		 push	 5
  0002b	8d 55 f8	 lea	 edx, DWORD PTR _pMsg$[ebp]
  0002e	88 4d fc	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  00031	52		 push	 edx
  00032	8b ce		 mov	 ecx, esi
  00034	e8 00 00 00 00	 call	 ?SendDataKanturuBattleUser@CKanturuUtil@@QAEXPAEH@Z ; CKanturuUtil::SendDataKanturuBattleUser
  00039	5e		 pop	 esi

; 84   : }

  0003a	8b e5		 mov	 esp, ebp
  0003c	5d		 pop	 ebp
  0003d	c2 04 00	 ret	 4
?NotifyKanturuSuccessValue@CKanturuUtil@@QAEXH@Z ENDP	; CKanturuUtil::NotifyKanturuSuccessValue
_TEXT	ENDS
PUBLIC	?NotifyKanturuBattleTime@CKanturuUtil@@QAEXH@Z	; CKanturuUtil::NotifyKanturuBattleTime
; Function compile flags: /Ogtp
;	COMDAT ?NotifyKanturuBattleTime@CKanturuUtil@@QAEXH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 8
_iBattleTime$ = 8					; size = 4
?NotifyKanturuBattleTime@CKanturuUtil@@QAEXH@Z PROC	; CKanturuUtil::NotifyKanturuBattleTime, COMDAT
; _this$ = ecx

; 116  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 117  : 	PMSG_ANS_KANTURU_BATTLE_SCENE_TIMELIMIT pMsg;
; 118  : 
; 119  : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x05, sizeof(pMsg));

  00007	6a 08		 push	 8
  00009	6a 05		 push	 5
  0000b	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0000e	68 d1 00 00 00	 push	 209			; 000000d1H
  00013	50		 push	 eax
  00014	8b f1		 mov	 esi, ecx
  00016	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 120  : 	pMsg.btTimeLimit = iBattleTime;

  0001b	8b 4d 08	 mov	 ecx, DWORD PTR _iBattleTime$[ebp]
  0001e	83 c4 10	 add	 esp, 16			; 00000010H

; 121  : 
; 122  : 	this->SendDataKanturuBattleUser((LPBYTE)&pMsg, sizeof(pMsg));

  00021	6a 08		 push	 8
  00023	8d 55 f8	 lea	 edx, DWORD PTR _pMsg$[ebp]
  00026	89 4d fc	 mov	 DWORD PTR _pMsg$[ebp+4], ecx
  00029	52		 push	 edx
  0002a	8b ce		 mov	 ecx, esi
  0002c	e8 00 00 00 00	 call	 ?SendDataKanturuBattleUser@CKanturuUtil@@QAEXPAEH@Z ; CKanturuUtil::SendDataKanturuBattleUser
  00031	5e		 pop	 esi

; 123  : }

  00032	8b e5		 mov	 esp, ebp
  00034	5d		 pop	 ebp
  00035	c2 04 00	 ret	 4
?NotifyKanturuBattleTime@CKanturuUtil@@QAEXH@Z ENDP	; CKanturuUtil::NotifyKanturuBattleTime
_TEXT	ENDS
PUBLIC	?NotifyKanturuWideAreaAttack@CKanturuUtil@@QAEXHHH@Z ; CKanturuUtil::NotifyKanturuWideAreaAttack
; Function compile flags: /Ogtp
;	COMDAT ?NotifyKanturuWideAreaAttack@CKanturuUtil@@QAEXHHH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 7
_iIndex$ = 8						; size = 4
_iTargetIndex$ = 12					; size = 4
_iSkillType$ = 16					; size = 4
?NotifyKanturuWideAreaAttack@CKanturuUtil@@QAEXHHH@Z PROC ; CKanturuUtil::NotifyKanturuWideAreaAttack, COMDAT
; _this$ = ecx

; 136  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 137  : 	PMSG_NOTIFY_KANTURU_WIDE_AREA_ATTACK pMsg;
; 138  : 
; 139  : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x06, sizeof(pMsg));

  00007	6a 07		 push	 7
  00009	6a 06		 push	 6
  0000b	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0000e	68 d1 00 00 00	 push	 209			; 000000d1H
  00013	50		 push	 eax
  00014	8b f1		 mov	 esi, ecx
  00016	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 140  : 	pMsg.btObjClassH = SET_NUMBERH(gObj[iIndex].Class);

  0001b	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  0001e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00024	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0002a	8d 84 11 b8 00
	00 00		 lea	 eax, DWORD PTR [ecx+edx+184]
  00031	8a 48 01	 mov	 cl, BYTE PTR [eax+1]
  00034	83 c4 10	 add	 esp, 16			; 00000010H
  00037	88 4d fc	 mov	 BYTE PTR _pMsg$[ebp+4], cl

; 141  : 	pMsg.btObjClassL = SET_NUMBERL(gObj[iIndex].Class);

  0003a	8a 10		 mov	 dl, BYTE PTR [eax]

; 142  : 	pMsg.btType = iSkillType;

  0003c	8a 45 10	 mov	 al, BYTE PTR _iSkillType$[ebp]

; 143  : 
; 144  : 	this->SendDataToUser(iTargetIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0003f	6a 07		 push	 7
  00041	8d 4d f8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  00044	88 55 fd	 mov	 BYTE PTR _pMsg$[ebp+5], dl
  00047	8b 55 0c	 mov	 edx, DWORD PTR _iTargetIndex$[ebp]
  0004a	51		 push	 ecx
  0004b	52		 push	 edx
  0004c	8b ce		 mov	 ecx, esi
  0004e	88 45 fe	 mov	 BYTE PTR _pMsg$[ebp+6], al
  00051	e8 00 00 00 00	 call	 ?SendDataToUser@CKanturuUtil@@QAEXHPAEH@Z ; CKanturuUtil::SendDataToUser
  00056	5e		 pop	 esi

; 145  : }

  00057	8b e5		 mov	 esp, ebp
  00059	5d		 pop	 ebp
  0005a	c2 0c 00	 ret	 12			; 0000000cH
?NotifyKanturuWideAreaAttack@CKanturuUtil@@QAEXHHH@Z ENDP ; CKanturuUtil::NotifyKanturuWideAreaAttack
_TEXT	ENDS
PUBLIC	?NotifyKanturuUserMonsterCount@CKanturuUtil@@QAEXHH@Z ; CKanturuUtil::NotifyKanturuUserMonsterCount
; Function compile flags: /Ogtp
;	COMDAT ?NotifyKanturuUserMonsterCount@CKanturuUtil@@QAEXHH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 6
_iMonsterCount$ = 8					; size = 4
_iUserCount$ = 12					; size = 4
?NotifyKanturuUserMonsterCount@CKanturuUtil@@QAEXHH@Z PROC ; CKanturuUtil::NotifyKanturuUserMonsterCount, COMDAT
; _this$ = ecx

; 158  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 159  : 	PMSG_NOTIFY_KANTURU_USER_MONSTER_COUNT pMsg;
; 160  : 
; 161  : 	PHeadSubSetB((LPBYTE)&pMsg, 0xD1, 0x07, sizeof(pMsg));

  00007	6a 06		 push	 6
  00009	6a 07		 push	 7
  0000b	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0000e	68 d1 00 00 00	 push	 209			; 000000d1H
  00013	50		 push	 eax
  00014	8b f1		 mov	 esi, ecx
  00016	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 162  : 	pMsg.btMonsterCount = iMonsterCount;

  0001b	8a 4d 08	 mov	 cl, BYTE PTR _iMonsterCount$[ebp]

; 163  : 	pMsg.btUserCount = iUserCount;

  0001e	8a 55 0c	 mov	 dl, BYTE PTR _iUserCount$[ebp]
  00021	83 c4 10	 add	 esp, 16			; 00000010H

; 164  : 
; 165  : 	this->SendDataKanturuBattleUser((LPBYTE)&pMsg, sizeof(pMsg));

  00024	6a 06		 push	 6
  00026	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00029	88 4d fc	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  0002c	50		 push	 eax
  0002d	8b ce		 mov	 ecx, esi
  0002f	88 55 fd	 mov	 BYTE PTR _pMsg$[ebp+5], dl
  00032	e8 00 00 00 00	 call	 ?SendDataKanturuBattleUser@CKanturuUtil@@QAEXPAEH@Z ; CKanturuUtil::SendDataKanturuBattleUser
  00037	5e		 pop	 esi

; 166  : }

  00038	8b e5		 mov	 esp, ebp
  0003a	5d		 pop	 ebp
  0003b	c2 08 00	 ret	 8
?NotifyKanturuUserMonsterCount@CKanturuUtil@@QAEXHH@Z ENDP ; CKanturuUtil::NotifyKanturuUserMonsterCount
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Ogtp
;	COMDAT ??__Eg_KanturuUtil@@YAXXZ
text$yc	SEGMENT
??__Eg_KanturuUtil@@YAXXZ PROC				; `dynamic initializer for 'g_KanturuUtil'', COMDAT

; 15   : CKanturuUtil g_KanturuUtil; 

  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuUtil@@3VCKanturuUtil@@A ; g_KanturuUtil
  00005	e8 00 00 00 00	 call	 ??0CKanturuUtil@@QAE@XZ	; CKanturuUtil::CKanturuUtil
  0000a	68 00 00 00 00	 push	 OFFSET ??__Fg_KanturuUtil@@YAXXZ ; `dynamic atexit destructor for 'g_KanturuUtil''
  0000f	e8 00 00 00 00	 call	 _atexit
  00014	59		 pop	 ecx
  00015	c3		 ret	 0
??__Eg_KanturuUtil@@YAXXZ ENDP				; `dynamic initializer for 'g_KanturuUtil''
; Function compile flags: /Ogtp
text$yc	ENDS
;	COMDAT ??__Fg_KanturuUtil@@YAXXZ
text$yd	SEGMENT
??__Fg_KanturuUtil@@YAXXZ PROC				; `dynamic atexit destructor for 'g_KanturuUtil'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KanturuUtil@@3VCKanturuUtil@@A ; g_KanturuUtil
  00005	e9 00 00 00 00	 jmp	 ??1CKanturuUtil@@UAE@XZ	; CKanturuUtil::~CKanturuUtil
??__Fg_KanturuUtil@@YAXXZ ENDP				; `dynamic atexit destructor for 'g_KanturuUtil''
text$yd	ENDS
PUBLIC	?g_KanturuUtil@@3VCKanturuUtil@@A		; g_KanturuUtil
_BSS	SEGMENT
?g_KanturuUtil@@3VCKanturuUtil@@A DD 01H DUP (?)	; g_KanturuUtil
_BSS	ENDS
CRT$XCU	SEGMENT
_g_KanturuUtil$initializer$ DD FLAT:??__Eg_KanturuUtil@@YAXXZ
CRT$XCU	ENDS
END
