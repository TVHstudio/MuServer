; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	E:\work\tranet_version\GS\GameServer\ObjUseSkill.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?bFixFenrirPetTwister@@3HA			; bFixFenrirPetTwister
_BSS	SEGMENT
?bFixFenrirPetTwister@@3HA DD 01H DUP (?)		; bFixFenrirPetTwister
_BSS	ENDS
_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_g_sttBLOODCASTLE_LEVEL DD 0fH
	DD	050H
	DD	0aH
	DD	03cH
	DD	051H
	DD	082H
	DD	03dH
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	03e8H
	DD	0137H
	DD	03e8H
	DD	0fH
	DD	04afH
	DD	0aH
	DD	04afH
_g_sttCHAOSCASTLE_LEVEL DD 0fH
	DD	031H
	DD	0fH
	DD	01dH
	DD	032H
	DD	077H
	DD	01eH
	DD	063H
	DD	078H
	DD	0b3H
	DD	064H
	DD	09fH
	DD	0b4H
	DD	0efH
	DD	0a0H
	DD	0dbH
	DD	0f0H
	DD	012bH
	DD	0dcH
	DD	0117H
	DD	012cH
	DD	03e8H
	DD	0118H
	DD	03e8H
	DD	03e8H
	DD	04afH
	DD	03e8H
	DD	04afH
_g_iChaosCastle_BlowOutDistance DD 03H
	DD	04H
	DD	03H
	DD	04H
	DD	02H
	DD	03H
	DD	00H
	DD	01H
_g_iChaosCastle_BlowOutDamage DD 0fH
	DD	0fH
	DD	0aH
	DD	05H
_g_iChaosCastle_EnterCost DD 061a8H
	DD	013880H
	DD	0249f0H
	DD	03d090H
	DD	061a80H
	DD	09eb10H
	DD	0f4240H
_g_iChaosCastle_GuardSetValue DD 09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
_g_iChaosCastle_MonsterItems DD 01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	04H
_g_iChaosCastle_MonsterItemsNewServer DD 00H
	DD	00H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
_g_iChaosCastle_GroundAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
_g_iChaosCastle_DamageAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
	DD	019H
	DD	04dH
	DD	02aH
	DD	06aH
	DD	01bH
	DD	04fH
	DD	028H
	DD	068H
	DD	01dH
	DD	051H
	DD	026H
	DD	066H
_g_iChaosCastle_MapHollowZone DD 017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	019H
	DD	04dH
	DD	02aH
	DD	04eH
	DD	029H
	DD	04fH
	DD	02aH
	DD	06aH
	DD	019H
	DD	069H
	DD	028H
	DD	06aH
	DD	019H
	DD	04fH
	DD	01aH
	DD	068H
	DD	01bH
	DD	04fH
	DD	028H
	DD	050H
	DD	027H
	DD	051H
	DD	028H
	DD	068H
	DD	01bH
	DD	067H
	DD	026H
	DD	068H
	DD	01bH
	DD	051H
	DD	01cH
	DD	066H
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi
  00004	8b 7d 10	 mov	 edi, DWORD PTR ___n$[ebp]
  00007	4f		 dec	 edi
  00008	78 14		 js	 SHORT $LN1@vector
  0000a	53		 push	 ebx
  0000b	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00012	8b ce		 mov	 ecx, esi
  00014	ff d3		 call	 ebx
  00016	03 75 0c	 add	 esi, DWORD PTR ___s$[ebp]
  00019	4f		 dec	 edi
  0001a	79 f6		 jns	 SHORT $LL2@vector
  0001c	5e		 pop	 esi
  0001d	5b		 pop	 ebx
$LN1@vector:
  0001e	5f		 pop	 edi
  0001f	5d		 pop	 ebp
  00020	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	?GetCastleState@CCastleSiege@@QAEHXZ		; CCastleSiege::GetCastleState
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\castlesiege.h
;	COMDAT ?GetCastleState@CCastleSiege@@QAEHXZ
_TEXT	SEGMENT
?GetCastleState@CCastleSiege@@QAEHXZ PROC		; CCastleSiege::GetCastleState, COMDAT
; _this$ = ecx

; 314  : 	int GetCastleState(){return m_iCastleSiegeState;}

  00000	8b 41 28	 mov	 eax, DWORD PTR [ecx+40]
  00003	c3		 ret	 0
?GetCastleState@CCastleSiege@@QAEHXZ ENDP		; CCastleSiege::GetCastleState
_TEXT	ENDS
PUBLIC	?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowSkillTime
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\skilladditioninfo.h
;	COMDAT ?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowSkillTime, COMDAT
; _this$ = ecx

; 35   : 	int GetInfinityArrowSkillTime(){return this->m_iInfinityArrowSkillTime;}

  00000	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00003	c3		 ret	 0
?GetInfinityArrowSkillTime@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowSkillTime
_TEXT	ENDS
PUBLIC	?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus0
; Function compile flags: /Ogtp
;	COMDAT ?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus0, COMDAT
; _this$ = ecx

; 39   : 	int GetInfinityArrowMPConsumptionPlus0(){return this->m_iInfinityArrowMPConsumptionPlus0;}

  00000	8b 41 0c	 mov	 eax, DWORD PTR [ecx+12]
  00003	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus0@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus0
_TEXT	ENDS
PUBLIC	?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus1
; Function compile flags: /Ogtp
;	COMDAT ?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus1, COMDAT
; _this$ = ecx

; 41   : 	int GetInfinityArrowMPConsumptionPlus1(){return this->m_iInfinityArrowMPConsumptionPlus1;}

  00000	8b 41 10	 mov	 eax, DWORD PTR [ecx+16]
  00003	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus1@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus1
_TEXT	ENDS
PUBLIC	?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus2
; Function compile flags: /Ogtp
;	COMDAT ?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus2, COMDAT
; _this$ = ecx

; 43   : 	int GetInfinityArrowMPConsumptionPlus2(){return this->m_iInfinityArrowMPConsumptionPlus2;}

  00000	8b 41 14	 mov	 eax, DWORD PTR [ecx+20]
  00003	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus2@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus2
_TEXT	ENDS
PUBLIC	?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus3
; Function compile flags: /Ogtp
;	COMDAT ?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus3, COMDAT
; _this$ = ecx

; 45   : 	int GetInfinityArrowMPConsumptionPlus3(){return this->m_iInfinityArrowMPConsumptionPlus3;}

  00000	8b 41 18	 mov	 eax, DWORD PTR [ecx+24]
  00003	c3		 ret	 0
?GetInfinityArrowMPConsumptionPlus3@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetInfinityArrowMPConsumptionPlus3
_TEXT	ENDS
PUBLIC	?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ	; CSkillAdditionInfo::GetFireScreamSkill
; Function compile flags: /Ogtp
;	COMDAT ?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ PROC	; CSkillAdditionInfo::GetFireScreamSkill, COMDAT
; _this$ = ecx

; 47   : 	BOOL GetFireScreamSkill(){return this->m_bFireScreamSkill;}

  00000	8b 41 1c	 mov	 eax, DWORD PTR [ecx+28]
  00003	c3		 ret	 0
?GetFireScreamSkill@CSkillAdditionInfo@@QAEHXZ ENDP	; CSkillAdditionInfo::GetFireScreamSkill
_TEXT	ENDS
PUBLIC	?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetFireScreamExplosionAttackDistance
; Function compile flags: /Ogtp
;	COMDAT ?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetFireScreamExplosionAttackDistance, COMDAT
; _this$ = ecx

; 49   : 	int GetFireScreamExplosionAttackDistance(){return this->m_iFireScreamExplosionAttackDistance;}

  00000	8b 41 20	 mov	 eax, DWORD PTR [ecx+32]
  00003	c3		 ret	 0
?GetFireScreamExplosionAttackDistance@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetFireScreamExplosionAttackDistance
_TEXT	ENDS
PUBLIC	?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ ; CSkillAdditionInfo::GetFireScreamExplosionRate
; Function compile flags: /Ogtp
;	COMDAT ?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ
_TEXT	SEGMENT
?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ PROC ; CSkillAdditionInfo::GetFireScreamExplosionRate, COMDAT
; _this$ = ecx

; 51   : 	int GetFireScreamExplosionRate(){return this->m_iFireScreamExplosionRate;}

  00000	8b 41 24	 mov	 eax, DWORD PTR [ecx+36]
  00003	c3		 ret	 0
?GetFireScreamExplosionRate@CSkillAdditionInfo@@QAEHXZ ENDP ; CSkillAdditionInfo::GetFireScreamExplosionRate
_TEXT	ENDS
PUBLIC	??_7CObjUseSkill@@6B@				; CObjUseSkill::`vftable'
PUBLIC	??0CObjUseSkill@@QAE@XZ				; CObjUseSkill::CObjUseSkill
PUBLIC	??_R4CObjUseSkill@@6B@				; CObjUseSkill::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCObjUseSkill@@@8			; CObjUseSkill `RTTI Type Descriptor'
PUBLIC	??_R3CObjUseSkill@@8				; CObjUseSkill::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CObjUseSkill@@8				; CObjUseSkill::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CObjUseSkill@@8			; CObjUseSkill::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECObjUseSkill@@UAEPAXI@Z:PROC		; CObjUseSkill::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CObjUseSkill@@8
; File e:\work\tranet_version\gs\gameserver\objuseskill.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CObjUseSkill@@8 DD FLAT:??_R0?AVCObjUseSkill@@@8 ; CObjUseSkill::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CObjUseSkill@@8
rdata$r	ENDS
;	COMDAT ??_R2CObjUseSkill@@8
rdata$r	SEGMENT
??_R2CObjUseSkill@@8 DD FLAT:??_R1A@?0A@EA@CObjUseSkill@@8 ; CObjUseSkill::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CObjUseSkill@@8
rdata$r	SEGMENT
??_R3CObjUseSkill@@8 DD 00H				; CObjUseSkill::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CObjUseSkill@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCObjUseSkill@@@8
_DATA	SEGMENT
??_R0?AVCObjUseSkill@@@8 DD FLAT:??_7type_info@@6B@	; CObjUseSkill `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCObjUseSkill@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CObjUseSkill@@6B@
rdata$r	SEGMENT
??_R4CObjUseSkill@@6B@ DD 00H				; CObjUseSkill::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCObjUseSkill@@@8
	DD	FLAT:??_R3CObjUseSkill@@8
rdata$r	ENDS
;	COMDAT ??_7CObjUseSkill@@6B@
CONST	SEGMENT
??_7CObjUseSkill@@6B@ DD FLAT:??_R4CObjUseSkill@@6B@	; CObjUseSkill::`vftable'
	DD	FLAT:??_ECObjUseSkill@@UAEPAXI@Z
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ??0CObjUseSkill@@QAE@XZ
_TEXT	SEGMENT
??0CObjUseSkill@@QAE@XZ PROC				; CObjUseSkill::CObjUseSkill, COMDAT
; _this$ = ecx

; 36   : {

  00000	8b c1		 mov	 eax, ecx
  00002	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET ??_7CObjUseSkill@@6B@

; 37   : 
; 38   : }

  00008	c3		 ret	 0
??0CObjUseSkill@@QAE@XZ ENDP				; CObjUseSkill::CObjUseSkill
_TEXT	ENDS
PUBLIC	??1CObjUseSkill@@UAE@XZ				; CObjUseSkill::~CObjUseSkill
; Function compile flags: /Ogtp
;	COMDAT ??1CObjUseSkill@@UAE@XZ
_TEXT	SEGMENT
??1CObjUseSkill@@UAE@XZ PROC				; CObjUseSkill::~CObjUseSkill, COMDAT
; _this$ = ecx

; 41   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CObjUseSkill@@6B@

; 42   : 
; 43   : }

  00006	c3		 ret	 0
??1CObjUseSkill@@UAE@XZ ENDP				; CObjUseSkill::~CObjUseSkill
_TEXT	ENDS
PUBLIC	??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@ ; `string'
PUBLIC	??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@ ; `string'
PUBLIC	??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@ ; `string'
PUBLIC	?SpeedHackCheck@CObjUseSkill@@QAEHH@Z		; CObjUseSkill::SpeedHackCheck
EXTRN	?bIsIgnorePacketSpeedHackDetect@@3HA:DWORD	; bIsIgnorePacketSpeedHackDetect
EXTRN	?gSpeedHackPenalty@@3HA:DWORD			; gSpeedHackPenalty
EXTRN	?CloseClient@@YAXH@Z:PROC			; CloseClient
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?gDetectedHackKickCount@@3HA:DWORD		; gDetectedHackKickCount
EXTRN	?gIsKickDetecHackCountLimit@@3HA:DWORD		; gIsKickDetecHackCountLimit
EXTRN	?gHackCheckCount@@3KA:DWORD			; gHackCheckCount
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
;	COMDAT ??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@
CONST	SEGMENT
??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@ DB '['
	DB	'%s][%s] %s Apply Attack Speed Penalty (%d left)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@
CONST	SEGMENT
??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@ DB '['
	DB	'%s][%s] %s Attack Speed Is Wrong MagicSkill (%d)(%d) Penalty '
	DB	'%d', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@
CONST	SEGMENT
??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@ DB '['
	DB	'%s][%s] %s Kick DetecHackCountLimit Over User (%d)', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SpeedHackCheck@CObjUseSkill@@QAEHH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
?SpeedHackCheck@CObjUseSkill@@QAEHH@Z PROC		; CObjUseSkill::SpeedHackCheck, COMDAT
; _this$ = ecx

; 171  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 172  : 	LPOBJ lpObj = &gObj[aIndex];

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00007	56		 push	 esi
  00008	8b f3		 mov	 esi, ebx
  0000a	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00010	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 173  : 
; 174  : 	int iTimeCalc = GetTickCount() - lpObj->m_LastAttackTime;

  00016	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0001c	2b 86 6c 03 00
	00		 sub	 eax, DWORD PTR [esi+876]

; 175  : 
; 176  : 	if(lpObj->Type != OBJ_USER)

  00022	ba 01 00 00 00	 mov	 edx, 1
  00027	66 39 56 68	 cmp	 WORD PTR [esi+104], dx
  0002b	74 08		 je	 SHORT $LN6@SpeedHackC

; 177  : 	{
; 178  : 		return TRUE;

  0002d	5e		 pop	 esi
  0002e	8b c2		 mov	 eax, edx
  00030	5b		 pop	 ebx

; 218  : }

  00031	5d		 pop	 ebp
  00032	c2 04 00	 ret	 4
$LN6@SpeedHackC:
  00035	57		 push	 edi

; 179  : 	}
; 180  : 
; 181  : 	if(iTimeCalc < lpObj->m_DetectSpeedHackTime)

  00036	8b be 74 03 00
	00		 mov	 edi, DWORD PTR [esi+884]
  0003c	3b c7		 cmp	 eax, edi
  0003e	0f 8d c2 00 00
	00		 jge	 $LN5@SpeedHackC

; 182  : 	{
; 183  : 		lpObj->m_DetectCount++;

  00044	01 96 7c 03 00
	00		 add	 DWORD PTR [esi+892], edx
  0004a	8b 8e 7c 03 00
	00		 mov	 ecx, DWORD PTR [esi+892]

; 184  : 		lpObj->m_SumLastAttackTime += iTimeCalc;

  00050	01 86 78 03 00
	00		 add	 DWORD PTR [esi+888], eax
  00056	8b 86 78 03 00
	00		 mov	 eax, DWORD PTR [esi+888]

; 185  : 
; 186  : 		if(lpObj->m_DetectCount > gHackCheckCount)

  0005c	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?gHackCheckCount@@3KA ; gHackCheckCount
  00062	0f 86 ac 00 00
	00		 jbe	 $LN9@SpeedHackC

; 187  : 		{
; 188  : 			lpObj->m_DetectedHackKickCount++;

  00068	01 96 80 03 00
	00		 add	 DWORD PTR [esi+896], edx

; 189  : 
; 190  : 			if(gIsKickDetecHackCountLimit != 0 && lpObj->m_DetectedHackKickCount > gDetectedHackKickCount)

  0006e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsKickDetecHackCountLimit@@3HA, 0 ; gIsKickDetecHackCountLimit
  00075	8b 96 80 03 00
	00		 mov	 edx, DWORD PTR [esi+896]
  0007b	74 46		 je	 SHORT $LN3@SpeedHackC
  0007d	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gDetectedHackKickCount@@3HA ; gDetectedHackKickCount
  00083	7e 3e		 jle	 SHORT $LN3@SpeedHackC

; 191  : 			{
; 192  : 				LogAddTD("[%s][%s] %s Kick DetecHackCountLimit Over User (%d)", lpObj->AccountID,lpObj->Name,lMsg.Get(lpObj->Class+1900),lpObj->m_DetectedHackKickCount);

  00085	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  0008c	52		 push	 edx
  0008d	05 6c 07 00 00	 add	 eax, 1900		; 0000076cH
  00092	50		 push	 eax
  00093	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00098	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0009d	50		 push	 eax
  0009e	8d 4e 77	 lea	 ecx, DWORD PTR [esi+119]
  000a1	51		 push	 ecx
  000a2	83 c6 6c	 add	 esi, 108		; 0000006cH
  000a5	56		 push	 esi
  000a6	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@ENPGLNLL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Kick?5DetecHackCountL@
  000ab	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 193  : #ifndef SPEEDHACK_DEBUG
; 194  : 				CloseClient(aIndex);

  000b1	53		 push	 ebx
  000b2	e8 00 00 00 00	 call	 ?CloseClient@@YAXH@Z	; CloseClient
  000b7	83 c4 18	 add	 esp, 24			; 00000018H
  000ba	5f		 pop	 edi
  000bb	5e		 pop	 esi

; 195  : #endif
; 196  : 				return false;

  000bc	33 c0		 xor	 eax, eax
  000be	5b		 pop	 ebx

; 218  : }

  000bf	5d		 pop	 ebp
  000c0	c2 04 00	 ret	 4
$LN3@SpeedHackC:

; 197  : 			}
; 198  : 
; 199  : 			lpObj->m_SpeedHackPenalty = gSpeedHackPenalty;

  000c3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gSpeedHackPenalty@@3HA ; gSpeedHackPenalty

; 200  : 			LogAddTD("[%s][%s] %s Attack Speed Is Wrong MagicSkill (%d)(%d) Penalty %d", lpObj->AccountID,lpObj->Name,lMsg.Get(lpObj->Class+1900),lpObj->m_DetectSpeedHackTime,lpObj->m_SumLastAttackTime / lpObj->m_DetectCount,lpObj->m_SpeedHackPenalty);

  000c9	52		 push	 edx
  000ca	89 96 84 03 00
	00		 mov	 DWORD PTR [esi+900], edx
  000d0	33 d2		 xor	 edx, edx
  000d2	f7 f1		 div	 ecx
  000d4	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  000d9	50		 push	 eax
  000da	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  000e1	57		 push	 edi
  000e2	05 6c 07 00 00	 add	 eax, 1900		; 0000076cH
  000e7	50		 push	 eax
  000e8	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  000ed	50		 push	 eax
  000ee	8d 4e 77	 lea	 ecx, DWORD PTR [esi+119]
  000f1	51		 push	 ecx
  000f2	8d 56 6c	 lea	 edx, DWORD PTR [esi+108]
  000f5	52		 push	 edx
  000f6	68 00 00 00 00	 push	 OFFSET ??_C@_0EB@KGCLNBNA@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Attack?5Speed?5Is?5Wron@
  000fb	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00101	83 c4 1c	 add	 esp, 28			; 0000001cH

; 201  : 		}
; 202  : 	}
; 203  : 	else

  00104	eb 0e		 jmp	 SHORT $LN9@SpeedHackC
$LN5@SpeedHackC:

; 204  : 	{
; 205  : 		lpObj->m_SumLastAttackTime = 0;

  00106	33 c0		 xor	 eax, eax
  00108	89 86 78 03 00
	00		 mov	 DWORD PTR [esi+888], eax

; 206  : 		lpObj->m_DetectCount = 0;

  0010e	89 86 7c 03 00
	00		 mov	 DWORD PTR [esi+892], eax
$LN9@SpeedHackC:

; 207  : 	}
; 208  : 
; 209  : 	lpObj->m_LastAttackTime = GetTickCount();

  00114	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0011a	89 86 6c 03 00
	00		 mov	 DWORD PTR [esi+876], eax

; 210  : 
; 211  : 	if(bIsIgnorePacketSpeedHackDetect != 0 && lpObj->m_SpeedHackPenalty > 0)

  00120	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bIsIgnorePacketSpeedHackDetect@@3HA, 0 ; bIsIgnorePacketSpeedHackDetect
  00127	74 49		 je	 SHORT $LN1@SpeedHackC
  00129	8b 86 84 03 00
	00		 mov	 eax, DWORD PTR [esi+900]
  0012f	85 c0		 test	 eax, eax
  00131	7e 3f		 jle	 SHORT $LN1@SpeedHackC

; 212  : 	{
; 213  : 		lpObj->m_SpeedHackPenalty--;

  00133	48		 dec	 eax

; 214  : 		LogAddTD("[%s][%s] %s Apply Attack Speed Penalty (%d left)", lpObj->AccountID,lpObj->Name,lMsg.Get(lpObj->Class + 1900),lpObj->m_SpeedHackPenalty);

  00134	50		 push	 eax
  00135	89 86 84 03 00
	00		 mov	 DWORD PTR [esi+900], eax
  0013b	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00142	05 6c 07 00 00	 add	 eax, 1900		; 0000076cH
  00147	50		 push	 eax
  00148	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0014d	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00152	50		 push	 eax
  00153	8d 4e 77	 lea	 ecx, DWORD PTR [esi+119]
  00156	51		 push	 ecx
  00157	83 c6 6c	 add	 esi, 108		; 0000006cH
  0015a	56		 push	 esi
  0015b	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@JJPLIMIC@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CFs?5Apply?5Attack?5Speed?5P@
  00160	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00166	83 c4 14	 add	 esp, 20			; 00000014H
  00169	5f		 pop	 edi
  0016a	5e		 pop	 esi

; 215  : 		return false;

  0016b	33 c0		 xor	 eax, eax
  0016d	5b		 pop	 ebx

; 218  : }

  0016e	5d		 pop	 ebp
  0016f	c2 04 00	 ret	 4
$LN1@SpeedHackC:
  00172	5f		 pop	 edi
  00173	5e		 pop	 esi

; 216  : 	}
; 217  : 	return true;

  00174	b8 01 00 00 00	 mov	 eax, 1
  00179	5b		 pop	 ebx

; 218  : }

  0017a	5d		 pop	 ebp
  0017b	c2 04 00	 ret	 4
?SpeedHackCheck@CObjUseSkill@@QAEHH@Z ENDP		; CObjUseSkill::SpeedHackCheck
_TEXT	ENDS
PUBLIC	?EnableSkill@CObjUseSkill@@QAEHKH@Z		; CObjUseSkill::EnableSkill
EXTRN	?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z:PROC ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
EXTRN	?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z:PROC ; CMasterLevelSkillTreeSystem::CheckRequireStatus
EXTRN	?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A:BYTE ; g_MasterSkillSystem
; Function compile flags: /Ogtp
;	COMDAT ?EnableSkill@CObjUseSkill@@QAEHKH@Z
_TEXT	SEGMENT
_Skill$ = 8						; size = 4
_Level$ = 12						; size = 4
?EnableSkill@CObjUseSkill@@QAEHKH@Z PROC		; CObjUseSkill::EnableSkill, COMDAT
; _this$ = ecx

; 222  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 223  : 	if(g_MasterSkillSystem.CheckRequireStatus(Skill) != FALSE) //Season3 add-on

  00004	8b 75 08	 mov	 esi, DWORD PTR _Skill$[ebp]
  00007	56		 push	 esi
  00008	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  0000d	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  00012	85 c0		 test	 eax, eax
  00014	0f 84 1c 05 00
	00		 je	 $LN5@EnableSkil

; 224  : 	{
; 225  : 		int GetBaseMasterLevelSkill = g_MasterSkillSystem.GetBaseMasterLevelSkill(Skill);

  0001a	56		 push	 esi
  0001b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00020	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill

; 226  : 
; 227  : #ifdef DEBUG_CODE
; 228  : 		LogAddC(5,"GetBaseMasterLevelSkill: %d",GetBaseMasterLevelSkill);
; 229  : #endif
; 230  : 
; 231  : 		if(	 GetBaseMasterLevelSkill != 403
; 232  :           && GetBaseMasterLevelSkill != 388
; 233  :           && GetBaseMasterLevelSkill != 330
; 234  :           && GetBaseMasterLevelSkill != 413
; 235  :           && GetBaseMasterLevelSkill != 414
; 236  :           && GetBaseMasterLevelSkill != 481
; 237  :           && GetBaseMasterLevelSkill != 356
; 238  :           && GetBaseMasterLevelSkill != 382
; 239  :           && GetBaseMasterLevelSkill != 512
; 240  :           && GetBaseMasterLevelSkill != 508
; 241  :           && GetBaseMasterLevelSkill != 385
; 242  :           && GetBaseMasterLevelSkill != 391
; 243  :           && GetBaseMasterLevelSkill != 336
; 244  :           && GetBaseMasterLevelSkill != 331
; 245  :           && GetBaseMasterLevelSkill != 417
; 246  :           && GetBaseMasterLevelSkill != 420
; 247  :           && GetBaseMasterLevelSkill != 490
; 248  :           && GetBaseMasterLevelSkill != 482
; 249  :           && GetBaseMasterLevelSkill != 518
; 250  :           && GetBaseMasterLevelSkill != 487
; 251  :           && GetBaseMasterLevelSkill != 454
; 252  :           && GetBaseMasterLevelSkill != 455
; 253  :           && GetBaseMasterLevelSkill != 456
; 254  :           && GetBaseMasterLevelSkill != 458
; 255  :           && GetBaseMasterLevelSkill != 326
; 256  :           && GetBaseMasterLevelSkill != 327
; 257  :           && GetBaseMasterLevelSkill != 328
; 258  :           && GetBaseMasterLevelSkill != 329
; 259  :           && GetBaseMasterLevelSkill != 332
; 260  :           && GetBaseMasterLevelSkill != 333
; 261  :           && GetBaseMasterLevelSkill != 337
; 262  :           && GetBaseMasterLevelSkill != 339
; 263  :           && GetBaseMasterLevelSkill != 340
; 264  :           && GetBaseMasterLevelSkill != 342
; 265  :           && GetBaseMasterLevelSkill != 343
; 266  :           && GetBaseMasterLevelSkill != 344
; 267  :           && GetBaseMasterLevelSkill != 346
; 268  :           && GetBaseMasterLevelSkill != 360
; 269  :           && GetBaseMasterLevelSkill != 363
; 270  :           && GetBaseMasterLevelSkill != 376
; 271  :           && GetBaseMasterLevelSkill != 378
; 272  :           && GetBaseMasterLevelSkill != 379
; 273  :           && GetBaseMasterLevelSkill != 380
; 274  :           && GetBaseMasterLevelSkill != 381
; 275  :           && GetBaseMasterLevelSkill != 383
; 276  :           && GetBaseMasterLevelSkill != 384
; 277  :           && GetBaseMasterLevelSkill != 386
; 278  :           && GetBaseMasterLevelSkill != 387
; 279  :           && GetBaseMasterLevelSkill != 389
; 280  :           && GetBaseMasterLevelSkill != 390
; 281  :           && GetBaseMasterLevelSkill != 392
; 282  :           && GetBaseMasterLevelSkill != 393
; 283  :           && GetBaseMasterLevelSkill != 394
; 284  :           && GetBaseMasterLevelSkill != 395
; 285  :           && GetBaseMasterLevelSkill != 396
; 286  :           && GetBaseMasterLevelSkill != 404
; 287  :           && GetBaseMasterLevelSkill != 406
; 288  :           && GetBaseMasterLevelSkill != 411
; 289  :           && GetBaseMasterLevelSkill != 415
; 290  :           && GetBaseMasterLevelSkill != 416
; 291  :           && GetBaseMasterLevelSkill != 418
; 292  :           && GetBaseMasterLevelSkill != 419
; 293  :           && GetBaseMasterLevelSkill != 425
; 294  :           && GetBaseMasterLevelSkill != 426
; 295  :           && GetBaseMasterLevelSkill != 427
; 296  :           && GetBaseMasterLevelSkill != 428
; 297  :           && GetBaseMasterLevelSkill != 429
; 298  :           && GetBaseMasterLevelSkill != 430
; 299  :           && GetBaseMasterLevelSkill != 431
; 300  :           && GetBaseMasterLevelSkill != 432
; 301  :           && GetBaseMasterLevelSkill != 433
; 302  :           && GetBaseMasterLevelSkill != 434
; 303  :           && GetBaseMasterLevelSkill != 441
; 304  :           && GetBaseMasterLevelSkill != 459
; 305  :           && GetBaseMasterLevelSkill != 460
; 306  :           && GetBaseMasterLevelSkill != 461
; 307  :           && GetBaseMasterLevelSkill != 462
; 308  :           && GetBaseMasterLevelSkill != 466
; 309  :           && GetBaseMasterLevelSkill != 468
; 310  :           && GetBaseMasterLevelSkill != 469
; 311  :           && GetBaseMasterLevelSkill != 470
; 312  :           && GetBaseMasterLevelSkill != 472
; 313  :           && GetBaseMasterLevelSkill != 477
; 314  :           && GetBaseMasterLevelSkill != 479
; 315  :           && GetBaseMasterLevelSkill != 480
; 316  :           && GetBaseMasterLevelSkill != 483
; 317  :           && GetBaseMasterLevelSkill != 484
; 318  :           && GetBaseMasterLevelSkill != 486
; 319  :           && GetBaseMasterLevelSkill != 488
; 320  :           && GetBaseMasterLevelSkill != 489
; 321  :           && GetBaseMasterLevelSkill != 491
; 322  :           && GetBaseMasterLevelSkill != 492
; 323  :           && GetBaseMasterLevelSkill != 493
; 324  :           && GetBaseMasterLevelSkill != 494
; 325  :           && GetBaseMasterLevelSkill != 495
; 326  :           && GetBaseMasterLevelSkill != 497
; 327  :           && GetBaseMasterLevelSkill != 498
; 328  :           && GetBaseMasterLevelSkill != 499
; 329  :           && GetBaseMasterLevelSkill != 500
; 330  :           && GetBaseMasterLevelSkill != 501
; 331  :           && GetBaseMasterLevelSkill != 502
; 332  :           && GetBaseMasterLevelSkill != 509
; 333  :           && GetBaseMasterLevelSkill != 510
; 334  :           && GetBaseMasterLevelSkill != 514
; 335  :           && GetBaseMasterLevelSkill != 515
; 336  :           && GetBaseMasterLevelSkill != 516
; 337  :           && GetBaseMasterLevelSkill != 519
; 338  :           && GetBaseMasterLevelSkill != 520
; 339  :           && GetBaseMasterLevelSkill != 521
; 340  :           && GetBaseMasterLevelSkill != 523
; 341  :           && GetBaseMasterLevelSkill != 539
; 342  : 		  && GetBaseMasterLevelSkill != 551
; 343  :           && GetBaseMasterLevelSkill != 552
; 344  :           && GetBaseMasterLevelSkill != 554
; 345  :           && GetBaseMasterLevelSkill != 555
; 346  :           && GetBaseMasterLevelSkill != 558
; 347  : 		  && GetBaseMasterLevelSkill != 559
; 348  : 		  && GetBaseMasterLevelSkill != 560
; 349  : 		  && GetBaseMasterLevelSkill != 558
; 350  : 			)

  00025	3d 93 01 00 00	 cmp	 eax, 403		; 00000193H
  0002a	0f 84 7c 07 00
	00		 je	 $LN1@EnableSkil
  00030	3d 84 01 00 00	 cmp	 eax, 388		; 00000184H
  00035	0f 84 71 07 00
	00		 je	 $LN1@EnableSkil
  0003b	3d 4a 01 00 00	 cmp	 eax, 330		; 0000014aH
  00040	0f 84 66 07 00
	00		 je	 $LN1@EnableSkil
  00046	3d 9d 01 00 00	 cmp	 eax, 413		; 0000019dH
  0004b	0f 84 5b 07 00
	00		 je	 $LN1@EnableSkil
  00051	3d 9e 01 00 00	 cmp	 eax, 414		; 0000019eH
  00056	0f 84 50 07 00
	00		 je	 $LN1@EnableSkil
  0005c	3d e1 01 00 00	 cmp	 eax, 481		; 000001e1H
  00061	0f 84 45 07 00
	00		 je	 $LN1@EnableSkil
  00067	3d 64 01 00 00	 cmp	 eax, 356		; 00000164H
  0006c	0f 84 3a 07 00
	00		 je	 $LN1@EnableSkil
  00072	3d 7e 01 00 00	 cmp	 eax, 382		; 0000017eH
  00077	0f 84 2f 07 00
	00		 je	 $LN1@EnableSkil
  0007d	3d 00 02 00 00	 cmp	 eax, 512		; 00000200H
  00082	0f 84 24 07 00
	00		 je	 $LN1@EnableSkil
  00088	3d fc 01 00 00	 cmp	 eax, 508		; 000001fcH
  0008d	0f 84 19 07 00
	00		 je	 $LN1@EnableSkil
  00093	3d 81 01 00 00	 cmp	 eax, 385		; 00000181H
  00098	0f 84 0e 07 00
	00		 je	 $LN1@EnableSkil
  0009e	3d 87 01 00 00	 cmp	 eax, 391		; 00000187H
  000a3	0f 84 03 07 00
	00		 je	 $LN1@EnableSkil
  000a9	3d 50 01 00 00	 cmp	 eax, 336		; 00000150H
  000ae	0f 84 f8 06 00
	00		 je	 $LN1@EnableSkil
  000b4	3d 4b 01 00 00	 cmp	 eax, 331		; 0000014bH
  000b9	0f 84 ed 06 00
	00		 je	 $LN1@EnableSkil
  000bf	3d a1 01 00 00	 cmp	 eax, 417		; 000001a1H
  000c4	0f 84 e2 06 00
	00		 je	 $LN1@EnableSkil
  000ca	3d a4 01 00 00	 cmp	 eax, 420		; 000001a4H
  000cf	0f 84 d7 06 00
	00		 je	 $LN1@EnableSkil
  000d5	3d ea 01 00 00	 cmp	 eax, 490		; 000001eaH
  000da	0f 84 cc 06 00
	00		 je	 $LN1@EnableSkil
  000e0	3d e2 01 00 00	 cmp	 eax, 482		; 000001e2H
  000e5	0f 84 c1 06 00
	00		 je	 $LN1@EnableSkil
  000eb	3d 06 02 00 00	 cmp	 eax, 518		; 00000206H
  000f0	0f 84 b6 06 00
	00		 je	 $LN1@EnableSkil
  000f6	3d e7 01 00 00	 cmp	 eax, 487		; 000001e7H
  000fb	0f 84 ab 06 00
	00		 je	 $LN1@EnableSkil
  00101	3d c6 01 00 00	 cmp	 eax, 454		; 000001c6H
  00106	0f 84 a0 06 00
	00		 je	 $LN1@EnableSkil
  0010c	3d c7 01 00 00	 cmp	 eax, 455		; 000001c7H
  00111	0f 84 95 06 00
	00		 je	 $LN1@EnableSkil
  00117	3d c8 01 00 00	 cmp	 eax, 456		; 000001c8H
  0011c	0f 84 8a 06 00
	00		 je	 $LN1@EnableSkil
  00122	3d ca 01 00 00	 cmp	 eax, 458		; 000001caH
  00127	0f 84 7f 06 00
	00		 je	 $LN1@EnableSkil
  0012d	3d 46 01 00 00	 cmp	 eax, 326		; 00000146H
  00132	0f 84 74 06 00
	00		 je	 $LN1@EnableSkil
  00138	3d 47 01 00 00	 cmp	 eax, 327		; 00000147H
  0013d	0f 84 69 06 00
	00		 je	 $LN1@EnableSkil
  00143	3d 48 01 00 00	 cmp	 eax, 328		; 00000148H
  00148	0f 84 5e 06 00
	00		 je	 $LN1@EnableSkil
  0014e	3d 49 01 00 00	 cmp	 eax, 329		; 00000149H
  00153	0f 84 53 06 00
	00		 je	 $LN1@EnableSkil
  00159	3d 4c 01 00 00	 cmp	 eax, 332		; 0000014cH
  0015e	0f 84 48 06 00
	00		 je	 $LN1@EnableSkil
  00164	3d 4d 01 00 00	 cmp	 eax, 333		; 0000014dH
  00169	0f 84 3d 06 00
	00		 je	 $LN1@EnableSkil
  0016f	3d 51 01 00 00	 cmp	 eax, 337		; 00000151H
  00174	0f 84 32 06 00
	00		 je	 $LN1@EnableSkil
  0017a	3d 53 01 00 00	 cmp	 eax, 339		; 00000153H
  0017f	0f 84 27 06 00
	00		 je	 $LN1@EnableSkil
  00185	3d 54 01 00 00	 cmp	 eax, 340		; 00000154H
  0018a	0f 84 1c 06 00
	00		 je	 $LN1@EnableSkil
  00190	3d 56 01 00 00	 cmp	 eax, 342		; 00000156H
  00195	0f 84 11 06 00
	00		 je	 $LN1@EnableSkil
  0019b	3d 57 01 00 00	 cmp	 eax, 343		; 00000157H
  001a0	0f 84 06 06 00
	00		 je	 $LN1@EnableSkil
  001a6	3d 58 01 00 00	 cmp	 eax, 344		; 00000158H
  001ab	0f 84 fb 05 00
	00		 je	 $LN1@EnableSkil
  001b1	3d 5a 01 00 00	 cmp	 eax, 346		; 0000015aH
  001b6	0f 84 f0 05 00
	00		 je	 $LN1@EnableSkil
  001bc	3d 68 01 00 00	 cmp	 eax, 360		; 00000168H
  001c1	0f 84 e5 05 00
	00		 je	 $LN1@EnableSkil
  001c7	3d 6b 01 00 00	 cmp	 eax, 363		; 0000016bH
  001cc	0f 84 da 05 00
	00		 je	 $LN1@EnableSkil
  001d2	3d 78 01 00 00	 cmp	 eax, 376		; 00000178H
  001d7	0f 84 cf 05 00
	00		 je	 $LN1@EnableSkil
  001dd	3d 7a 01 00 00	 cmp	 eax, 378		; 0000017aH
  001e2	0f 84 c4 05 00
	00		 je	 $LN1@EnableSkil
  001e8	3d 7b 01 00 00	 cmp	 eax, 379		; 0000017bH
  001ed	0f 84 b9 05 00
	00		 je	 $LN1@EnableSkil
  001f3	3d 7c 01 00 00	 cmp	 eax, 380		; 0000017cH
  001f8	0f 84 ae 05 00
	00		 je	 $LN1@EnableSkil
  001fe	3d 7d 01 00 00	 cmp	 eax, 381		; 0000017dH
  00203	0f 84 a3 05 00
	00		 je	 $LN1@EnableSkil
  00209	3d 7f 01 00 00	 cmp	 eax, 383		; 0000017fH
  0020e	0f 84 98 05 00
	00		 je	 $LN1@EnableSkil
  00214	3d 80 01 00 00	 cmp	 eax, 384		; 00000180H
  00219	0f 84 8d 05 00
	00		 je	 $LN1@EnableSkil
  0021f	3d 82 01 00 00	 cmp	 eax, 386		; 00000182H
  00224	0f 84 82 05 00
	00		 je	 $LN1@EnableSkil
  0022a	3d 83 01 00 00	 cmp	 eax, 387		; 00000183H
  0022f	0f 84 77 05 00
	00		 je	 $LN1@EnableSkil
  00235	3d 85 01 00 00	 cmp	 eax, 389		; 00000185H
  0023a	0f 84 6c 05 00
	00		 je	 $LN1@EnableSkil
  00240	3d 86 01 00 00	 cmp	 eax, 390		; 00000186H
  00245	0f 84 61 05 00
	00		 je	 $LN1@EnableSkil
  0024b	3d 88 01 00 00	 cmp	 eax, 392		; 00000188H
  00250	0f 84 56 05 00
	00		 je	 $LN1@EnableSkil
  00256	3d 89 01 00 00	 cmp	 eax, 393		; 00000189H
  0025b	0f 84 4b 05 00
	00		 je	 $LN1@EnableSkil
  00261	3d 8a 01 00 00	 cmp	 eax, 394		; 0000018aH
  00266	0f 84 40 05 00
	00		 je	 $LN1@EnableSkil
  0026c	3d 8b 01 00 00	 cmp	 eax, 395		; 0000018bH
  00271	0f 84 35 05 00
	00		 je	 $LN1@EnableSkil
  00277	3d 8c 01 00 00	 cmp	 eax, 396		; 0000018cH
  0027c	0f 84 2a 05 00
	00		 je	 $LN1@EnableSkil
  00282	3d 94 01 00 00	 cmp	 eax, 404		; 00000194H
  00287	0f 84 1f 05 00
	00		 je	 $LN1@EnableSkil
  0028d	3d 96 01 00 00	 cmp	 eax, 406		; 00000196H
  00292	0f 84 14 05 00
	00		 je	 $LN1@EnableSkil
  00298	3d 9b 01 00 00	 cmp	 eax, 411		; 0000019bH
  0029d	0f 84 09 05 00
	00		 je	 $LN1@EnableSkil
  002a3	3d 9f 01 00 00	 cmp	 eax, 415		; 0000019fH
  002a8	0f 84 fe 04 00
	00		 je	 $LN1@EnableSkil
  002ae	3d a0 01 00 00	 cmp	 eax, 416		; 000001a0H
  002b3	0f 84 f3 04 00
	00		 je	 $LN1@EnableSkil
  002b9	3d a2 01 00 00	 cmp	 eax, 418		; 000001a2H
  002be	0f 84 e8 04 00
	00		 je	 $LN1@EnableSkil
  002c4	3d a3 01 00 00	 cmp	 eax, 419		; 000001a3H
  002c9	0f 84 dd 04 00
	00		 je	 $LN1@EnableSkil
  002cf	3d a9 01 00 00	 cmp	 eax, 425		; 000001a9H
  002d4	0f 84 d2 04 00
	00		 je	 $LN1@EnableSkil
  002da	3d aa 01 00 00	 cmp	 eax, 426		; 000001aaH
  002df	0f 84 c7 04 00
	00		 je	 $LN1@EnableSkil
  002e5	3d ab 01 00 00	 cmp	 eax, 427		; 000001abH
  002ea	0f 84 bc 04 00
	00		 je	 $LN1@EnableSkil
  002f0	3d ac 01 00 00	 cmp	 eax, 428		; 000001acH
  002f5	0f 84 b1 04 00
	00		 je	 $LN1@EnableSkil
  002fb	3d ad 01 00 00	 cmp	 eax, 429		; 000001adH
  00300	0f 84 a6 04 00
	00		 je	 $LN1@EnableSkil
  00306	3d ae 01 00 00	 cmp	 eax, 430		; 000001aeH
  0030b	0f 84 9b 04 00
	00		 je	 $LN1@EnableSkil
  00311	3d af 01 00 00	 cmp	 eax, 431		; 000001afH
  00316	0f 84 90 04 00
	00		 je	 $LN1@EnableSkil
  0031c	3d b0 01 00 00	 cmp	 eax, 432		; 000001b0H
  00321	0f 84 85 04 00
	00		 je	 $LN1@EnableSkil
  00327	3d b1 01 00 00	 cmp	 eax, 433		; 000001b1H
  0032c	0f 84 7a 04 00
	00		 je	 $LN1@EnableSkil
  00332	3d b2 01 00 00	 cmp	 eax, 434		; 000001b2H
  00337	0f 84 6f 04 00
	00		 je	 $LN1@EnableSkil
  0033d	3d b9 01 00 00	 cmp	 eax, 441		; 000001b9H
  00342	0f 84 64 04 00
	00		 je	 $LN1@EnableSkil
  00348	3d cb 01 00 00	 cmp	 eax, 459		; 000001cbH
  0034d	0f 84 59 04 00
	00		 je	 $LN1@EnableSkil
  00353	3d cc 01 00 00	 cmp	 eax, 460		; 000001ccH
  00358	0f 84 4e 04 00
	00		 je	 $LN1@EnableSkil
  0035e	3d cd 01 00 00	 cmp	 eax, 461		; 000001cdH
  00363	0f 84 43 04 00
	00		 je	 $LN1@EnableSkil
  00369	3d ce 01 00 00	 cmp	 eax, 462		; 000001ceH
  0036e	0f 84 38 04 00
	00		 je	 $LN1@EnableSkil
  00374	3d d2 01 00 00	 cmp	 eax, 466		; 000001d2H
  00379	0f 84 2d 04 00
	00		 je	 $LN1@EnableSkil
  0037f	3d d4 01 00 00	 cmp	 eax, 468		; 000001d4H
  00384	0f 84 22 04 00
	00		 je	 $LN1@EnableSkil
  0038a	3d d5 01 00 00	 cmp	 eax, 469		; 000001d5H
  0038f	0f 84 17 04 00
	00		 je	 $LN1@EnableSkil
  00395	3d d6 01 00 00	 cmp	 eax, 470		; 000001d6H
  0039a	0f 84 0c 04 00
	00		 je	 $LN1@EnableSkil
  003a0	3d d8 01 00 00	 cmp	 eax, 472		; 000001d8H
  003a5	0f 84 01 04 00
	00		 je	 $LN1@EnableSkil
  003ab	3d dd 01 00 00	 cmp	 eax, 477		; 000001ddH
  003b0	0f 84 f6 03 00
	00		 je	 $LN1@EnableSkil
  003b6	3d df 01 00 00	 cmp	 eax, 479		; 000001dfH
  003bb	0f 84 eb 03 00
	00		 je	 $LN1@EnableSkil
  003c1	3d e0 01 00 00	 cmp	 eax, 480		; 000001e0H
  003c6	0f 84 e0 03 00
	00		 je	 $LN1@EnableSkil
  003cc	3d e3 01 00 00	 cmp	 eax, 483		; 000001e3H
  003d1	0f 84 d5 03 00
	00		 je	 $LN1@EnableSkil
  003d7	3d e4 01 00 00	 cmp	 eax, 484		; 000001e4H
  003dc	0f 84 ca 03 00
	00		 je	 $LN1@EnableSkil
  003e2	3d e6 01 00 00	 cmp	 eax, 486		; 000001e6H
  003e7	0f 84 bf 03 00
	00		 je	 $LN1@EnableSkil
  003ed	3d e8 01 00 00	 cmp	 eax, 488		; 000001e8H
  003f2	0f 84 b4 03 00
	00		 je	 $LN1@EnableSkil
  003f8	3d e9 01 00 00	 cmp	 eax, 489		; 000001e9H
  003fd	0f 84 a9 03 00
	00		 je	 $LN1@EnableSkil
  00403	3d eb 01 00 00	 cmp	 eax, 491		; 000001ebH
  00408	0f 84 9e 03 00
	00		 je	 $LN1@EnableSkil
  0040e	3d ec 01 00 00	 cmp	 eax, 492		; 000001ecH
  00413	0f 84 93 03 00
	00		 je	 $LN1@EnableSkil
  00419	3d ed 01 00 00	 cmp	 eax, 493		; 000001edH
  0041e	0f 84 88 03 00
	00		 je	 $LN1@EnableSkil
  00424	3d ee 01 00 00	 cmp	 eax, 494		; 000001eeH
  00429	0f 84 7d 03 00
	00		 je	 $LN1@EnableSkil
  0042f	3d ef 01 00 00	 cmp	 eax, 495		; 000001efH
  00434	0f 84 72 03 00
	00		 je	 $LN1@EnableSkil
  0043a	3d f1 01 00 00	 cmp	 eax, 497		; 000001f1H
  0043f	0f 84 67 03 00
	00		 je	 $LN1@EnableSkil
  00445	3d f2 01 00 00	 cmp	 eax, 498		; 000001f2H
  0044a	0f 84 5c 03 00
	00		 je	 $LN1@EnableSkil
  00450	3d f3 01 00 00	 cmp	 eax, 499		; 000001f3H
  00455	0f 84 51 03 00
	00		 je	 $LN1@EnableSkil
  0045b	3d f4 01 00 00	 cmp	 eax, 500		; 000001f4H
  00460	0f 84 46 03 00
	00		 je	 $LN1@EnableSkil
  00466	3d f5 01 00 00	 cmp	 eax, 501		; 000001f5H
  0046b	0f 84 3b 03 00
	00		 je	 $LN1@EnableSkil
  00471	3d f6 01 00 00	 cmp	 eax, 502		; 000001f6H
  00476	0f 84 30 03 00
	00		 je	 $LN1@EnableSkil
  0047c	3d fd 01 00 00	 cmp	 eax, 509		; 000001fdH
  00481	0f 84 25 03 00
	00		 je	 $LN1@EnableSkil
  00487	3d fe 01 00 00	 cmp	 eax, 510		; 000001feH
  0048c	0f 84 1a 03 00
	00		 je	 $LN1@EnableSkil
  00492	3d 02 02 00 00	 cmp	 eax, 514		; 00000202H
  00497	0f 84 0f 03 00
	00		 je	 $LN1@EnableSkil
  0049d	3d 03 02 00 00	 cmp	 eax, 515		; 00000203H
  004a2	0f 84 04 03 00
	00		 je	 $LN1@EnableSkil
  004a8	3d 04 02 00 00	 cmp	 eax, 516		; 00000204H
  004ad	0f 84 f9 02 00
	00		 je	 $LN1@EnableSkil
  004b3	3d 07 02 00 00	 cmp	 eax, 519		; 00000207H
  004b8	0f 84 ee 02 00
	00		 je	 $LN1@EnableSkil
  004be	3d 08 02 00 00	 cmp	 eax, 520		; 00000208H
  004c3	0f 84 e3 02 00
	00		 je	 $LN1@EnableSkil
  004c9	3d 09 02 00 00	 cmp	 eax, 521		; 00000209H
  004ce	0f 84 d8 02 00
	00		 je	 $LN1@EnableSkil
  004d4	3d 0b 02 00 00	 cmp	 eax, 523		; 0000020bH
  004d9	0f 84 cd 02 00
	00		 je	 $LN1@EnableSkil
  004df	3d 1b 02 00 00	 cmp	 eax, 539		; 0000021bH
  004e4	0f 84 c2 02 00
	00		 je	 $LN1@EnableSkil
  004ea	3d 27 02 00 00	 cmp	 eax, 551		; 00000227H
  004ef	0f 84 b7 02 00
	00		 je	 $LN1@EnableSkil
  004f5	3d 28 02 00 00	 cmp	 eax, 552		; 00000228H
  004fa	0f 84 ac 02 00
	00		 je	 $LN1@EnableSkil
  00500	3d 2a 02 00 00	 cmp	 eax, 554		; 0000022aH
  00505	0f 84 a1 02 00
	00		 je	 $LN1@EnableSkil
  0050b	3d 2b 02 00 00	 cmp	 eax, 555		; 0000022bH
  00510	0f 84 96 02 00
	00		 je	 $LN1@EnableSkil
  00516	3d 2e 02 00 00	 cmp	 eax, 558		; 0000022eH
  0051b	0f 84 8b 02 00
	00		 je	 $LN1@EnableSkil
  00521	3d 2f 02 00 00	 cmp	 eax, 559		; 0000022fH
  00526	0f 84 80 02 00
	00		 je	 $LN1@EnableSkil
  0052c	3d 30 02 00 00	 cmp	 eax, 560		; 00000230H

; 351  : 		{
; 352  : 			return false;
; 353  : 		}
; 354  : 		else
; 355  : 		{
; 356  : 			return true;

  00531	e9 6d 02 00 00	 jmp	 $LN9@EnableSkil
$LN5@EnableSkil:

; 357  : 		}
; 358  : 		
; 359  : 	}
; 360  : 	else if(Skill != AT_SKILL_STORM
; 361  : 		&& Skill != AT_SKILL_EVIL
; 362  : 		&& Skill != AT_SKILL_FLAME
; 363  : 		&& Skill != AT_SKILL_HELL
; 364  : 		&& Skill != AT_SKILL_BLAST
; 365  : 		&& Skill != AT_SKILL_INFERNO
; 366  : 		&& Skill != AT_SKILL_CROSSBOW
; 367  : 		&& Skill != AT_SKILL_DEVILFIRE
; 368  : 		&& Skill != AT_SKILL_FLASH
; 369  : 		&& Skill != AT_SKILL_WHEEL
; 370  : 		&& Skill != AT_SKILL_SWORD6
; 371  : 		&& Skill != AT_SKILL_KNIGHTSPEAR
; 372  : 		&& Skill != AT_SKILL_KNIGHTADDLIFE
; 373  : 		&& Skill != AT_SKILL_STRIKE
; 374  : 		&& Skill != AT_SKILL_KNIGHTDINORANT
; 375  : 		&& Skill != AT_SKILL_ELFHARDEN
; 376  : 		&& Skill != AT_SKILL_PENETRATION
; 377  : 		&& Skill != AT_SKILL_DEFENSEDOWN
; 378  : 		&& Skill != AT_SKILL_MAGICDEFENSE
; 379  : 		&& Skill != AT_SKILL_BLOWOFFURY
; 380  : 		&& Skill != AT_SKILL_EXPPOISON
; 381  : 		&& Skill != AT_SKILL_EXPICE
; 382  : 		&& Skill != AT_SKILL_EXPHELL
; 383  : 		&& Skill != AT_SKILL_ELECTRICSPARK
; 384  : 		&& Skill != AT_SKILL_DARKHORSE_ATTACK
; 385  : 		&& Skill != AT_SKILL_BRAND_OF_SKILL
; 386  : 		&& Skill != AT_SKILL_STUN
; 387  : 		&& Skill != AT_SKILL_REMOVAL_STUN
; 388  : 		&& Skill != AT_SKILL_ADD_MANA
; 389  : 		&& Skill != AT_SKILL_INVISIBLE 
; 390  : 		&& Skill != AT_SKILL_REMOVAL_INVISIBLE
; 391  : 		&& Skill != AT_SKILL_REMOVAL_MAGIC
; 392  : 		&& Skill != AT_SKILL_FENRIR_ATTACK
; 393  : 		&& Skill != AT_SKILL_INFINITY_ARROW
; 394  : 		&& Skill != AT_SKILL_FIRESCREAM
; 395  : 		&& Skill != 214
; 396  : 		&& Skill != 215
; 397  : 		&& Skill != 216
; 398  : 		&& Skill != 217
; 399  : 		&& Skill != 219
; 400  : 		&& Skill != 220
; 401  : 		&& Skill != 223
; 402  : 		&& Skill != 224
; 403  : 		&& Skill != 221
; 404  : 		&& Skill != 222
; 405  : 		//Season4 add-on
; 406  : 		&& Skill != 225
; 407  : 		&& Skill != 230
; 408  : 		&& Skill != 218
; 409  : 		&& Skill != 232
; 410  : 		&& Skill != 233
; 411  : 		&& Skill != 234
; 412  : 		&& Skill != 235
; 413  : 		&& Skill != 236
; 414  : 		&& Skill != 237
; 415  : 		&& Skill != 238
; 416  : 		&& Skill != 239
; 417  : 		&& Skill != 260
; 418  : 		&& Skill != 261
; 419  : 		&& Skill != 262
; 420  : 		&& Skill != 263
; 421  : 		&& Skill != 264
; 422  : 		&& Skill != 265
; 423  : 		&& Skill != 266
; 424  : 		&& Skill != 267
; 425  : 		&& Skill != 268
; 426  : 		&& Skill != 270
; 427  : 		)

  00536	83 fe 08	 cmp	 esi, 8
  00539	0f 84 6d 02 00
	00		 je	 $LN1@EnableSkil
  0053f	83 fe 09	 cmp	 esi, 9
  00542	0f 84 64 02 00
	00		 je	 $LN1@EnableSkil
  00548	83 fe 05	 cmp	 esi, 5
  0054b	0f 84 5b 02 00
	00		 je	 $LN1@EnableSkil
  00551	83 fe 0a	 cmp	 esi, 10			; 0000000aH
  00554	0f 84 52 02 00
	00		 je	 $LN1@EnableSkil
  0055a	83 fe 0d	 cmp	 esi, 13			; 0000000dH
  0055d	0f 84 49 02 00
	00		 je	 $LN1@EnableSkil
  00563	83 fe 0e	 cmp	 esi, 14			; 0000000eH
  00566	0f 84 40 02 00
	00		 je	 $LN1@EnableSkil
  0056c	83 fe 18	 cmp	 esi, 24			; 00000018H
  0056f	0f 84 37 02 00
	00		 je	 $LN1@EnableSkil
  00575	83 fe 32	 cmp	 esi, 50			; 00000032H
  00578	0f 84 2e 02 00
	00		 je	 $LN1@EnableSkil
  0057e	83 fe 0c	 cmp	 esi, 12			; 0000000cH
  00581	0f 84 25 02 00
	00		 je	 $LN1@EnableSkil
  00587	83 fe 29	 cmp	 esi, 41			; 00000029H
  0058a	0f 84 1c 02 00
	00		 je	 $LN1@EnableSkil
  00590	83 fe 38	 cmp	 esi, 56			; 00000038H
  00593	0f 84 13 02 00
	00		 je	 $LN1@EnableSkil
  00599	83 fe 2f	 cmp	 esi, 47			; 0000002fH
  0059c	0f 84 0a 02 00
	00		 je	 $LN1@EnableSkil
  005a2	83 fe 30	 cmp	 esi, 48			; 00000030H
  005a5	0f 84 01 02 00
	00		 je	 $LN1@EnableSkil
  005ab	83 fe 2b	 cmp	 esi, 43			; 0000002bH
  005ae	0f 84 f8 01 00
	00		 je	 $LN1@EnableSkil
  005b4	83 fe 31	 cmp	 esi, 49			; 00000031H
  005b7	0f 84 ef 01 00
	00		 je	 $LN1@EnableSkil
  005bd	83 fe 33	 cmp	 esi, 51			; 00000033H
  005c0	0f 84 e6 01 00
	00		 je	 $LN1@EnableSkil
  005c6	83 fe 34	 cmp	 esi, 52			; 00000034H
  005c9	0f 84 dd 01 00
	00		 je	 $LN1@EnableSkil
  005cf	83 fe 37	 cmp	 esi, 55			; 00000037H
  005d2	0f 84 d4 01 00
	00		 je	 $LN1@EnableSkil
  005d8	83 fe 10	 cmp	 esi, 16			; 00000010H
  005db	0f 84 cb 01 00
	00		 je	 $LN1@EnableSkil
  005e1	83 fe 2a	 cmp	 esi, 42			; 0000002aH
  005e4	0f 84 c2 01 00
	00		 je	 $LN1@EnableSkil
  005ea	83 fe 26	 cmp	 esi, 38			; 00000026H
  005ed	0f 84 b9 01 00
	00		 je	 $LN1@EnableSkil
  005f3	83 fe 27	 cmp	 esi, 39			; 00000027H
  005f6	0f 84 b0 01 00
	00		 je	 $LN1@EnableSkil
  005fc	83 fe 28	 cmp	 esi, 40			; 00000028H
  005ff	0f 84 a7 01 00
	00		 je	 $LN1@EnableSkil
  00605	83 fe 41	 cmp	 esi, 65			; 00000041H
  00608	0f 84 9e 01 00
	00		 je	 $LN1@EnableSkil
  0060e	83 fe 3e	 cmp	 esi, 62			; 0000003eH
  00611	0f 84 95 01 00
	00		 je	 $LN1@EnableSkil
  00617	83 fe 4b	 cmp	 esi, 75			; 0000004bH
  0061a	0f 84 8c 01 00
	00		 je	 $LN1@EnableSkil
  00620	83 fe 43	 cmp	 esi, 67			; 00000043H
  00623	0f 84 83 01 00
	00		 je	 $LN1@EnableSkil
  00629	83 fe 44	 cmp	 esi, 68			; 00000044H
  0062c	0f 84 7a 01 00
	00		 je	 $LN1@EnableSkil
  00632	83 fe 45	 cmp	 esi, 69			; 00000045H
  00635	0f 84 71 01 00
	00		 je	 $LN1@EnableSkil
  0063b	83 fe 46	 cmp	 esi, 70			; 00000046H
  0063e	0f 84 68 01 00
	00		 je	 $LN1@EnableSkil
  00644	83 fe 47	 cmp	 esi, 71			; 00000047H
  00647	0f 84 5f 01 00
	00		 je	 $LN1@EnableSkil
  0064d	83 fe 48	 cmp	 esi, 72			; 00000048H
  00650	0f 84 56 01 00
	00		 je	 $LN1@EnableSkil
  00656	83 fe 4c	 cmp	 esi, 76			; 0000004cH
  00659	0f 84 4d 01 00
	00		 je	 $LN1@EnableSkil
  0065f	83 fe 4d	 cmp	 esi, 77			; 0000004dH
  00662	0f 84 44 01 00
	00		 je	 $LN1@EnableSkil
  00668	83 fe 4e	 cmp	 esi, 78			; 0000004eH
  0066b	0f 84 3b 01 00
	00		 je	 $LN1@EnableSkil
  00671	81 fe d6 00 00
	00		 cmp	 esi, 214		; 000000d6H
  00677	0f 84 2f 01 00
	00		 je	 $LN1@EnableSkil
  0067d	81 fe d7 00 00
	00		 cmp	 esi, 215		; 000000d7H
  00683	0f 84 23 01 00
	00		 je	 $LN1@EnableSkil
  00689	81 fe d8 00 00
	00		 cmp	 esi, 216		; 000000d8H
  0068f	0f 84 17 01 00
	00		 je	 $LN1@EnableSkil
  00695	81 fe d9 00 00
	00		 cmp	 esi, 217		; 000000d9H
  0069b	0f 84 0b 01 00
	00		 je	 $LN1@EnableSkil
  006a1	81 fe db 00 00
	00		 cmp	 esi, 219		; 000000dbH
  006a7	0f 84 ff 00 00
	00		 je	 $LN1@EnableSkil
  006ad	81 fe dc 00 00
	00		 cmp	 esi, 220		; 000000dcH
  006b3	0f 84 f3 00 00
	00		 je	 $LN1@EnableSkil
  006b9	81 fe df 00 00
	00		 cmp	 esi, 223		; 000000dfH
  006bf	0f 84 e7 00 00
	00		 je	 $LN1@EnableSkil
  006c5	81 fe e0 00 00
	00		 cmp	 esi, 224		; 000000e0H
  006cb	0f 84 db 00 00
	00		 je	 $LN1@EnableSkil
  006d1	81 fe dd 00 00
	00		 cmp	 esi, 221		; 000000ddH
  006d7	0f 84 cf 00 00
	00		 je	 $LN1@EnableSkil
  006dd	81 fe de 00 00
	00		 cmp	 esi, 222		; 000000deH
  006e3	0f 84 c3 00 00
	00		 je	 $LN1@EnableSkil
  006e9	81 fe e1 00 00
	00		 cmp	 esi, 225		; 000000e1H
  006ef	0f 84 b7 00 00
	00		 je	 $LN1@EnableSkil
  006f5	81 fe e6 00 00
	00		 cmp	 esi, 230		; 000000e6H
  006fb	0f 84 ab 00 00
	00		 je	 $LN1@EnableSkil
  00701	81 fe da 00 00
	00		 cmp	 esi, 218		; 000000daH
  00707	0f 84 9f 00 00
	00		 je	 $LN1@EnableSkil
  0070d	81 fe e8 00 00
	00		 cmp	 esi, 232		; 000000e8H
  00713	0f 84 93 00 00
	00		 je	 $LN1@EnableSkil
  00719	81 fe e9 00 00
	00		 cmp	 esi, 233		; 000000e9H
  0071f	0f 84 87 00 00
	00		 je	 $LN1@EnableSkil
  00725	81 fe ea 00 00
	00		 cmp	 esi, 234		; 000000eaH
  0072b	74 7f		 je	 SHORT $LN1@EnableSkil
  0072d	81 fe eb 00 00
	00		 cmp	 esi, 235		; 000000ebH
  00733	74 77		 je	 SHORT $LN1@EnableSkil
  00735	81 fe ec 00 00
	00		 cmp	 esi, 236		; 000000ecH
  0073b	74 6f		 je	 SHORT $LN1@EnableSkil
  0073d	81 fe ed 00 00
	00		 cmp	 esi, 237		; 000000edH
  00743	74 67		 je	 SHORT $LN1@EnableSkil
  00745	81 fe ee 00 00
	00		 cmp	 esi, 238		; 000000eeH
  0074b	74 5f		 je	 SHORT $LN1@EnableSkil
  0074d	81 fe ef 00 00
	00		 cmp	 esi, 239		; 000000efH
  00753	74 57		 je	 SHORT $LN1@EnableSkil
  00755	81 fe 04 01 00
	00		 cmp	 esi, 260		; 00000104H
  0075b	74 4f		 je	 SHORT $LN1@EnableSkil
  0075d	81 fe 05 01 00
	00		 cmp	 esi, 261		; 00000105H
  00763	74 47		 je	 SHORT $LN1@EnableSkil
  00765	81 fe 06 01 00
	00		 cmp	 esi, 262		; 00000106H
  0076b	74 3f		 je	 SHORT $LN1@EnableSkil
  0076d	81 fe 07 01 00
	00		 cmp	 esi, 263		; 00000107H
  00773	74 37		 je	 SHORT $LN1@EnableSkil
  00775	81 fe 08 01 00
	00		 cmp	 esi, 264		; 00000108H
  0077b	74 2f		 je	 SHORT $LN1@EnableSkil
  0077d	81 fe 09 01 00
	00		 cmp	 esi, 265		; 00000109H
  00783	74 27		 je	 SHORT $LN1@EnableSkil
  00785	81 fe 0a 01 00
	00		 cmp	 esi, 266		; 0000010aH
  0078b	74 1f		 je	 SHORT $LN1@EnableSkil
  0078d	81 fe 0b 01 00
	00		 cmp	 esi, 267		; 0000010bH
  00793	74 17		 je	 SHORT $LN1@EnableSkil
  00795	81 fe 0c 01 00
	00		 cmp	 esi, 268		; 0000010cH
  0079b	74 0f		 je	 SHORT $LN1@EnableSkil
  0079d	81 fe 0e 01 00
	00		 cmp	 esi, 270		; 0000010eH
$LN9@EnableSkil:
  007a3	74 07		 je	 SHORT $LN1@EnableSkil

; 428  : 	{
; 429  : 		return false;

  007a5	33 c0		 xor	 eax, eax
  007a7	5e		 pop	 esi

; 432  : }

  007a8	5d		 pop	 ebp
  007a9	c2 08 00	 ret	 8
$LN1@EnableSkil:

; 430  : 	}
; 431  : 	return true;

  007ac	b8 01 00 00 00	 mov	 eax, 1
  007b1	5e		 pop	 esi

; 432  : }

  007b2	5d		 pop	 ebp
  007b3	c2 08 00	 ret	 8
?EnableSkill@CObjUseSkill@@QAEHKH@Z ENDP		; CObjUseSkill::EnableSkill
_TEXT	ENDS
PUBLIC	?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ; CObjUseSkill::GetAddUseMana
EXTRN	?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A:BYTE ; g_SkillAdditionInfo
EXTRN	?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z:PROC ; gObjSearchActiveEffect
; Function compile flags: /Ogtp
;	COMDAT ?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z PROC ; CObjUseSkill::GetAddUseMana, COMDAT
; _this$ = ecx

; 470  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 471  : 	int iRetValue = 0;
; 472  : 
; 473  : 	if(lpObj->Class == CLASS_ELF && lpObj->Type == OBJ_USER && lpObj->ChangeUP == 1)

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00007	57		 push	 edi
  00008	33 ff		 xor	 edi, edi
  0000a	66 83 be b8 00
	00 00 02	 cmp	 WORD PTR [esi+184], 2
  00012	0f 85 63 01 00
	00		 jne	 $LN30@GetAddUseM
  00018	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  0001d	0f 85 58 01 00
	00		 jne	 $LN30@GetAddUseM
  00023	80 be bb 00 00
	00 01		 cmp	 BYTE PTR [esi+187], 1
  0002a	0f 85 4b 01 00
	00		 jne	 $LN30@GetAddUseM

; 474  : 	{
; 475  : 		if(gObjSearchActiveEffect(lpObj, AT_INFINITY_ARROW) == 1 || gObjSearchActiveEffect(lpObj,BUFF_INFINITY_ARROW2)==TRUE)

  00030	6a 06		 push	 6
  00032	56		 push	 esi
  00033	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00038	83 c4 08	 add	 esp, 8
  0003b	3c 01		 cmp	 al, 1
  0003d	74 16		 je	 SHORT $LN19@GetAddUseM
  0003f	68 8f 00 00 00	 push	 143			; 0000008fH
  00044	56		 push	 esi
  00045	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0004a	83 c4 08	 add	 esp, 8
  0004d	3c 01		 cmp	 al, 1
  0004f	0f 85 26 01 00
	00		 jne	 $LN30@GetAddUseM
$LN19@GetAddUseM:

; 476  : 		{
; 477  : 			if(lpMagic->m_Skill == AT_SKILL_CROSSBOW
; 478  : 				|| lpMagic->m_Skill == AT_SKILL_BOW
; 479  : 				|| lpMagic->m_Skill == AT_SKILL_ELFHARDEN
; 480  : 				|| lpMagic->m_Skill == AT_SKILL_PENETRATION
; 481  : 				|| lpMagic->m_Skill == AT_SKILL_5CROSSBOW
; 482  : 				|| g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) == 490)

  00055	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00058	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0005b	83 f8 18	 cmp	 eax, 24			; 00000018H
  0005e	74 2a		 je	 SHORT $LN17@GetAddUseM
  00060	83 f8 19	 cmp	 eax, 25			; 00000019H
  00063	74 25		 je	 SHORT $LN17@GetAddUseM
  00065	83 f8 33	 cmp	 eax, 51			; 00000033H
  00068	74 20		 je	 SHORT $LN17@GetAddUseM
  0006a	83 f8 34	 cmp	 eax, 52			; 00000034H
  0006d	74 1b		 je	 SHORT $LN17@GetAddUseM
  0006f	83 f8 36	 cmp	 eax, 54			; 00000036H
  00072	74 16		 je	 SHORT $LN17@GetAddUseM
  00074	50		 push	 eax
  00075	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  0007a	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  0007f	3d ea 01 00 00	 cmp	 eax, 490		; 000001eaH
  00084	0f 85 f1 00 00
	00		 jne	 $LN30@GetAddUseM
$LN17@GetAddUseM:

; 483  : 			{
; 484  : 				int iArrowLevel = 0;
; 485  : 
; 486  : 				CItem * Right = &lpObj->pInventory[0];

  0008a	8b b6 24 0e 00
	00		 mov	 esi, DWORD PTR [esi+3620]

; 487  : 				CItem * Left = &lpObj->pInventory[1];
; 488  : 
; 489  : 				if(Right->m_Type >= ITEMGET(4,8) && Right->m_Type <= ITEMGET(4,14)
; 490  : 					|| Right->m_Type == ITEMGET(4,16)
; 491  : 					|| Right->m_Type == ITEMGET(4,18)
; 492  : 					|| Right->m_Type == ITEMGET(4,19))

  00090	0f b7 4e 06	 movzx	 ecx, WORD PTR [esi+6]
  00094	ba 08 08 00 00	 mov	 edx, 2056		; 00000808H
  00099	66 3b ca	 cmp	 cx, dx
  0009c	7c 0a		 jl	 SHORT $LN14@GetAddUseM
  0009e	b8 0e 08 00 00	 mov	 eax, 2062		; 0000080eH
  000a3	66 3b c8	 cmp	 cx, ax
  000a6	7e 7b		 jle	 SHORT $LN15@GetAddUseM
$LN14@GetAddUseM:
  000a8	ba 10 08 00 00	 mov	 edx, 2064		; 00000810H
  000ad	66 3b ca	 cmp	 cx, dx
  000b0	74 71		 je	 SHORT $LN15@GetAddUseM
  000b2	b8 12 08 00 00	 mov	 eax, 2066		; 00000812H
  000b7	66 3b c8	 cmp	 cx, ax
  000ba	74 67		 je	 SHORT $LN15@GetAddUseM
  000bc	ba 13 08 00 00	 mov	 edx, 2067		; 00000813H
  000c1	66 3b ca	 cmp	 cx, dx
  000c4	74 5d		 je	 SHORT $LN15@GetAddUseM

; 497  : 					}
; 498  : 				}
; 499  : 				else if(Left->m_Type >= ITEMGET(4,0) && Left->m_Type <= ITEMGET(4,6)
; 500  : 					|| Left->m_Type == ITEMGET(4,17)
; 501  : 					|| Left->m_Type == ITEMGET(4,20)
; 502  : 					|| Left->m_Type == ITEMGET(4,21)
; 503  : 					|| Left->m_Type == ITEMGET(4,22)
; 504  : 					|| Left->m_Type == ITEMGET(4,23)) //Season4 add-on

  000c6	0f b7 86 da 00
	00 00		 movzx	 eax, WORD PTR [esi+218]
  000cd	ba 00 08 00 00	 mov	 edx, 2048		; 00000800H
  000d2	66 3b c2	 cmp	 ax, dx
  000d5	7c 0a		 jl	 SHORT $LN9@GetAddUseM
  000d7	ba 06 08 00 00	 mov	 edx, 2054		; 00000806H
  000dc	66 3b c2	 cmp	 ax, dx
  000df	7e 32		 jle	 SHORT $LN10@GetAddUseM
$LN9@GetAddUseM:
  000e1	ba 11 08 00 00	 mov	 edx, 2065		; 00000811H
  000e6	66 3b c2	 cmp	 ax, dx
  000e9	74 28		 je	 SHORT $LN10@GetAddUseM
  000eb	ba 14 08 00 00	 mov	 edx, 2068		; 00000814H
  000f0	66 3b c2	 cmp	 ax, dx
  000f3	74 1e		 je	 SHORT $LN10@GetAddUseM
  000f5	ba 15 08 00 00	 mov	 edx, 2069		; 00000815H
  000fa	66 3b c2	 cmp	 ax, dx
  000fd	74 14		 je	 SHORT $LN10@GetAddUseM
  000ff	ba 16 08 00 00	 mov	 edx, 2070		; 00000816H
  00104	66 3b c2	 cmp	 ax, dx
  00107	74 0a		 je	 SHORT $LN10@GetAddUseM
  00109	ba 17 08 00 00	 mov	 edx, 2071		; 00000817H
  0010e	66 3b c2	 cmp	 ax, dx
  00111	75 29		 jne	 SHORT $LN32@GetAddUseM
$LN10@GetAddUseM:

; 505  : 				{
; 506  : 					if(Right->m_Type == ITEMGET(4,15))

  00113	b8 0f 08 00 00	 mov	 eax, 2063		; 0000080fH
  00118	66 3b c8	 cmp	 cx, ax
  0011b	75 1f		 jne	 SHORT $LN32@GetAddUseM

; 507  : 					{
; 508  : 						iArrowLevel = Right->m_Level;

  0011d	0f bf 46 08	 movsx	 eax, WORD PTR [esi+8]
  00121	eb 15		 jmp	 SHORT $LN13@GetAddUseM
$LN15@GetAddUseM:

; 493  : 				{
; 494  : 					if(Left->m_Type == ITEMGET(4,7))

  00123	b9 07 08 00 00	 mov	 ecx, 2055		; 00000807H
  00128	66 39 8e da 00
	00 00		 cmp	 WORD PTR [esi+218], cx
  0012f	75 0b		 jne	 SHORT $LN32@GetAddUseM

; 495  : 					{
; 496  : 						iArrowLevel = Left->m_Level;

  00131	0f bf 86 dc 00
	00 00		 movsx	 eax, WORD PTR [esi+220]
$LN13@GetAddUseM:

; 509  : 					}
; 510  : 				}
; 511  : 
; 512  : 				if(iArrowLevel == 0)

  00138	85 c0		 test	 eax, eax
  0013a	75 0e		 jne	 SHORT $LN7@GetAddUseM
$LN32@GetAddUseM:

; 513  : 				{
; 514  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus0();

  0013c	8b 3d 0c 00 00
	00		 mov	 edi, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+12

; 527  : 				}
; 528  : 			}
; 529  : 		}
; 530  : 	}
; 531  : 	return iRetValue;

  00142	8b c7		 mov	 eax, edi
  00144	5f		 pop	 edi
  00145	5e		 pop	 esi

; 532  : }

  00146	5d		 pop	 ebp
  00147	c2 08 00	 ret	 8
$LN7@GetAddUseM:

; 515  : 				}
; 516  : 				else if(iArrowLevel == 1)

  0014a	83 f8 01	 cmp	 eax, 1
  0014d	75 0e		 jne	 SHORT $LN5@GetAddUseM

; 517  : 				{
; 518  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus1();

  0014f	8b 3d 10 00 00
	00		 mov	 edi, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+16

; 527  : 				}
; 528  : 			}
; 529  : 		}
; 530  : 	}
; 531  : 	return iRetValue;

  00155	8b c7		 mov	 eax, edi
  00157	5f		 pop	 edi
  00158	5e		 pop	 esi

; 532  : }

  00159	5d		 pop	 ebp
  0015a	c2 08 00	 ret	 8
$LN5@GetAddUseM:

; 519  : 				}
; 520  : 				else if(iArrowLevel == 2)

  0015d	83 f8 02	 cmp	 eax, 2
  00160	75 0e		 jne	 SHORT $LN3@GetAddUseM

; 521  : 				{
; 522  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus2();

  00162	8b 3d 14 00 00
	00		 mov	 edi, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+20

; 527  : 				}
; 528  : 			}
; 529  : 		}
; 530  : 	}
; 531  : 	return iRetValue;

  00168	8b c7		 mov	 eax, edi
  0016a	5f		 pop	 edi
  0016b	5e		 pop	 esi

; 532  : }

  0016c	5d		 pop	 ebp
  0016d	c2 08 00	 ret	 8
$LN3@GetAddUseM:

; 523  : 				}
; 524  : 				else if(iArrowLevel == 3) //season 4.5 add-on

  00170	83 f8 03	 cmp	 eax, 3
  00173	75 06		 jne	 SHORT $LN30@GetAddUseM

; 525  : 				{
; 526  : 					iRetValue = g_SkillAdditionInfo.GetInfinityArrowMPConsumptionPlus3();

  00175	8b 3d 18 00 00
	00		 mov	 edi, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+24
$LN30@GetAddUseM:

; 527  : 				}
; 528  : 			}
; 529  : 		}
; 530  : 	}
; 531  : 	return iRetValue;

  0017b	8b c7		 mov	 eax, edi
  0017d	5f		 pop	 edi
  0017e	5e		 pop	 esi

; 532  : }

  0017f	5d		 pop	 ebp
  00180	c2 08 00	 ret	 8
?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ENDP ; CObjUseSkill::GetAddUseMana
_TEXT	ENDS
PUBLIC	?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z	; CObjUseSkill::GetUseBP
EXTRN	?SkillGetBP@CMagicDamage@@QAEHH@Z:PROC		; CMagicDamage::SkillGetBP
EXTRN	?MagicDamageC@@3VCMagicDamage@@A:BYTE		; MagicDamageC
; Function compile flags: /Ogtp
;	COMDAT ?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::GetUseBP, COMDAT
; _this$ = ecx

; 535  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 536  : 	LPOBJ lpObj = &gObj[aIndex]; //2

  00004	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00007	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0000d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00013	57		 push	 edi

; 537  : 
; 538  : 	int bp = lpObj->BP; //3
; 539  : 
; 540  : 	if(lpObj->Type != OBJ_USER)

  00014	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  00019	8b be 28 01 00
	00		 mov	 edi, DWORD PTR [esi+296]
  0001f	74 08		 je	 SHORT $LN4@GetUseBP
$LN7@GetUseBP:
  00021	5f		 pop	 edi

; 541  : 	{
; 542  : 		return 0;

  00022	33 c0		 xor	 eax, eax
  00024	5e		 pop	 esi

; 567  : }

  00025	5d		 pop	 ebp
  00026	c2 08 00	 ret	 8
$LN4@GetUseBP:

; 543  : 	}
; 544  : 
; 545  : 	if(lpMagic == 0)

  00029	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0002c	85 c0		 test	 eax, eax

; 546  : 	{
; 547  : 		return 0;

  0002e	74 f1		 je	 SHORT $LN7@GetUseBP

; 548  : 	}
; 549  : 
; 550  : 	int usingbp = MagicDamageC.SkillGetBP(lpMagic->m_Skill); //4

  00030	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00033	50		 push	 eax
  00034	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  00039	e8 00 00 00 00	 call	 ?SkillGetBP@CMagicDamage@@QAEHH@Z ; CMagicDamage::SkillGetBP

; 551  : 
; 552  : 	usingbp -= usingbp * lpObj->SetOpDecreaseAG / 100;

  0003e	0f b6 96 44 11
	00 00		 movzx	 edx, BYTE PTR [esi+4420]
  00045	8b c8		 mov	 ecx, eax
  00047	0f af d1	 imul	 edx, ecx
  0004a	b8 e1 7a 14 ae	 mov	 eax, -1374389535	; ae147ae1H
  0004f	f7 ea		 imul	 edx
  00051	c1 fa 05	 sar	 edx, 5
  00054	8b c2		 mov	 eax, edx
  00056	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00059	03 c2		 add	 eax, edx
  0005b	03 c8		 add	 ecx, eax

; 553  : 
; 554  : 	if(lpObj->m_btSocketOpDecreaseAG > 0)

  0005d	8a 86 96 21 00
	00		 mov	 al, BYTE PTR [esi+8598]
  00063	84 c0		 test	 al, al
  00065	74 19		 je	 SHORT $LN2@GetUseBP

; 555  : 	{
; 556  : 		usingbp -= usingbp * lpObj->m_btSocketOpDecreaseAG / 100;

  00067	0f b6 d0	 movzx	 edx, al
  0006a	0f af d1	 imul	 edx, ecx
  0006d	b8 e1 7a 14 ae	 mov	 eax, -1374389535	; ae147ae1H
  00072	f7 ea		 imul	 edx
  00074	c1 fa 05	 sar	 edx, 5
  00077	8b c2		 mov	 eax, edx
  00079	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0007c	03 c2		 add	 eax, edx
  0007e	03 c8		 add	 ecx, eax
$LN2@GetUseBP:

; 557  : 	}
; 558  : 
; 559  : 	bp -= usingbp;

  00080	2b f9		 sub	 edi, ecx

; 560  : 
; 561  : 	if(bp < 0)

  00082	79 09		 jns	 SHORT $LN1@GetUseBP

; 562  : 	{
; 563  : 		return -1;

  00084	5f		 pop	 edi
  00085	83 c8 ff	 or	 eax, -1
  00088	5e		 pop	 esi

; 567  : }

  00089	5d		 pop	 ebp
  0008a	c2 08 00	 ret	 8
$LN1@GetUseBP:

; 564  : 	}
; 565  : 
; 566  : 	return bp;

  0008d	8b c7		 mov	 eax, edi
  0008f	5f		 pop	 edi
  00090	5e		 pop	 esi

; 567  : }

  00091	5d		 pop	 ebp
  00092	c2 08 00	 ret	 8
?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::GetUseBP
_TEXT	ENDS
PUBLIC	??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@ ; `string'
PUBLIC	?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z	; CObjUseSkill::MaGumSkillDefenseDown
EXTRN	?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z:PROC ; GCMagicAttackNumberSend
EXTRN	?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z:PROC ; gObjApplyBuffEffectDuration
EXTRN	?retCalcSkillResistance@@YAHPAUOBJECTSTRUCT@@H@Z:PROC ; retCalcSkillResistance
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
;	COMDAT ??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@ DB 0b8H
	DB	0b6H, 0b0H, 0cbH, 0bbH, 0e7H, ' ', 0b8H, 0f3H, 0bdH, 0baH, 0c5H
	DB	0cdH, 0b9H, 0e6H, 0beH, 0eeH, 0b7H, 0c2H, 0b0H, 0a8H, 0bcH, 0d2H
	DB	' : %d', 00H					; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z PROC	; CObjUseSkill::MaGumSkillDefenseDown, COMDAT
; _this$ = ecx

; 1056 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 1057 : 	int skillSuccess = 1;
; 1058 : 	LPOBJ lpObj = &gObj[aIndex];

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	56		 push	 esi

; 1059 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00009	8b 75 0c	 mov	 esi, DWORD PTR _aTargetIndex$[ebp]
  0000c	57		 push	 edi
  0000d	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00013	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00016	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0001c	03 f8		 add	 edi, eax
  0001e	03 f0		 add	 esi, eax

; 1060 : 
; 1061 : 	if(lpObj->Type == OBJ_USER && lpObj->Class != CLASS_MAGUMSA)

  00020	66 83 7f 68 01	 cmp	 WORD PTR [edi+104], 1
  00025	75 0a		 jne	 SHORT $LN2@MaGumSkill
  00027	66 83 bf b8 00
	00 00 03	 cmp	 WORD PTR [edi+184], 3
  0002f	75 3e		 jne	 SHORT $LN1@MaGumSkill
$LN2@MaGumSkill:

; 1062 : 	{
; 1063 : 		return;
; 1064 : 	}
; 1065 : 
; 1066 : 	LogAdd("  : %d",10); // HermeX Fix

  00031	6a 0a		 push	 10			; 0000000aH
  00033	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@OLMADCHD@?$LI?$LG?$LA?K?$LL?g?5?$LI?s?$LN?$LK?E?M?$LJ?f?$LO?n?$LH?B?$LA?$KI?$LM?R?5?3?5?$CFd?$AA@
  00038	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 1067 : 
; 1068 : 	if(retCalcSkillResistance(lpTargetObj,1))

  0003e	6a 01		 push	 1
  00040	56		 push	 esi
  00041	e8 00 00 00 00	 call	 ?retCalcSkillResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retCalcSkillResistance
  00046	83 c4 10	 add	 esp, 16			; 00000010H
  00049	85 c0		 test	 eax, eax
  0004b	74 22		 je	 SHORT $LN1@MaGumSkill

; 1069 : 	{
; 1070 : 		gObjApplyBuffEffectDuration(lpTargetObj, AT_REDUCE_DEFENSE, 23, 10, 0, 0, 10); //Season3 add-on

  0004d	6a 0a		 push	 10			; 0000000aH
  0004f	6a 00		 push	 0
  00051	6a 00		 push	 0
  00053	6a 0a		 push	 10			; 0000000aH
  00055	6a 17		 push	 23			; 00000017H
  00057	6a 3a		 push	 58			; 0000003aH
  00059	56		 push	 esi
  0005a	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 1071 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSEDOWN,lpTargetObj->m_Index,skillSuccess);

  0005f	8b 06		 mov	 eax, DWORD PTR [esi]
  00061	6a 01		 push	 1
  00063	50		 push	 eax
  00064	6a 37		 push	 55			; 00000037H
  00066	57		 push	 edi
  00067	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0006c	83 c4 2c	 add	 esp, 44			; 0000002cH
$LN1@MaGumSkill:
  0006f	5f		 pop	 edi
  00070	5e		 pop	 esi

; 1072 : 	}
; 1073 : }

  00071	5d		 pop	 ebp
  00072	c2 0c 00	 ret	 12			; 0000000cH
?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z ENDP	; CObjUseSkill::MaGumSkillDefenseDown
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z	; CObjUseSkill::KnightSkillAddLife
EXTRN	?ZtConfig@@3VcZtConfigs@@A:BYTE			; ZtConfig
EXTRN	?CheckUser@CZtLicense@@QAE_NH@Z:PROC		; CZtLicense::CheckUser
EXTRN	?g_ZtLicense@@3VCZtLicense@@A:BYTE		; g_ZtLicense
EXTRN	?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjCalDistance
EXTRN	?gParty@@3VPartyClass@@A:BYTE			; gParty
EXTRN	?DestroyGIocp@@YAXXZ:PROC			; DestroyGIocp
EXTRN	?szAuthKey@@3PADA:BYTE				; szAuthKey
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
EXTRN	__ftol2_sse:PROC
; Function compile flags: /Ogtp
;	COMDAT ?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z
_TEXT	SEGMENT
_partynum$ = -60					; size = 4
_viewpercent$ = -56					; size = 4
tv478 = -52						; size = 4
_n$222276 = -52						; size = 4
_iLifeTime$ = -48					; size = 4
_viewplayer$ = -48					; size = 4
_ApplyPartyIndex$ = -44					; size = 40
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z PROC		; CObjUseSkill::KnightSkillAddLife, COMDAT
; _this$ = ecx

; 1076 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 3c	 sub	 esp, 60			; 0000003cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	57		 push	 edi
  00011	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]

; 1077 : 
; 1078 : 
; 1079 : 	int skillSuccess = true;
; 1080 : 	LPOBJ lpObj = &gObj[aIndex];

  00014	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0001a	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 1081 : 
; 1082 : 	if (szAuthKey[14] != AUTHKEY14 )

  00020	80 3d 0e 00 00
	00 e9		 cmp	 BYTE PTR ?szAuthKey@@3PADA+14, -23 ; ffffffe9H
  00027	74 05		 je	 SHORT $LN28@KnightSkil

; 1083 : 	{
; 1084 : 		DestroyGIocp();

  00029	e8 00 00 00 00	 call	 ?DestroyGIocp@@YAXXZ	; DestroyGIocp
$LN28@KnightSkil:

; 1085 : 	}
; 1086 : 
; 1087 : 	if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1)

  0002e	66 83 7f 68 01	 cmp	 WORD PTR [edi+104], 1
  00033	74 0d		 je	 SHORT $LN36@KnightSkil
  00035	83 bf 50 04 00
	00 ff		 cmp	 DWORD PTR [edi+1104], -1
  0003c	0f 84 97 02 00
	00		 je	 $LN2@KnightSkil
$LN36@KnightSkil:

; 1088 : 	{
; 1089 : 		return;
; 1090 : 	}
; 1091 : 
; 1092 : 	if(lpObj->Class != CLASS_KNIGHT && lpObj->Class != CLASS_MAGUMSA)

  00042	0f b7 87 b8 00
	00 00		 movzx	 eax, WORD PTR [edi+184]
  00049	83 f8 01	 cmp	 eax, 1
  0004c	74 09		 je	 SHORT $LN39@KnightSkil
  0004e	83 f8 03	 cmp	 eax, 3
  00051	0f 85 82 02 00
	00		 jne	 $LN2@KnightSkil
$LN39@KnightSkil:

; 1093 : 	{
; 1094 : 		return;
; 1095 : 	}
; 1096 : 
; 1097 : 	int number;
; 1098 : 	int partynum = 0;
; 1099 : 	int totallevel = 0;
; 1100 : 	int partycount;
; 1101 : 	int dis;
; 1102 : 
; 1103 : 	int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 1104 : 
; 1105 : 	int viewplayer = 0;
; 1106 : 	int viewpercent = 0;
; 1107 : 
; 1108 : 	LPOBJ lpPartyObj;
; 1109 : 
; 1110 : 	memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));
; 1111 : 
; 1112 : 	partynum = lpObj->PartyNumber;

  00057	8b 8f 2c 04 00
	00		 mov	 ecx, DWORD PTR [edi+1068]
  0005d	83 c8 ff	 or	 eax, -1
  00060	53		 push	 ebx
  00061	56		 push	 esi
  00062	33 f6		 xor	 esi, esi
  00064	89 75 d0	 mov	 DWORD PTR _viewplayer$[ebp], esi
  00067	89 75 c8	 mov	 DWORD PTR _viewpercent$[ebp], esi
  0006a	89 45 d4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp], eax
  0006d	89 45 d8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+4], eax
  00070	89 45 dc	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+8], eax
  00073	89 45 e0	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+12], eax
  00076	89 45 e4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+16], eax
  00079	89 45 e8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+20], eax
  0007c	89 45 ec	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+24], eax
  0007f	89 45 f0	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+28], eax
  00082	89 45 f4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+32], eax
  00085	89 45 f8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+36], eax
  00088	89 4d c4	 mov	 DWORD PTR _partynum$[ebp], ecx

; 1113 : 
; 1114 : 	if(partynum != -1)

  0008b	3b c8		 cmp	 ecx, eax
  0008d	0f 84 89 00 00
	00		 je	 $LN38@KnightSkil

; 1115 : 	{
; 1116 : 		partycount = gParty.m_PartyS[partynum].Count;
; 1117 : 
; 1118 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  00093	6b c9 68	 imul	 ecx, 104		; 00000068H
  00096	81 c1 0c 00 00
	00		 add	 ecx, OFFSET ?gParty@@3VPartyClass@@A+12
  0009c	89 4d cc	 mov	 DWORD PTR tv478[ebp], ecx
  0009f	90		 npad	 1
$LL41@KnightSkil:

; 1119 : 		{
; 1120 : 			number = gParty.m_PartyS[partynum].Number[n];

  000a0	8b 01		 mov	 eax, DWORD PTR [ecx]

; 1121 : 
; 1122 : 			if(number >= 0)

  000a2	85 c0		 test	 eax, eax
  000a4	78 38		 js	 SHORT $LN23@KnightSkil

; 1123 : 			{
; 1124 : 				lpPartyObj = &gObj[number];

  000a6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ac	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000b2	8d 1c 10	 lea	 ebx, DWORD PTR [eax+edx]

; 1125 : 
; 1126 : 				if(lpObj->MapNumber == lpPartyObj->MapNumber)

  000b5	8a 87 49 01 00
	00		 mov	 al, BYTE PTR [edi+329]
  000bb	3a 83 49 01 00
	00		 cmp	 al, BYTE PTR [ebx+329]
  000c1	75 1b		 jne	 SHORT $LN23@KnightSkil

; 1127 : 				{
; 1128 : 					dis = gObjCalDistance(lpObj,&gObj[number]);

  000c3	53		 push	 ebx
  000c4	57		 push	 edi
  000c5	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000ca	83 c4 08	 add	 esp, 8

; 1129 : 
; 1130 : 					if(dis < 10)

  000cd	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  000d0	7d 09		 jge	 SHORT $LN35@KnightSkil

; 1131 : 					{
; 1132 : 						ApplyPartyIndex[n] = lpPartyObj->m_Index;

  000d2	8b 0b		 mov	 ecx, DWORD PTR [ebx]

; 1133 : 						viewplayer++;

  000d4	ff 45 d0	 inc	 DWORD PTR _viewplayer$[ebp]
  000d7	89 4c b5 d4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+esi*4], ecx
$LN35@KnightSkil:
  000db	8b 4d cc	 mov	 ecx, DWORD PTR tv478[ebp]
$LN23@KnightSkil:

; 1115 : 	{
; 1116 : 		partycount = gParty.m_PartyS[partynum].Count;
; 1117 : 
; 1118 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  000de	46		 inc	 esi
  000df	83 c1 04	 add	 ecx, 4
  000e2	89 4d cc	 mov	 DWORD PTR tv478[ebp], ecx
  000e5	83 fe 0a	 cmp	 esi, 10			; 0000000aH
  000e8	7c b6		 jl	 SHORT $LL41@KnightSkil

; 1134 : 					}
; 1135 : 				}
; 1136 : 			}
; 1137 : 		}
; 1138 : 	}
; 1139 : 
; 1140 : 	if(viewplayer > 1)

  000ea	8b 45 d0	 mov	 eax, DWORD PTR _viewplayer$[ebp]
  000ed	83 f8 01	 cmp	 eax, 1
  000f0	7e 2a		 jle	 SHORT $LN38@KnightSkil

; 1141 : 	{
; 1142 : 		if(viewplayer == 2)

  000f2	83 f8 02	 cmp	 eax, 2
  000f5	75 09		 jne	 SHORT $LN17@KnightSkil

; 1143 : 		{
; 1144 : 			viewpercent = 1;

  000f7	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _viewpercent$[ebp], 1
  000fe	eb 1c		 jmp	 SHORT $LN38@KnightSkil
$LN17@KnightSkil:

; 1145 : 		}
; 1146 : 		else if(viewplayer == 3)

  00100	83 f8 03	 cmp	 eax, 3
  00103	75 09		 jne	 SHORT $LN15@KnightSkil

; 1147 : 		{
; 1148 : 			viewpercent = 2;

  00105	c7 45 c8 02 00
	00 00		 mov	 DWORD PTR _viewpercent$[ebp], 2
  0010c	eb 0e		 jmp	 SHORT $LN38@KnightSkil
$LN15@KnightSkil:

; 1149 : 		}
; 1150 : 		else if(viewplayer == 4)

  0010e	33 d2		 xor	 edx, edx
  00110	83 f8 04	 cmp	 eax, 4
  00113	0f 95 c2	 setne	 dl
  00116	83 c2 03	 add	 edx, 3
  00119	89 55 c8	 mov	 DWORD PTR _viewpercent$[ebp], edx
$LN38@KnightSkil:

; 1151 : 		{
; 1152 : 			viewpercent = 3;
; 1153 : 		}
; 1154 : 		else
; 1155 : 		{
; 1156 : 			viewpercent = 4;
; 1157 : 		}
; 1158 : 	}
; 1159 : 	int iaddlife;
; 1160 : 	int iaddLifepower	= g_SkillAdditionInfo.SwellLifeEffectStart + (lpObj->Vitality + lpObj->AddVitality) / g_SkillAdditionInfo.SwellLifeEffectDiv1 + (lpObj->Energy + lpObj->AddEnergy)/ g_SkillAdditionInfo.SwellLifeEffectDiv2 + viewpercent;

  0011c	0f bf 87 26 01
	00 00		 movsx	 eax, WORD PTR [edi+294]
  00123	0f b7 8f fa 00
	00 00		 movzx	 ecx, WORD PTR [edi+250]
  0012a	0f b7 97 f8 00
	00 00		 movzx	 edx, WORD PTR [edi+248]
  00131	0f b7 35 72 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2930
  00138	03 c8		 add	 ecx, eax
  0013a	0f bf 87 24 01
	00 00		 movsx	 eax, WORD PTR [edi+292]
  00141	03 c2		 add	 eax, edx
  00143	99		 cdq
  00144	f7 fe		 idiv	 esi
  00146	0f b7 1d 74 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2932
  0014d	8b f0		 mov	 esi, eax
  0014f	8b c1		 mov	 eax, ecx
  00151	99		 cdq
  00152	f7 fb		 idiv	 ebx
  00154	0f b7 1d 70 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2928
  0015b	03 45 c8	 add	 eax, DWORD PTR _viewpercent$[ebp]
  0015e	03 c6		 add	 eax, esi
  00160	03 d8		 add	 ebx, eax

; 1161 : 
; 1162 : 	if( g_SkillAdditionInfo.SwellLifeEffectMax > 0 && iaddLifepower > g_SkillAdditionInfo.SwellLifeEffectMax )

  00162	a1 78 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2936
  00167	85 c0		 test	 eax, eax
  00169	74 06		 je	 SHORT $LN11@KnightSkil
  0016b	3b d8		 cmp	 ebx, eax
  0016d	76 02		 jbe	 SHORT $LN11@KnightSkil

; 1163 : 	{
; 1164 : 		iaddLifepower = g_SkillAdditionInfo.SwellLifeEffectMax;

  0016f	8b d8		 mov	 ebx, eax
$LN11@KnightSkil:

; 1165 : 	}
; 1166 : 
; 1167 : 	int iLifeTime		= g_SkillAdditionInfo.SwellLifeTimeStart + (lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.SwellLifeTimeDiv;

  00171	0f b7 35 7e 0b
	00 00		 movzx	 esi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2942
  00178	8b c1		 mov	 eax, ecx
  0017a	99		 cdq
  0017b	f7 fe		 idiv	 esi
  0017d	8b f0		 mov	 esi, eax
  0017f	0f b7 05 7c 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2940
  00186	03 f0		 add	 esi, eax

; 1168 : 
; 1169 : 	if( g_SkillAdditionInfo.SwellLifeTimeMax > 0 && iLifeTime > g_SkillAdditionInfo.SwellLifeTimeMax )

  00188	a1 80 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2944
  0018d	89 75 d0	 mov	 DWORD PTR _iLifeTime$[ebp], esi
  00190	85 c0		 test	 eax, eax
  00192	74 09		 je	 SHORT $LN10@KnightSkil
  00194	3b f0		 cmp	 esi, eax
  00196	76 05		 jbe	 SHORT $LN10@KnightSkil

; 1170 : 	{
; 1171 : 		iLifeTime = g_SkillAdditionInfo.SwellLifeTimeMax;

  00198	89 45 d0	 mov	 DWORD PTR _iLifeTime$[ebp], eax
  0019b	8b f0		 mov	 esi, eax
$LN10@KnightSkil:

; 1172 : 	}
; 1173 : 	// ----
; 1174 : 	if(partynum == -1)

  0019d	83 7d c4 ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  001a1	0f 85 bf 00 00
	00		 jne	 $LN9@KnightSkil

; 1175 : 	{
; 1176 : #ifdef PRIDEMU_CONFIG
; 1177 : 		if(g_ZtLicense.CheckUser(eZtUB::PrideMuLocal) || g_ZtLicense.CheckUser(eZtUB::PrideMu) || g_ZtLicense.CheckUser(eZtUB::Local3))

  001a7	6a 1a		 push	 26			; 0000001aH
  001a9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  001ae	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  001b3	84 c0		 test	 al, al
  001b5	75 43		 jne	 SHORT $LN7@KnightSkil
  001b7	6a 11		 push	 17			; 00000011H
  001b9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  001be	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  001c3	84 c0		 test	 al, al
  001c5	75 33		 jne	 SHORT $LN7@KnightSkil
  001c7	6a 1c		 push	 28			; 0000001cH
  001c9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  001ce	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  001d3	84 c0		 test	 al, al
  001d5	75 23		 jne	 SHORT $LN7@KnightSkil

; 1181 : 		}
; 1182 : 		else
; 1183 : 		{
; 1184 : 			iaddlife = int(lpObj->MaxLife) * iaddLifepower / 100;

  001d7	d9 87 00 01 00
	00		 fld	 DWORD PTR [edi+256]
  001dd	e8 00 00 00 00	 call	 __ftol2_sse
  001e2	8b c8		 mov	 ecx, eax
  001e4	0f af cb	 imul	 ecx, ebx
  001e7	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  001ec	f7 e9		 imul	 ecx
  001ee	c1 fa 05	 sar	 edx, 5
  001f1	8b ca		 mov	 ecx, edx
  001f3	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  001f6	03 ca		 add	 ecx, edx
  001f8	eb 39		 jmp	 SHORT $LN6@KnightSkil
$LN7@KnightSkil:

; 1178 : 		{
; 1179 : 			iaddlife = int(lpObj->MaxLife) * iaddLifepower / 100;
; 1180 : 			iaddlife *= ZtConfig.PrideMu.Fortitude / 100;

  001fa	d9 87 00 01 00
	00		 fld	 DWORD PTR [edi+256]
  00200	e8 00 00 00 00	 call	 __ftol2_sse
  00205	8b c8		 mov	 ecx, eax
  00207	0f af cb	 imul	 ecx, ebx
  0020a	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  0020f	f7 e9		 imul	 ecx
  00211	c1 fa 05	 sar	 edx, 5
  00214	8b ca		 mov	 ecx, edx
  00216	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  00219	03 ca		 add	 ecx, edx
  0021b	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  00220	f7 2d d0 0b 00
	00		 imul	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+3024
  00226	c1 fa 05	 sar	 edx, 5
  00229	8b c2		 mov	 eax, edx
  0022b	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0022e	03 c2		 add	 eax, edx
  00230	0f af c8	 imul	 ecx, eax
$LN6@KnightSkil:

; 1185 : 		}
; 1186 : #else
; 1187 : 		iaddlife = int(lpObj->MaxLife) * iaddLifepower / 100;
; 1188 : #endif
; 1189 : 		gObjApplyBuffEffectDuration(lpObj, AT_SWELL_LIFE, 4, iaddlife, 0, 0, iLifeTime);

  00233	56		 push	 esi
  00234	6a 00		 push	 0
  00236	6a 00		 push	 0
  00238	51		 push	 ecx
  00239	6a 04		 push	 4
  0023b	6a 08		 push	 8
  0023d	57		 push	 edi
  0023e	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 1190 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_KNIGHTADDLIFE,lpObj->m_Index,skillSuccess);

  00243	8b 0f		 mov	 ecx, DWORD PTR [edi]
  00245	6a 01		 push	 1
  00247	51		 push	 ecx
  00248	6a 30		 push	 48			; 00000030H
  0024a	57		 push	 edi
  0024b	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00250	83 c4 2c	 add	 esp, 44			; 0000002cH
  00253	5e		 pop	 esi
  00254	5b		 pop	 ebx
  00255	5f		 pop	 edi

; 1203 : 			}
; 1204 : 		}
; 1205 : 	}
; 1206 : }

  00256	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00259	33 cd		 xor	 ecx, ebp
  0025b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00260	8b e5		 mov	 esp, ebp
  00262	5d		 pop	 ebp
  00263	c2 08 00	 ret	 8
$LN9@KnightSkil:

; 1191 : 	}
; 1192 : 	else
; 1193 : 	{
; 1194 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  00266	33 c9		 xor	 ecx, ecx
  00268	89 4d cc	 mov	 DWORD PTR _n$222276[ebp], ecx
  0026b	eb 03 8d 49 00	 npad	 5
$LL42@KnightSkil:

; 1195 : 		{
; 1196 : 			if(ApplyPartyIndex[n]!= -1)

  00270	8b 44 8d d4	 mov	 eax, DWORD PTR _ApplyPartyIndex$[ebp+ecx*4]
  00274	83 f8 ff	 cmp	 eax, -1
  00277	74 55		 je	 SHORT $LN3@KnightSkil

; 1197 : 			{
; 1198 : 				lpPartyObj = &gObj[ApplyPartyIndex[n]];
; 1199 : 				iaddlife = int(lpPartyObj->MaxLife) * iaddLifepower / 100;
; 1200 : 
; 1201 : 				gObjApplyBuffEffectDuration(lpPartyObj, AT_SWELL_LIFE, 4, iaddlife, 0, 0, iLifeTime); //season3 add-on

  00279	8b 55 d0	 mov	 edx, DWORD PTR _iLifeTime$[ebp]
  0027c	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00282	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00288	52		 push	 edx
  00289	8b f0		 mov	 esi, eax
  0028b	6a 00		 push	 0
  0028d	6a 00		 push	 0
  0028f	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
  00295	e8 00 00 00 00	 call	 __ftol2_sse
  0029a	8b c8		 mov	 ecx, eax
  0029c	0f af cb	 imul	 ecx, ebx
  0029f	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  002a4	f7 e9		 imul	 ecx
  002a6	c1 fa 05	 sar	 edx, 5
  002a9	8b c2		 mov	 eax, edx
  002ab	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  002ae	03 c2		 add	 eax, edx
  002b0	50		 push	 eax
  002b1	6a 04		 push	 4
  002b3	6a 08		 push	 8
  002b5	56		 push	 esi
  002b6	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 1202 : 				GCMagicAttackNumberSend(lpObj,AT_SKILL_KNIGHTADDLIFE,lpPartyObj->m_Index,skillSuccess);

  002bb	8b 0e		 mov	 ecx, DWORD PTR [esi]
  002bd	6a 01		 push	 1
  002bf	51		 push	 ecx
  002c0	6a 30		 push	 48			; 00000030H
  002c2	57		 push	 edi
  002c3	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  002c8	8b 4d cc	 mov	 ecx, DWORD PTR _n$222276[ebp]
  002cb	83 c4 2c	 add	 esp, 44			; 0000002cH
$LN3@KnightSkil:

; 1191 : 	}
; 1192 : 	else
; 1193 : 	{
; 1194 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  002ce	41		 inc	 ecx
  002cf	89 4d cc	 mov	 DWORD PTR _n$222276[ebp], ecx
  002d2	83 f9 0a	 cmp	 ecx, 10			; 0000000aH
  002d5	7c 99		 jl	 SHORT $LL42@KnightSkil
  002d7	5e		 pop	 esi
  002d8	5b		 pop	 ebx
$LN2@KnightSkil:

; 1203 : 			}
; 1204 : 		}
; 1205 : 	}
; 1206 : }

  002d9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002dc	33 cd		 xor	 ecx, ebp
  002de	5f		 pop	 edi
  002df	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002e4	8b e5		 mov	 esp, ebp
  002e6	5d		 pop	 ebp
  002e7	c2 08 00	 ret	 8
?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z ENDP		; CObjUseSkill::KnightSkillAddLife
_TEXT	ENDS
PUBLIC	?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z	; CObjUseSkill::WizardMagicDefense
; Function compile flags: /Ogtp
;	COMDAT ?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z
_TEXT	SEGMENT
tv249 = 8						; size = 4
_aIndex$ = 8						; size = 4
tv224 = 12						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z PROC	; CObjUseSkill::WizardMagicDefense, COMDAT
; _this$ = ecx

; 1210 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 1211 : 	//int skillSuccess = true;
; 1212 : 
; 1213 : 	//LPOBJ lpObj = &gObj[aIndex];
; 1214 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 1215 : 
; 1216 : 	//if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon== -1)
; 1217 : 	//{
; 1218 : 	//	return;
; 1219 : 	//}
; 1220 : 
; 1221 : 	//if(lpObj->Class != CLASS_WIZARD && lpObj->Class != CLASS_MAGUMSA)
; 1222 : 	//{
; 1223 : 	//	return;
; 1224 : 	//}
; 1225 : 
; 1226 : 	//if(lpObj->PartyNumber != lpTargetObj->PartyNumber)
; 1227 : 	//{
; 1228 : 	//	return;
; 1229 : 	//}
; 1230 : 
; 1231 : 	//int WizardSkillDefense = 0;
; 1232 : 	//int WizardSkillDefenseTime = 0;
; 1233 : 
; 1234 : 	////int ExMSStartPower = GetPrivateProfileInt("DarkWizard","MSStartPower",10,"..\\Data\\ZtData\\Skills.ini");
; 1235 : 	////int ExMSAgility = GetPrivateProfileInt("DarkWizard","MSAgility",50,"..\\Data\\ZtData\\Skills.ini");
; 1236 : 	////int ExMSEnergy = GetPrivateProfileInt("DarkWizard","MSEnergy",200,"..\\Data\\ZtData\\Skills.ini");
; 1237 : 	////int ExMSMaxPower = GetPrivateProfileInt("DarkWizard","MSMaxPower",50,"..\\Data\\ZtData\\Skills.ini");
; 1238 : 
; 1239 : 	//WizardSkillDefense = ZtConfig.Skills.ExMSStartPower + (lpObj->Dexterity + lpObj->AddDexterity) / ZtConfig.Skills.ExMSAgility + (lpObj->Energy + lpObj->AddEnergy) / ZtConfig.Skills.ExMSEnergy;
; 1240 : 	//WizardSkillDefenseTime = 60 + (lpObj->Energy + lpObj->AddEnergy) / 40;
; 1241 : 
; 1242 : 	//if(WizardSkillDefense > ZtConfig.Skills.ExMSMaxPower)
; 1243 : 	//	WizardSkillDefense = ZtConfig.Skills.ExMSMaxPower;
; 1244 : 
; 1245 : 	//gObjApplyBuffEffectDuration(lpTargetObj, AT_WIZARD_DEFENSE, 21, WizardSkillDefense, 28, 20, WizardSkillDefenseTime); //season3 add-on
; 1246 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_MAGICDEFENSE,lpTargetObj->m_Index,skillSuccess);
; 1247 : 
; 1248 : 	int skillSuccess	= true;
; 1249 : 	// ----
; 1250 : 	LPOBJ lpObj			= &gObj[aIndex];

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	56		 push	 esi
  00009	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000c	57		 push	 edi
  0000d	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H

; 1251 : 	LPOBJ lpTargetObj	= &gObj[aTargetIndex];

  00013	8b 7d 0c	 mov	 edi, DWORD PTR _aTargetIndex$[ebp]
  00016	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0001c	03 f0		 add	 esi, eax
  0001e	03 f8		 add	 edi, eax

; 1252 : 	// ----
; 1253 : 	if( lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1 )

  00020	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  00025	74 0d		 je	 SHORT $LN5@WizardMagi
  00027	83 be 50 04 00
	00 ff		 cmp	 DWORD PTR [esi+1104], -1
  0002e	0f 84 c8 00 00
	00		 je	 $LN6@WizardMagi
$LN5@WizardMagi:

; 1254 : 	{
; 1255 : 		return;
; 1256 : 	}
; 1257 : 	// ----
; 1258 : 	if( lpObj->Class != CLASS_WIZARD && lpObj->Class != CLASS_MAGUMSA )

  00034	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  0003b	66 85 c0	 test	 ax, ax
  0003e	74 09		 je	 SHORT $LN4@WizardMagi
  00040	83 f8 03	 cmp	 eax, 3
  00043	0f 85 b3 00 00
	00		 jne	 $LN6@WizardMagi
$LN4@WizardMagi:

; 1259 : 	{
; 1260 : 		return;
; 1261 : 	}
; 1262 : 	// ----
; 1263 : 	if( lpObj->PartyNumber != lpTargetObj->PartyNumber )

  00049	8b 86 2c 04 00
	00		 mov	 eax, DWORD PTR [esi+1068]
  0004f	3b 87 2c 04 00
	00		 cmp	 eax, DWORD PTR [edi+1068]
  00055	0f 85 a1 00 00
	00		 jne	 $LN6@WizardMagi

; 1264 : 	{
; 1265 : 		return;
; 1266 : 	}
; 1267 : 	// ----
; 1268 : 	int WizardManaRate			= 20;
; 1269 : 	int WizardSkillDefense		= g_SkillAdditionInfo.SoulBarrierDefenseStart + ((lpObj->Dexterity + lpObj->AddDexterity) / g_SkillAdditionInfo.SoulBarrierDefenseDiv1) + ((lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.SoulBarrierDefenseDiv2);

  0005b	0f b7 8e f6 00
	00 00		 movzx	 ecx, WORD PTR [esi+246]
  00062	0f b7 96 fa 00
	00 00		 movzx	 edx, WORD PTR [esi+250]
  00069	0f bf 86 22 01
	00 00		 movsx	 eax, WORD PTR [esi+290]
  00070	03 c1		 add	 eax, ecx
  00072	0f b7 0d 4e 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2894
  00079	53		 push	 ebx
  0007a	0f bf 9e 26 01
	00 00		 movsx	 ebx, WORD PTR [esi+294]
  00081	03 da		 add	 ebx, edx
  00083	99		 cdq
  00084	f7 f9		 idiv	 ecx
  00086	89 5d 0c	 mov	 DWORD PTR tv224[ebp], ebx
  00089	8b c8		 mov	 ecx, eax
  0008b	0f b7 05 50 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2896
  00092	89 45 08	 mov	 DWORD PTR tv249[ebp], eax
  00095	8b c3		 mov	 eax, ebx
  00097	99		 cdq
  00098	f7 7d 08	 idiv	 DWORD PTR tv249[ebp]
  0009b	0f b7 15 4c 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2892
  000a2	03 c8		 add	 ecx, eax

; 1270 : 	// ----
; 1271 : 	if( g_SkillAdditionInfo.SoulBarrierDefenseMax > 0 && WizardSkillDefense > g_SkillAdditionInfo.SoulBarrierDefenseMax )

  000a4	a1 54 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2900
  000a9	03 ca		 add	 ecx, edx
  000ab	85 c0		 test	 eax, eax
  000ad	74 06		 je	 SHORT $LN2@WizardMagi
  000af	3b c8		 cmp	 ecx, eax
  000b1	76 02		 jbe	 SHORT $LN2@WizardMagi

; 1272 : 	{
; 1273 : 		WizardSkillDefense = g_SkillAdditionInfo.SoulBarrierDefenseMax;

  000b3	8b c8		 mov	 ecx, eax
$LN2@WizardMagi:

; 1274 : 	}
; 1275 : 	// ----
; 1276 : 	int WizardSkillDefenseTime	= g_SkillAdditionInfo.SoulBarrierTimeStart + (lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.SoulBarrierTimeDiv;

  000b5	0f b7 1d 5a 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2906
  000bc	8b 45 0c	 mov	 eax, DWORD PTR tv224[ebp]
  000bf	99		 cdq
  000c0	f7 fb		 idiv	 ebx
  000c2	0f b7 15 58 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2904
  000c9	5b		 pop	 ebx
  000ca	03 c2		 add	 eax, edx

; 1277 : 	// ----
; 1278 : 	if( g_SkillAdditionInfo.SoulBarrierTimeMax > 0 && WizardSkillDefenseTime > g_SkillAdditionInfo.SoulBarrierTimeMax )

  000cc	8b 15 5c 0b 00
	00		 mov	 edx, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2908
  000d2	85 d2		 test	 edx, edx
  000d4	74 06		 je	 SHORT $LN1@WizardMagi
  000d6	3b c2		 cmp	 eax, edx
  000d8	76 02		 jbe	 SHORT $LN1@WizardMagi

; 1279 : 	{
; 1280 : 		WizardSkillDefenseTime = g_SkillAdditionInfo.SoulBarrierTimeMax;

  000da	8b c2		 mov	 eax, edx
$LN1@WizardMagi:

; 1281 : 	}
; 1282 : 
; 1283 : 	//LogAddC(2,"WizardSkillDefense: %d.",WizardSkillDefense);
; 1284 : 
; 1285 : 	// ----
; 1286 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_WIZARD_DEFENSE, 21, WizardSkillDefense, 28, WizardManaRate, WizardSkillDefenseTime);

  000dc	50		 push	 eax
  000dd	6a 14		 push	 20			; 00000014H
  000df	6a 1c		 push	 28			; 0000001cH
  000e1	51		 push	 ecx
  000e2	6a 15		 push	 21			; 00000015H
  000e4	6a 04		 push	 4
  000e6	57		 push	 edi
  000e7	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 1287 : 	GCMagicAttackNumberSend(lpObj, AT_SKILL_MAGICDEFENSE, lpTargetObj->m_Index, skillSuccess);

  000ec	8b 07		 mov	 eax, DWORD PTR [edi]
  000ee	6a 01		 push	 1
  000f0	50		 push	 eax
  000f1	6a 10		 push	 16			; 00000010H
  000f3	56		 push	 esi
  000f4	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000f9	83 c4 2c	 add	 esp, 44			; 0000002cH
$LN6@WizardMagi:
  000fc	5f		 pop	 edi
  000fd	5e		 pop	 esi

; 1288 : }

  000fe	5d		 pop	 ebp
  000ff	c2 0c 00	 ret	 12			; 0000000cH
?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z ENDP	; CObjUseSkill::WizardMagicDefense
_TEXT	ENDS
PUBLIC	__real@4024000000000000
PUBLIC	__real@4f800000
PUBLIC	?SkillDefense@CObjUseSkill@@QAEXHHH@Z		; CObjUseSkill::SkillDefense
EXTRN	?IncAgro@TMonsterAIAgro@@QAEHHH@Z:PROC		; TMonsterAIAgro::IncAgro
EXTRN	?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z:PROC ; gObjCheckBuffEffectValue
EXTRN	__fltused:DWORD
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT __real@4f800000
CONST	SEGMENT
__real@4f800000 DD 04f800000r			; 4.29497e+009
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillDefense@CObjUseSkill@@QAEXHHH@Z
_TEXT	SEGMENT
tv460 = 8						; size = 4
tv458 = 8						; size = 4
tv456 = 8						; size = 4
tv68 = 8						; size = 4
_skill_defense$ = 8					; size = 4
_aIndex$ = 8						; size = 4
tv453 = 12						; size = 4
tv319 = 12						; size = 4
tv309 = 12						; size = 4
_aTargetIndex$ = 12					; size = 4
_Duration$ = 16						; size = 4
_skill_level$ = 16					; size = 4
?SkillDefense@CObjUseSkill@@QAEXHHH@Z PROC		; CObjUseSkill::SkillDefense, COMDAT
; _this$ = ecx

; 1291 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 1292 : 	//int skillSuccess = true;
; 1293 : 	//LPOBJ lpObj = &gObj[aIndex];
; 1294 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 1295 : 
; 1296 : 	//if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)
; 1297 : 	//{
; 1298 : 	//	return;
; 1299 : 	//}
; 1300 : 
; 1301 : 	//if(lpObj->Class != CLASS_ELF)
; 1302 : 	//{
; 1303 : 	//	return;
; 1304 : 	//}
; 1305 : 
; 1306 : 	//if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)
; 1307 : 	//{
; 1308 : 	//	return;
; 1309 : 	//}
; 1310 : 
; 1311 : 	//if(skill_level < 0 || skill_level > 7)
; 1312 : 	//{
; 1313 : 	//	skill_level = 0;
; 1314 : 	//}
; 1315 : 	////int ExDefenceEnergy = GetPrivateProfileInt("Elf","DefenceEnergy",8,"..\\Data\\ZtData\\Skills.ini");
; 1316 : 	//float skill_defense = float(skill_level + 1)*2 + (lpObj->Energy + lpObj->AddEnergy) / ZtConfig.Skills.ExDefenceEnergy;
; 1317 : 
; 1318 : 	//if(lpTargetObj->Class == CLASS_KNIGHT)
; 1319 : 	//{
; 1320 : 	//	skill_defense += skill_defense/10.0f;
; 1321 : 	//}
; 1322 : 
; 1323 : 	//if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_DEFENSE, (int)skill_defense, 0) == 1) //season3 add-on
; 1324 : 	//{
; 1325 : 	//	GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,0);
; 1326 : 	//	return;
; 1327 : 	//}
; 1328 : 
; 1329 : 	//gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_DEFENSE, 3, (int)skill_defense, 0, 0, 60); //season3 add-on
; 1330 : 
; 1331 : 	//for(int n = 0; n < MAX_VIEWPORT; n++)
; 1332 : 	//{
; 1333 : 	//	if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)
; 1334 : 	//	{
; 1335 : 	//		LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];
; 1336 : 	//		if(lpMonster->m_iCurrentAI != 0)
; 1337 : 	//		{
; 1338 : 	//			lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_defense)/10);
; 1339 : 	//		}
; 1340 : 	//	}
; 1341 : 	//}
; 1342 : 
; 1343 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,skillSuccess);
; 1344 : 	
; 1345 : 	int skillSuccess = true;
; 1346 : 	LPOBJ lpObj = &gObj[aIndex];

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	53		 push	 ebx

; 1347 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00009	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0000c	56		 push	 esi
  0000d	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00013	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00016	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001c	03 d8		 add	 ebx, eax
  0001e	03 f0		 add	 esi, eax

; 1348 : 
; 1349 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  00020	66 83 7b 68 01	 cmp	 WORD PTR [ebx+104], 1
  00025	74 0d		 je	 SHORT $LN13@SkillDefen
  00027	83 bb 50 04 00
	00 ff		 cmp	 DWORD PTR [ebx+1104], -1
  0002e	0f 84 8a 01 00
	00		 je	 $LN14@SkillDefen
$LN13@SkillDefen:

; 1350 : 	{
; 1351 : 		return;
; 1352 : 	}
; 1353 : 
; 1354 : 	if(lpObj->Class != CLASS_ELF)

  00034	66 83 be b8 00
	00 00 02	 cmp	 WORD PTR [esi+184], 2
  0003c	0f 85 7c 01 00
	00		 jne	 $LN14@SkillDefen

; 1355 : 	{
; 1356 : 		return;
; 1357 : 	}
; 1358 : 
; 1359 : 	if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)

  00042	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00049	3c 35		 cmp	 al, 53			; 00000035H
  0004b	74 0d		 je	 SHORT $LN24@SkillDefen
  0004d	3c 12		 cmp	 al, 18			; 00000012H
  0004f	72 13		 jb	 SHORT $LN25@SkillDefen
  00051	b1 17		 mov	 cl, 23			; 00000017H
  00053	3a c8		 cmp	 cl, al
  00055	1b c0		 sbb	 eax, eax
  00057	40		 inc	 eax
  00058	74 0a		 je	 SHORT $LN25@SkillDefen
$LN24@SkillDefen:
  0005a	8b 16		 mov	 edx, DWORD PTR [esi]
  0005c	3b 13		 cmp	 edx, DWORD PTR [ebx]
  0005e	0f 85 5a 01 00
	00		 jne	 $LN14@SkillDefen
$LN25@SkillDefen:

; 1360 : 	{
; 1361 : 		return;
; 1362 : 	}
; 1363 : 
; 1364 : 	if(skill_level < 0 || skill_level > 7)

  00064	8b 4d 10	 mov	 ecx, DWORD PTR _skill_level$[ebp]
  00067	85 c9		 test	 ecx, ecx
  00069	78 05		 js	 SHORT $LN9@SkillDefen
  0006b	83 f9 07	 cmp	 ecx, 7
  0006e	7e 02		 jle	 SHORT $LN10@SkillDefen
$LN9@SkillDefen:

; 1365 : 	{
; 1366 : 		skill_level = 0;

  00070	33 c9		 xor	 ecx, ecx
$LN10@SkillDefen:

; 1367 : 	}
; 1368 : 
; 1369 : 	int Duration	= g_SkillAdditionInfo.ElfDefenseTime;

  00072	a1 8c 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2956

; 1370 : 	float skill_defense = float(skill_level + 1)*g_SkillAdditionInfo.ElfDefenseEffectFact + (lpObj->Energy + lpObj->AddEnergy) / g_SkillAdditionInfo.ElfDefenseEffectDiv;

  00077	0f b7 96 fa 00
	00 00		 movzx	 edx, WORD PTR [esi+250]
  0007e	89 45 10	 mov	 DWORD PTR _Duration$[ebp], eax
  00081	0f bf 86 26 01
	00 00		 movsx	 eax, WORD PTR [esi+294]
  00088	03 c2		 add	 eax, edx
  0008a	57		 push	 edi
  0008b	0f b7 3d 86 0b
	00 00		 movzx	 edi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2950
  00092	99		 cdq
  00093	f7 ff		 idiv	 edi
  00095	41		 inc	 ecx
  00096	89 45 08	 mov	 DWORD PTR tv460[ebp], eax
  00099	db 45 08	 fild	 DWORD PTR tv460[ebp]
  0009c	0f b7 05 84 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2948
  000a3	89 4d 08	 mov	 DWORD PTR tv458[ebp], ecx
  000a6	db 45 08	 fild	 DWORD PTR tv458[ebp]
  000a9	89 45 08	 mov	 DWORD PTR tv456[ebp], eax
  000ac	db 45 08	 fild	 DWORD PTR tv456[ebp]

; 1371 : 
; 1372 : 	if( g_SkillAdditionInfo.ElfDefenseEffectMax > 0 && skill_defense > g_SkillAdditionInfo.ElfDefenseEffectMax )

  000af	a1 88 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2952
  000b4	de c9		 fmulp	 ST(1), ST(0)
  000b6	de c1		 faddp	 ST(1), ST(0)
  000b8	d9 5d 08	 fstp	 DWORD PTR _skill_defense$[ebp]
  000bb	85 c0		 test	 eax, eax
  000bd	74 29		 je	 SHORT $LN23@SkillDefen
  000bf	89 45 0c	 mov	 DWORD PTR tv453[ebp], eax
  000c2	db 45 0c	 fild	 DWORD PTR tv453[ebp]
  000c5	79 06		 jns	 SHORT $LN30@SkillDefen
  000c7	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@4f800000
$LN30@SkillDefen:
  000cd	d9 5d 0c	 fstp	 DWORD PTR tv309[ebp]
  000d0	d9 45 08	 fld	 DWORD PTR _skill_defense$[ebp]
  000d3	d9 45 0c	 fld	 DWORD PTR tv309[ebp]
  000d6	d8 d1		 fcom	 ST(1)
  000d8	df e0		 fnstsw	 ax
  000da	dd d9		 fstp	 ST(1)
  000dc	f6 c4 05	 test	 ah, 5
  000df	7a 05		 jp	 SHORT $LN28@SkillDefen

; 1373 : 	{
; 1374 : 		skill_defense = g_SkillAdditionInfo.ElfDefenseEffectMax;

  000e1	d9 5d 08	 fstp	 DWORD PTR _skill_defense$[ebp]
  000e4	eb 02		 jmp	 SHORT $LN23@SkillDefen
$LN28@SkillDefen:
  000e6	dd d8		 fstp	 ST(0)
$LN23@SkillDefen:

; 1375 : 	}
; 1376 : 
; 1377 : 	if(lpTargetObj->Class == CLASS_KNIGHT)

  000e8	66 83 bb b8 00
	00 00 01	 cmp	 WORD PTR [ebx+184], 1
  000f0	75 10		 jne	 SHORT $LN7@SkillDefen

; 1378 : 	{
; 1379 : 		skill_defense += skill_defense/10.0f;

  000f2	d9 45 08	 fld	 DWORD PTR _skill_defense$[ebp]
  000f5	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4024000000000000
  000fb	d8 f9		 fdivr	 ST(0), ST(1)
  000fd	de c1		 faddp	 ST(1), ST(0)
  000ff	d9 5d 08	 fstp	 DWORD PTR _skill_defense$[ebp]
$LN7@SkillDefen:

; 1380 : 	}
; 1381 : 
; 1382 : 	if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_DEFENSE, skill_defense, 0) == 1)

  00102	d9 45 08	 fld	 DWORD PTR _skill_defense$[ebp]
  00105	e8 00 00 00 00	 call	 __ftol2_sse
  0010a	8b f8		 mov	 edi, eax
  0010c	6a 00		 push	 0
  0010e	57		 push	 edi
  0010f	6a 02		 push	 2
  00111	53		 push	 ebx
  00112	89 7d 0c	 mov	 DWORD PTR tv319[ebp], edi
  00115	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  0011a	83 c4 10	 add	 esp, 16			; 00000010H
  0011d	3c 01		 cmp	 al, 1
  0011f	75 17		 jne	 SHORT $LN6@SkillDefen

; 1383 : 	{
; 1384 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,0);

  00121	8b 0b		 mov	 ecx, DWORD PTR [ebx]
  00123	6a 00		 push	 0
  00125	51		 push	 ecx

; 1398 : 			}
; 1399 : 		}
; 1400 : 	}
; 1401 : 
; 1402 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,skillSuccess);

  00126	6a 1b		 push	 27			; 0000001bH
  00128	56		 push	 esi
  00129	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0012e	83 c4 10	 add	 esp, 16			; 00000010H
  00131	5f		 pop	 edi
  00132	5e		 pop	 esi
  00133	5b		 pop	 ebx

; 1403 : }

  00134	5d		 pop	 ebp
  00135	c2 0c 00	 ret	 12			; 0000000cH
$LN6@SkillDefen:

; 1385 : 		return;
; 1386 : 	}
; 1387 : 
; 1388 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_DEFENSE, 3, skill_defense, 0, 0, Duration);

  00138	8b 55 10	 mov	 edx, DWORD PTR _Duration$[ebp]
  0013b	52		 push	 edx
  0013c	6a 00		 push	 0
  0013e	6a 00		 push	 0
  00140	57		 push	 edi
  00141	6a 03		 push	 3
  00143	6a 02		 push	 2
  00145	53		 push	 ebx
  00146	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0014b	83 c4 1c	 add	 esp, 28			; 0000001cH
  0014e	8d be ac 08 00
	00		 lea	 edi, DWORD PTR [esi+2220]
  00154	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv68[ebp], 75	; 0000004bH
  0015b	eb 03 8d 49 00	 npad	 5
$LL5@SkillDefen:

; 1391 : 	{
; 1392 : 		if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  00160	80 7f 04 02	 cmp	 BYTE PTR [edi+4], 2
  00164	75 3f		 jne	 SHORT $LN4@SkillDefen
  00166	80 3f 00	 cmp	 BYTE PTR [edi], 0
  00169	74 3a		 je	 SHORT $LN4@SkillDefen

; 1393 : 		{
; 1394 : 			LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  0016b	0f bf 4f 02	 movsx	 ecx, WORD PTR [edi+2]
  0016f	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00175	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 1395 : 			if(lpMonster->m_iCurrentAI != 0)

  0017b	83 b9 78 1c 00
	00 00		 cmp	 DWORD PTR [ecx+7288], 0
  00182	74 21		 je	 SHORT $LN4@SkillDefen

; 1396 : 			{
; 1397 : 				lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_defense)/10);

  00184	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00189	f7 6d 0c	 imul	 DWORD PTR tv319[ebp]
  0018c	c1 fa 02	 sar	 edx, 2
  0018f	8b c2		 mov	 eax, edx
  00191	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00194	03 c2		 add	 eax, edx
  00196	8b 16		 mov	 edx, DWORD PTR [esi]
  00198	50		 push	 eax
  00199	52		 push	 edx
  0019a	81 c1 94 1c 00
	00		 add	 ecx, 7316		; 00001c94H
  001a0	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN4@SkillDefen:

; 1389 : 
; 1390 : 	for(int n = 0; n < MAX_VIEWPORT; n++)

  001a5	83 c7 0c	 add	 edi, 12			; 0000000cH
  001a8	ff 4d 08	 dec	 DWORD PTR tv68[ebp]
  001ab	75 b3		 jne	 SHORT $LL5@SkillDefen

; 1398 : 			}
; 1399 : 		}
; 1400 : 	}
; 1401 : 
; 1402 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_DEFENSE,lpTargetObj->m_Index,skillSuccess);

  001ad	8b 03		 mov	 eax, DWORD PTR [ebx]
  001af	6a 01		 push	 1
  001b1	50		 push	 eax
  001b2	6a 1b		 push	 27			; 0000001bH
  001b4	56		 push	 esi
  001b5	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  001ba	83 c4 10	 add	 esp, 16			; 00000010H
  001bd	5f		 pop	 edi
$LN14@SkillDefen:
  001be	5e		 pop	 esi
  001bf	5b		 pop	 ebx

; 1403 : }

  001c0	5d		 pop	 ebp
  001c1	c2 0c 00	 ret	 12			; 0000000cH
?SkillDefense@CObjUseSkill@@QAEXHHH@Z ENDP		; CObjUseSkill::SkillDefense
_TEXT	ENDS
PUBLIC	?SkillAttack@CObjUseSkill@@QAEXHHH@Z		; CObjUseSkill::SkillAttack
; Function compile flags: /Ogtp
;	COMDAT ?SkillAttack@CObjUseSkill@@QAEXHHH@Z
_TEXT	SEGMENT
tv463 = 8						; size = 4
tv461 = 8						; size = 4
tv460 = 8						; size = 4
tv68 = 8						; size = 4
_skill_attack$ = 8					; size = 4
_aIndex$ = 8						; size = 4
tv456 = 12						; size = 4
tv319 = 12						; size = 4
tv309 = 12						; size = 4
_aTargetIndex$ = 12					; size = 4
_BuffTime$ = 16						; size = 4
_skill_level$ = 16					; size = 4
?SkillAttack@CObjUseSkill@@QAEXHHH@Z PROC		; CObjUseSkill::SkillAttack, COMDAT
; _this$ = ecx

; 1406 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 1407 : 	//int skillSuccess = true;
; 1408 : 	//LPOBJ lpObj = &gObj[aIndex];
; 1409 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 1410 : 
; 1411 : 	//if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)
; 1412 : 	//{
; 1413 : 	//	return;
; 1414 : 	//}
; 1415 : 
; 1416 : 	//if(lpObj->Class != CLASS_ELF)
; 1417 : 	//{
; 1418 : 	//	return;
; 1419 : 	//}
; 1420 : 
; 1421 : 	//if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)
; 1422 : 	//{
; 1423 : 	//	return;
; 1424 : 	//}
; 1425 : 
; 1426 : 	//if(skill_level < 0 || skill_level > 7)
; 1427 : 	//{
; 1428 : 	//	skill_level = 0;
; 1429 : 	//}
; 1430 : 	////int ExAttackEnergy = GetPrivateProfileInt("Elf","AttackEnergy",7,"..\\Data\\ZtData\\Skills.ini");
; 1431 : 	//float skill_attack = float((skill_level + 1) * 3) + (lpObj->Energy + lpObj->AddEnergy) / ZtConfig.Skills.ExAttackEnergy;
; 1432 : 
; 1433 : 	//if(lpTargetObj->Class == CLASS_KNIGHT)
; 1434 : 	//{
; 1435 : 	//	skill_attack += skill_attack/10.0f;
; 1436 : 	//}
; 1437 : 
; 1438 : 	//if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_ATTACK, (int)skill_attack, 0) == 1) //season3 add-on
; 1439 : 	//{
; 1440 : 	//	GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,0);
; 1441 : 	//	return;
; 1442 : 	//}
; 1443 : 
; 1444 : 	//gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_ATTACK, 2, (int)skill_attack, 0, 0, 60); //season3 add-on
; 1445 : 
; 1446 : 	//for(int n = 0; n < MAX_VIEWPORT; n++)
; 1447 : 	//{
; 1448 : 	//	if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)
; 1449 : 	//	{
; 1450 : 	//		LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];
; 1451 : 	//		if(lpMonster->m_iCurrentAI != 0)
; 1452 : 	//		{
; 1453 : 	//			lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_attack)/10);
; 1454 : 	//		}
; 1455 : 	//	}
; 1456 : 	//}
; 1457 : 
; 1458 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,skillSuccess);
; 1459 : 
; 1460 : 	int skillSuccess = true;
; 1461 : 	LPOBJ lpObj = &gObj[aIndex];

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	53		 push	 ebx

; 1462 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00009	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0000c	56		 push	 esi
  0000d	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00013	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00016	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001c	57		 push	 edi
  0001d	03 d8		 add	 ebx, eax

; 1463 : 
; 1464 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  0001f	bf 01 00 00 00	 mov	 edi, 1
  00024	03 f0		 add	 esi, eax
  00026	66 39 7b 68	 cmp	 WORD PTR [ebx+104], di
  0002a	74 0d		 je	 SHORT $LN13@SkillAttac
  0002c	83 bb 50 04 00
	00 ff		 cmp	 DWORD PTR [ebx+1104], -1
  00033	0f 84 84 01 00
	00		 je	 $LN14@SkillAttac
$LN13@SkillAttac:

; 1465 : 	{
; 1466 : 		return;
; 1467 : 	}
; 1468 : 
; 1469 : 	if(lpObj->Class != CLASS_ELF)

  00039	66 83 be b8 00
	00 00 02	 cmp	 WORD PTR [esi+184], 2
  00041	0f 85 76 01 00
	00		 jne	 $LN14@SkillAttac

; 1470 : 	{
; 1471 : 		return;
; 1472 : 	}
; 1473 : 
; 1474 : 	if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)

  00047	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0004e	3c 35		 cmp	 al, 53			; 00000035H
  00050	74 0d		 je	 SHORT $LN24@SkillAttac
  00052	3c 12		 cmp	 al, 18			; 00000012H
  00054	72 13		 jb	 SHORT $LN25@SkillAttac
  00056	b1 17		 mov	 cl, 23			; 00000017H
  00058	3a c8		 cmp	 cl, al
  0005a	1b c0		 sbb	 eax, eax
  0005c	40		 inc	 eax
  0005d	74 0a		 je	 SHORT $LN25@SkillAttac
$LN24@SkillAttac:
  0005f	8b 16		 mov	 edx, DWORD PTR [esi]
  00061	3b 13		 cmp	 edx, DWORD PTR [ebx]
  00063	0f 85 54 01 00
	00		 jne	 $LN14@SkillAttac
$LN25@SkillAttac:

; 1475 : 	{
; 1476 : 		return;
; 1477 : 	}
; 1478 : 
; 1479 : 	if(skill_level < 0 || skill_level > 7)

  00069	8b 45 10	 mov	 eax, DWORD PTR _skill_level$[ebp]
  0006c	85 c0		 test	 eax, eax
  0006e	78 05		 js	 SHORT $LN9@SkillAttac
  00070	83 f8 07	 cmp	 eax, 7
  00073	7e 02		 jle	 SHORT $LN10@SkillAttac
$LN9@SkillAttac:

; 1480 : 	{
; 1481 : 		skill_level = 0;

  00075	33 c0		 xor	 eax, eax
$LN10@SkillAttac:

; 1482 : 	}
; 1483 : 
; 1484 : 	float skill_attack	= float((skill_level + 1) * g_SkillAdditionInfo.ElfAttackEffectFact) + (lpObj->Energy + lpObj->AddEnergy) / (float)g_SkillAdditionInfo.ElfAttackEffectDiv;

  00077	0f b7 96 fa 00
	00 00		 movzx	 edx, WORD PTR [esi+250]
  0007e	0f bf 8e 26 01
	00 00		 movsx	 ecx, WORD PTR [esi+294]
  00085	03 ca		 add	 ecx, edx
  00087	89 4d 08	 mov	 DWORD PTR tv463[ebp], ecx
  0008a	0f b7 0d 92 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2962
  00091	db 45 08	 fild	 DWORD PTR tv463[ebp]
  00094	0f b7 15 90 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2960
  0009b	89 4d 08	 mov	 DWORD PTR tv461[ebp], ecx
  0009e	40		 inc	 eax
  0009f	0f af c2	 imul	 eax, edx
  000a2	db 45 08	 fild	 DWORD PTR tv461[ebp]
  000a5	de f9		 fdivp	 ST(1), ST(0)
  000a7	89 45 08	 mov	 DWORD PTR tv460[ebp], eax

; 1485 : 	int BuffTime		= g_SkillAdditionInfo.ElfAttackTime;

  000aa	a1 98 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2968
  000af	89 45 10	 mov	 DWORD PTR _BuffTime$[ebp], eax

; 1486 : 
; 1487 : 	if( g_SkillAdditionInfo.ElfAttackEffectMax > 0 && skill_attack > g_SkillAdditionInfo.ElfAttackEffectMax )

  000b2	a1 94 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2964
  000b7	da 45 08	 fiadd	 DWORD PTR tv460[ebp]
  000ba	d9 5d 08	 fstp	 DWORD PTR _skill_attack$[ebp]
  000bd	85 c0		 test	 eax, eax
  000bf	74 29		 je	 SHORT $LN23@SkillAttac
  000c1	89 45 0c	 mov	 DWORD PTR tv456[ebp], eax
  000c4	db 45 0c	 fild	 DWORD PTR tv456[ebp]
  000c7	79 06		 jns	 SHORT $LN29@SkillAttac
  000c9	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@4f800000
$LN29@SkillAttac:
  000cf	d9 5d 0c	 fstp	 DWORD PTR tv309[ebp]
  000d2	d9 45 08	 fld	 DWORD PTR _skill_attack$[ebp]
  000d5	d9 45 0c	 fld	 DWORD PTR tv309[ebp]
  000d8	d8 d1		 fcom	 ST(1)
  000da	df e0		 fnstsw	 ax
  000dc	dd d9		 fstp	 ST(1)
  000de	f6 c4 05	 test	 ah, 5
  000e1	7a 05		 jp	 SHORT $LN27@SkillAttac

; 1488 : 	{
; 1489 : 		skill_attack = g_SkillAdditionInfo.ElfAttackEffectMax;

  000e3	d9 5d 08	 fstp	 DWORD PTR _skill_attack$[ebp]
  000e6	eb 02		 jmp	 SHORT $LN23@SkillAttac
$LN27@SkillAttac:
  000e8	dd d8		 fstp	 ST(0)
$LN23@SkillAttac:

; 1490 : 	}
; 1491 : 
; 1492 : 	if(lpTargetObj->Class == CLASS_KNIGHT)

  000ea	66 39 bb b8 00
	00 00		 cmp	 WORD PTR [ebx+184], di
  000f1	75 10		 jne	 SHORT $LN7@SkillAttac

; 1493 : 	{
; 1494 : 		skill_attack += skill_attack/10.0f;

  000f3	d9 45 08	 fld	 DWORD PTR _skill_attack$[ebp]
  000f6	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4024000000000000
  000fc	d8 f9		 fdivr	 ST(0), ST(1)
  000fe	de c1		 faddp	 ST(1), ST(0)
  00100	d9 5d 08	 fstp	 DWORD PTR _skill_attack$[ebp]
$LN7@SkillAttac:

; 1495 : 	}	
; 1496 : 	// ----
; 1497 : 	if(gObjCheckBuffEffectValue(lpTargetObj, AT_INCREASE_ATTACK, skill_attack, 0) == 1) //season3 add-on

  00103	d9 45 08	 fld	 DWORD PTR _skill_attack$[ebp]
  00106	e8 00 00 00 00	 call	 __ftol2_sse
  0010b	8b f8		 mov	 edi, eax
  0010d	6a 00		 push	 0
  0010f	57		 push	 edi
  00110	6a 01		 push	 1
  00112	53		 push	 ebx
  00113	89 7d 0c	 mov	 DWORD PTR tv319[ebp], edi
  00116	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  0011b	83 c4 10	 add	 esp, 16			; 00000010H
  0011e	3c 01		 cmp	 al, 1
  00120	75 17		 jne	 SHORT $LN6@SkillAttac

; 1498 : 	{
; 1499 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,0);

  00122	8b 0b		 mov	 ecx, DWORD PTR [ebx]
  00124	6a 00		 push	 0
  00126	51		 push	 ecx

; 1513 : 			}
; 1514 : 		}
; 1515 : 	}
; 1516 : 
; 1517 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,skillSuccess);

  00127	6a 1c		 push	 28			; 0000001cH
  00129	56		 push	 esi
  0012a	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0012f	83 c4 10	 add	 esp, 16			; 00000010H
  00132	5f		 pop	 edi
  00133	5e		 pop	 esi
  00134	5b		 pop	 ebx

; 1518 : }

  00135	5d		 pop	 ebp
  00136	c2 0c 00	 ret	 12			; 0000000cH
$LN6@SkillAttac:

; 1500 : 		return;
; 1501 : 	}
; 1502 : 
; 1503 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_INCREASE_ATTACK, 2, skill_attack, 0, 0, BuffTime); //season3 add-on

  00139	8b 55 10	 mov	 edx, DWORD PTR _BuffTime$[ebp]
  0013c	52		 push	 edx
  0013d	6a 00		 push	 0
  0013f	6a 00		 push	 0
  00141	57		 push	 edi
  00142	6a 02		 push	 2
  00144	6a 01		 push	 1
  00146	53		 push	 ebx
  00147	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0014c	83 c4 1c	 add	 esp, 28			; 0000001cH
  0014f	8d be ac 08 00
	00		 lea	 edi, DWORD PTR [esi+2220]
  00155	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv68[ebp], 75	; 0000004bH
  0015c	8d 64 24 00	 npad	 4
$LL5@SkillAttac:

; 1506 : 	{
; 1507 : 		if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  00160	80 7f 04 02	 cmp	 BYTE PTR [edi+4], 2
  00164	75 3f		 jne	 SHORT $LN4@SkillAttac
  00166	80 3f 00	 cmp	 BYTE PTR [edi], 0
  00169	74 3a		 je	 SHORT $LN4@SkillAttac

; 1508 : 		{
; 1509 : 			LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  0016b	0f bf 4f 02	 movsx	 ecx, WORD PTR [edi+2]
  0016f	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00175	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 1510 : 			if(lpMonster->m_iCurrentAI != 0)

  0017b	83 b9 78 1c 00
	00 00		 cmp	 DWORD PTR [ecx+7288], 0
  00182	74 21		 je	 SHORT $LN4@SkillAttac

; 1511 : 			{
; 1512 : 				lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(skill_attack)/10);

  00184	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00189	f7 6d 0c	 imul	 DWORD PTR tv319[ebp]
  0018c	c1 fa 02	 sar	 edx, 2
  0018f	8b c2		 mov	 eax, edx
  00191	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00194	03 c2		 add	 eax, edx
  00196	8b 16		 mov	 edx, DWORD PTR [esi]
  00198	50		 push	 eax
  00199	52		 push	 edx
  0019a	81 c1 94 1c 00
	00		 add	 ecx, 7316		; 00001c94H
  001a0	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN4@SkillAttac:

; 1504 : 
; 1505 : 	for(int n = 0; n < MAX_VIEWPORT; n++)

  001a5	83 c7 0c	 add	 edi, 12			; 0000000cH
  001a8	ff 4d 08	 dec	 DWORD PTR tv68[ebp]
  001ab	75 b3		 jne	 SHORT $LL5@SkillAttac

; 1513 : 			}
; 1514 : 		}
; 1515 : 	}
; 1516 : 
; 1517 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_ATTACK,lpTargetObj->m_Index,skillSuccess);

  001ad	8b 03		 mov	 eax, DWORD PTR [ebx]
  001af	6a 01		 push	 1
  001b1	50		 push	 eax
  001b2	6a 1c		 push	 28			; 0000001cH
  001b4	56		 push	 esi
  001b5	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  001ba	83 c4 10	 add	 esp, 16			; 00000010H
$LN14@SkillAttac:
  001bd	5f		 pop	 edi
  001be	5e		 pop	 esi
  001bf	5b		 pop	 ebx

; 1518 : }

  001c0	5d		 pop	 ebp
  001c1	c2 0c 00	 ret	 12			; 0000000cH
?SkillAttack@CObjUseSkill@@QAEXHHH@Z ENDP		; CObjUseSkill::SkillAttack
_TEXT	ENDS
PUBLIC	__real@3f800000
PUBLIC	?SkillChangeUse@CObjUseSkill@@QAEHH@Z		; CObjUseSkill::SkillChangeUse
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	?PHeadSubSetB@@YAXPAEEEH@Z:PROC			; PHeadSubSetB
EXTRN	?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z:PROC ; CCastleSiege::NotifySelfCsJoinSide
EXTRN	?g_CastleSiege@@3VCCastleSiege@@A:BYTE		; g_CastleSiege
EXTRN	?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjViewportListProtocolCreate
EXTRN	?gObjCalCharacter@@YAXH@Z:PROC			; gObjCalCharacter
EXTRN	?GCReFillSend@@YAXHHEEH@Z:PROC			; GCReFillSend
EXTRN	?GetUserJoinSide@CIllusionTempleEvent@@QAEEEH@Z:PROC ; CIllusionTempleEvent::GetUserJoinSide
EXTRN	?GetState@CIllusionTempleEvent@@QAEEE@Z:PROC	; CIllusionTempleEvent::GetState
EXTRN	?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A:BYTE ; g_IllusionTempleEvent
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillChangeUse@CObjUseSkill@@QAEHH@Z
_TEXT	SEGMENT
_pMsg$ = -8						; size = 5
_aIndex$ = 8						; size = 4
?SkillChangeUse@CObjUseSkill@@QAEHH@Z PROC		; CObjUseSkill::SkillChangeUse, COMDAT
; _this$ = ecx

; 1521 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 1522 : //	LPOBJ lpObj = &gObj[aIndex];
; 1523 : //
; 1524 : //	int skill_level = -1;
; 1525 : //
; 1526 : //	if(lpObj->Type != OBJ_USER)
; 1527 : //	{
; 1528 : //		return false;
; 1529 : //	}
; 1530 : //
; 1531 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,10))
; 1532 : //	{
; 1533 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1534 : //		{
; 1535 : //			skill_level = -1;
; 1536 : //		}
; 1537 : //		else
; 1538 : //		{
; 1539 : //			skill_level = lpObj->pInventory[10].m_Level;
; 1540 : //		}
; 1541 : //	}
; 1542 : //
; 1543 : //	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,10))
; 1544 : //	{
; 1545 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1546 : //		{
; 1547 : //			skill_level = -1;
; 1548 : //		}
; 1549 : //		else
; 1550 : //		{
; 1551 : //			skill_level = lpObj->pInventory[11].m_Level;
; 1552 : //		}
; 1553 : //	}
; 1554 : //
; 1555 : //	if(skill_level > 7)
; 1556 : //	{
; 1557 : //		return false;
; 1558 : //	}
; 1559 : //
; 1560 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,39))
; 1561 : //	{
; 1562 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1563 : //		{
; 1564 : //			skill_level = -1;
; 1565 : //		}
; 1566 : //		else
; 1567 : //		{
; 1568 : //			skill_level = 372;
; 1569 : //		}
; 1570 : //	}
; 1571 : //
; 1572 : //	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,39))
; 1573 : //	{
; 1574 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1575 : //		{
; 1576 : //			skill_level = -1;
; 1577 : //		}
; 1578 : //		else
; 1579 : //		{
; 1580 : //			skill_level = 372;
; 1581 : //		}
; 1582 : //	}
; 1583 : //
; 1584 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,40)) //Second Edition
; 1585 : //	{
; 1586 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1587 : //		{
; 1588 : //			skill_level = -1;
; 1589 : //		}
; 1590 : //		else
; 1591 : //		{
; 1592 : //			skill_level = 373;
; 1593 : //		}
; 1594 : //	}
; 1595 : //
; 1596 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,40)) //Second Edition
; 1597 : //	{
; 1598 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1599 : //		{
; 1600 : //			skill_level = -1;
; 1601 : //		}
; 1602 : //		else
; 1603 : //		{
; 1604 : //			skill_level = 373;
; 1605 : //		}
; 1606 : //	}
; 1607 : //
; 1608 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,41)) //Season 2.5 add-on
; 1609 : //	{
; 1610 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1611 : //		{
; 1612 : //			skill_level = -1;
; 1613 : //		}
; 1614 : //		else
; 1615 : //		{
; 1616 : //			skill_level = 374;
; 1617 : //		}
; 1618 : //	}
; 1619 : //
; 1620 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,41)) //Season 2.5 add-on
; 1621 : //	{
; 1622 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1623 : //		{
; 1624 : //			skill_level = -1;
; 1625 : //		}
; 1626 : //		else
; 1627 : //		{
; 1628 : //			skill_level = 374;
; 1629 : //		}
; 1630 : //	}
; 1631 : //
; 1632 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,42)) //Season 2.5 add-on
; 1633 : //	{
; 1634 : //		if((lpObj->Authority&32) != 32)
; 1635 : //		{
; 1636 : //			return FALSE;
; 1637 : //		}
; 1638 : //
; 1639 : //		skill_level = 378;
; 1640 : //
; 1641 : //	}
; 1642 : //
; 1643 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,42)) //Season 2.5 add-on
; 1644 : //	{
; 1645 : //		if((lpObj->Authority&32) != 32)
; 1646 : //		{
; 1647 : //			return FALSE;
; 1648 : //		}
; 1649 : //
; 1650 : //		skill_level = 378;
; 1651 : //	}
; 1652 : //
; 1653 : //	if(IT_MAP_RANGE(lpObj->MapNumber) != FALSE) //Season2.5 add-on (illusion temple checks)
; 1654 : //	{
; 1655 : //		if(g_IllusionTempleEvent.GetState(lpObj->MapNumber) != 0)
; 1656 : //		{
; 1657 : //			int ebp10 = g_IllusionTempleEvent.GetUserJoinSide(lpObj->MapNumber, lpObj->m_Index);
; 1658 : //			if(ebp10 == 0)
; 1659 : //			{
; 1660 : //				skill_level = 404;
; 1661 : //			}
; 1662 : //			else if(ebp10 == 1)
; 1663 : //			{
; 1664 : //				skill_level = 405;
; 1665 : //			}
; 1666 : //		}
; 1667 : //	}
; 1668 : //
; 1669 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,68)) //Season 4 add-on
; 1670 : //	{
; 1671 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1672 : //		{
; 1673 : //			skill_level = -1;
; 1674 : //		}
; 1675 : //		else
; 1676 : //		{
; 1677 : //			skill_level = 477;
; 1678 : //		}
; 1679 : //	}
; 1680 : //
; 1681 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,68)) //Season 4 add-on
; 1682 : //	{
; 1683 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1684 : //		{
; 1685 : //			skill_level = -1;
; 1686 : //		}
; 1687 : //		else
; 1688 : //		{
; 1689 : //			skill_level = 477;
; 1690 : //		}
; 1691 : //	}
; 1692 : ////Panda Ring
; 1693 : //	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,76)) //Season 4 add-on
; 1694 : //	{
; 1695 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1696 : //		{
; 1697 : //			skill_level = -1;
; 1698 : //		}
; 1699 : //		else
; 1700 : //		{
; 1701 : //			skill_level = 503;
; 1702 : //		}
; 1703 : //	}
; 1704 : //
; 1705 : //	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,76)) //Season 4 add-on
; 1706 : //	{
; 1707 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1708 : //		{
; 1709 : //			skill_level = -1;
; 1710 : //		}
; 1711 : //		else
; 1712 : //		{
; 1713 : //			skill_level = 503;
; 1714 : //		}
; 1715 : //	}
; 1716 : //	//Season 5 Skeleton Ring
; 1717 : //	if(lpObj->pInventory[10].IsItem() && lpObj->pInventory[10].m_Type == ITEMGET(13,122))
; 1718 : //	{
; 1719 : //		if(lpObj->pInventory[10].m_Durability < 1.0f)
; 1720 : //		{
; 1721 : //			skill_level = -1;
; 1722 : //		}
; 1723 : //		else
; 1724 : //		{
; 1725 : //			skill_level = 548;
; 1726 : //		}
; 1727 : //	}
; 1728 : //
; 1729 : //	//Season 5 Skeleton Ring
; 1730 : //	if(lpObj->pInventory[11].IsItem() && lpObj->pInventory[11].m_Type == ITEMGET(13,122))
; 1731 : //	{
; 1732 : //		if(lpObj->pInventory[11].m_Durability < 1.0f)
; 1733 : //		{
; 1734 : //			skill_level = -1;
; 1735 : //		}
; 1736 : //		else
; 1737 : //		{
; 1738 : //			skill_level = 548;
; 1739 : //		}
; 1740 : //	}
; 1741 : //
; 1742 : //	int change = -1;
; 1743 : //
; 1744 : //	switch(skill_level)
; 1745 : //	{
; 1746 : //	case 0: change = 2;	break;
; 1747 : //	case 1: change = 7; break;
; 1748 : //	case 2: change = 14;	break;
; 1749 : //	case 3: change = 8;	break;
; 1750 : //	case 4:	change = 9;	break;
; 1751 : //	case 5:	change = 41;	break;
; 1752 : //	case 372:	change = skill_level;	break;
; 1753 : //	case 373:	change = skill_level;	break; //Second Edition
; 1754 : //	case 374:	change = skill_level;	break; //season 2.5
; 1755 : //	case 378:	change = skill_level;	break; //season 2.5
; 1756 : //	case 404: //season 2.5
; 1757 : //	case 405:
; 1758 : //		change = skill_level;	break;
; 1759 : //	case 477:	change = skill_level;	break; //season 4
; 1760 : //	case 503:	change = skill_level;	break; //season 4.6 panda ring
; 1761 : //	case 548:	change = skill_level;	break;	//Season 5 Skeleton Ring
; 1762 : //	default: change = -1;	break;
; 1763 : //	}
; 1764 : //
; 1765 : //	if(lpObj->m_Change >= 0 && lpObj->m_Change == change)
; 1766 : //	{
; 1767 : //		return false;
; 1768 : //	}
; 1769 : //
; 1770 : //	if(lpObj->m_Change == 41 && change != 41)
; 1771 : //	{
; 1772 : //		lpObj->AddLife = 0;
; 1773 : //
; 1774 : //		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);
; 1775 : //		GCReFillSend(lpObj->m_Index,(lpObj->MaxLife + lpObj->AddLife),0xFE,0,(lpObj->iMaxShield + lpObj->iAddShield));
; 1776 : //	}
; 1777 : //
; 1778 : //	if(lpObj->m_Change == 372 && change != 372)
; 1779 : //	{
; 1780 : //		lpObj->AddLife = 0;
; 1781 : //		gObjCalCharacter(lpObj->m_Index);
; 1782 : //
; 1783 : //		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);
; 1784 : //		GCReFillSend(lpObj->m_Index,(lpObj->MaxLife + lpObj->AddLife),0xFE,0,(lpObj->iMaxShield + lpObj->iAddShield));
; 1785 : //	}
; 1786 : //
; 1787 : //	if(lpObj->m_Change == 374) //Season 2.5 add-on
; 1788 : //	{
; 1789 : //		if(change != 374)
; 1790 : //		{
; 1791 : //			lpObj->m_AttackDamageMaxLeft -= 20;
; 1792 : //			lpObj->m_AttackDamageMinLeft -= 20;
; 1793 : //			lpObj->m_AttackDamageMaxRight -= 20;
; 1794 : //			lpObj->m_AttackDamageMinRight -= 20;
; 1795 : //			lpObj->m_MagicDamageMin -= 20;
; 1796 : //			lpObj->m_MagicDamageMax -= 20;
; 1797 : //		}
; 1798 : //	}
; 1799 : //
; 1800 : //	lpObj->m_Change = change;
; 1801 : //	gObjViewportListProtocolCreate(lpObj);
; 1802 : //
; 1803 : ////#if(GS_CASTLE==1)
; 1804 : //	g_CastleSiege.NotifySelfCsJoinSide(lpObj->m_Index);
; 1805 : ////#endif
; 1806 : //
; 1807 : //	PMSG_KILLCOUNT pMsg = {0};
; 1808 : //
; 1809 : //	PHeadSubSetB((LPBYTE)&pMsg,0xB8,0x01,sizeof(pMsg));
; 1810 : //
; 1811 : //	pMsg.btKillCount = lpObj->m_btKillCount;
; 1812 : //
; 1813 : //	DataSend(aIndex,(LPBYTE)&pMsg,sizeof(pMsg));
; 1814 : //	return true;
; 1815 : 
; 1816 : 	LPOBJ lpObj = &gObj[aIndex];

  00007	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000a	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00010	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00016	57		 push	 edi

; 1817 : 
; 1818 : 	int skill_level = -1;

  00017	83 cf ff	 or	 edi, -1

; 1819 : 
; 1820 : 	if(lpObj->Type != OBJ_USER)

  0001a	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  0001f	74 0a		 je	 SHORT $LN77@SkillChang
$LN90@SkillChang:
  00021	5f		 pop	 edi

; 1821 : 	{
; 1822 : 		return false;

  00022	33 c0		 xor	 eax, eax
  00024	5e		 pop	 esi

; 2134 : }

  00025	8b e5		 mov	 esp, ebp
  00027	5d		 pop	 ebp
  00028	c2 04 00	 ret	 4
$LN77@SkillChang:

; 1823 : 	}
; 1824 : 
; 1825 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,10))

  0002b	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00031	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  00037	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0003c	83 f8 01	 cmp	 eax, 1
  0003f	75 2f		 jne	 SHORT $LN74@SkillChang
  00041	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00047	b8 0a 1a 00 00	 mov	 eax, 6666		; 00001a0aH
  0004c	66 39 81 4e 08
	00 00		 cmp	 WORD PTR [ecx+2126], ax
  00053	75 1b		 jne	 SHORT $LN74@SkillChang

; 1826 : 	{
; 1827 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  00055	d9 e8		 fld1
  00057	d8 99 6c 08 00
	00		 fcomp	 DWORD PTR [ecx+2156]
  0005d	df e0		 fnstsw	 ax
  0005f	f6 c4 41	 test	 ah, 65			; 00000041H
  00062	75 05		 jne	 SHORT $LN75@SkillChang

; 1828 : 		{
; 1829 : 			skill_level = -1;

  00064	83 cf ff	 or	 edi, -1

; 1830 : 		}
; 1831 : 		else

  00067	eb 07		 jmp	 SHORT $LN74@SkillChang
$LN75@SkillChang:

; 1832 : 		{
; 1833 : 			skill_level = lpObj->pInventory[10].m_Level;

  00069	0f bf b9 50 08
	00 00		 movsx	 edi, WORD PTR [ecx+2128]
$LN74@SkillChang:

; 1834 : 		}
; 1835 : 	}
; 1836 : 
; 1837 : 	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,10))

  00070	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00076	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  0007c	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00081	83 f8 01	 cmp	 eax, 1
  00084	75 33		 jne	 SHORT $LN71@SkillChang
  00086	83 ff ff	 cmp	 edi, -1
  00089	75 2e		 jne	 SHORT $LN71@SkillChang
  0008b	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00091	ba 0a 1a 00 00	 mov	 edx, 6666		; 00001a0aH
  00096	66 39 91 22 09
	00 00		 cmp	 WORD PTR [ecx+2338], dx
  0009d	75 23		 jne	 SHORT $LN70@SkillChang

; 1838 : 	{
; 1839 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  0009f	d9 e8		 fld1
  000a1	d8 99 40 09 00
	00		 fcomp	 DWORD PTR [ecx+2368]
  000a7	df e0		 fnstsw	 ax
  000a9	f6 c4 41	 test	 ah, 65			; 00000041H
  000ac	75 04		 jne	 SHORT $LN72@SkillChang

; 1840 : 		{
; 1841 : 			skill_level = -1;

  000ae	0b ff		 or	 edi, edi

; 1842 : 		}
; 1843 : 		else

  000b0	eb 10		 jmp	 SHORT $LN70@SkillChang
$LN72@SkillChang:

; 1844 : 		{
; 1845 : 			skill_level = lpObj->pInventory[11].m_Level;

  000b2	0f bf b9 24 09
	00 00		 movsx	 edi, WORD PTR [ecx+2340]
$LN71@SkillChang:

; 1846 : 		}
; 1847 : 	}
; 1848 : 
; 1849 : 	if(skill_level > 7)

  000b9	83 ff 07	 cmp	 edi, 7

; 1850 : 	{
; 1851 : 		return false;

  000bc	0f 8f 5f ff ff
	ff		 jg	 $LN90@SkillChang
$LN70@SkillChang:

; 1852 : 	}
; 1853 : 
; 1854 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,39))

  000c2	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  000c8	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  000ce	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  000d3	83 f8 01	 cmp	 eax, 1
  000d6	75 2d		 jne	 SHORT $LN67@SkillChang
  000d8	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  000de	b9 27 1a 00 00	 mov	 ecx, 6695		; 00001a27H
  000e3	66 39 88 4e 08
	00 00		 cmp	 WORD PTR [eax+2126], cx
  000ea	75 19		 jne	 SHORT $LN67@SkillChang

; 1855 : 	{
; 1856 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  000ec	d9 e8		 fld1
  000ee	d8 98 6c 08 00
	00		 fcomp	 DWORD PTR [eax+2156]
  000f4	df e0		 fnstsw	 ax
  000f6	f6 c4 41	 test	 ah, 65			; 00000041H
  000f9	75 05		 jne	 SHORT $LN68@SkillChang

; 1857 : 		{
; 1858 : 			skill_level = -1;

  000fb	83 cf ff	 or	 edi, -1

; 1859 : 		}
; 1860 : 		else

  000fe	eb 05		 jmp	 SHORT $LN67@SkillChang
$LN68@SkillChang:

; 1861 : 		{
; 1862 : 			skill_level = 372;

  00100	bf 74 01 00 00	 mov	 edi, 372		; 00000174H
$LN67@SkillChang:

; 1863 : 		}
; 1864 : 	}
; 1865 : 
; 1866 : 	if(lpObj->pInventory[11].IsItem()==1 && skill_level == -1 && lpObj->pInventory[11].m_Type == ITEMGET(13,39))

  00105	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  0010b	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  00111	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00116	83 f8 01	 cmp	 eax, 1
  00119	75 31		 jne	 SHORT $LN64@SkillChang
  0011b	83 ff ff	 cmp	 edi, -1
  0011e	75 2c		 jne	 SHORT $LN64@SkillChang
  00120	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  00126	ba 27 1a 00 00	 mov	 edx, 6695		; 00001a27H
  0012b	66 39 90 22 09
	00 00		 cmp	 WORD PTR [eax+2338], dx
  00132	75 18		 jne	 SHORT $LN64@SkillChang

; 1867 : 	{
; 1868 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  00134	d9 e8		 fld1
  00136	d8 98 40 09 00
	00		 fcomp	 DWORD PTR [eax+2368]
  0013c	df e0		 fnstsw	 ax
  0013e	f6 c4 41	 test	 ah, 65			; 00000041H
  00141	75 04		 jne	 SHORT $LN65@SkillChang

; 1869 : 		{
; 1870 : 			skill_level = -1;

  00143	0b ff		 or	 edi, edi

; 1871 : 		}
; 1872 : 		else

  00145	eb 05		 jmp	 SHORT $LN64@SkillChang
$LN65@SkillChang:

; 1873 : 		{
; 1874 : 			skill_level = 372;

  00147	bf 74 01 00 00	 mov	 edi, 372		; 00000174H
$LN64@SkillChang:

; 1875 : 		}
; 1876 : 	}
; 1877 : 
; 1878 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,40)) //Second Edition

  0014c	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00152	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  00158	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0015d	83 f8 01	 cmp	 eax, 1
  00160	75 2d		 jne	 SHORT $LN61@SkillChang
  00162	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  00168	b9 28 1a 00 00	 mov	 ecx, 6696		; 00001a28H
  0016d	66 39 88 4e 08
	00 00		 cmp	 WORD PTR [eax+2126], cx
  00174	75 19		 jne	 SHORT $LN61@SkillChang

; 1879 : 	{
; 1880 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  00176	d9 e8		 fld1
  00178	d8 98 6c 08 00
	00		 fcomp	 DWORD PTR [eax+2156]
  0017e	df e0		 fnstsw	 ax
  00180	f6 c4 41	 test	 ah, 65			; 00000041H
  00183	75 05		 jne	 SHORT $LN62@SkillChang

; 1881 : 		{
; 1882 : 			skill_level = -1;

  00185	83 cf ff	 or	 edi, -1

; 1883 : 		}
; 1884 : 		else

  00188	eb 05		 jmp	 SHORT $LN61@SkillChang
$LN62@SkillChang:

; 1885 : 		{
; 1886 : 			skill_level = 373;

  0018a	bf 75 01 00 00	 mov	 edi, 373		; 00000175H
$LN61@SkillChang:

; 1887 : 		}
; 1888 : 	}
; 1889 : 
; 1890 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,40)) //Second Edition

  0018f	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00195	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  0019b	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  001a0	83 f8 01	 cmp	 eax, 1
  001a3	75 2d		 jne	 SHORT $LN58@SkillChang
  001a5	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  001ab	ba 28 1a 00 00	 mov	 edx, 6696		; 00001a28H
  001b0	66 39 90 22 09
	00 00		 cmp	 WORD PTR [eax+2338], dx
  001b7	75 19		 jne	 SHORT $LN58@SkillChang

; 1891 : 	{
; 1892 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  001b9	d9 e8		 fld1
  001bb	d8 98 40 09 00
	00		 fcomp	 DWORD PTR [eax+2368]
  001c1	df e0		 fnstsw	 ax
  001c3	f6 c4 41	 test	 ah, 65			; 00000041H
  001c6	75 05		 jne	 SHORT $LN59@SkillChang

; 1893 : 		{
; 1894 : 			skill_level = -1;

  001c8	83 cf ff	 or	 edi, -1

; 1895 : 		}
; 1896 : 		else

  001cb	eb 05		 jmp	 SHORT $LN58@SkillChang
$LN59@SkillChang:

; 1897 : 		{
; 1898 : 			skill_level = 373;

  001cd	bf 75 01 00 00	 mov	 edi, 373		; 00000175H
$LN58@SkillChang:

; 1899 : 		}
; 1900 : 	}
; 1901 : 
; 1902 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,41)) //Season 2.5 add-on

  001d2	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  001d8	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  001de	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  001e3	83 f8 01	 cmp	 eax, 1
  001e6	75 2d		 jne	 SHORT $LN55@SkillChang
  001e8	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  001ee	b9 29 1a 00 00	 mov	 ecx, 6697		; 00001a29H
  001f3	66 39 88 4e 08
	00 00		 cmp	 WORD PTR [eax+2126], cx
  001fa	75 19		 jne	 SHORT $LN55@SkillChang

; 1903 : 	{
; 1904 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  001fc	d9 e8		 fld1
  001fe	d8 98 6c 08 00
	00		 fcomp	 DWORD PTR [eax+2156]
  00204	df e0		 fnstsw	 ax
  00206	f6 c4 41	 test	 ah, 65			; 00000041H
  00209	75 05		 jne	 SHORT $LN56@SkillChang

; 1905 : 		{
; 1906 : 			skill_level = -1;

  0020b	83 cf ff	 or	 edi, -1

; 1907 : 		}
; 1908 : 		else

  0020e	eb 05		 jmp	 SHORT $LN55@SkillChang
$LN56@SkillChang:

; 1909 : 		{
; 1910 : 			skill_level = 374;

  00210	bf 76 01 00 00	 mov	 edi, 374		; 00000176H
$LN55@SkillChang:

; 1911 : 		}
; 1912 : 	}
; 1913 : 
; 1914 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,41)) //Season 2.5 add-on

  00215	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  0021b	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  00221	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00226	83 f8 01	 cmp	 eax, 1
  00229	75 2d		 jne	 SHORT $LN52@SkillChang
  0022b	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  00231	ba 29 1a 00 00	 mov	 edx, 6697		; 00001a29H
  00236	66 39 90 22 09
	00 00		 cmp	 WORD PTR [eax+2338], dx
  0023d	75 19		 jne	 SHORT $LN52@SkillChang

; 1915 : 	{
; 1916 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  0023f	d9 e8		 fld1
  00241	d8 98 40 09 00
	00		 fcomp	 DWORD PTR [eax+2368]
  00247	df e0		 fnstsw	 ax
  00249	f6 c4 41	 test	 ah, 65			; 00000041H
  0024c	75 05		 jne	 SHORT $LN53@SkillChang

; 1917 : 		{
; 1918 : 			skill_level = -1;

  0024e	83 cf ff	 or	 edi, -1

; 1919 : 		}
; 1920 : 		else

  00251	eb 05		 jmp	 SHORT $LN52@SkillChang
$LN53@SkillChang:

; 1921 : 		{
; 1922 : 			skill_level = 374;

  00253	bf 76 01 00 00	 mov	 edi, 374		; 00000176H
$LN52@SkillChang:

; 1923 : 		}
; 1924 : 	}
; 1925 : 
; 1926 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,42)) //Season 2.5 add-on

  00258	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  0025e	53		 push	 ebx
  0025f	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  00265	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0026a	b3 20		 mov	 bl, 32			; 00000020H
  0026c	83 f8 01	 cmp	 eax, 1
  0026f	75 25		 jne	 SHORT $LN51@SkillChang
  00271	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  00277	b9 2a 1a 00 00	 mov	 ecx, 6698		; 00001a2aH
  0027c	66 39 88 4e 08
	00 00		 cmp	 WORD PTR [eax+2126], cx
  00283	75 11		 jne	 SHORT $LN51@SkillChang

; 1927 : 	{
; 1928 : 		if((lpObj->Authority&32) != 32)

  00285	84 9e 0c 02 00
	00		 test	 BYTE PTR [esi+524], bl

; 1929 : 		{
; 1930 : 			return FALSE;

  0028b	0f 84 94 02 00
	00		 je	 $LN89@SkillChang

; 1931 : 		}
; 1932 : 
; 1933 : 		skill_level = 378;

  00291	bf 7a 01 00 00	 mov	 edi, 378		; 0000017aH
$LN51@SkillChang:

; 1934 : 
; 1935 : 	}
; 1936 : 
; 1937 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,42)) //Season 2.5 add-on

  00296	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  0029c	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  002a2	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  002a7	83 f8 01	 cmp	 eax, 1
  002aa	75 25		 jne	 SHORT $LN49@SkillChang
  002ac	8b 96 24 0e 00
	00		 mov	 edx, DWORD PTR [esi+3620]
  002b2	b8 2a 1a 00 00	 mov	 eax, 6698		; 00001a2aH
  002b7	66 39 82 22 09
	00 00		 cmp	 WORD PTR [edx+2338], ax
  002be	75 11		 jne	 SHORT $LN49@SkillChang

; 1938 : 	{
; 1939 : 		if((lpObj->Authority&32) != 32)

  002c0	84 9e 0c 02 00
	00		 test	 BYTE PTR [esi+524], bl

; 1940 : 		{
; 1941 : 			return FALSE;

  002c6	0f 84 59 02 00
	00		 je	 $LN89@SkillChang

; 1942 : 		}
; 1943 : 
; 1944 : 		skill_level = 378;

  002cc	bf 7a 01 00 00	 mov	 edi, 378		; 0000017aH
$LN49@SkillChang:

; 1945 : 	}
; 1946 : 
; 1947 : 	//if( CHECK_ILLUSIONTEMPLE(lpObj->MapNumber) )
; 1948 : 	//{
; 1949 : 	//	if( g_IllusionTempleEvent.GetIllusionTempleState(lpObj->MapNumber) != 0 )
; 1950 : 	//	{
; 1951 : 	//		int team = g_IllusionTempleEvent.GetUserTeam(lpObj->MapNumber, lpObj->m_Index);
; 1952 : 	//		if( team == 0 )
; 1953 : 	//		{
; 1954 : 	//			skill_level = 404;
; 1955 : 	//		}
; 1956 : 	//		else if( team == 1 )
; 1957 : 	//		{
; 1958 : 	//			skill_level = 405;
; 1959 : 	//		}
; 1960 : 	//	}
; 1961 : 	//}
; 1962 : 
; 1963 : 		if(IT_MAP_RANGE(lpObj->MapNumber) != FALSE) //Season2.5 add-on (illusion temple checks)

  002d1	8a 8e 49 01 00
	00		 mov	 cl, BYTE PTR [esi+329]
  002d7	33 db		 xor	 ebx, ebx
  002d9	80 f9 2d	 cmp	 cl, 45			; 0000002dH
  002dc	72 47		 jb	 SHORT $LN43@SkillChang
  002de	b2 32		 mov	 dl, 50			; 00000032H
  002e0	3a d1		 cmp	 dl, cl
  002e2	1b c0		 sbb	 eax, eax
  002e4	40		 inc	 eax
  002e5	3b c3		 cmp	 eax, ebx
  002e7	74 3c		 je	 SHORT $LN43@SkillChang

; 1964 : 		{
; 1965 : 			if(g_IllusionTempleEvent.GetState(lpObj->MapNumber) != 0)

  002e9	51		 push	 ecx
  002ea	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  002ef	e8 00 00 00 00	 call	 ?GetState@CIllusionTempleEvent@@QAEEE@Z ; CIllusionTempleEvent::GetState
  002f4	84 c0		 test	 al, al
  002f6	74 2d		 je	 SHORT $LN43@SkillChang

; 1966 : 			{
; 1967 : 				int team = g_IllusionTempleEvent.GetUserJoinSide(lpObj->MapNumber, lpObj->m_Index);

  002f8	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  002ff	8b 06		 mov	 eax, DWORD PTR [esi]
  00301	50		 push	 eax
  00302	51		 push	 ecx
  00303	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  00308	e8 00 00 00 00	 call	 ?GetUserJoinSide@CIllusionTempleEvent@@QAEEEH@Z ; CIllusionTempleEvent::GetUserJoinSide
  0030d	0f b6 c0	 movzx	 eax, al

; 1968 : 				if(team == 0)

  00310	3b c3		 cmp	 eax, ebx
  00312	75 07		 jne	 SHORT $LN45@SkillChang

; 1969 : 				{
; 1970 : 					skill_level = 404;

  00314	bf 94 01 00 00	 mov	 edi, 404		; 00000194H
  00319	eb 0a		 jmp	 SHORT $LN43@SkillChang
$LN45@SkillChang:

; 1971 : 				}
; 1972 : 				else if(team == 1)

  0031b	83 f8 01	 cmp	 eax, 1
  0031e	75 05		 jne	 SHORT $LN43@SkillChang

; 1973 : 				{
; 1974 : 					skill_level = 405;

  00320	bf 95 01 00 00	 mov	 edi, 405		; 00000195H
$LN43@SkillChang:

; 1975 : 				}
; 1976 : 			}
; 1977 : 		}
; 1978 : 
; 1979 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,68)) //Season 4 add-on

  00325	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  0032b	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  00331	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00336	83 f8 01	 cmp	 eax, 1
  00339	75 2d		 jne	 SHORT $LN86@SkillChang
  0033b	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  00341	ba 44 1a 00 00	 mov	 edx, 6724		; 00001a44H
  00346	66 39 90 4e 08
	00 00		 cmp	 WORD PTR [eax+2126], dx
  0034d	75 19		 jne	 SHORT $LN86@SkillChang

; 1980 : 	{
; 1981 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  0034f	d9 e8		 fld1
  00351	d8 98 6c 08 00
	00		 fcomp	 DWORD PTR [eax+2156]
  00357	df e0		 fnstsw	 ax
  00359	f6 c4 41	 test	 ah, 65			; 00000041H
  0035c	75 05		 jne	 SHORT $LN41@SkillChang

; 1982 : 		{
; 1983 : 			skill_level = -1;

  0035e	83 cf ff	 or	 edi, -1

; 1984 : 		}
; 1985 : 		else

  00361	eb 05		 jmp	 SHORT $LN86@SkillChang
$LN41@SkillChang:

; 1986 : 		{
; 1987 : 			skill_level = 477;

  00363	bf dd 01 00 00	 mov	 edi, 477		; 000001ddH
$LN86@SkillChang:

; 1988 : 		}
; 1989 : 	}
; 1990 : 
; 1991 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,68)) //Season 4 add-on

  00368	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  0036e	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  00374	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00379	83 f8 01	 cmp	 eax, 1
  0037c	75 2d		 jne	 SHORT $LN37@SkillChang
  0037e	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  00384	b9 44 1a 00 00	 mov	 ecx, 6724		; 00001a44H
  00389	66 39 88 22 09
	00 00		 cmp	 WORD PTR [eax+2338], cx
  00390	75 19		 jne	 SHORT $LN37@SkillChang

; 1992 : 	{
; 1993 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  00392	d9 e8		 fld1
  00394	d8 98 40 09 00
	00		 fcomp	 DWORD PTR [eax+2368]
  0039a	df e0		 fnstsw	 ax
  0039c	f6 c4 41	 test	 ah, 65			; 00000041H
  0039f	75 05		 jne	 SHORT $LN38@SkillChang

; 1994 : 		{
; 1995 : 			skill_level = -1;

  003a1	83 cf ff	 or	 edi, -1

; 1996 : 		}
; 1997 : 		else

  003a4	eb 05		 jmp	 SHORT $LN37@SkillChang
$LN38@SkillChang:

; 1998 : 		{
; 1999 : 			skill_level = 477;

  003a6	bf dd 01 00 00	 mov	 edi, 477		; 000001ddH
$LN37@SkillChang:

; 2000 : 		}
; 2001 : 	}
; 2002 : 
; 2003 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13,76)) //Season 4.6 add-on

  003ab	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  003b1	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  003b7	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  003bc	83 f8 01	 cmp	 eax, 1
  003bf	75 2d		 jne	 SHORT $LN34@SkillChang
  003c1	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  003c7	ba 4c 1a 00 00	 mov	 edx, 6732		; 00001a4cH
  003cc	66 39 90 4e 08
	00 00		 cmp	 WORD PTR [eax+2126], dx
  003d3	75 19		 jne	 SHORT $LN34@SkillChang

; 2004 : 	{
; 2005 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  003d5	d9 e8		 fld1
  003d7	d8 98 6c 08 00
	00		 fcomp	 DWORD PTR [eax+2156]
  003dd	df e0		 fnstsw	 ax
  003df	f6 c4 41	 test	 ah, 65			; 00000041H
  003e2	75 05		 jne	 SHORT $LN35@SkillChang

; 2006 : 		{
; 2007 : 			skill_level = -1;

  003e4	83 cf ff	 or	 edi, -1

; 2008 : 		}
; 2009 : 		else

  003e7	eb 05		 jmp	 SHORT $LN34@SkillChang
$LN35@SkillChang:

; 2010 : 		{
; 2011 : 			skill_level = 503;

  003e9	bf f7 01 00 00	 mov	 edi, 503		; 000001f7H
$LN34@SkillChang:

; 2012 : 		}
; 2013 : 	}
; 2014 : 
; 2015 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13,76)) //Season 4.6 add-on

  003ee	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  003f4	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  003fa	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  003ff	83 f8 01	 cmp	 eax, 1
  00402	75 2d		 jne	 SHORT $LN31@SkillChang
  00404	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  0040a	b9 4c 1a 00 00	 mov	 ecx, 6732		; 00001a4cH
  0040f	66 39 88 22 09
	00 00		 cmp	 WORD PTR [eax+2338], cx
  00416	75 19		 jne	 SHORT $LN31@SkillChang

; 2016 : 	{
; 2017 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  00418	d9 e8		 fld1
  0041a	d8 98 40 09 00
	00		 fcomp	 DWORD PTR [eax+2368]
  00420	df e0		 fnstsw	 ax
  00422	f6 c4 41	 test	 ah, 65			; 00000041H
  00425	75 05		 jne	 SHORT $LN32@SkillChang

; 2018 : 		{
; 2019 : 			skill_level = -1;

  00427	83 cf ff	 or	 edi, -1

; 2020 : 		}
; 2021 : 		else

  0042a	eb 05		 jmp	 SHORT $LN31@SkillChang
$LN32@SkillChang:

; 2022 : 		{
; 2023 : 			skill_level = 503;

  0042c	bf f7 01 00 00	 mov	 edi, 503		; 000001f7H
$LN31@SkillChang:

; 2024 : 		}
; 2025 : 	}
; 2026 : 	if(lpObj->pInventory[10].IsItem()==1 && lpObj->pInventory[10].m_Type == ITEMGET(13, 122)) // Season 5 Episode 2 JPN Skeleton Ring

  00431	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  00437	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  0043d	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00442	83 f8 01	 cmp	 eax, 1
  00445	75 2d		 jne	 SHORT $LN28@SkillChang
  00447	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  0044d	ba 7a 1a 00 00	 mov	 edx, 6778		; 00001a7aH
  00452	66 39 90 4e 08
	00 00		 cmp	 WORD PTR [eax+2126], dx
  00459	75 19		 jne	 SHORT $LN28@SkillChang

; 2027 : 	{
; 2028 : 		if(lpObj->pInventory[10].m_Durability < 1.0f)

  0045b	d9 e8		 fld1
  0045d	d8 98 6c 08 00
	00		 fcomp	 DWORD PTR [eax+2156]
  00463	df e0		 fnstsw	 ax
  00465	f6 c4 41	 test	 ah, 65			; 00000041H
  00468	75 05		 jne	 SHORT $LN29@SkillChang

; 2029 : 		{
; 2030 : 			skill_level = -1;

  0046a	83 cf ff	 or	 edi, -1

; 2031 : 		}
; 2032 : 		else

  0046d	eb 05		 jmp	 SHORT $LN28@SkillChang
$LN29@SkillChang:

; 2033 : 		{
; 2034 : 			skill_level = 548;

  0046f	bf 24 02 00 00	 mov	 edi, 548		; 00000224H
$LN28@SkillChang:

; 2035 : 		}
; 2036 : 	}
; 2037 : 
; 2038 : 	if(lpObj->pInventory[11].IsItem()==1 && lpObj->pInventory[11].m_Type == ITEMGET(13, 122)) // Season 5 Episode 2 JPN Skeleton Ring

  00474	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  0047a	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  00480	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00485	83 f8 01	 cmp	 eax, 1
  00488	75 43		 jne	 SHORT $LN25@SkillChang
  0048a	8b 86 24 0e 00
	00		 mov	 eax, DWORD PTR [esi+3620]
  00490	b9 7a 1a 00 00	 mov	 ecx, 6778		; 00001a7aH
  00495	66 39 88 22 09
	00 00		 cmp	 WORD PTR [eax+2338], cx
  0049c	75 2f		 jne	 SHORT $LN25@SkillChang

; 2039 : 	{
; 2040 : 		if(lpObj->pInventory[11].m_Durability < 1.0f)

  0049e	d9 e8		 fld1
  004a0	d8 98 40 09 00
	00		 fcomp	 DWORD PTR [eax+2368]
  004a6	df e0		 fnstsw	 ax
  004a8	f6 c4 41	 test	 ah, 65			; 00000041H

; 2041 : 		{
; 2042 : 			skill_level = -1;
; 2043 : 		}
; 2044 : 		else

  004ab	74 67		 je	 SHORT $LN87@SkillChang

; 2045 : 		{
; 2046 : 			skill_level = 548;

  004ad	bf 24 02 00 00	 mov	 edi, 548		; 00000224H
$LN82@SkillChang:

; 2047 : 		}
; 2048 : 	}
; 2049 : 	int change = -1;
; 2050 : 
; 2051 : 	switch(skill_level)

  004b2	8d 87 8b fe ff
	ff		 lea	 eax, DWORD PTR [edi-373]
  004b8	3d af 00 00 00	 cmp	 eax, 175		; 000000afH
  004bd	77 55		 ja	 SHORT $LN87@SkillChang
  004bf	0f b6 90 00 00
	00 00		 movzx	 edx, BYTE PTR $LN85@SkillChang[eax]
  004c6	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN91@SkillChang[edx*4]
$LN25@SkillChang:
  004cd	81 ff 74 01 00
	00		 cmp	 edi, 372		; 00000174H
  004d3	7f dd		 jg	 SHORT $LN82@SkillChang
  004d5	74 36		 je	 SHORT $LN16@SkillChang
  004d7	83 ff 05	 cmp	 edi, 5
  004da	77 38		 ja	 SHORT $LN87@SkillChang
  004dc	ff 24 bd 00 00
	00 00		 jmp	 DWORD PTR $LN92@SkillChang[edi*4]
$LN22@SkillChang:

; 2052 : 	{
; 2053 : 	case 0: change = 2;	break;

  004e3	bf 02 00 00 00	 mov	 edi, 2
  004e8	eb 2d		 jmp	 SHORT $LN23@SkillChang
$LN21@SkillChang:

; 2054 : 	case 1: change = 7; break;

  004ea	bf 07 00 00 00	 mov	 edi, 7
  004ef	eb 26		 jmp	 SHORT $LN23@SkillChang
$LN20@SkillChang:

; 2055 : 	case 2: change = 14;	break;

  004f1	bf 0e 00 00 00	 mov	 edi, 14			; 0000000eH
  004f6	eb 1f		 jmp	 SHORT $LN23@SkillChang
$LN19@SkillChang:

; 2056 : 	case 3: change = 8;	break;

  004f8	bf 08 00 00 00	 mov	 edi, 8
  004fd	eb 18		 jmp	 SHORT $LN23@SkillChang
$LN18@SkillChang:

; 2057 : 	case 4:	change = 9;	break;

  004ff	bf 09 00 00 00	 mov	 edi, 9
  00504	eb 11		 jmp	 SHORT $LN23@SkillChang
$LN17@SkillChang:

; 2058 : 	case 5:	change = 41;	break;

  00506	bf 29 00 00 00	 mov	 edi, 41			; 00000029H
  0050b	eb 0a		 jmp	 SHORT $LN23@SkillChang
$LN16@SkillChang:

; 2059 : 	case 372:	change = skill_level;	break;

  0050d	bf 74 01 00 00	 mov	 edi, 372		; 00000174H
  00512	eb 03		 jmp	 SHORT $LN23@SkillChang
$LN87@SkillChang:

; 2060 : 	case 373:	change = skill_level;	break; //Second Edition
; 2061 : 	case 374:	change = skill_level;	break; //season 2.5
; 2062 : 	case 378:	change = skill_level;	break; //season 2.5
; 2063 : 	case 404:								   //season 2.5
; 2064 : 	case 405:	change = skill_level;	break;
; 2065 : 	case 477:	change = skill_level;	break; //season 4
; 2066 : 	case 503:	change = skill_level;	break; //season 4.6
; 2067 : 	case 548:	change = skill_level;	break; // Season 5 Episode 2 JPN
; 2068 : 	default: change = -1;	break;

  00514	83 cf ff	 or	 edi, -1
$LN23@SkillChang:

; 2069 : 	}
; 2070 : 
; 2071 : 	if(lpObj->m_Change >= 0 && lpObj->m_Change == change)

  00517	8b 86 54 04 00
	00		 mov	 eax, DWORD PTR [esi+1108]
  0051d	3b c3		 cmp	 eax, ebx
  0051f	7c 0f		 jl	 SHORT $LN7@SkillChang
  00521	3b c7		 cmp	 eax, edi
  00523	75 0b		 jne	 SHORT $LN7@SkillChang
$LN89@SkillChang:
  00525	5b		 pop	 ebx
  00526	5f		 pop	 edi

; 2072 : 	{
; 2073 : 		return false;

  00527	33 c0		 xor	 eax, eax
  00529	5e		 pop	 esi

; 2134 : }

  0052a	8b e5		 mov	 esp, ebp
  0052c	5d		 pop	 ebp
  0052d	c2 04 00	 ret	 4
$LN7@SkillChang:

; 2074 : 	}
; 2075 : 
; 2076 : 	if(lpObj->m_Change == 41 && change != 41)

  00530	83 f8 29	 cmp	 eax, 41			; 00000029H
  00533	75 5e		 jne	 SHORT $LN6@SkillChang
  00535	3b f8		 cmp	 edi, eax
  00537	74 5a		 je	 SHORT $LN6@SkillChang

; 2077 : 	{
; 2078 : 		lpObj->AddLife = 0;
; 2079 : 
; 2080 : 		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);

  00539	8b 86 54 01 00
	00		 mov	 eax, DWORD PTR [esi+340]
  0053f	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  00545	50		 push	 eax
  00546	53		 push	 ebx
  00547	68 ff 00 00 00	 push	 255			; 000000ffH
  0054c	89 9e 4c 01 00
	00		 mov	 DWORD PTR [esi+332], ebx
  00552	e8 00 00 00 00	 call	 __ftol2_sse
  00557	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00559	50		 push	 eax
  0055a	51		 push	 ecx
  0055b	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend

; 2081 : 		GCReFillSend(lpObj->m_Index,lpObj->MaxLife + lpObj->AddLife,0xFE,0,lpObj->iMaxShield + lpObj->iAddShield);

  00560	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
  00566	8b 96 5c 01 00
	00		 mov	 edx, DWORD PTR [esi+348]
  0056c	da 86 4c 01 00
	00		 fiadd	 DWORD PTR [esi+332]
  00572	03 96 58 01 00
	00		 add	 edx, DWORD PTR [esi+344]
  00578	83 c4 14	 add	 esp, 20			; 00000014H
  0057b	52		 push	 edx
  0057c	53		 push	 ebx
  0057d	68 fe 00 00 00	 push	 254			; 000000feH
  00582	e8 00 00 00 00	 call	 __ftol2_sse
  00587	50		 push	 eax
  00588	8b 06		 mov	 eax, DWORD PTR [esi]
  0058a	50		 push	 eax
  0058b	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  00590	83 c4 14	 add	 esp, 20			; 00000014H
$LN6@SkillChang:

; 2082 : 	}
; 2083 : 
; 2084 : 	if(lpObj->m_Change == 372 && change != 372)

  00593	81 be 54 04 00
	00 74 01 00 00	 cmp	 DWORD PTR [esi+1108], 372 ; 00000174H
  0059d	75 6d		 jne	 SHORT $LN5@SkillChang
  0059f	81 ff 74 01 00
	00		 cmp	 edi, 372		; 00000174H
  005a5	74 65		 je	 SHORT $LN5@SkillChang

; 2085 : 	{
; 2086 : 		lpObj->AddLife = 0;
; 2087 : 		gObjCalCharacter(lpObj->m_Index);

  005a7	8b 0e		 mov	 ecx, DWORD PTR [esi]
  005a9	51		 push	 ecx
  005aa	89 9e 4c 01 00
	00		 mov	 DWORD PTR [esi+332], ebx
  005b0	e8 00 00 00 00	 call	 ?gObjCalCharacter@@YAXH@Z ; gObjCalCharacter

; 2088 : 
; 2089 : 		GCReFillSend(lpObj->m_Index,lpObj->Life,0xFF,0,lpObj->iShield);

  005b5	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  005bb	8b 96 54 01 00
	00		 mov	 edx, DWORD PTR [esi+340]
  005c1	83 c4 04	 add	 esp, 4
  005c4	52		 push	 edx
  005c5	53		 push	 ebx
  005c6	68 ff 00 00 00	 push	 255			; 000000ffH
  005cb	e8 00 00 00 00	 call	 __ftol2_sse
  005d0	50		 push	 eax
  005d1	8b 06		 mov	 eax, DWORD PTR [esi]
  005d3	50		 push	 eax
  005d4	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend

; 2090 : 		GCReFillSend(lpObj->m_Index,lpObj->MaxLife + lpObj->AddLife,0xFE,0,lpObj->iMaxShield + lpObj->iAddShield);

  005d9	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
  005df	8b 8e 5c 01 00
	00		 mov	 ecx, DWORD PTR [esi+348]
  005e5	da 86 4c 01 00
	00		 fiadd	 DWORD PTR [esi+332]
  005eb	03 8e 58 01 00
	00		 add	 ecx, DWORD PTR [esi+344]
  005f1	83 c4 14	 add	 esp, 20			; 00000014H
  005f4	51		 push	 ecx
  005f5	53		 push	 ebx
  005f6	68 fe 00 00 00	 push	 254			; 000000feH
  005fb	e8 00 00 00 00	 call	 __ftol2_sse
  00600	8b 16		 mov	 edx, DWORD PTR [esi]
  00602	50		 push	 eax
  00603	52		 push	 edx
  00604	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend
  00609	83 c4 14	 add	 esp, 20			; 00000014H
$LN5@SkillChang:

; 2091 : 	}
; 2092 : 
; 2093 : 	if(lpObj->m_Change == 374) //Season 2.5 add-on

  0060c	8b 86 54 04 00
	00		 mov	 eax, DWORD PTR [esi+1108]
  00612	3d 76 01 00 00	 cmp	 eax, 374		; 00000176H
  00617	75 2d		 jne	 SHORT $LN3@SkillChang

; 2094 : 	{
; 2095 : 		if(change != 374)

  00619	3b f8		 cmp	 edi, eax
  0061b	74 29		 je	 SHORT $LN3@SkillChang

; 2096 : 		{
; 2097 : 			lpObj->m_AttackDamageMaxLeft -= 20;

  0061d	b9 ec ff ff ff	 mov	 ecx, -20		; ffffffecH
  00622	01 8e 78 04 00
	00		 add	 DWORD PTR [esi+1144], ecx

; 2098 : 			lpObj->m_AttackDamageMinLeft -= 20;

  00628	01 8e 7c 04 00
	00		 add	 DWORD PTR [esi+1148], ecx

; 2099 : 			lpObj->m_AttackDamageMaxRight -= 20;

  0062e	01 8e 80 04 00
	00		 add	 DWORD PTR [esi+1152], ecx

; 2100 : 			lpObj->m_AttackDamageMinRight -= 20;

  00634	01 8e 84 04 00
	00		 add	 DWORD PTR [esi+1156], ecx

; 2101 : 			lpObj->m_MagicDamageMin -= 20;

  0063a	01 8e 68 04 00
	00		 add	 DWORD PTR [esi+1128], ecx

; 2102 : 			lpObj->m_MagicDamageMax -= 20;

  00640	01 8e 6c 04 00
	00		 add	 DWORD PTR [esi+1132], ecx
$LN3@SkillChang:

; 2103 : 		}
; 2104 : 	}
; 2105 : 
; 2106 : 	if(lpObj->m_Change == 503) //Season 4.6 add-on

  00646	3d f7 01 00 00	 cmp	 eax, 503		; 000001f7H
  0064b	75 2d		 jne	 SHORT $LN1@SkillChang

; 2107 : 	{
; 2108 : 		if(change != 503)

  0064d	3b f8		 cmp	 edi, eax
  0064f	74 29		 je	 SHORT $LN1@SkillChang

; 2109 : 		{
; 2110 : 			lpObj->m_AttackDamageMaxLeft -= 30;

  00651	b8 e2 ff ff ff	 mov	 eax, -30		; ffffffe2H
  00656	01 86 78 04 00
	00		 add	 DWORD PTR [esi+1144], eax

; 2111 : 			lpObj->m_AttackDamageMinLeft -= 30;

  0065c	01 86 7c 04 00
	00		 add	 DWORD PTR [esi+1148], eax

; 2112 : 			lpObj->m_AttackDamageMaxRight -= 30;

  00662	01 86 80 04 00
	00		 add	 DWORD PTR [esi+1152], eax

; 2113 : 			lpObj->m_AttackDamageMinRight -= 30;

  00668	01 86 84 04 00
	00		 add	 DWORD PTR [esi+1156], eax

; 2114 : 			lpObj->m_MagicDamageMin -= 30;

  0066e	01 86 68 04 00
	00		 add	 DWORD PTR [esi+1128], eax

; 2115 : 			lpObj->m_MagicDamageMax -= 30;

  00674	01 86 6c 04 00
	00		 add	 DWORD PTR [esi+1132], eax
$LN1@SkillChang:

; 2116 : 		}
; 2117 : 	}
; 2118 : 
; 2119 : 	lpObj->m_Change = change;
; 2120 : 	gObjViewportListProtocolCreate(lpObj);

  0067a	56		 push	 esi
  0067b	89 be 54 04 00
	00		 mov	 DWORD PTR [esi+1108], edi
  00681	e8 00 00 00 00	 call	 ?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolCreate

; 2121 : 
; 2122 : 	//#if(_GSCS==1)
; 2123 : 	g_CastleSiege.NotifySelfCsJoinSide(lpObj->m_Index);

  00686	8b 06		 mov	 eax, DWORD PTR [esi]
  00688	83 c4 04	 add	 esp, 4
  0068b	50		 push	 eax
  0068c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  00691	e8 00 00 00 00	 call	 ?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z ; CCastleSiege::NotifySelfCsJoinSide

; 2124 : 	//#endif
; 2125 : 
; 2126 : 	PMSG_KILLCOUNT pMsg = {0};
; 2127 : 
; 2128 : 	PHeadSubSetB((LPBYTE)&pMsg,0xB8,0x01,sizeof(pMsg));

  00696	6a 05		 push	 5
  00698	6a 01		 push	 1
  0069a	8d 4d f8	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0069d	68 b8 00 00 00	 push	 184			; 000000b8H
  006a2	51		 push	 ecx
  006a3	88 5d f8	 mov	 BYTE PTR _pMsg$[ebp], bl
  006a6	89 5d f9	 mov	 DWORD PTR _pMsg$[ebp+1], ebx
  006a9	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 2129 : 
; 2130 : 	pMsg.btKillCount = lpObj->m_btKillCount;
; 2131 : 
; 2132 : 	DataSend(aIndex,(LPBYTE)&pMsg,sizeof(pMsg));

  006ae	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  006b1	8a 96 0c 1c 00
	00		 mov	 dl, BYTE PTR [esi+7180]
  006b7	6a 05		 push	 5
  006b9	8d 45 f8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  006bc	50		 push	 eax
  006bd	51		 push	 ecx
  006be	88 55 fc	 mov	 BYTE PTR _pMsg$[ebp+4], dl
  006c1	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  006c6	83 c4 1c	 add	 esp, 28			; 0000001cH
  006c9	5b		 pop	 ebx
  006ca	5f		 pop	 edi

; 2133 : 	return true;

  006cb	b8 01 00 00 00	 mov	 eax, 1
  006d0	5e		 pop	 esi

; 2134 : }

  006d1	8b e5		 mov	 esp, ebp
  006d3	5d		 pop	 ebp
  006d4	c2 04 00	 ret	 4
  006d7	90		 npad	 1
$LN91@SkillChang:
  006d8	00 00 00 00	 DD	 $LN23@SkillChang
  006dc	00 00 00 00	 DD	 $LN87@SkillChang
$LN85@SkillChang:
  006e0	00		 DB	 0
  006e1	00		 DB	 0
  006e2	01		 DB	 1
  006e3	01		 DB	 1
  006e4	01		 DB	 1
  006e5	00		 DB	 0
  006e6	01		 DB	 1
  006e7	01		 DB	 1
  006e8	01		 DB	 1
  006e9	01		 DB	 1
  006ea	01		 DB	 1
  006eb	01		 DB	 1
  006ec	01		 DB	 1
  006ed	01		 DB	 1
  006ee	01		 DB	 1
  006ef	01		 DB	 1
  006f0	01		 DB	 1
  006f1	01		 DB	 1
  006f2	01		 DB	 1
  006f3	01		 DB	 1
  006f4	01		 DB	 1
  006f5	01		 DB	 1
  006f6	01		 DB	 1
  006f7	01		 DB	 1
  006f8	01		 DB	 1
  006f9	01		 DB	 1
  006fa	01		 DB	 1
  006fb	01		 DB	 1
  006fc	01		 DB	 1
  006fd	01		 DB	 1
  006fe	01		 DB	 1
  006ff	00		 DB	 0
  00700	00		 DB	 0
  00701	01		 DB	 1
  00702	01		 DB	 1
  00703	01		 DB	 1
  00704	01		 DB	 1
  00705	01		 DB	 1
  00706	01		 DB	 1
  00707	01		 DB	 1
  00708	01		 DB	 1
  00709	01		 DB	 1
  0070a	01		 DB	 1
  0070b	01		 DB	 1
  0070c	01		 DB	 1
  0070d	01		 DB	 1
  0070e	01		 DB	 1
  0070f	01		 DB	 1
  00710	01		 DB	 1
  00711	01		 DB	 1
  00712	01		 DB	 1
  00713	01		 DB	 1
  00714	01		 DB	 1
  00715	01		 DB	 1
  00716	01		 DB	 1
  00717	01		 DB	 1
  00718	01		 DB	 1
  00719	01		 DB	 1
  0071a	01		 DB	 1
  0071b	01		 DB	 1
  0071c	01		 DB	 1
  0071d	01		 DB	 1
  0071e	01		 DB	 1
  0071f	01		 DB	 1
  00720	01		 DB	 1
  00721	01		 DB	 1
  00722	01		 DB	 1
  00723	01		 DB	 1
  00724	01		 DB	 1
  00725	01		 DB	 1
  00726	01		 DB	 1
  00727	01		 DB	 1
  00728	01		 DB	 1
  00729	01		 DB	 1
  0072a	01		 DB	 1
  0072b	01		 DB	 1
  0072c	01		 DB	 1
  0072d	01		 DB	 1
  0072e	01		 DB	 1
  0072f	01		 DB	 1
  00730	01		 DB	 1
  00731	01		 DB	 1
  00732	01		 DB	 1
  00733	01		 DB	 1
  00734	01		 DB	 1
  00735	01		 DB	 1
  00736	01		 DB	 1
  00737	01		 DB	 1
  00738	01		 DB	 1
  00739	01		 DB	 1
  0073a	01		 DB	 1
  0073b	01		 DB	 1
  0073c	01		 DB	 1
  0073d	01		 DB	 1
  0073e	01		 DB	 1
  0073f	01		 DB	 1
  00740	01		 DB	 1
  00741	01		 DB	 1
  00742	01		 DB	 1
  00743	01		 DB	 1
  00744	01		 DB	 1
  00745	01		 DB	 1
  00746	01		 DB	 1
  00747	01		 DB	 1
  00748	00		 DB	 0
  00749	01		 DB	 1
  0074a	01		 DB	 1
  0074b	01		 DB	 1
  0074c	01		 DB	 1
  0074d	01		 DB	 1
  0074e	01		 DB	 1
  0074f	01		 DB	 1
  00750	01		 DB	 1
  00751	01		 DB	 1
  00752	01		 DB	 1
  00753	01		 DB	 1
  00754	01		 DB	 1
  00755	01		 DB	 1
  00756	01		 DB	 1
  00757	01		 DB	 1
  00758	01		 DB	 1
  00759	01		 DB	 1
  0075a	01		 DB	 1
  0075b	01		 DB	 1
  0075c	01		 DB	 1
  0075d	01		 DB	 1
  0075e	01		 DB	 1
  0075f	01		 DB	 1
  00760	01		 DB	 1
  00761	01		 DB	 1
  00762	00		 DB	 0
  00763	01		 DB	 1
  00764	01		 DB	 1
  00765	01		 DB	 1
  00766	01		 DB	 1
  00767	01		 DB	 1
  00768	01		 DB	 1
  00769	01		 DB	 1
  0076a	01		 DB	 1
  0076b	01		 DB	 1
  0076c	01		 DB	 1
  0076d	01		 DB	 1
  0076e	01		 DB	 1
  0076f	01		 DB	 1
  00770	01		 DB	 1
  00771	01		 DB	 1
  00772	01		 DB	 1
  00773	01		 DB	 1
  00774	01		 DB	 1
  00775	01		 DB	 1
  00776	01		 DB	 1
  00777	01		 DB	 1
  00778	01		 DB	 1
  00779	01		 DB	 1
  0077a	01		 DB	 1
  0077b	01		 DB	 1
  0077c	01		 DB	 1
  0077d	01		 DB	 1
  0077e	01		 DB	 1
  0077f	01		 DB	 1
  00780	01		 DB	 1
  00781	01		 DB	 1
  00782	01		 DB	 1
  00783	01		 DB	 1
  00784	01		 DB	 1
  00785	01		 DB	 1
  00786	01		 DB	 1
  00787	01		 DB	 1
  00788	01		 DB	 1
  00789	01		 DB	 1
  0078a	01		 DB	 1
  0078b	01		 DB	 1
  0078c	01		 DB	 1
  0078d	01		 DB	 1
  0078e	01		 DB	 1
  0078f	00		 DB	 0
$LN92@SkillChang:
  00790	00 00 00 00	 DD	 $LN22@SkillChang
  00794	00 00 00 00	 DD	 $LN21@SkillChang
  00798	00 00 00 00	 DD	 $LN20@SkillChang
  0079c	00 00 00 00	 DD	 $LN19@SkillChang
  007a0	00 00 00 00	 DD	 $LN18@SkillChang
  007a4	00 00 00 00	 DD	 $LN17@SkillChang
?SkillChangeUse@CObjUseSkill@@QAEHH@Z ENDP		; CObjUseSkill::SkillChangeUse
_TEXT	ENDS
PUBLIC	?SkillHealing@CObjUseSkill@@QAEXHHH@Z		; CObjUseSkill::SkillHealing
EXTRN	?GCRecallMonLife@@YAXHHH@Z:PROC			; GCRecallMonLife
; Function compile flags: /Ogtp
;	COMDAT ?SkillHealing@CObjUseSkill@@QAEXHHH@Z
_TEXT	SEGMENT
tv454 = 8						; size = 4
tv306 = 8						; size = 4
tv137 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_skill_level$ = 16					; size = 4
?SkillHealing@CObjUseSkill@@QAEXHHH@Z PROC		; CObjUseSkill::SkillHealing, COMDAT
; _this$ = ecx

; 2137 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 2138 : 	int skillSuccess = true;
; 2139 : 	LPOBJ lpObj = &gObj[aIndex];

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	56		 push	 esi
  00009	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000c	57		 push	 edi
  0000d	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H

; 2140 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00013	8b 7d 0c	 mov	 edi, DWORD PTR _aTargetIndex$[ebp]
  00016	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0001c	03 f8		 add	 edi, eax
  0001e	03 f0		 add	 esi, eax

; 2141 : 
; 2142 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  00020	66 83 7f 68 01	 cmp	 WORD PTR [edi+104], 1
  00025	74 0d		 je	 SHORT $LN14@SkillHeali
  00027	83 bf 50 04 00
	00 ff		 cmp	 DWORD PTR [edi+1104], -1
  0002e	0f 84 6e 01 00
	00		 je	 $LN1@SkillHeali
$LN14@SkillHeali:

; 2143 : 	{
; 2144 : 		return;
; 2145 : 	}
; 2146 : 
; 2147 : 	if(lpObj->Class != CLASS_ELF)

  00034	66 83 be b8 00
	00 00 02	 cmp	 WORD PTR [esi+184], 2
  0003c	0f 85 60 01 00
	00		 jne	 $LN1@SkillHeali

; 2148 : 	{
; 2149 : 		return;
; 2150 : 	}
; 2151 : 
; 2152 : 	if(CC_MAP_RANGE(lpObj->MapNumber) && lpObj->m_Index != lpTargetObj->m_Index)

  00042	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00049	3c 35		 cmp	 al, 53			; 00000035H
  0004b	74 0d		 je	 SHORT $LN24@SkillHeali
  0004d	3c 12		 cmp	 al, 18			; 00000012H
  0004f	72 13		 jb	 SHORT $LN25@SkillHeali
  00051	b1 17		 mov	 cl, 23			; 00000017H
  00053	3a c8		 cmp	 cl, al
  00055	1b c0		 sbb	 eax, eax
  00057	40		 inc	 eax
  00058	74 0a		 je	 SHORT $LN25@SkillHeali
$LN24@SkillHeali:
  0005a	8b 16		 mov	 edx, DWORD PTR [esi]
  0005c	3b 17		 cmp	 edx, DWORD PTR [edi]
  0005e	0f 85 3e 01 00
	00		 jne	 $LN1@SkillHeali
$LN25@SkillHeali:
  00064	53		 push	 ebx

; 2153 : 	{
; 2154 : 		return;
; 2155 : 	}
; 2156 : 
; 2157 : 	if(skill_level < 0 || skill_level > 7)

  00065	8b 5d 10	 mov	 ebx, DWORD PTR _skill_level$[ebp]
  00068	85 db		 test	 ebx, ebx
  0006a	78 05		 js	 SHORT $LN10@SkillHeali
  0006c	83 fb 07	 cmp	 ebx, 7
  0006f	7e 02		 jle	 SHORT $LN11@SkillHeali
$LN10@SkillHeali:

; 2158 : 	{
; 2159 : 		skill_level = 0;

  00071	33 db		 xor	 ebx, ebx
$LN11@SkillHeali:

; 2160 : 	}
; 2161 : 
; 2162 : 	lpTargetObj->Life = ((skill_level + 1) * 5 + (lpObj->Energy + lpObj->AddEnergy) / 5) + lpTargetObj->Life;

  00073	0f b7 86 fa 00
	00 00		 movzx	 eax, WORD PTR [esi+250]
  0007a	0f bf 96 26 01
	00 00		 movsx	 edx, WORD PTR [esi+294]
  00081	03 d0		 add	 edx, eax
  00083	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00088	f7 ea		 imul	 edx
  0008a	d1 fa		 sar	 edx, 1
  0008c	8b c2		 mov	 eax, edx
  0008e	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00091	03 c2		 add	 eax, edx
  00093	8d 54 9b 05	 lea	 edx, DWORD PTR [ebx+ebx*4+5]
  00097	03 c2		 add	 eax, edx
  00099	89 45 08	 mov	 DWORD PTR tv454[ebp], eax
  0009c	8d 8f fc 00 00
	00		 lea	 ecx, DWORD PTR [edi+252]

; 2163 : 
; 2164 : 	if((lpTargetObj->MaxLife + lpTargetObj->AddLife) < lpTargetObj->Life)

  000a2	8d 9f 00 01 00
	00		 lea	 ebx, DWORD PTR [edi+256]
  000a8	db 45 08	 fild	 DWORD PTR tv454[ebp]
  000ab	d8 01		 fadd	 DWORD PTR [ecx]
  000ad	d9 5d 08	 fstp	 DWORD PTR tv306[ebp]
  000b0	d9 45 08	 fld	 DWORD PTR tv306[ebp]
  000b3	d9 11		 fst	 DWORD PTR [ecx]
  000b5	db 87 4c 01 00
	00		 fild	 DWORD PTR [edi+332]
  000bb	d8 03		 fadd	 DWORD PTR [ebx]
  000bd	d8 d1		 fcom	 ST(1)
  000bf	df e0		 fnstsw	 ax
  000c1	dd d9		 fstp	 ST(1)
  000c3	f6 c4 05	 test	 ah, 5
  000c6	7a 04		 jp	 SHORT $LN28@SkillHeali

; 2165 : 	{
; 2166 : 		lpTargetObj->Life = lpTargetObj->MaxLife + lpTargetObj->AddLife;

  000c8	d9 19		 fstp	 DWORD PTR [ecx]
  000ca	eb 02		 jmp	 SHORT $LN9@SkillHeali
$LN28@SkillHeali:
  000cc	dd d8		 fstp	 ST(0)
$LN9@SkillHeali:

; 2167 : 	}
; 2168 : 
; 2169 : 	if(lpTargetObj->Type == OBJ_USER)

  000ce	66 83 7f 68 01	 cmp	 WORD PTR [edi+104], 1
  000d3	0f 85 a5 00 00
	00		 jne	 $LN8@SkillHeali

; 2170 : 	{
; 2171 : 		GCReFillSend(lpTargetObj->m_Index,lpTargetObj->Life,0xFF,0,lpTargetObj->iShield);

  000d9	8b 87 54 01 00
	00		 mov	 eax, DWORD PTR [edi+340]
  000df	d9 01		 fld	 DWORD PTR [ecx]
  000e1	50		 push	 eax
  000e2	6a 00		 push	 0
  000e4	68 ff 00 00 00	 push	 255			; 000000ffH
  000e9	e8 00 00 00 00	 call	 __ftol2_sse
  000ee	8b 0f		 mov	 ecx, DWORD PTR [edi]
  000f0	50		 push	 eax
  000f1	51		 push	 ecx
  000f2	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend

; 2172 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_HEALING,lpTargetObj->m_Index,skillSuccess);

  000f7	8b 17		 mov	 edx, DWORD PTR [edi]
  000f9	6a 01		 push	 1
  000fb	52		 push	 edx
  000fc	6a 1a		 push	 26			; 0000001aH
  000fe	56		 push	 esi
  000ff	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00104	83 c4 24	 add	 esp, 36			; 00000024H
  00107	8d 9e ac 08 00
	00		 lea	 ebx, DWORD PTR [esi+2220]
  0010d	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv137[ebp], 75 ; 0000004bH
$LL7@SkillHeali:

; 2175 : 		{
; 2176 : 			if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  00114	80 7b 04 02	 cmp	 BYTE PTR [ebx+4], 2
  00118	75 55		 jne	 SHORT $LN6@SkillHeali
  0011a	80 3b 00	 cmp	 BYTE PTR [ebx], 0
  0011d	74 50		 je	 SHORT $LN6@SkillHeali

; 2177 : 			{
; 2178 : 				LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  0011f	0f bf 7b 02	 movsx	 edi, WORD PTR [ebx+2]
  00123	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00129	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2179 : 				if(lpMonster->m_iCurrentAI != 0)

  0012f	83 bf 78 1c 00
	00 00		 cmp	 DWORD PTR [edi+7288], 0
  00136	74 37		 je	 SHORT $LN6@SkillHeali

; 2180 : 				{
; 2181 : 					lpMonster->m_Agro.IncAgro(lpObj->m_Index,(lpObj->Energy / 5)/40);

  00138	0f b7 8e fa 00
	00 00		 movzx	 ecx, WORD PTR [esi+250]
  0013f	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00144	f7 e9		 imul	 ecx
  00146	d1 fa		 sar	 edx, 1
  00148	8b ca		 mov	 ecx, edx
  0014a	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  0014d	03 ca		 add	 ecx, edx
  0014f	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00154	f7 e9		 imul	 ecx
  00156	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00158	c1 fa 04	 sar	 edx, 4
  0015b	8b c2		 mov	 eax, edx
  0015d	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00160	03 c2		 add	 eax, edx
  00162	50		 push	 eax
  00163	51		 push	 ecx
  00164	8d 8f 94 1c 00
	00		 lea	 ecx, DWORD PTR [edi+7316]
  0016a	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN6@SkillHeali:

; 2173 : 
; 2174 : 		for(int n = 0; n < MAX_VIEWPORT; n++)

  0016f	83 c3 0c	 add	 ebx, 12			; 0000000cH
  00172	ff 4d 08	 dec	 DWORD PTR tv137[ebp]
  00175	75 9d		 jne	 SHORT $LL7@SkillHeali
  00177	5b		 pop	 ebx
  00178	5f		 pop	 edi
  00179	5e		 pop	 esi

; 2189 : 	}
; 2190 : }

  0017a	5d		 pop	 ebp
  0017b	c2 0c 00	 ret	 12			; 0000000cH
$LN8@SkillHeali:

; 2182 : 				}
; 2183 : 			}
; 2184 : 		}
; 2185 : 	}
; 2186 : 	else if(lpTargetObj->m_RecallMon >= 0)

  0017e	8b bf 50 04 00
	00		 mov	 edi, DWORD PTR [edi+1104]
  00184	85 ff		 test	 edi, edi
  00186	78 19		 js	 SHORT $LN26@SkillHeali

; 2187 : 	{
; 2188 : 		GCRecallMonLife(lpTargetObj->m_RecallMon,(int)lpTargetObj->MaxLife,(int)lpTargetObj->Life);

  00188	d9 01		 fld	 DWORD PTR [ecx]
  0018a	e8 00 00 00 00	 call	 __ftol2_sse
  0018f	d9 03		 fld	 DWORD PTR [ebx]
  00191	50		 push	 eax
  00192	e8 00 00 00 00	 call	 __ftol2_sse
  00197	50		 push	 eax
  00198	57		 push	 edi
  00199	e8 00 00 00 00	 call	 ?GCRecallMonLife@@YAXHHH@Z ; GCRecallMonLife
  0019e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN26@SkillHeali:
  001a1	5b		 pop	 ebx
$LN1@SkillHeali:
  001a2	5f		 pop	 edi
  001a3	5e		 pop	 esi

; 2189 : 	}
; 2190 : }

  001a4	5d		 pop	 ebp
  001a5	c2 0c 00	 ret	 12			; 0000000cH
?SkillHealing@CObjUseSkill@@QAEXHHH@Z ENDP		; CObjUseSkill::SkillHealing
_TEXT	ENDS
PUBLIC	__real@4059000000000000
PUBLIC	__real@00000000
PUBLIC	?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z	; CObjUseSkill::SkillMonsterCall
EXTRN	?gObjSetMonster@@YAHHH@Z:PROC			; gObjSetMonster
EXTRN	?gObjAddCallMon@@YAFXZ:PROC			; gObjAddCallMon
EXTRN	?gObjMonsterCallKill@@YAXH@Z:PROC		; gObjMonsterCallKill
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z
_TEXT	SEGMENT
tv516 = 8						; size = 4
tv506 = 8						; size = 4
tv492 = 8						; size = 4
_aIndex$ = 8						; size = 4
_MonsterType$ = 12					; size = 4
_x$ = 16						; size = 4
_y$ = 20						; size = 4
?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z PROC		; CObjUseSkill::SkillMonsterCall, COMDAT
; _this$ = ecx

; 2193 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 2194 : 	if(gObj[aIndex].MapNumber == MAP_INDEX_ICARUS)

  00003	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00009	56		 push	 esi
  0000a	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000d	57		 push	 edi
  0000e	8b fe		 mov	 edi, esi
  00010	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00016	8a 84 0f 49 01
	00 00		 mov	 al, BYTE PTR [edi+ecx+329]
  0001d	3c 0a		 cmp	 al, 10			; 0000000aH

; 2195 : 	{
; 2196 : 		return false;

  0001f	74 2e		 je	 SHORT $LN14@SkillMonst

; 2197 : 	}
; 2198 : 
; 2199 : 	if(CC_MAP_RANGE(gObj[aIndex].MapNumber))

  00021	3c 35		 cmp	 al, 53			; 00000035H
  00023	74 2a		 je	 SHORT $LN14@SkillMonst
  00025	3c 12		 cmp	 al, 18			; 00000012H
  00027	72 09		 jb	 SHORT $LN15@SkillMonst
  00029	b2 17		 mov	 dl, 23			; 00000017H
  0002b	3a d0		 cmp	 dl, al
  0002d	1b c0		 sbb	 eax, eax
  0002f	40		 inc	 eax

; 2200 : 	{
; 2201 : 		return false;

  00030	75 1d		 jne	 SHORT $LN14@SkillMonst
$LN15@SkillMonst:

; 2202 : 	}
; 2203 : 
; 2204 : 	if(gObj[aIndex].m_RecallMon >= 0)

  00032	83 bc 0f 50 04
	00 00 00	 cmp	 DWORD PTR [edi+ecx+1104], 0
  0003a	7c 1b		 jl	 SHORT $LN5@SkillMonst

; 2205 : 	{
; 2206 : 		GCRecallMonLife(aIndex,60,0);

  0003c	6a 00		 push	 0
  0003e	6a 3c		 push	 60			; 0000003cH
  00040	56		 push	 esi
  00041	e8 00 00 00 00	 call	 ?GCRecallMonLife@@YAXHHH@Z ; GCRecallMonLife

; 2207 : 		gObjMonsterCallKill(aIndex);

  00046	56		 push	 esi
  00047	e8 00 00 00 00	 call	 ?gObjMonsterCallKill@@YAXH@Z ; gObjMonsterCallKill
  0004c	83 c4 10	 add	 esp, 16			; 00000010H
$LN14@SkillMonst:

; 2208 : 		return false;

  0004f	5f		 pop	 edi
  00050	33 c0		 xor	 eax, eax
  00052	5e		 pop	 esi

; 2254 : }

  00053	5d		 pop	 ebp
  00054	c2 10 00	 ret	 16			; 00000010H
$LN5@SkillMonst:
  00057	53		 push	 ebx

; 2209 : 	}
; 2210 : 
; 2211 : 	int result = gObjAddCallMon();

  00058	e8 00 00 00 00	 call	 ?gObjAddCallMon@@YAFXZ	; gObjAddCallMon
  0005d	0f bf d8	 movsx	 ebx, ax

; 2212 : 
; 2213 : 	if(result >= 0)

  00060	85 db		 test	 ebx, ebx
  00062	0f 88 3d 02 00
	00		 js	 $LN4@SkillMonst

; 2214 : 	{
; 2215 : 		gObj[result].X = x;

  00068	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006e	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  00071	8b f3		 mov	 esi, ebx
  00073	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00079	66 89 84 0e 44
	01 00 00	 mov	 WORD PTR [esi+ecx+324], ax

; 2216 : 		gObj[result].Y = y;

  00081	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00087	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  0008a	66 89 8c 16 46
	01 00 00	 mov	 WORD PTR [esi+edx+326], cx

; 2217 : 		gObj[result].MTX = x;

  00092	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00098	66 89 84 16 80
	01 00 00	 mov	 WORD PTR [esi+edx+384], ax

; 2218 : 		gObj[result].MTY = y;

  000a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000a5	66 89 8c 06 82
	01 00 00	 mov	 WORD PTR [esi+eax+386], cx

; 2219 : 		gObj[result].Dir = 2;

  000ad	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000b3	c6 84 0e 48 01
	00 00 02	 mov	 BYTE PTR [esi+ecx+328], 2

; 2220 : 		gObj[result].MapNumber = gObj[aIndex].MapNumber;

  000bb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000c0	8a 94 07 49 01
	00 00		 mov	 dl, BYTE PTR [edi+eax+329]
  000c7	88 94 06 49 01
	00 00		 mov	 BYTE PTR [esi+eax+329], dl

; 2221 : 		gObjSetMonster(result,MonsterType);

  000ce	8b 45 0c	 mov	 eax, DWORD PTR _MonsterType$[ebp]
  000d1	50		 push	 eax
  000d2	53		 push	 ebx
  000d3	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster

; 2222 : 		gObj[result].m_RecallMon = aIndex;

  000d8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000de	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]

; 2223 : 		gObj[result].m_Attribute = 100;
; 2224 : 		gObj[result].TargetNumber = (WORD)-1;
; 2225 : 		gObj[result].m_ActState.Emotion = 0;
; 2226 : 		gObj[result].m_ActState.Attack = 0;
; 2227 : 		gObj[result].m_ActState.EmotionCount = 0;
; 2228 : 		gObj[result].PathCount = 0;
; 2229 : 
; 2230 : 		gObj[aIndex].m_RecallMon = result;
; 2231 : 		gObj[result].m_MoveRange = 15;
; 2232 : 
; 2233 : 		if( gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1 > 0.0f )

  000e1	d9 ee		 fldz
  000e3	89 94 0e 50 04
	00 00		 mov	 DWORD PTR [esi+ecx+1104], edx
  000ea	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000f0	b8 64 00 00 00	 mov	 eax, 100		; 00000064H
  000f5	66 89 84 0e b6
	04 00 00	 mov	 WORD PTR [esi+ecx+1206], ax
  000fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00102	83 ca ff	 or	 edx, -1
  00105	66 89 94 06 58
	04 00 00	 mov	 WORD PTR [esi+eax+1112], dx
  0010d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00112	81 a4 06 18 02
	00 00 0f ff ff
	ff		 and	 DWORD PTR [esi+eax+536], -241 ; ffffff0fH
  0011d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00122	83 a4 06 18 02
	00 00 fd	 and	 DWORD PTR [esi+eax+536], -3 ; fffffffdH
  0012a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00130	c6 84 0e 19 02
	00 00 00	 mov	 BYTE PTR [esi+ecx+537], 0
  00138	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0013e	c7 84 16 84 01
	00 00 00 00 00
	00		 mov	 DWORD PTR [esi+edx+388], 0
  00149	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0014e	89 9c 07 50 04
	00 00		 mov	 DWORD PTR [edi+eax+1104], ebx
  00155	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0015b	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  00160	66 89 8c 16 ae
	04 00 00	 mov	 WORD PTR [esi+edx+1198], cx
  00168	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0016e	83 c4 08	 add	 esp, 8
  00171	d8 94 1f c0 26
	00 00		 fcom	 DWORD PTR [edi+ebx+9920]
  00178	df e0		 fnstsw	 ax
  0017a	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4059000000000000
  00180	f6 c4 05	 test	 ah, 5
  00183	7a 49		 jp	 SHORT $LN3@SkillMonst

; 2234 : 		{
; 2235 : 			gObj[result].MaxLife	+= gObj[result].MaxLife / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;

  00185	d9 84 1e 00 01
	00 00		 fld	 DWORD PTR [esi+ebx+256]
  0018c	d8 f1		 fdiv	 ST(0), ST(1)
  0018e	d8 8c 1f c0 26
	00 00		 fmul	 DWORD PTR [edi+ebx+9920]
  00195	d8 84 1e 00 01
	00 00		 fadd	 DWORD PTR [esi+ebx+256]
  0019c	d9 9c 1e 00 01
	00 00		 fstp	 DWORD PTR [esi+ebx+256]

; 2236 : 			gObj[result].Life		+= gObj[result].Life / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;

  001a3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001a8	d9 84 07 c0 26
	00 00		 fld	 DWORD PTR [edi+eax+9920]
  001af	d9 84 06 fc 00
	00 00		 fld	 DWORD PTR [esi+eax+252]
  001b6	d8 f2		 fdiv	 ST(0), ST(2)
  001b8	de c9		 fmulp	 ST(1), ST(0)
  001ba	d8 84 06 fc 00
	00 00		 fadd	 DWORD PTR [esi+eax+252]
  001c1	d9 9c 06 fc 00
	00 00		 fstp	 DWORD PTR [esi+eax+252]
  001c8	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN3@SkillMonst:

; 2237 : 		}
; 2238 : 
; 2239 : 		if( gObj[aIndex].m_MPSkillOpt.MpsSummonMonster2 > 0.0f )

  001ce	d9 c9		 fxch	 ST(1)
  001d0	d8 94 1f c4 26
	00 00		 fcom	 DWORD PTR [edi+ebx+9924]
  001d7	df e0		 fnstsw	 ax
  001d9	f6 c4 05	 test	 ah, 5
  001dc	7a 2b		 jp	 SHORT $LN2@SkillMonst

; 2240 : 		{
; 2241 : 			gObj[result].m_Defense	+= gObj[result].m_Defense / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;	//maybe bug?

  001de	8b 84 1e 94 04
	00 00		 mov	 eax, DWORD PTR [esi+ebx+1172]
  001e5	89 45 08	 mov	 DWORD PTR tv492[ebp], eax
  001e8	db 45 08	 fild	 DWORD PTR tv492[ebp]
  001eb	d8 f2		 fdiv	 ST(0), ST(2)
  001ed	d8 8c 1f c0 26
	00 00		 fmul	 DWORD PTR [edi+ebx+9920]
  001f4	da 45 08	 fiadd	 DWORD PTR tv492[ebp]
  001f7	e8 00 00 00 00	 call	 __ftol2_sse
  001fc	89 84 1e 94 04
	00 00		 mov	 DWORD PTR [esi+ebx+1172], eax
  00203	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN2@SkillMonst:

; 2242 : 		}
; 2243 : 
; 2244 : 		if( gObj[aIndex].m_MPSkillOpt.MpsSummonMonster3 > 0.0f )

  00209	d8 9c 1f c8 26
	00 00		 fcomp	 DWORD PTR [edi+ebx+9928]
  00210	df e0		 fnstsw	 ax
  00212	f6 c4 05	 test	 ah, 5
  00215	7a 56		 jp	 SHORT $LN24@SkillMonst

; 2245 : 		{
; 2246 : 			gObj[result].m_AttackDamageMax	+= gObj[result].m_AttackDamageMax / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;	//too maybe?

  00217	8b 8c 1e 64 04
	00 00		 mov	 ecx, DWORD PTR [esi+ebx+1124]
  0021e	89 4d 08	 mov	 DWORD PTR tv506[ebp], ecx
  00221	db 45 08	 fild	 DWORD PTR tv506[ebp]
  00224	d8 f1		 fdiv	 ST(0), ST(1)
  00226	d8 8c 1f c0 26
	00 00		 fmul	 DWORD PTR [edi+ebx+9920]
  0022d	da 45 08	 fiadd	 DWORD PTR tv506[ebp]
  00230	e8 00 00 00 00	 call	 __ftol2_sse
  00235	89 84 1e 64 04
	00 00		 mov	 DWORD PTR [esi+ebx+1124], eax

; 2247 : 			gObj[result].m_AttackDamageMin	+= gObj[result].m_AttackDamageMin / 100.0f * gObj[aIndex].m_MPSkillOpt.MpsSummonMonster1;	//too maybe?

  0023c	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00242	8b 94 1e 60 04
	00 00		 mov	 edx, DWORD PTR [esi+ebx+1120]
  00249	89 55 08	 mov	 DWORD PTR tv516[ebp], edx
  0024c	da 7d 08	 fidivr	 DWORD PTR tv516[ebp]
  0024f	d8 8c 1f c0 26
	00 00		 fmul	 DWORD PTR [edi+ebx+9920]
  00256	da 45 08	 fiadd	 DWORD PTR tv516[ebp]
  00259	e8 00 00 00 00	 call	 __ftol2_sse
  0025e	89 84 1e 60 04
	00 00		 mov	 DWORD PTR [esi+ebx+1120], eax
  00265	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0026b	eb 02		 jmp	 SHORT $LN1@SkillMonst
$LN24@SkillMonst:
  0026d	dd d8		 fstp	 ST(0)
$LN1@SkillMonst:

; 2248 : 		}
; 2249 : 
; 2250 : 		GCRecallMonLife(gObj[result].m_RecallMon,(int)gObj[result].MaxLife,(int)gObj[result].Life);

  0026f	d9 84 1e fc 00
	00 00		 fld	 DWORD PTR [esi+ebx+252]
  00276	e8 00 00 00 00	 call	 __ftol2_sse
  0027b	d9 84 1e 00 01
	00 00		 fld	 DWORD PTR [esi+ebx+256]
  00282	50		 push	 eax
  00283	e8 00 00 00 00	 call	 __ftol2_sse
  00288	50		 push	 eax
  00289	8b 84 1e 50 04
	00 00		 mov	 eax, DWORD PTR [esi+ebx+1104]
  00290	50		 push	 eax
  00291	e8 00 00 00 00	 call	 ?GCRecallMonLife@@YAXHHH@Z ; GCRecallMonLife
  00296	83 c4 0c	 add	 esp, 12			; 0000000cH
  00299	5b		 pop	 ebx
  0029a	5f		 pop	 edi

; 2251 : 		return true;

  0029b	b8 01 00 00 00	 mov	 eax, 1
  002a0	5e		 pop	 esi

; 2254 : }

  002a1	5d		 pop	 ebp
  002a2	c2 10 00	 ret	 16			; 00000010H
$LN4@SkillMonst:
  002a5	5b		 pop	 ebx
  002a6	5f		 pop	 edi

; 2252 : 	}
; 2253 : 	return false;

  002a7	33 c0		 xor	 eax, eax
  002a9	5e		 pop	 esi

; 2254 : }

  002aa	5d		 pop	 ebp
  002ab	c2 10 00	 ret	 16			; 00000010H
?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ENDP		; CObjUseSkill::SkillMonsterCall
_TEXT	ENDS
PUBLIC	?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z ; CObjUseSkill::SkillBlowOfFury
EXTRN	?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z:PROC ; gObjAddAttackProcMsgSendDelay
EXTRN	?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z:PROC ; gObjTargetGuildWarCheck
; Function compile flags: /Ogtp
;	COMDAT ?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z
_TEXT	SEGMENT
_DuelIndex$ = -8					; size = 4
tv219 = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
_isCombo$ = 36						; size = 4
?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z PROC ; CObjUseSkill::SkillBlowOfFury, COMDAT
; _this$ = ecx

; 2257 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 2258 : 	LPOBJ lpObj = &gObj[aIndex];

  00006	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000c	53		 push	 ebx
  0000d	56		 push	 esi
  0000e	57		 push	 edi
  0000f	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00012	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H

; 2259 : 	int tObjNum;
; 2260 : 	int count = 0;
; 2261 : 	int DuelIndex = lpObj->m_iDuelUser;

  00018	8b 84 17 b8 0e
	00 00		 mov	 eax, DWORD PTR [edi+edx+3768]
  0001f	03 fa		 add	 edi, edx
  00021	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00024	8d 9f b0 08 00
	00		 lea	 ebx, DWORD PTR [edi+2224]
  0002a	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv219[ebp], 75 ; 0000004bH
$LL22@SkillBlowO:

; 2262 : 	int HitCount = 0;
; 2263 : 	int bAttack = 0;
; 2264 : 	int EnableAttack;
; 2265 : 
; 2266 : 	while ( true )
; 2267 : 	{
; 2268 : 		if(lpObj->VpPlayer2[count].state != 0)

  00031	80 7b fc 00	 cmp	 BYTE PTR [ebx-4], 0
  00035	0f 84 e3 00 00
	00		 je	 $LN34@SkillBlowO

; 2269 : 		{
; 2270 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0003b	0f bf 73 fe	 movsx	 esi, WORD PTR [ebx-2]

; 2271 : 
; 2272 : 			if(tObjNum >= 0)

  0003f	85 f6		 test	 esi, esi
  00041	0f 88 d7 00 00
	00		 js	 $LN34@SkillBlowO

; 2273 : 			{
; 2274 : 				EnableAttack = 0;
; 2275 : 
; 2276 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00047	8a 03		 mov	 al, BYTE PTR [ebx]
  00049	3c 02		 cmp	 al, 2
  0004b	75 12		 jne	 SHORT $LN18@SkillBlowO
  0004d	8b ce		 mov	 ecx, esi
  0004f	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00055	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 2277 : 				{
; 2278 : 					EnableAttack = 1;

  0005d	7c 6d		 jl	 SHORT $LN15@SkillBlowO
$LN18@SkillBlowO:

; 2279 : 				}
; 2280 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0005f	3b 75 20	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  00062	74 68		 je	 SHORT $LN15@SkillBlowO
  00064	39 75 f8	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  00067	74 63		 je	 SHORT $LN15@SkillBlowO

; 2281 : 				{
; 2282 : 					EnableAttack = 1;
; 2283 : 				}
; 2284 : //#if(GS_CASTLE==1)
; 2285 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00069	3c 03		 cmp	 al, 3
  0006b	74 1b		 je	 SHORT $LN13@SkillBlowO
  0006d	8b c6		 mov	 eax, esi
  0006f	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00075	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  0007d	75 09		 jne	 SHORT $LN13@SkillBlowO
  0007f	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 2286 : 				{
; 2287 : 					EnableAttack = 1;
; 2288 : 				}
; 2289 : //#endif
; 2290 : 				else

  00086	74 44		 je	 SHORT $LN15@SkillBlowO
$LN13@SkillBlowO:

; 2291 : 				{
; 2292 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  00088	8b ce		 mov	 ecx, esi
  0008a	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 2293 : 
; 2294 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  00090	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  00096	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  00099	75 14		 jne	 SHORT $LN11@SkillBlowO
  0009b	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000a2	85 c9		 test	 ecx, ecx
  000a4	78 09		 js	 SHORT $LN11@SkillBlowO

; 2295 : 					{
; 2296 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000a6	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000ac	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN11@SkillBlowO:

; 2297 : 					}
; 2298 : 
; 2299 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000af	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000b5	03 c2		 add	 eax, edx
  000b7	50		 push	 eax
  000b8	57		 push	 edi
  000b9	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000be	83 c4 08	 add	 esp, 8
  000c1	83 f8 01	 cmp	 eax, 1
  000c4	75 52		 jne	 SHORT $LN33@SkillBlowO
  000c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN15@SkillBlowO:

; 2300 : 					{
; 2301 : 						EnableAttack = 1;
; 2302 : 					}
; 2303 : 				}
; 2304 : 
; 2305 : 				if(EnableAttack != 0)
; 2306 : 				{
; 2307 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 4)

  000cc	8b c6		 mov	 eax, esi
  000ce	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000d4	03 c2		 add	 eax, edx
  000d6	50		 push	 eax
  000d7	57		 push	 edi
  000d8	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000dd	83 c4 08	 add	 esp, 8
  000e0	83 f8 04	 cmp	 eax, 4
  000e3	7d 33		 jge	 SHORT $LN33@SkillBlowO

; 2308 : 					{
; 2309 : 						bAttack = 0;
; 2310 : 
; 2311 : 						if(HitCount > 15)
; 2312 : 						{
; 2313 : 							bAttack = 0;
; 2314 : 						}
; 2315 : 
; 2316 : 						if(HitCount >= 10)
; 2317 : 						{
; 2318 : 							if(rand()%2)
; 2319 : 							{
; 2320 : 								bAttack = 1;
; 2321 : 							}
; 2322 : 						}
; 2323 : 						else
; 2324 : 						{
; 2325 : 							bAttack = 1;
; 2326 : 						}
; 2327 : 
; 2328 : 						if(bAttack != 0)
; 2329 : 						{
; 2330 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,500,lpMagic->m_Skill,isCombo);

  000e5	8b 4d 24	 mov	 ecx, DWORD PTR _isCombo$[ebp]
  000e8	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  000eb	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000ee	51		 push	 ecx
  000ef	50		 push	 eax
  000f0	68 f4 01 00 00	 push	 500			; 000001f4H
  000f5	56		 push	 esi
  000f6	6a 32		 push	 50			; 00000032H
  000f8	57		 push	 edi
  000f9	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  000fe	83 c4 18	 add	 esp, 24			; 00000018H

; 2331 : 
; 2332 : 							if(isCombo != 0)

  00101	83 7d 24 00	 cmp	 DWORD PTR _isCombo$[ebp], 0
  00105	74 11		 je	 SHORT $LN33@SkillBlowO

; 2333 : 							{
; 2334 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_COMBO,aIndex,1);

  00107	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0010a	6a 01		 push	 1
  0010c	51		 push	 ecx
  0010d	6a 3b		 push	 59			; 0000003bH
  0010f	57		 push	 edi
  00110	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00115	83 c4 10	 add	 esp, 16			; 00000010H
$LN33@SkillBlowO:
  00118	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN34@SkillBlowO:

; 2335 : 							}
; 2336 : 						}
; 2337 : 					}
; 2338 : 				}
; 2339 : 			}
; 2340 : 		}
; 2341 : 
; 2342 : 		count++;

  0011e	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 2343 : 		if(count > MAX_VIEWPORT -1)

  00121	ff 4d fc	 dec	 DWORD PTR tv219[ebp]
  00124	0f 85 07 ff ff
	ff		 jne	 $LL22@SkillBlowO
  0012a	5f		 pop	 edi
  0012b	5e		 pop	 esi
  0012c	5b		 pop	 ebx

; 2344 : 		{
; 2345 : 			break;
; 2346 : 		}
; 2347 : 	}
; 2348 : }

  0012d	8b e5		 mov	 esp, ebp
  0012f	5d		 pop	 ebp
  00130	c2 20 00	 ret	 32			; 00000020H
?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z ENDP ; CObjUseSkill::SkillBlowOfFury
_TEXT	ENDS
PUBLIC	?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z ; CObjUseSkill::SkillWheel
EXTRN	?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z:PROC ; gObjAttack
; Function compile flags: /Ogtp
;	COMDAT ?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z
_TEXT	SEGMENT
_DuelIndex$ = -4					; size = 4
tv222 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_aTargetIndex$ = 16					; size = 4
_isCombo$ = 20						; size = 4
?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z PROC	; CObjUseSkill::SkillWheel, COMDAT
; _this$ = ecx

; 2351 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 2352 : 	LPOBJ lpObj = &gObj[aIndex];

  00004	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000a	53		 push	 ebx
  0000b	56		 push	 esi
  0000c	57		 push	 edi
  0000d	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00010	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H

; 2353 : 	int tObjNum;
; 2354 : 	int count = 0;
; 2355 : 	int HitCount = 0;
; 2356 : 	int bAttack;
; 2357 : 	int DuelIndex = lpObj->m_iDuelUser;

  00016	8b 84 17 b8 0e
	00 00		 mov	 eax, DWORD PTR [edi+edx+3768]
  0001d	03 fa		 add	 edi, edx
  0001f	89 45 fc	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00022	8d 9f b0 08 00
	00		 lea	 ebx, DWORD PTR [edi+2224]
  00028	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv222[ebp], 75 ; 0000004bH
  0002f	90		 npad	 1
$LL22@SkillWheel:

; 2358 : 	int EnableAttack;
; 2359 : 
; 2360 : 	while ( true )
; 2361 : 	{
; 2362 : 		if(lpObj->VpPlayer2[count].state != 0)

  00030	80 7b fc 00	 cmp	 BYTE PTR [ebx-4], 0
  00034	0f 84 f0 00 00
	00		 je	 $LN34@SkillWheel

; 2363 : 		{
; 2364 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0003a	0f bf 73 fe	 movsx	 esi, WORD PTR [ebx-2]

; 2365 : 
; 2366 : 			if(tObjNum >= 0)

  0003e	85 f6		 test	 esi, esi
  00040	0f 88 e4 00 00
	00		 js	 $LN34@SkillWheel

; 2367 : 			{
; 2368 : 				EnableAttack = 0;
; 2369 : 
; 2370 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00046	8a 03		 mov	 al, BYTE PTR [ebx]
  00048	3c 02		 cmp	 al, 2
  0004a	75 12		 jne	 SHORT $LN18@SkillWheel
  0004c	8b ce		 mov	 ecx, esi
  0004e	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00054	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 2371 : 				{
; 2372 : 					EnableAttack = 1;

  0005c	7c 6d		 jl	 SHORT $LN15@SkillWheel
$LN18@SkillWheel:

; 2373 : 				}
; 2374 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0005e	3b 75 10	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  00061	74 68		 je	 SHORT $LN15@SkillWheel
  00063	39 75 fc	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  00066	74 63		 je	 SHORT $LN15@SkillWheel

; 2375 : 				{
; 2376 : 					EnableAttack = 1;
; 2377 : 				}
; 2378 : //#if(GS_CASTLE==1)
; 2379 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00068	3c 03		 cmp	 al, 3
  0006a	74 1b		 je	 SHORT $LN13@SkillWheel
  0006c	8b c6		 mov	 eax, esi
  0006e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00074	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  0007c	75 09		 jne	 SHORT $LN13@SkillWheel
  0007e	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 2380 : 				{
; 2381 : 					EnableAttack = 1;
; 2382 : 				}
; 2383 : //#endif
; 2384 : 				else

  00085	74 44		 je	 SHORT $LN15@SkillWheel
$LN13@SkillWheel:

; 2385 : 				{
; 2386 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  00087	8b ce		 mov	 ecx, esi
  00089	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 2387 : 
; 2388 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0008f	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  00095	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  00098	75 14		 jne	 SHORT $LN11@SkillWheel
  0009a	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000a1	85 c9		 test	 ecx, ecx
  000a3	78 09		 js	 SHORT $LN11@SkillWheel

; 2389 : 					{
; 2390 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000a5	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000ab	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN11@SkillWheel:

; 2391 : 					}
; 2392 : 
; 2393 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000ae	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000b4	03 c2		 add	 eax, edx
  000b6	50		 push	 eax
  000b7	57		 push	 edi
  000b8	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000bd	83 c4 08	 add	 esp, 8
  000c0	83 f8 01	 cmp	 eax, 1
  000c3	75 5f		 jne	 SHORT $LN33@SkillWheel
  000c5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN15@SkillWheel:

; 2394 : 					{
; 2395 : 						EnableAttack = 1;
; 2396 : 					}
; 2397 : 				}
; 2398 : 
; 2399 : 				if(EnableAttack != 0)
; 2400 : 				{
; 2401 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 3)

  000cb	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000d1	03 d6		 add	 edx, esi
  000d3	52		 push	 edx
  000d4	57		 push	 edi
  000d5	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000da	83 c4 08	 add	 esp, 8
  000dd	83 f8 03	 cmp	 eax, 3
  000e0	7d 42		 jge	 SHORT $LN33@SkillWheel

; 2402 : 					{
; 2403 : 						bAttack = 0;
; 2404 : 
; 2405 : 						if(HitCount > 15)
; 2406 : 						{
; 2407 : 							bAttack = 0;
; 2408 : 						}
; 2409 : 
; 2410 : 						if(HitCount >= 10)
; 2411 : 						{
; 2412 : 							if(rand()%2)
; 2413 : 							{
; 2414 : 								bAttack = 1;
; 2415 : 							}
; 2416 : 						}
; 2417 : 						else
; 2418 : 						{
; 2419 : 							bAttack = 1;
; 2420 : 						}
; 2421 : 
; 2422 : 						if(bAttack != 0)
; 2423 : 						{
; 2424 : 
; 2425 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,0,1,0,isCombo,0,0);

  000e2	8b 45 14	 mov	 eax, DWORD PTR _isCombo$[ebp]
  000e5	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  000e8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ee	6a 00		 push	 0
  000f0	6a 00		 push	 0
  000f2	50		 push	 eax
  000f3	6a 00		 push	 0
  000f5	6a 01		 push	 1
  000f7	6a 00		 push	 0
  000f9	51		 push	 ecx
  000fa	8d 04 16	 lea	 eax, DWORD PTR [esi+edx]
  000fd	50		 push	 eax
  000fe	57		 push	 edi
  000ff	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00104	83 c4 24	 add	 esp, 36			; 00000024H

; 2426 : 
; 2427 : 							if(isCombo != 0)

  00107	83 7d 14 00	 cmp	 DWORD PTR _isCombo$[ebp], 0
  0010b	74 17		 je	 SHORT $LN33@SkillWheel

; 2428 : 							{
; 2429 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_COMBO,gObj[tObjNum].m_Index,1);

  0010d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00113	8b 14 0e	 mov	 edx, DWORD PTR [esi+ecx]
  00116	6a 01		 push	 1
  00118	52		 push	 edx
  00119	6a 3b		 push	 59			; 0000003bH
  0011b	57		 push	 edi
  0011c	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00121	83 c4 10	 add	 esp, 16			; 00000010H
$LN33@SkillWheel:
  00124	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN34@SkillWheel:

; 2430 : 							}
; 2431 : 						}
; 2432 : 					}
; 2433 : 				}
; 2434 : 			}
; 2435 : 		}
; 2436 : 
; 2437 : 		count++;

  0012a	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 2438 : 		if(count > MAX_VIEWPORT -1)

  0012d	ff 4d 08	 dec	 DWORD PTR tv222[ebp]
  00130	0f 85 fa fe ff
	ff		 jne	 $LL22@SkillWheel
  00136	5f		 pop	 edi
  00137	5e		 pop	 esi
  00138	5b		 pop	 ebx

; 2439 : 		{
; 2440 : 			break;
; 2441 : 		}
; 2442 : 	}
; 2443 : }

  00139	8b e5		 mov	 esp, ebp
  0013b	5d		 pop	 ebp
  0013c	c2 10 00	 ret	 16			; 00000010H
?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z ENDP	; CObjUseSkill::SkillWheel
_TEXT	ENDS
PUBLIC	?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillPowerSlash
EXTRN	_rand:PROC
EXTRN	?SkillTestFrustrum@@YAHHHH@Z:PROC		; SkillTestFrustrum
EXTRN	?SkillFrustrum@@YAXEH@Z:PROC			; SkillFrustrum
; Function compile flags: /Ogtp
;	COMDAT ?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z
_TEXT	SEGMENT
_DuelIndex$ = -8					; size = 4
tv223 = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_targetangle$ = 28					; size = 1
_HitCount$ = 28						; size = 4
_aTargetIndex$ = 32					; size = 4
?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillPowerSlash, COMDAT
; _this$ = ecx

; 2446 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 2447 : 	LPOBJ lpObj = &gObj[aIndex];

  00006	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8b f8		 mov	 edi, eax
  0000e	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00014	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2448 : 	int StartDis = 1;
; 2449 : 	int tObjNum;
; 2450 : 	::SkillFrustrum(targetangle,aIndex);

  0001a	50		 push	 eax
  0001b	8b 45 1c	 mov	 eax, DWORD PTR _targetangle$[ebp]
  0001e	50		 push	 eax
  0001f	e8 00 00 00 00	 call	 ?SkillFrustrum@@YAXEH@Z	; SkillFrustrum

; 2451 : 	int count = 0;
; 2452 : 	int HitCount = 0;
; 2453 : 	int bAttack;
; 2454 : 	int DuelIndex = lpObj->m_iDuelUser;

  00024	8b 8f b8 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3768]
  0002a	83 c4 08	 add	 esp, 8
  0002d	c7 45 1c 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0
  00034	89 4d f8	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
  00037	8d 9f b0 08 00
	00		 lea	 ebx, DWORD PTR [edi+2224]
  0003d	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv223[ebp], 75 ; 0000004bH
$LL22@SkillPower:

; 2455 : 	int EnableAttack;
; 2456 : 
; 2457 : 	while ( true )
; 2458 : 	{
; 2459 : 		if(lpObj->VpPlayer2[count].state != 0)

  00044	80 7b fc 00	 cmp	 BYTE PTR [ebx-4], 0
  00048	0f 84 02 01 00
	00		 je	 $LN33@SkillPower

; 2460 : 		{
; 2461 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0004e	0f bf 73 fe	 movsx	 esi, WORD PTR [ebx-2]

; 2462 : 
; 2463 : 			if(tObjNum >= 0)

  00052	85 f6		 test	 esi, esi
  00054	0f 88 f6 00 00
	00		 js	 $LN33@SkillPower

; 2464 : 			{
; 2465 : 				EnableAttack = 0;
; 2466 : 
; 2467 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0005a	8a 03		 mov	 al, BYTE PTR [ebx]
  0005c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00062	3c 02		 cmp	 al, 2
  00064	75 12		 jne	 SHORT $LN18@SkillPower
  00066	8b d6		 mov	 edx, esi
  00068	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  0006e	83 bc 0a 50 04
	00 00 00	 cmp	 DWORD PTR [edx+ecx+1104], 0

; 2468 : 				{
; 2469 : 					EnableAttack = 1;

  00076	7c 6d		 jl	 SHORT $LN15@SkillPower
$LN18@SkillPower:

; 2470 : 				}
; 2471 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  00078	3b 75 20	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  0007b	74 68		 je	 SHORT $LN15@SkillPower
  0007d	39 75 f8	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  00080	74 63		 je	 SHORT $LN15@SkillPower

; 2472 : 				{
; 2473 : 					EnableAttack = 1;
; 2474 : 				}
; 2475 : //#if(GS_CASTLE==1)
; 2476 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00082	3c 03		 cmp	 al, 3
  00084	74 1b		 je	 SHORT $LN13@SkillPower
  00086	8b c6		 mov	 eax, esi
  00088	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0008e	80 bc 08 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+ecx+329], 30 ; 0000001eH
  00096	75 09		 jne	 SHORT $LN13@SkillPower
  00098	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 2477 : 				{
; 2478 : 					EnableAttack = 1;
; 2479 : 				}
; 2480 : //#endif
; 2481 : 				else

  0009f	74 44		 je	 SHORT $LN15@SkillPower
$LN13@SkillPower:

; 2482 : 				{
; 2483 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000a1	8b d6		 mov	 edx, esi
  000a3	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 2484 : 
; 2485 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000a9	66 83 7c 0a 68
	02		 cmp	 WORD PTR [edx+ecx+104], 2
  000af	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
  000b2	75 14		 jne	 SHORT $LN11@SkillPower
  000b4	8b 94 0a 50 04
	00 00		 mov	 edx, DWORD PTR [edx+ecx+1104]
  000bb	85 d2		 test	 edx, edx
  000bd	78 09		 js	 SHORT $LN11@SkillPower

; 2486 : 					{
; 2487 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000bf	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000c5	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
$LN11@SkillPower:

; 2488 : 					}
; 2489 : 
; 2490 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000c8	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ce	03 c1		 add	 eax, ecx
  000d0	50		 push	 eax
  000d1	57		 push	 edi
  000d2	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000d7	83 c4 08	 add	 esp, 8
  000da	83 f8 01	 cmp	 eax, 1
  000dd	75 71		 jne	 SHORT $LN33@SkillPower
  000df	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN15@SkillPower:

; 2491 : 					{
; 2492 : 						EnableAttack = 1;
; 2493 : 					}
; 2494 : 				}
; 2495 : 
; 2496 : 				if(EnableAttack != 0)
; 2497 : 				{
; 2498 : 					if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  000e5	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  000e8	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000ee	0f bf 94 0e 46
	01 00 00	 movsx	 edx, WORD PTR [esi+ecx+326]
  000f6	50		 push	 eax
  000f7	0f bf 84 0e 44
	01 00 00	 movsx	 eax, WORD PTR [esi+ecx+324]
  000ff	52		 push	 edx
  00100	50		 push	 eax
  00101	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  00106	83 c4 0c	 add	 esp, 12			; 0000000cH
  00109	85 c0		 test	 eax, eax
  0010b	74 43		 je	 SHORT $LN33@SkillPower

; 2499 : 					{
; 2500 : 						bAttack = 0;
; 2501 : 
; 2502 : 						if(HitCount > 10)

  0010d	8b 45 1c	 mov	 eax, DWORD PTR _HitCount$[ebp]
  00110	83 f8 0a	 cmp	 eax, 10			; 0000000aH

; 2503 : 						{
; 2504 : 							bAttack = 0;
; 2505 : 						}
; 2506 : 						else

  00113	7f 38		 jg	 SHORT $LN32@SkillPower

; 2507 : 						{						
; 2508 : 							if(HitCount >= 5)

  00115	83 f8 05	 cmp	 eax, 5
  00118	7c 13		 jl	 SHORT $LN5@SkillPower

; 2509 : 							{
; 2510 : 								if(rand()%2)

  0011a	e8 00 00 00 00	 call	 _rand
  0011f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00124	79 05		 jns	 SHORT $LN37@SkillPower
  00126	48		 dec	 eax
  00127	83 c8 fe	 or	 eax, -2			; fffffffeH
  0012a	40		 inc	 eax
$LN37@SkillPower:
  0012b	74 20		 je	 SHORT $LN32@SkillPower
$LN5@SkillPower:

; 2511 : 								{
; 2512 : 									bAttack = 1;
; 2513 : 								}
; 2514 : 							}
; 2515 : 							else
; 2516 : 							{
; 2517 : 								bAttack = 1;
; 2518 : 							}
; 2519 : 						}
; 2520 : 
; 2521 : 						if(bAttack != 0)
; 2522 : 						{
; 2523 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,1,0,0,0,0);

  0012d	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00130	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00136	6a 00		 push	 0
  00138	6a 00		 push	 0
  0013a	6a 00		 push	 0
  0013c	6a 00		 push	 0
  0013e	6a 01		 push	 1
  00140	6a 01		 push	 1
  00142	51		 push	 ecx
  00143	56		 push	 esi
  00144	57		 push	 edi
  00145	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0014a	83 c4 24	 add	 esp, 36			; 00000024H
$LN32@SkillPower:

; 2524 : 						}
; 2525 : 
; 2526 : 						HitCount++;

  0014d	ff 45 1c	 inc	 DWORD PTR _HitCount$[ebp]
$LN33@SkillPower:

; 2527 : 					}
; 2528 : 				}
; 2529 : 			}
; 2530 : 		}
; 2531 : 
; 2532 : 		count++;

  00150	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 2533 : 		if(count > MAX_VIEWPORT -1)

  00153	ff 4d fc	 dec	 DWORD PTR tv223[ebp]
  00156	0f 85 e8 fe ff
	ff		 jne	 $LL22@SkillPower
  0015c	5f		 pop	 edi
  0015d	5e		 pop	 esi
  0015e	5b		 pop	 ebx

; 2534 : 		{
; 2535 : 			break;
; 2536 : 		}
; 2537 : 	}
; 2538 : }

  0015f	8b e5		 mov	 esp, ebp
  00161	5d		 pop	 ebp
  00162	c2 1c 00	 ret	 28			; 0000001cH
?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillPowerSlash
_TEXT	ENDS
PUBLIC	??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@ ; `string'
PUBLIC	?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2Start
;	COMDAT ??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@
CONST	SEGMENT
??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@ DB '['
	DB	'%s][%s] ', 0c7H, 0efH, 0c6H, 0c4H, 0c0H, 0ccH, 0beH, 0eeH, '2'
	DB	' ', 0b9H, 0f6H, 0c6H, 0b0H, ' ', 0b4H, 0adH, 0b7H, 0afH, 0c1H
	DB	0b3H, 0b4H, 0c2H, 0b5H, 0a5H, ' ', 0b6H, 0c7H, ' ', 0b4H, 0adH
	DB	0b7H, 0afH, 0c1H, 0b3H, 0b4H, 0d9H, 0b4H, 0c2H, 0b0H, 0c5H, ' '
	DB	0bfH, 0d4H, 0b4H, 0d9H, 00H			; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillHellFire2Start, COMDAT
; _this$ = ecx

; 2813 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	57		 push	 edi

; 2814 : 	LPOBJ lpObj = &gObj[aIndex];

  00005	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00008	8b f7		 mov	 esi, edi
  0000a	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00010	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2815 : 
; 2816 : 	if(lpObj->SkillHellFire2State != 0)

  00016	80 be 14 11 00
	00 00		 cmp	 BYTE PTR [esi+4372], 0
  0001d	74 1e		 je	 SHORT $LN1@SkillHellF

; 2817 : 	{
; 2818 : 		LogAddTD("[%s][%s] 2     ",lpObj->AccountID,lpObj->Name); //

  0001f	8d 46 77	 lea	 eax, DWORD PTR [esi+119]
  00022	50		 push	 eax
  00023	83 c6 6c	 add	 esi, 108		; 0000006cH
  00026	56		 push	 esi
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0DI@LCJNNJJL@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?$LD?$LE?B@
  0002c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00032	83 c4 0c	 add	 esp, 12			; 0000000cH
  00035	5f		 pop	 edi

; 2819 : 		return false;

  00036	33 c0		 xor	 eax, eax
  00038	5e		 pop	 esi

; 2828 : }

  00039	5d		 pop	 ebp
  0003a	c2 08 00	 ret	 8
$LN1@SkillHellF:

; 2820 : 	}
; 2821 : 
; 2822 : 	lpObj->SkillHellFire2Time = GetTickCount();

  0003d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 2823 : 	lpObj->SkillHellFire2State = 1;
; 2824 : 	lpObj->SkillHellFire2Count = 0;
; 2825 : 
; 2826 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_EXPHELL_START,aIndex,1);

  00043	6a 01		 push	 1
  00045	57		 push	 edi
  00046	6a 3a		 push	 58			; 0000003aH
  00048	56		 push	 esi
  00049	89 86 18 11 00
	00		 mov	 DWORD PTR [esi+4376], eax
  0004f	66 c7 86 14 11
	00 00 01 00	 mov	 WORD PTR [esi+4372], 1
  00058	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0005d	83 c4 10	 add	 esp, 16			; 00000010H
  00060	5f		 pop	 edi

; 2827 : 	return true;

  00061	b8 01 00 00 00	 mov	 eax, 1
  00066	5e		 pop	 esi

; 2828 : }

  00067	5d		 pop	 ebp
  00068	c2 08 00	 ret	 8
?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillHellFire2Start
_TEXT	ENDS
PUBLIC	__real@bf800000
PUBLIC	__$ArrayPad$
PUBLIC	?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z		; CObjUseSkill::SkillFrustrum
EXTRN	_VectorRotate:PROC
EXTRN	_AngleMatrix:PROC
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z
_TEXT	SEGMENT
_lpObj$ = -164						; size = 4
_vFrustrum$ = -160					; size = 48
_Matrix$ = -112						; size = 48
_p$ = -64						; size = 48
_Angle$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_fangle$ = 12						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z PROC		; CObjUseSkill::SkillFrustrum, COMDAT
; _this$ = ecx

; 2924 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a4 00 00
	00		 sub	 esp, 164		; 000000a4H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 2925 : 	LPOBJ lpObj = &gObj[aIndex];
; 2926 : 
; 2927 : 	vec3_t p[4];
; 2928 : 
; 2929 : 	Vector(-tx ,ty , 0.f, p[0]);

  00013	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  00016	53		 push	 ebx
  00017	d9 c0		 fld	 ST(0)
  00019	56		 push	 esi
  0001a	d9 e0		 fchs
  0001c	57		 push	 edi
  0001d	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00020	d9 5d c0	 fstp	 DWORD PTR _p$[ebp]
  00023	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  00026	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0002c	d9 55 c4	 fst	 DWORD PTR _p$[ebp+4]
  0002f	d9 ee		 fldz
  00031	d9 55 c8	 fst	 DWORD PTR _p$[ebp+8]

; 2930 : 	Vector( tx ,ty , 0.f, p[1]);

  00034	d9 55 d4	 fst	 DWORD PTR _p$[ebp+20]
  00037	d9 ca		 fxch	 ST(2)
  00039	d9 5d cc	 fstp	 DWORD PTR _p$[ebp+12]
  0003c	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00042	d9 5d d0	 fstp	 DWORD PTR _p$[ebp+16]

; 2931 : 	Vector( 1.0f, 0.f, 0.f, p[2]);
; 2932 : 	Vector(-1.0f, 0.f, 0.f, p[3]);
; 2933 : 
; 2934 : 	vec3_t Angle;
; 2935 : 
; 2936 : 	Vector(0.f, 0.f, fangle, Angle);
; 2937 : 
; 2938 : 	float Matrix[3][4];
; 2939 : 
; 2940 : 	vec3_t vFrustrum[4];
; 2941 : 
; 2942 : 	AngleMatrix(Angle,Matrix);

  00045	8d 45 90	 lea	 eax, DWORD PTR _Matrix$[ebp]
  00048	d9 e8		 fld1
  0004a	50		 push	 eax
  0004b	d9 5d d8	 fstp	 DWORD PTR _p$[ebp+24]
  0004e	8d 4d f0	 lea	 ecx, DWORD PTR _Angle$[ebp]
  00051	51		 push	 ecx
  00052	89 bd 5c ff ff
	ff		 mov	 DWORD PTR _lpObj$[ebp], edi
  00058	d9 55 dc	 fst	 DWORD PTR _p$[ebp+28]
  0005b	d9 55 e0	 fst	 DWORD PTR _p$[ebp+32]
  0005e	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@bf800000
  00064	d9 5d e4	 fstp	 DWORD PTR _p$[ebp+36]
  00067	d9 55 e8	 fst	 DWORD PTR _p$[ebp+40]
  0006a	d9 55 ec	 fst	 DWORD PTR _p$[ebp+44]
  0006d	d9 55 f0	 fst	 DWORD PTR _Angle$[ebp]
  00070	d9 5d f4	 fstp	 DWORD PTR _Angle$[ebp+4]
  00073	d9 45 0c	 fld	 DWORD PTR _fangle$[ebp]
  00076	d9 5d f8	 fstp	 DWORD PTR _Angle$[ebp+8]
  00079	e8 00 00 00 00	 call	 _AngleMatrix
  0007e	83 c4 08	 add	 esp, 8

; 2947 : 
; 2948 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  00081	81 c7 04 11 00
	00		 add	 edi, 4356		; 00001104H
  00087	33 f6		 xor	 esi, esi
  00089	8d a4 24 00 00
	00 00		 npad	 7
$LL3@SkillFrust:

; 2943 : 
; 2944 : 	for(int i = 0; i < 4; i++)
; 2945 : 	{
; 2946 : 		VectorRotate(p[i],Matrix,vFrustrum[i]);

  00090	8d 9c 35 60 ff
	ff ff		 lea	 ebx, DWORD PTR _vFrustrum$[ebp+esi]
  00097	53		 push	 ebx
  00098	8d 55 90	 lea	 edx, DWORD PTR _Matrix$[ebp]
  0009b	52		 push	 edx
  0009c	8d 44 35 c0	 lea	 eax, DWORD PTR _p$[ebp+esi]
  000a0	50		 push	 eax
  000a1	e8 00 00 00 00	 call	 _VectorRotate

; 2947 : 
; 2948 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  000a6	d9 03		 fld	 DWORD PTR [ebx]
  000a8	83 c4 0c	 add	 esp, 12			; 0000000cH
  000ab	e8 00 00 00 00	 call	 __ftol2_sse
  000b0	8b 9d 5c ff ff
	ff		 mov	 ebx, DWORD PTR _lpObj$[ebp]
  000b6	0f bf 8b 44 01
	00 00		 movsx	 ecx, WORD PTR [ebx+324]
  000bd	03 c1		 add	 eax, ecx
  000bf	89 47 f0	 mov	 DWORD PTR [edi-16], eax

; 2949 : 		lpObj->fSkillFrustrumY[i] = (int)vFrustrum[i][1] + lpObj->Y;

  000c2	d9 84 35 64 ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+esi+4]
  000c9	e8 00 00 00 00	 call	 __ftol2_sse
  000ce	0f bf 93 46 01
	00 00		 movsx	 edx, WORD PTR [ebx+326]
  000d5	03 c2		 add	 eax, edx
  000d7	89 07		 mov	 DWORD PTR [edi], eax
  000d9	83 c6 0c	 add	 esi, 12			; 0000000cH
  000dc	83 c7 04	 add	 edi, 4
  000df	83 fe 30	 cmp	 esi, 48			; 00000030H
  000e2	7c ac		 jl	 SHORT $LL3@SkillFrust

; 2950 : 	}
; 2951 : }

  000e4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000e7	5f		 pop	 edi
  000e8	5e		 pop	 esi
  000e9	33 cd		 xor	 ecx, ebp
  000eb	5b		 pop	 ebx
  000ec	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000f1	8b e5		 mov	 esp, ebp
  000f3	5d		 pop	 ebp
  000f4	c2 10 00	 ret	 16			; 00000010H
?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z ENDP		; CObjUseSkill::SkillFrustrum
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SkillFrustrum2@CObjUseSkill@@QAEXHMMM@Z	; CObjUseSkill::SkillFrustrum2
; Function compile flags: /Ogtp
;	COMDAT ?SkillFrustrum2@CObjUseSkill@@QAEXHMMM@Z
_TEXT	SEGMENT
_lpObj$ = -164						; size = 4
_vFrustrum$ = -160					; size = 48
_Matrix$ = -112						; size = 48
_p$ = -64						; size = 48
_Angle$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_fangle$ = 12						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
?SkillFrustrum2@CObjUseSkill@@QAEXHMMM@Z PROC		; CObjUseSkill::SkillFrustrum2, COMDAT
; _this$ = ecx

; 2954 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a4 00 00
	00		 sub	 esp, 164		; 000000a4H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 2955 : 	LPOBJ lpObj = &gObj[aIndex];
; 2956 : 
; 2957 : 	vec3_t p[4];
; 2958 : 
; 2959 : 	Vector(0.f, ty, 0.f, p[0]);

  00013	d9 ee		 fldz
  00015	53		 push	 ebx
  00016	d9 55 c0	 fst	 DWORD PTR _p$[ebp]
  00019	56		 push	 esi
  0001a	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  0001d	57		 push	 edi
  0001e	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00021	d9 55 c4	 fst	 DWORD PTR _p$[ebp+4]

; 2960 : 	Vector(0.f, ty, 0.f, p[1]);

  00024	d9 5d d0	 fstp	 DWORD PTR _p$[ebp+16]
  00027	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0002d	d9 55 c8	 fst	 DWORD PTR _p$[ebp+8]
  00030	d9 55 cc	 fst	 DWORD PTR _p$[ebp+12]
  00033	d9 55 d4	 fst	 DWORD PTR _p$[ebp+20]

; 2961 : 	Vector(tx, 1.0f, 0.f, p[2]);

  00036	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  00039	d9 55 d8	 fst	 DWORD PTR _p$[ebp+24]
  0003c	d9 e8		 fld1
  0003e	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00044	d9 55 dc	 fst	 DWORD PTR _p$[ebp+28]

; 2962 : 	Vector(-tx, 1.0f, 0.f, p[3]);
; 2963 : 
; 2964 : 	vec3_t Angle;
; 2965 : 
; 2966 : 	Vector(0.f, 0.f, fangle, Angle);
; 2967 : 
; 2968 : 	float Matrix[3][4];
; 2969 : 
; 2970 : 	vec3_t vFrustrum[4];
; 2971 : 
; 2972 : 	AngleMatrix(Angle,Matrix);

  00047	8d 45 90	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0004a	d9 ca		 fxch	 ST(2)
  0004c	50		 push	 eax
  0004d	d9 55 e0	 fst	 DWORD PTR _p$[ebp+32]
  00050	8d 4d f0	 lea	 ecx, DWORD PTR _Angle$[ebp]
  00053	d9 c9		 fxch	 ST(1)
  00055	51		 push	 ecx
  00056	d9 e0		 fchs
  00058	89 bd 5c ff ff
	ff		 mov	 DWORD PTR _lpObj$[ebp], edi
  0005e	d9 5d e4	 fstp	 DWORD PTR _p$[ebp+36]
  00061	d9 c9		 fxch	 ST(1)
  00063	d9 5d e8	 fstp	 DWORD PTR _p$[ebp+40]
  00066	d9 55 ec	 fst	 DWORD PTR _p$[ebp+44]
  00069	d9 55 f0	 fst	 DWORD PTR _Angle$[ebp]
  0006c	d9 5d f4	 fstp	 DWORD PTR _Angle$[ebp+4]
  0006f	d9 45 0c	 fld	 DWORD PTR _fangle$[ebp]
  00072	d9 5d f8	 fstp	 DWORD PTR _Angle$[ebp+8]
  00075	e8 00 00 00 00	 call	 _AngleMatrix
  0007a	83 c4 08	 add	 esp, 8

; 2977 : 
; 2978 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  0007d	81 c7 04 11 00
	00		 add	 edi, 4356		; 00001104H
  00083	33 f6		 xor	 esi, esi
$LL3@SkillFrust@2:

; 2973 : 
; 2974 : 	for(int i = 0; i < 4; i++)
; 2975 : 	{
; 2976 : 		VectorRotate(p[i],Matrix,vFrustrum[i]);

  00085	8d 9c 35 60 ff
	ff ff		 lea	 ebx, DWORD PTR _vFrustrum$[ebp+esi]
  0008c	53		 push	 ebx
  0008d	8d 55 90	 lea	 edx, DWORD PTR _Matrix$[ebp]
  00090	52		 push	 edx
  00091	8d 44 35 c0	 lea	 eax, DWORD PTR _p$[ebp+esi]
  00095	50		 push	 eax
  00096	e8 00 00 00 00	 call	 _VectorRotate

; 2977 : 
; 2978 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  0009b	d9 03		 fld	 DWORD PTR [ebx]
  0009d	83 c4 0c	 add	 esp, 12			; 0000000cH
  000a0	e8 00 00 00 00	 call	 __ftol2_sse
  000a5	8b 9d 5c ff ff
	ff		 mov	 ebx, DWORD PTR _lpObj$[ebp]
  000ab	0f bf 8b 44 01
	00 00		 movsx	 ecx, WORD PTR [ebx+324]
  000b2	03 c1		 add	 eax, ecx
  000b4	89 47 f0	 mov	 DWORD PTR [edi-16], eax

; 2979 : 		lpObj->fSkillFrustrumY[i] = (int)vFrustrum[i][1] + lpObj->Y;

  000b7	d9 84 35 64 ff
	ff ff		 fld	 DWORD PTR _vFrustrum$[ebp+esi+4]
  000be	e8 00 00 00 00	 call	 __ftol2_sse
  000c3	0f bf 93 46 01
	00 00		 movsx	 edx, WORD PTR [ebx+326]
  000ca	03 c2		 add	 eax, edx
  000cc	89 07		 mov	 DWORD PTR [edi], eax
  000ce	83 c6 0c	 add	 esi, 12			; 0000000cH
  000d1	83 c7 04	 add	 edi, 4
  000d4	83 fe 30	 cmp	 esi, 48			; 00000030H
  000d7	7c ac		 jl	 SHORT $LL3@SkillFrust@2

; 2980 : 	}
; 2981 : }

  000d9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000dc	5f		 pop	 edi
  000dd	5e		 pop	 esi
  000de	33 cd		 xor	 ecx, ebp
  000e0	5b		 pop	 ebx
  000e1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000e6	8b e5		 mov	 esp, ebp
  000e8	5d		 pop	 ebp
  000e9	c2 10 00	 ret	 16			; 00000010H
?SkillFrustrum2@CObjUseSkill@@QAEXHMMM@Z ENDP		; CObjUseSkill::SkillFrustrum2
_TEXT	ENDS
PUBLIC	__real@4056800000000000
PUBLIC	__real@400921fb5fffffff
PUBLIC	__real@4066800000000000
PUBLIC	?GetAngle@CObjUseSkill@@QAEHHHHH@Z		; CObjUseSkill::GetAngle
EXTRN	__CIatan2:PROC
;	COMDAT __real@4056800000000000
CONST	SEGMENT
__real@4056800000000000 DQ 04056800000000000r	; 90
CONST	ENDS
;	COMDAT __real@400921fb5fffffff
CONST	SEGMENT
__real@400921fb5fffffff DQ 0400921fb5fffffffr	; 3.14159
CONST	ENDS
;	COMDAT __real@4066800000000000
CONST	SEGMENT
__real@4066800000000000 DQ 04066800000000000r	; 180
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?GetAngle@CObjUseSkill@@QAEHHHHH@Z
_TEXT	SEGMENT
_x$ = 8							; size = 4
tv138 = 12						; size = 4
tv136 = 12						; size = 4
_y$ = 12						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
?GetAngle@CObjUseSkill@@QAEHHHHH@Z PROC			; CObjUseSkill::GetAngle, COMDAT
; _this$ = ecx

; 2984 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 2985 : 	double diffX = x - tx;
; 2986 : 	double diffY = y - ty;

  00003	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  00006	2b 45 14	 sub	 eax, DWORD PTR _ty$[ebp]
  00009	8b 4d 08	 mov	 ecx, DWORD PTR _x$[ebp]
  0000c	2b 4d 10	 sub	 ecx, DWORD PTR _tx$[ebp]

; 2987 : 
; 2988 : 	double rad = atan2(diffY,diffX);
; 2989 : 
; 2990 : 	int angle = (int)(rad * 180 / 3.141592741012573 + 90);

  0000f	89 45 0c	 mov	 DWORD PTR tv138[ebp], eax
  00012	db 45 0c	 fild	 DWORD PTR tv138[ebp]
  00015	89 4d 0c	 mov	 DWORD PTR tv136[ebp], ecx
  00018	db 45 0c	 fild	 DWORD PTR tv136[ebp]
  0001b	e8 00 00 00 00	 call	 __CIatan2
  00020	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4066800000000000
  00026	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@400921fb5fffffff
  0002c	dc 05 00 00 00
	00		 fadd	 QWORD PTR __real@4056800000000000
  00032	e8 00 00 00 00	 call	 __ftol2_sse

; 2991 : 
; 2992 : 	if(angle < 0)

  00037	85 c0		 test	 eax, eax
  00039	79 05		 jns	 SHORT $LN1@GetAngle

; 2993 : 	{
; 2994 : 		angle += 360;

  0003b	05 68 01 00 00	 add	 eax, 360		; 00000168H
$LN1@GetAngle:

; 2995 : 	}
; 2996 : 	return angle;
; 2997 : }

  00040	5d		 pop	 ebp
  00041	c2 10 00	 ret	 16			; 00000010H
?GetAngle@CObjUseSkill@@QAEHHHHH@Z ENDP			; CObjUseSkill::GetAngle
_TEXT	ENDS
PUBLIC	?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSpear
EXTRN	?HitCheck@CSkillHitBox@@QAEHHHHHH@Z:PROC	; CSkillHitBox::HitCheck
EXTRN	?SkillSpearHitBox@@3VCSkillHitBox@@A:BYTE	; SkillSpearHitBox
; Function compile flags: /Ogtp
;	COMDAT ?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_iangle$ = -8						; size = 4
_DuelIndex$ = -4					; size = 4
tv73 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillSpear, COMDAT
; _this$ = ecx

; 3072 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 3073 : 	LPOBJ lpObj = &gObj[aIndex];

  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000b	53		 push	 ebx

; 3074 : 	int StartDis = 1;
; 3075 : 	int tObjNum;
; 3076 : 
; 3077 : 	int iangle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y);

  0000c	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0000f	56		 push	 esi
  00010	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00013	57		 push	 edi
  00014	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001a	8b fb		 mov	 edi, ebx
  0001c	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00022	0f bf 94 07 46
	01 00 00	 movsx	 edx, WORD PTR [edi+eax+326]
  0002a	03 f0		 add	 esi, eax
  0002c	0f bf 84 07 44
	01 00 00	 movsx	 eax, WORD PTR [edi+eax+324]
  00034	52		 push	 edx
  00035	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  0003c	50		 push	 eax
  0003d	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  00044	52		 push	 edx
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle

; 3078 : 	int count = 0;
; 3079 : 	int loopcount = 0;
; 3080 : 	int attackcheck;
; 3081 : 
; 3082 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0004b	6a 01		 push	 1
  0004d	53		 push	 ebx
  0004e	8b 5d 10	 mov	 ebx, DWORD PTR _lpMagic$[ebp]
  00051	0f b7 4b 08	 movzx	 ecx, WORD PTR [ebx+8]
  00055	51		 push	 ecx
  00056	56		 push	 esi
  00057	89 45 f8	 mov	 DWORD PTR _iangle$[ebp], eax
  0005a	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0005f	83 c4 10	 add	 esp, 16			; 00000010H

; 3083 : 
; 3084 : 	if(lpObj->SkillLongSpearChange == 0)

  00062	80 be 7a 12 00
	00 00		 cmp	 BYTE PTR [esi+4730], 0
  00069	75 2b		 jne	 SHORT $LN19@SkillSpear

; 3085 : 	{
; 3086 : 		gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  0006b	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00071	6a 00		 push	 0
  00073	6a 00		 push	 0
  00075	6a 00		 push	 0
  00077	6a 00		 push	 0
  00079	6a 01		 push	 1
  0007b	6a 00		 push	 0
  0007d	53		 push	 ebx
  0007e	57		 push	 edi
  0007f	56		 push	 esi
  00080	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00085	83 c4 24	 add	 esp, 36			; 00000024H
  00088	5f		 pop	 edi
  00089	5e		 pop	 esi

; 3152 : 		{
; 3153 : 			break;
; 3154 : 		}
; 3155 : 	}
; 3156 : 	return true;

  0008a	b8 01 00 00 00	 mov	 eax, 1
  0008f	5b		 pop	 ebx

; 3157 : }

  00090	8b e5		 mov	 esp, ebp
  00092	5d		 pop	 ebp
  00093	c2 0c 00	 ret	 12			; 0000000cH
$LN19@SkillSpear:

; 3087 : 		return true;
; 3088 : 	}
; 3089 : 
; 3090 : 	int DuelIndex = lpObj->m_iDuelUser;

  00096	8b 86 b8 0e 00
	00		 mov	 eax, DWORD PTR [esi+3768]
  0009c	89 45 fc	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  0009f	8d 9e ae 08 00
	00		 lea	 ebx, DWORD PTR [esi+2222]
  000a5	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv73[ebp], 75	; 0000004bH
  000ac	8d 64 24 00	 npad	 4
$LL18@SkillSpear:

; 3091 : 	int EnableAttack;
; 3092 : 
; 3093 : 	while ( true )
; 3094 : 	{
; 3095 : 		if(lpObj->VpPlayer2[count].state != 0)

  000b0	80 7b fe 00	 cmp	 BYTE PTR [ebx-2], 0
  000b4	0f 84 cf 00 00
	00		 je	 $LN27@SkillSpear

; 3096 : 		{
; 3097 : 			tObjNum = lpObj->VpPlayer2[count].number;

  000ba	0f bf 3b	 movsx	 edi, WORD PTR [ebx]

; 3098 : 
; 3099 : 			if(tObjNum >= 0)

  000bd	85 ff		 test	 edi, edi
  000bf	0f 88 c4 00 00
	00		 js	 $LN27@SkillSpear

; 3100 : 			{
; 3101 : 				EnableAttack = 0;
; 3102 : 
; 3103 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  000c5	80 7b 02 02	 cmp	 BYTE PTR [ebx+2], 2
  000c9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ce	75 12		 jne	 SHORT $LN14@SkillSpear
  000d0	8b cf		 mov	 ecx, edi
  000d2	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000d8	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0

; 3104 : 				{
; 3105 : 					EnableAttack = 1;

  000e0	7c 4d		 jl	 SHORT $LN11@SkillSpear
$LN14@SkillSpear:

; 3106 : 				}
; 3107 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  000e2	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000e5	74 48		 je	 SHORT $LN11@SkillSpear
  000e7	39 7d fc	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  000ea	74 43		 je	 SHORT $LN11@SkillSpear

; 3108 : 				{
; 3109 : 					EnableAttack = 1;
; 3110 : 				}
; 3111 : 				else
; 3112 : 				{
; 3113 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000ec	8b d7		 mov	 edx, edi
  000ee	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 3114 : 
; 3115 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000f4	66 83 7c 02 68
	02		 cmp	 WORD PTR [edx+eax+104], 2
  000fa	8b 0c 02	 mov	 ecx, DWORD PTR [edx+eax]
  000fd	75 14		 jne	 SHORT $LN9@SkillSpear
  000ff	8b 94 02 50 04
	00 00		 mov	 edx, DWORD PTR [edx+eax+1104]
  00106	85 d2		 test	 edx, edx
  00108	78 09		 js	 SHORT $LN9@SkillSpear

; 3116 : 					{
; 3117 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0010a	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00110	8b 0c 02	 mov	 ecx, DWORD PTR [edx+eax]
$LN9@SkillSpear:

; 3118 : 					}
; 3119 : 
; 3120 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  00113	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00119	03 c8		 add	 ecx, eax
  0011b	51		 push	 ecx
  0011c	56		 push	 esi
  0011d	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00122	83 c4 08	 add	 esp, 8
  00125	83 f8 01	 cmp	 eax, 1
  00128	75 5f		 jne	 SHORT $LN27@SkillSpear
  0012a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN11@SkillSpear:

; 3121 : 					{
; 3122 : 						EnableAttack = 1;
; 3123 : 					}
; 3124 : 				}
; 3125 : 
; 3126 : 				if(EnableAttack != 0)
; 3127 : 				{
; 3128 : 					attackcheck = 0;
; 3129 : 
; 3130 : 					if(loopcount == 0)
; 3131 : 					{
; 3132 : 						attackcheck = 1;
; 3133 : 					}
; 3134 : 					else if(rand()%3==0)
; 3135 : 					{
; 3136 : 						attackcheck = 1;
; 3137 : 					}
; 3138 : 
; 3139 : 					if(attackcheck != 0)
; 3140 : 					{
; 3141 : 						if(SkillSpearHitBox.HitCheck(iangle,lpObj->X,lpObj->Y,gObj[tObjNum].X,gObj[tObjNum].Y))

  0012f	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00135	0f bf 8c 07 46
	01 00 00	 movsx	 ecx, WORD PTR [edi+eax+326]
  0013d	0f bf 94 07 44
	01 00 00	 movsx	 edx, WORD PTR [edi+eax+324]
  00145	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  0014c	51		 push	 ecx
  0014d	0f bf 8e 44 01
	00 00		 movsx	 ecx, WORD PTR [esi+324]
  00154	52		 push	 edx
  00155	8b 55 f8	 mov	 edx, DWORD PTR _iangle$[ebp]
  00158	50		 push	 eax
  00159	51		 push	 ecx
  0015a	52		 push	 edx
  0015b	b9 00 00 00 00	 mov	 ecx, OFFSET ?SkillSpearHitBox@@3VCSkillHitBox@@A ; SkillSpearHitBox
  00160	e8 00 00 00 00	 call	 ?HitCheck@CSkillHitBox@@QAEHHHHHH@Z ; CSkillHitBox::HitCheck
  00165	85 c0		 test	 eax, eax
  00167	74 20		 je	 SHORT $LN27@SkillSpear

; 3142 : 						{
; 3143 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,0,1,0,0,0,0);

  00169	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0016c	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00172	6a 00		 push	 0
  00174	6a 00		 push	 0
  00176	6a 00		 push	 0
  00178	6a 00		 push	 0
  0017a	6a 01		 push	 1
  0017c	6a 00		 push	 0
  0017e	50		 push	 eax
  0017f	57		 push	 edi
  00180	56		 push	 esi
  00181	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00186	83 c4 24	 add	 esp, 36			; 00000024H
$LN27@SkillSpear:

; 3144 : 						}
; 3145 : 					}
; 3146 : 				}
; 3147 : 			}
; 3148 : 		}
; 3149 : 
; 3150 : 		count++;

  00189	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 3151 : 		if(count > MAX_VIEWPORT -1)

  0018c	ff 4d 08	 dec	 DWORD PTR tv73[ebp]
  0018f	0f 85 1b ff ff
	ff		 jne	 $LL18@SkillSpear

; 3152 : 		{
; 3153 : 			break;
; 3154 : 		}
; 3155 : 	}
; 3156 : 	return true;

  00195	5f		 pop	 edi
  00196	5e		 pop	 esi
  00197	b8 01 00 00 00	 mov	 eax, 1
  0019c	5b		 pop	 ebx

; 3157 : }

  0019d	8b e5		 mov	 esp, ebp
  0019f	5d		 pop	 ebp
  001a0	c2 0c 00	 ret	 12			; 0000000cH
?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillSpear
_TEXT	ENDS
PUBLIC	?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFireBurst
; Function compile flags: /Ogtp
;	COMDAT ?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -8					; size = 4
tv222 = -4						; size = 4
tv372 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillFireBurst, COMDAT
; _this$ = ecx

; 3160 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx

; 3161 : 	LPOBJ lpObj = &gObj[aIndex];
; 3162 : 	int StartDis = 1;
; 3163 : 	int tObjNum;
; 3164 : 	int count = 0;
; 3165 : 	int loopcount = 0;
; 3166 : 
; 3167 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00007	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0000a	56		 push	 esi
  0000b	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000e	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00014	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001a	57		 push	 edi
  0001b	8b 7d 10	 mov	 edi, DWORD PTR _lpMagic$[ebp]
  0001e	0f b7 47 08	 movzx	 eax, WORD PTR [edi+8]
  00022	6a 01		 push	 1
  00024	53		 push	 ebx
  00025	50		 push	 eax
  00026	56		 push	 esi
  00027	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 3168 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  0002c	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00032	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00038	6a 00		 push	 0
  0003a	6a 00		 push	 0
  0003c	6a 00		 push	 0
  0003e	6a 00		 push	 0
  00040	6a 01		 push	 1
  00042	6a 00		 push	 0
  00044	57		 push	 edi
  00045	8d 14 0b	 lea	 edx, DWORD PTR [ebx+ecx]
  00048	52		 push	 edx
  00049	56		 push	 esi
  0004a	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack

; 3169 : 
; 3170 : 	int attackcheck;
; 3171 : 	int DuelIndex = lpObj->m_iDuelUser;

  0004f	8b 86 b8 0e 00
	00		 mov	 eax, DWORD PTR [esi+3768]
  00055	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00058	8d 86 ae 08 00
	00		 lea	 eax, DWORD PTR [esi+2222]
  0005e	83 c4 34	 add	 esp, 52			; 00000034H
  00061	89 45 08	 mov	 DWORD PTR tv372[ebp], eax
  00064	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv222[ebp], 75 ; 0000004bH
  0006b	eb 03 8d 49 00	 npad	 5
$LL18@SkillFireB:

; 3172 : 	int EnableAttack;
; 3173 : 	int delaytime;
; 3174 : 
; 3175 : 	while ( true )
; 3176 : 	{
; 3177 : 		if(lpObj->VpPlayer2[count].state != 0)

  00070	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  00074	0f 84 c7 00 00
	00		 je	 $LN26@SkillFireB

; 3178 : 		{
; 3179 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0007a	0f bf 38	 movsx	 edi, WORD PTR [eax]

; 3180 : 
; 3181 : 			if(tObjNum >= 0 && aTargetIndex != tObjNum)

  0007d	85 ff		 test	 edi, edi
  0007f	0f 88 bc 00 00
	00		 js	 $LN26@SkillFireB
  00085	39 7d 0c	 cmp	 DWORD PTR _aTargetIndex$[ebp], edi
  00088	0f 84 b3 00 00
	00		 je	 $LN26@SkillFireB

; 3182 : 			{
; 3183 : 				EnableAttack = 0;
; 3184 : 
; 3185 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0008e	80 78 02 02	 cmp	 BYTE PTR [eax+2], 2
  00092	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00098	75 12		 jne	 SHORT $LN14@SkillFireB
  0009a	8b d7		 mov	 edx, edi
  0009c	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000a2	83 bc 0a 50 04
	00 00 00	 cmp	 DWORD PTR [edx+ecx+1104], 0

; 3186 : 				{
; 3187 : 					EnableAttack = 1;

  000aa	7c 49		 jl	 SHORT $LN11@SkillFireB
$LN14@SkillFireB:

; 3188 : 				}
; 3189 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  000ac	39 7d f8	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  000af	74 44		 je	 SHORT $LN11@SkillFireB

; 3190 : 				{
; 3191 : 					EnableAttack = 1;
; 3192 : 				}
; 3193 : 				else
; 3194 : 				{
; 3195 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000b1	8b d7		 mov	 edx, edi
  000b3	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 3196 : 
; 3197 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000b9	66 83 7c 0a 68
	02		 cmp	 WORD PTR [edx+ecx+104], 2
  000bf	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
  000c2	75 14		 jne	 SHORT $LN9@SkillFireB
  000c4	8b 94 0a 50 04
	00 00		 mov	 edx, DWORD PTR [edx+ecx+1104]
  000cb	85 d2		 test	 edx, edx
  000cd	78 09		 js	 SHORT $LN9@SkillFireB

; 3198 : 					{
; 3199 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000cf	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000d5	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
$LN9@SkillFireB:

; 3200 : 					}
; 3201 : 
; 3202 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000d8	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000de	03 c1		 add	 eax, ecx
  000e0	50		 push	 eax
  000e1	56		 push	 esi
  000e2	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000e7	83 c4 08	 add	 esp, 8
  000ea	83 f8 01	 cmp	 eax, 1
  000ed	75 52		 jne	 SHORT $LN26@SkillFireB
  000ef	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN11@SkillFireB:

; 3203 : 					{
; 3204 : 						EnableAttack = 1;
; 3205 : 					}
; 3206 : 				}
; 3207 : 
; 3208 : 				if(EnableAttack != 0)
; 3209 : 				{
; 3210 : 					attackcheck = 0;
; 3211 : 
; 3212 : 					if(loopcount == 0)
; 3213 : 					{
; 3214 : 						attackcheck = 1;
; 3215 : 					}
; 3216 : 					else if(rand()%3==0)
; 3217 : 					{
; 3218 : 						attackcheck = 1;
; 3219 : 					}
; 3220 : 
; 3221 : 					if(attackcheck != 0)
; 3222 : 					{
; 3223 : 						if(gObjCalDistance(&gObj[aTargetIndex],&gObj[tObjNum]) < 3)

  000f5	8b d7		 mov	 edx, edi
  000f7	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000fd	03 d1		 add	 edx, ecx
  000ff	52		 push	 edx
  00100	8d 04 0b	 lea	 eax, DWORD PTR [ebx+ecx]
  00103	50		 push	 eax
  00104	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00109	83 c4 08	 add	 esp, 8
  0010c	83 f8 03	 cmp	 eax, 3
  0010f	7d 30		 jge	 SHORT $LN26@SkillFireB

; 3224 : 						{
; 3225 : 							delaytime = (rand()*17)%300 + 500;

  00111	e8 00 00 00 00	 call	 _rand
  00116	8b c8		 mov	 ecx, eax
  00118	c1 e0 04	 shl	 eax, 4
  0011b	03 c1		 add	 eax, ecx
  0011d	99		 cdq
  0011e	b9 2c 01 00 00	 mov	 ecx, 300		; 0000012cH
  00123	f7 f9		 idiv	 ecx

; 3226 : 
; 3227 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,delaytime,lpMagic->m_Skill,0);

  00125	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00128	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0012b	6a 00		 push	 0
  0012d	51		 push	 ecx
  0012e	81 c2 f4 01 00
	00		 add	 edx, 500		; 000001f4H
  00134	52		 push	 edx
  00135	57		 push	 edi
  00136	6a 32		 push	 50			; 00000032H
  00138	56		 push	 esi
  00139	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0013e	83 c4 18	 add	 esp, 24			; 00000018H
$LN26@SkillFireB:

; 3228 : 						}
; 3229 : 					}
; 3230 : 				}
; 3231 : 			}
; 3232 : 		}
; 3233 : 
; 3234 : 		count++;

  00141	8b 45 08	 mov	 eax, DWORD PTR tv372[ebp]
  00144	83 c0 0c	 add	 eax, 12			; 0000000cH

; 3235 : 		if(count > MAX_VIEWPORT -1)

  00147	ff 4d fc	 dec	 DWORD PTR tv222[ebp]
  0014a	89 45 08	 mov	 DWORD PTR tv372[ebp], eax
  0014d	0f 85 1d ff ff
	ff		 jne	 $LL18@SkillFireB

; 3236 : 		{
; 3237 : 			break;
; 3238 : 		}
; 3239 : 	}
; 3240 : 	return true;

  00153	5f		 pop	 edi
  00154	5e		 pop	 esi
  00155	b8 01 00 00 00	 mov	 eax, 1
  0015a	5b		 pop	 ebx

; 3241 : }

  0015b	8b e5		 mov	 esp, ebp
  0015d	5d		 pop	 ebp
  0015e	c2 0c 00	 ret	 12			; 0000000cH
?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillFireBurst
_TEXT	ENDS
PUBLIC	?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarkHorseAttack
; Function compile flags: /Ogtp
;	COMDAT ?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -8					; size = 4
tv222 = -4						; size = 4
tv384 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDarkHorseAttack, COMDAT
; _this$ = ecx

; 3244 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 3245 : 	LPOBJ lpObj = &gObj[aIndex];

  00009	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  0000c	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00012	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 3246 : 	int tObjNum;
; 3247 : 	int count = 0;
; 3248 : 	int HitCount = 0;
; 3249 : 	int bAttack;
; 3250 : 	int DuelIndex = lpObj->m_iDuelUser;
; 3251 : 	int EnableAttack;
; 3252 : 
; 3253 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_DARKHORSE_ATTACK,lpObj->m_Index,1);

  00018	6a 01		 push	 1
  0001a	8b 0f		 mov	 ecx, DWORD PTR [edi]
  0001c	8b 87 b8 0e 00
	00		 mov	 eax, DWORD PTR [edi+3768]
  00022	51		 push	 ecx
  00023	6a 3e		 push	 62			; 0000003eH
  00025	57		 push	 edi
  00026	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00029	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0002e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00033	8d 97 b0 08 00
	00		 lea	 edx, DWORD PTR [edi+2224]
  00039	83 c4 10	 add	 esp, 16			; 00000010H
  0003c	89 55 08	 mov	 DWORD PTR tv384[ebp], edx
  0003f	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv222[ebp], 75 ; 0000004bH
$LL23@SkillDarkH:

; 3254 : 
; 3255 : 	while ( true )
; 3256 : 	{
; 3257 : 		if(lpObj->VpPlayer2[count].state != 0)

  00046	80 7a fc 00	 cmp	 BYTE PTR [edx-4], 0
  0004a	0f 84 cb 00 00
	00		 je	 $LN34@SkillDarkH

; 3258 : 		{
; 3259 : 			tObjNum = lpObj->VpPlayer2[count].number;

  00050	0f bf 5a fe	 movsx	 ebx, WORD PTR [edx-2]

; 3260 : 
; 3261 : 			if(tObjNum >= 0)

  00054	85 db		 test	 ebx, ebx
  00056	0f 88 bf 00 00
	00		 js	 $LN34@SkillDarkH

; 3262 : 			{
; 3263 : 				EnableAttack = 0;
; 3264 : 				if(gObj[tObjNum].Class < 100 || gObj[tObjNum].Class > 110)

  0005c	8b f3		 mov	 esi, ebx
  0005e	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00064	0f b7 8c 06 b8
	00 00 00	 movzx	 ecx, WORD PTR [esi+eax+184]
  0006c	83 f9 64	 cmp	 ecx, 100		; 00000064H
  0006f	72 09		 jb	 SHORT $LN18@SkillDarkH
  00071	83 f9 6e	 cmp	 ecx, 110		; 0000006eH
  00074	0f 86 a1 00 00
	00		 jbe	 $LN34@SkillDarkH
$LN18@SkillDarkH:

; 3265 : 				{
; 3266 : 	
; 3267 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0007a	8a 12		 mov	 dl, BYTE PTR [edx]
  0007c	80 fa 02	 cmp	 dl, 2
  0007f	75 0a		 jne	 SHORT $LN17@SkillDarkH
  00081	83 bc 06 50 04
	00 00 00	 cmp	 DWORD PTR [esi+eax+1104], 0

; 3268 : 					{
; 3269 : 						EnableAttack = 1;

  00089	7c 5d		 jl	 SHORT $LN14@SkillDarkH
$LN17@SkillDarkH:

; 3270 : 					}
; 3271 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0008b	3b 5d 0c	 cmp	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0008e	74 58		 je	 SHORT $LN14@SkillDarkH
  00090	39 5d f8	 cmp	 DWORD PTR _DuelIndex$[ebp], ebx
  00093	74 53		 je	 SHORT $LN14@SkillDarkH

; 3272 : 					{
; 3273 : 						EnableAttack = 1;
; 3274 : 					}
; 3275 : //#if(GS_CASTLE==1)
; 3276 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00095	80 fa 03	 cmp	 dl, 3
  00098	74 13		 je	 SHORT $LN12@SkillDarkH
  0009a	80 bc 06 49 01
	00 00 1e	 cmp	 BYTE PTR [esi+eax+329], 30 ; 0000001eH
  000a2	75 09		 jne	 SHORT $LN12@SkillDarkH
  000a4	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 3277 : 					{
; 3278 : 						EnableAttack = 1;
; 3279 : 					}
; 3280 : //#endif
; 3281 : 					else

  000ab	74 3b		 je	 SHORT $LN14@SkillDarkH
$LN12@SkillDarkH:

; 3282 : 					{
; 3283 : 						int CallMonIndex = gObj[tObjNum].m_Index;
; 3284 : 	
; 3285 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000ad	66 83 7c 06 68
	02		 cmp	 WORD PTR [esi+eax+104], 2
  000b3	8b 0c 06	 mov	 ecx, DWORD PTR [esi+eax]
  000b6	75 14		 jne	 SHORT $LN10@SkillDarkH
  000b8	8b 94 06 50 04
	00 00		 mov	 edx, DWORD PTR [esi+eax+1104]
  000bf	85 d2		 test	 edx, edx
  000c1	78 09		 js	 SHORT $LN10@SkillDarkH

; 3286 : 						{
; 3287 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000c3	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000c9	8b 0c 02	 mov	 ecx, DWORD PTR [edx+eax]
$LN10@SkillDarkH:

; 3288 : 						}
; 3289 : 	
; 3290 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000cc	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000d2	03 c8		 add	 ecx, eax
  000d4	51		 push	 ecx
  000d5	57		 push	 edi
  000d6	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000db	83 c4 08	 add	 esp, 8
  000de	83 f8 01	 cmp	 eax, 1
  000e1	75 30		 jne	 SHORT $LN33@SkillDarkH
  000e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN14@SkillDarkH:

; 3291 : 						{
; 3292 : 							EnableAttack = 1;
; 3293 : 						}
; 3294 : 					}
; 3295 : 				}
; 3296 : 	
; 3297 : 				if(EnableAttack != 0)
; 3298 : 				{
; 3299 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  000e8	03 f0		 add	 esi, eax
  000ea	56		 push	 esi
  000eb	57		 push	 edi
  000ec	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000f1	83 c4 08	 add	 esp, 8
  000f4	83 f8 05	 cmp	 eax, 5
  000f7	7d 1a		 jge	 SHORT $LN33@SkillDarkH

; 3300 : 					{
; 3301 : 						bAttack = 0;
; 3302 : 	
; 3303 : 						if(HitCount > 15)
; 3304 : 						{
; 3305 : 							bAttack = 0;
; 3306 : 						}
; 3307 : 	
; 3308 : 						if(HitCount >= 10)
; 3309 : 						{
; 3310 : 							if(rand()%2)
; 3311 : 							{
; 3312 : 								bAttack = 1;
; 3313 : 							}
; 3314 : 						}
; 3315 : 						else
; 3316 : 						{
; 3317 : 							bAttack = 1;
; 3318 : 						}
; 3319 : 	
; 3320 : 						if(bAttack != 0)
; 3321 : 						{
; 3322 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,500,lpMagic->m_Skill,0);

  000f9	8b 55 10	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  000fc	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000ff	6a 00		 push	 0
  00101	50		 push	 eax
  00102	68 f4 01 00 00	 push	 500			; 000001f4H
  00107	53		 push	 ebx
  00108	6a 32		 push	 50			; 00000032H
  0010a	57		 push	 edi
  0010b	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00110	83 c4 18	 add	 esp, 24			; 00000018H
$LN33@SkillDarkH:
  00113	8b 55 08	 mov	 edx, DWORD PTR tv384[ebp]
  00116	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN34@SkillDarkH:

; 3323 : 						}
; 3324 : 					}
; 3325 : 				}
; 3326 : 			}
; 3327 : 		}
; 3328 : 	
; 3329 : 		count++;

  0011b	83 c2 0c	 add	 edx, 12			; 0000000cH

; 3330 : 		if(count > MAX_VIEWPORT -1)

  0011e	ff 4d fc	 dec	 DWORD PTR tv222[ebp]
  00121	89 55 08	 mov	 DWORD PTR tv384[ebp], edx
  00124	0f 85 1c ff ff
	ff		 jne	 $LL23@SkillDarkH

; 3331 : 		{
; 3332 : 			break;
; 3333 : 		}
; 3334 : 	}
; 3335 : 	return true;

  0012a	5f		 pop	 edi
  0012b	5e		 pop	 esi
  0012c	b8 01 00 00 00	 mov	 eax, 1
  00131	5b		 pop	 ebx

; 3336 : }

  00132	8b e5		 mov	 esp, ebp
  00134	5d		 pop	 ebp
  00135	c2 0c 00	 ret	 12			; 0000000cH
?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDarkHorseAttack
_TEXT	ENDS
PUBLIC	?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z	; CObjUseSkill::RecallPartyCheck
; Function compile flags: /Ogtp
;	COMDAT ?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z PROC		; CObjUseSkill::RecallPartyCheck, COMDAT
; _this$ = ecx

; 3339 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3340 : 	LPOBJ lpObj = &gObj[aIndex];

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00006	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000c	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 3341 : 	int number;
; 3342 : 	int partynum = 0;
; 3343 : 
; 3344 : 	partynum = lpObj->PartyNumber;

  00012	8b 84 11 2c 04
	00 00		 mov	 eax, DWORD PTR [ecx+edx+1068]
  00019	53		 push	 ebx
  0001a	56		 push	 esi
  0001b	57		 push	 edi

; 3345 : 
; 3346 : 	int partycount;
; 3347 : 	LPOBJ lpPartyObj;
; 3348 : 	int recallcount = 0;
; 3349 : 
; 3350 : 	if(partynum != -1)

  0001c	83 f8 ff	 cmp	 eax, -1
  0001f	74 47		 je	 SHORT $LN5@RecallPart

; 3351 : 	{
; 3352 : 		partycount = gParty.m_PartyS[partynum].Count;
; 3353 : 
; 3354 : 		for(int n = 0; n < MAX_USER_IN_PARTY;n++)

  00021	6b c0 68	 imul	 eax, 104		; 00000068H
  00024	33 f6		 xor	 esi, esi
  00026	05 0c 00 00 00	 add	 eax, OFFSET ?gParty@@3VPartyClass@@A+12
  0002b	8b f8		 mov	 edi, eax
  0002d	8d 49 00	 npad	 3
$LL16@RecallPart:

; 3355 : 		{
; 3356 : 			number = gParty.m_PartyS[partynum].Number[n];

  00030	8b 07		 mov	 eax, DWORD PTR [edi]

; 3357 : 
; 3358 : 			if(number >= 0)

  00032	85 c0		 test	 eax, eax
  00034	78 29		 js	 SHORT $LN6@RecallPart

; 3359 : 			{
; 3360 : 				lpPartyObj = &gObj[number];

  00036	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H

; 3361 : 
; 3362 : 				if(lpPartyObj->m_Index != lpObj->m_Index)

  0003c	8b 1c 10	 mov	 ebx, DWORD PTR [eax+edx]
  0003f	3b 1c 11	 cmp	 ebx, DWORD PTR [ecx+edx]
  00042	74 1b		 je	 SHORT $LN6@RecallPart

; 3363 : 				{
; 3364 : 					if(lpPartyObj->MapNumber == lpObj->MapNumber)

  00044	8a 9c 10 49 01
	00 00		 mov	 bl, BYTE PTR [eax+edx+329]
  0004b	3a 9c 11 49 01
	00 00		 cmp	 bl, BYTE PTR [ecx+edx+329]
  00052	75 0b		 jne	 SHORT $LN6@RecallPart

; 3365 : 					{
; 3366 : 						if(lpPartyObj->SkillRecallParty_Time != 0)

  00054	66 83 bc 10 74
	12 00 00 00	 cmp	 WORD PTR [eax+edx+4724], 0
  0005d	75 15		 jne	 SHORT $LN12@RecallPart
$LN6@RecallPart:

; 3351 : 	{
; 3352 : 		partycount = gParty.m_PartyS[partynum].Count;
; 3353 : 
; 3354 : 		for(int n = 0; n < MAX_USER_IN_PARTY;n++)

  0005f	46		 inc	 esi
  00060	83 c7 04	 add	 edi, 4
  00063	83 fe 0a	 cmp	 esi, 10			; 0000000aH
  00066	7c c8		 jl	 SHORT $LL16@RecallPart
$LN5@RecallPart:
  00068	5f		 pop	 edi
  00069	5e		 pop	 esi

; 3369 : 						}
; 3370 : 					}
; 3371 : 				}
; 3372 : 			}
; 3373 : 		}
; 3374 : 	}
; 3375 : 	return true;

  0006a	b8 01 00 00 00	 mov	 eax, 1
  0006f	5b		 pop	 ebx

; 3376 : }

  00070	5d		 pop	 ebp
  00071	c2 08 00	 ret	 8
$LN12@RecallPart:
  00074	5f		 pop	 edi
  00075	5e		 pop	 esi

; 3367 : 						{
; 3368 : 							return false;

  00076	33 c0		 xor	 eax, eax
  00078	5b		 pop	 ebx

; 3376 : }

  00079	5d		 pop	 ebp
  0007a	c2 08 00	 ret	 8
?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z ENDP		; CObjUseSkill::RecallPartyCheck
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SkillRecallParty@CObjUseSkill@@QAEXHH@Z	; CObjUseSkill::SkillRecallParty
EXTRN	?AddUserData@CRaklionBattleUserMng@@QAEHH@Z:PROC ; CRaklionBattleUserMng::AddUserData
EXTRN	?g_RaklionBattleUserMng@@3VCRaklionBattleUserMng@@A:BYTE ; g_RaklionBattleUserMng
EXTRN	?gObjCheckTeleportArea@@YAHHEE@Z:PROC		; gObjCheckTeleportArea
EXTRN	?CheckEquipmentToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@H@Z:PROC ; CMoveCommand::CheckEquipmentToMove
EXTRN	?GetMoveLevel@CMoveCommand@@QAEHHHHH@Z:PROC	; CMoveCommand::GetMoveLevel
EXTRN	?CheckDLMemberTeleport@cTeleportManager@@QAE_NH@Z:PROC ; cTeleportManager::CheckDLMemberTeleport
EXTRN	?CheckTeleportDL@cTeleportManager@@QAE_NH@Z:PROC ; cTeleportManager::CheckTeleportDL
EXTRN	?CheckTeleoprtMap@cTeleportManager@@QAE_NHH@Z:PROC ; cTeleportManager::CheckTeleoprtMap
EXTRN	?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A:BYTE	; gPandoraBoxEvent
EXTRN	?GetRaklionState@CRaklion@@QAEHXZ:PROC		; CRaklion::GetRaklionState
EXTRN	?g_Raklion@@3VCRaklion@@A:BYTE			; g_Raklion
EXTRN	?CheckInterfaceToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; CMoveCommand::CheckInterfaceToMove
EXTRN	?CheckMainToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; CMoveCommand::CheckMainToMove
EXTRN	?gMoveCommand@@3VCMoveCommand@@A:BYTE		; gMoveCommand
EXTRN	?MsgOutput@@YAXHPADZZ:PROC			; MsgOutput
EXTRN	?GCServerMsgStringSend@@YAXPADHE@Z:PROC		; GCServerMsgStringSend
EXTRN	__imp__wsprintfA:PROC
EXTRN	?IsMapBattleZone@GensSystem@@QAEHH@Z:PROC	; GensSystem::IsMapBattleZone
EXTRN	?gGensSystem@@3VGensSystem@@A:BYTE		; gGensSystem
EXTRN	?gGENS@@3HA:DWORD				; gGENS
EXTRN	?CheckDLMasterTeleport@cTeleportManager@@QAE_NH@Z:PROC ; cTeleportManager::CheckDLMasterTeleport
EXTRN	?gTeleportManager@@3VcTeleportManager@@A:BYTE	; gTeleportManager
EXTRN	?SiegeDarkLordSummon@CDungeonSiege@@QAE_NH@Z:PROC ; CDungeonSiege::SiegeDarkLordSummon
EXTRN	?g_DungeonSiege@@3VCDungeonSiege@@A:BYTE	; g_DungeonSiege
; Function compile flags: /Ogtp
;	COMDAT ?SkillRecallParty@CObjUseSkill@@QAEXHH@Z
_TEXT	SEGMENT
tv694 = -280						; size = 4
tv272 = -276						; size = 4
_recallcount$ = -272					; size = 4
_count$223047 = -268					; size = 4
_bCheckEquipmentToMove$223042 = -268			; size = 4
_addy$223046 = -264					; size = 4
_bCheckMainToMove$223041 = -264				; size = 4
_msg$223062 = -260					; size = 255
_msg$223060 = -260					; size = 255
_msg$223058 = -260					; size = 255
_msg$223017 = -260					; size = 255
_msg$223009 = -260					; size = 255
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?SkillRecallParty@CObjUseSkill@@QAEXHH@Z PROC		; CObjUseSkill::SkillRecallParty, COMDAT
; _this$ = ecx

; 3379 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 18 01 00
	00		 sub	 esp, 280		; 00000118H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00018	8b d9		 mov	 ebx, ecx

; 3380 : 
; 3381 : #if(SWENG_FIX==TRUE)
; 3382 : 	if ( OBJMAX_RANGE(aIndex) == FALSE )	//FIX_CRASH

  0001a	85 ff		 test	 edi, edi
  0001c	0f 88 74 05 00
	00		 js	 $LN1@SkillRecal
  00022	33 c0		 xor	 eax, eax
  00024	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  0002a	0f 9e c0	 setle	 al
  0002d	85 c0		 test	 eax, eax
  0002f	0f 84 61 05 00
	00		 je	 $LN1@SkillRecal

; 3383 : 	{
; 3384 : 		return;
; 3385 : 	}
; 3386 : #endif
; 3387 : 
; 3388 : #if(CUSTOM_ZT_TELEPORT==TRUE)
; 3389 : 	//if(!g_ZtTeleport.Check(aIndex))
; 3390 : 	//{
; 3391 : 	//	return;
; 3392 : 	//}
; 3393 : #endif
; 3394 : #if(CUSTOM_ZT_TELEPORT_EVO)
; 3395 : 	//if(!g_ZtTeleportEvo.Check(aIndex))
; 3396 : 	//{
; 3397 : 	//	return;
; 3398 : 	//}
; 3399 : #endif
; 3400 : 	int skillSuccess = true; //2
; 3401 : 	LPOBJ lpObj = &gObj[aIndex]; //3

  00035	56		 push	 esi
  00036	8b f7		 mov	 esi, edi
  00038	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0003e	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 3402 : 
; 3403 : 	if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1)

  00044	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  00049	74 0d		 je	 SHORT $LN52@SkillRecal
  0004b	83 be 50 04 00
	00 ff		 cmp	 DWORD PTR [esi+1104], -1
  00052	0f 84 3d 05 00
	00		 je	 $LN57@SkillRecal
$LN52@SkillRecal:

; 3404 : 	{
; 3405 : 		return;
; 3406 : 	}
; 3407 : 
; 3408 : #if(EVENT_DUNGEON_SIEGE)
; 3409 : 	if(!g_DungeonSiege.SiegeDarkLordSummon(aIndex))

  00058	57		 push	 edi
  00059	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DungeonSiege@@3VCDungeonSiege@@A ; g_DungeonSiege
  0005e	e8 00 00 00 00	 call	 ?SiegeDarkLordSummon@CDungeonSiege@@QAE_NH@Z ; CDungeonSiege::SiegeDarkLordSummon
  00063	84 c0		 test	 al, al
  00065	0f 84 2a 05 00
	00		 je	 $LN57@SkillRecal

; 3410 : 	{
; 3411 : 		return;
; 3412 : 	}
; 3413 : #endif
; 3414 : 
; 3415 : 	if(!gTeleportManager.CheckDLMasterTeleport(lpObj->MapNumber))

  0006b	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00072	50		 push	 eax
  00073	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  00078	e8 00 00 00 00	 call	 ?CheckDLMasterTeleport@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckDLMasterTeleport
  0007d	84 c0		 test	 al, al
  0007f	0f 84 10 05 00
	00		 je	 $LN57@SkillRecal

; 3416 : 	{
; 3417 : 		return;
; 3418 : 	}
; 3419 : 
; 3420 : 	if(gGENS)

  00085	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  0008c	74 5a		 je	 SHORT $LN33@SkillRecal

; 3421 : 	{
; 3422 : 		if( gGensSystem.IsMapBattleZone(lpObj->MapNumber) )

  0008e	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00095	51		 push	 ecx
  00096	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0009b	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  000a0	85 c0		 test	 eax, eax
  000a2	74 44		 je	 SHORT $LN33@SkillRecal

; 3423 : 		{
; 3424 : 			char msg[255];
; 3425 : 			wsprintf(msg,lMsg.Get(3453));

  000a4	68 7d 0d 00 00	 push	 3453			; 00000d7dH
  000a9	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  000ae	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  000b3	50		 push	 eax
  000b4	8d 95 fc fe ff
	ff		 lea	 edx, DWORD PTR _msg$223009[ebp]
  000ba	52		 push	 edx
  000bb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA

; 3426 : 			GCServerMsgStringSend(msg, lpObj->m_Index, 1);

  000c1	8b 06		 mov	 eax, DWORD PTR [esi]
  000c3	6a 01		 push	 1
  000c5	50		 push	 eax
  000c6	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _msg$223009[ebp]
  000cc	51		 push	 ecx

; 3467 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);

  000cd	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  000d2	83 c4 14	 add	 esp, 20			; 00000014H
  000d5	5e		 pop	 esi
  000d6	5f		 pop	 edi
  000d7	5b		 pop	 ebx

; 3616 : 	}
; 3617 : }

  000d8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000db	33 cd		 xor	 ecx, ebp
  000dd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000e2	8b e5		 mov	 esp, ebp
  000e4	5d		 pop	 ebp
  000e5	c2 08 00	 ret	 8
$LN33@SkillRecal:

; 3427 : 			return;
; 3428 : 		}
; 3429 : 	}
; 3430 : #ifdef IMPERIAL_CONFLICT_NEW
; 3431 : 		if(CImperialGuardian::IsEventMap(lpObj->MapNumber))
; 3432 : 		return;
; 3433 : #endif
; 3434 : 
; 3435 : 	if(this->RecallPartyCheck(aIndex,skill_level) == 0)

  000e8	8b 55 0c	 mov	 edx, DWORD PTR _skill_level$[ebp]
  000eb	52		 push	 edx
  000ec	57		 push	 edi
  000ed	8b cb		 mov	 ecx, ebx
  000ef	e8 00 00 00 00	 call	 ?RecallPartyCheck@CObjUseSkill@@QAEHHH@Z ; CObjUseSkill::RecallPartyCheck
  000f4	85 c0		 test	 eax, eax
  000f6	75 2c		 jne	 SHORT $LN32@SkillRecal

; 3436 : 	{
; 3437 : 		MsgOutput(aIndex,lMsg.Get(1238));

  000f8	68 d6 04 00 00	 push	 1238			; 000004d6H
  000fd	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00102	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00107	50		 push	 eax
  00108	57		 push	 edi
  00109	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput
  0010e	83 c4 08	 add	 esp, 8
  00111	5e		 pop	 esi
  00112	5f		 pop	 edi
  00113	5b		 pop	 ebx

; 3616 : 	}
; 3617 : }

  00114	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00117	33 cd		 xor	 ecx, ebp
  00119	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0011e	8b e5		 mov	 esp, ebp
  00120	5d		 pop	 ebp
  00121	c2 08 00	 ret	 8
$LN32@SkillRecal:

; 3438 : 		return;
; 3439 : 	}
; 3440 : 
; 3441 : 	if(gMoveCommand.CheckMainToMove(lpObj) == 0)

  00124	56		 push	 esi
  00125	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  0012a	e8 00 00 00 00	 call	 ?CheckMainToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckMainToMove
  0012f	85 c0		 test	 eax, eax
  00131	75 07		 jne	 SHORT $LN31@SkillRecal

; 3442 : 	{
; 3443 : 		char msg[255];
; 3444 : 		wsprintf(msg,lMsg.Get(1249));

  00133	68 e1 04 00 00	 push	 1249			; 000004e1H

; 3445 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);
; 3446 : 		return;

  00138	eb 6e		 jmp	 SHORT $LN59@SkillRecal
$LN31@SkillRecal:

; 3447 : 	}
; 3448 : 
; 3449 : 	if(gMoveCommand.CheckInterfaceToMove(lpObj) == 0)

  0013a	56		 push	 esi
  0013b	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  00140	e8 00 00 00 00	 call	 ?CheckInterfaceToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckInterfaceToMove
  00145	85 c0		 test	 eax, eax
  00147	75 07		 jne	 SHORT $LN30@SkillRecal

; 3450 : 	{
; 3451 : 		char msg[255];
; 3452 : 		wsprintf(msg,lMsg.Get(1239));

  00149	68 d7 04 00 00	 push	 1239			; 000004d7H

; 3453 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);
; 3454 : 		return;

  0014e	eb 58		 jmp	 SHORT $LN59@SkillRecal
$LN30@SkillRecal:

; 3455 : 	}
; 3456 : 
; 3457 : 	//season 4 add-on
; 3458 : 	if( lpObj->MapNumber == MAP_INDEX_RAKLION_BOSS &&
; 3459 : 		lpObj->Connected == PLAYER_PLAYING &&
; 3460 : 		(g_Raklion.GetRaklionState() == RAKLION_STATE_CLOSE_DOOR ||
; 3461 : 		g_Raklion.GetRaklionState() == RAKLION_STATE_ALL_USER_DIE ||
; 3462 : 		g_Raklion.GetRaklionState() == RAKLION_STATE_NOTIFY_4 ||
; 3463 : 		g_Raklion.GetRaklionState() == RAKLION_STATE_END) ) 

  00150	80 be 49 01 00
	00 3a		 cmp	 BYTE PTR [esi+329], 58	; 0000003aH
  00157	0f 85 8a 00 00
	00		 jne	 $LN53@SkillRecal
  0015d	83 7e 04 03	 cmp	 DWORD PTR [esi+4], 3
  00161	0f 85 80 00 00
	00		 jne	 $LN53@SkillRecal
  00167	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  0016c	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  00171	83 f8 07	 cmp	 eax, 7
  00174	74 2d		 je	 SHORT $LN28@SkillRecal
  00176	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  0017b	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  00180	83 f8 08	 cmp	 eax, 8
  00183	74 1e		 je	 SHORT $LN28@SkillRecal
  00185	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  0018a	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  0018f	83 f8 09	 cmp	 eax, 9
  00192	74 0f		 je	 SHORT $LN28@SkillRecal
  00194	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  00199	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  0019e	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  001a1	75 44		 jne	 SHORT $LN53@SkillRecal
$LN28@SkillRecal:

; 3464 : 	{
; 3465 : 		char msg[255];
; 3466 : 		wsprintf(msg,lMsg.Get(3417));

  001a3	68 59 0d 00 00	 push	 3417			; 00000d59H
$LN59@SkillRecal:
  001a8	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  001ad	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  001b2	50		 push	 eax
  001b3	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _msg$223017[ebp]
  001b9	50		 push	 eax
  001ba	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA

; 3467 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);

  001c0	8b 0e		 mov	 ecx, DWORD PTR [esi]
  001c2	6a 01		 push	 1
  001c4	51		 push	 ecx
  001c5	8d 95 fc fe ff
	ff		 lea	 edx, DWORD PTR _msg$223017[ebp]
  001cb	52		 push	 edx
  001cc	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  001d1	83 c4 14	 add	 esp, 20			; 00000014H
  001d4	5e		 pop	 esi
  001d5	5f		 pop	 edi
  001d6	5b		 pop	 ebx

; 3616 : 	}
; 3617 : }

  001d7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001da	33 cd		 xor	 ecx, ebp
  001dc	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001e1	8b e5		 mov	 esp, ebp
  001e3	5d		 pop	 ebp
  001e4	c2 08 00	 ret	 8
$LN53@SkillRecal:

; 3468 : 		return;
; 3469 : 	}
; 3470 : 
; 3471 : 	int number;
; 3472 : 	int partynum;
; 3473 : 	int partycount;
; 3474 : 	LPOBJ lpPartyObj;
; 3475 : 	int recallcount;
; 3476 : 
; 3477 : 	partynum = 0;
; 3478 : 	partynum = lpObj->PartyNumber;
; 3479 : 
; 3480 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_RECALL_PARTY,lpObj->m_Index,skillSuccess);

  001e7	8b 06		 mov	 eax, DWORD PTR [esi]
  001e9	8b be 2c 04 00
	00		 mov	 edi, DWORD PTR [esi+1068]
  001ef	6a 01		 push	 1
  001f1	50		 push	 eax
  001f2	6a 3f		 push	 63			; 0000003fH
  001f4	56		 push	 esi
  001f5	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  001fa	83 c4 10	 add	 esp, 16			; 00000010H

; 3481 : 
; 3482 : 	recallcount = 0;

  001fd	c7 85 f0 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _recallcount$[ebp], 0

; 3483 : 
; 3484 : 	if(partynum != -1)

  00207	83 ff ff	 cmp	 edi, -1
  0020a	0f 84 85 03 00
	00		 je	 $LN57@SkillRecal

; 3485 : 	{
; 3486 : 		partycount = gParty.m_PartyS[partynum].Count;
; 3487 : 
; 3488 : 		for(int n = 0; n < MAX_USER_IN_PARTY;n ++)

  00210	6b ff 68	 imul	 edi, 104		; 00000068H
  00213	81 c7 0c 00 00
	00		 add	 edi, OFFSET ?gParty@@3VPartyClass@@A+12
  00219	89 bd e8 fe ff
	ff		 mov	 DWORD PTR tv694[ebp], edi
  0021f	c7 85 ec fe ff
	ff 0a 00 00 00	 mov	 DWORD PTR tv272[ebp], 10 ; 0000000aH
  00229	8d a4 24 00 00
	00 00		 npad	 7
$LL56@SkillRecal:

; 3489 : 		{
; 3490 : 			number = gParty.m_PartyS[partynum].Number[n];

  00230	8b 3f		 mov	 edi, DWORD PTR [edi]

; 3491 : 
; 3492 : 			if(number >= 0)

  00232	85 ff		 test	 edi, edi
  00234	0f 88 04 03 00
	00		 js	 $LN25@SkillRecal

; 3493 : 			{
; 3494 : 				lpPartyObj = &gObj[number];
; 3495 : 
; 3496 : 				if(lpPartyObj->m_Index != lpObj->m_Index)

  0023a	8b 0e		 mov	 ecx, DWORD PTR [esi]
  0023c	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00242	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00248	8b 07		 mov	 eax, DWORD PTR [edi]
  0024a	3b c1		 cmp	 eax, ecx
  0024c	0f 84 ec 02 00
	00		 je	 $LN25@SkillRecal

; 3497 : 				{
; 3498 : //#if(GS_CASTLE==1)
; 3499 : 					if(g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00252	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7
  00259	75 12		 jne	 SHORT $LN20@SkillRecal

; 3500 : 					{
; 3501 : 						if(lpPartyObj->m_btCsJoinSide != lpObj->m_btCsJoinSide)

  0025b	8a 97 02 1c 00
	00		 mov	 dl, BYTE PTR [edi+7170]
  00261	3a 96 02 1c 00
	00		 cmp	 dl, BYTE PTR [esi+7170]
  00267	0f 85 d1 02 00
	00		 jne	 $LN25@SkillRecal
$LN20@SkillRecal:

; 3502 : 						{
; 3503 : 							continue;
; 3504 : 						}
; 3505 : 					}
; 3506 : //#endif
; 3507 : 
; 3508 : 					if(gPandoraBoxEvent.Started && gPandoraBoxEvent.ActivePlayer == lpPartyObj->m_Index)

  0026d	80 3d 04 00 00
	00 00		 cmp	 BYTE PTR ?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A+4, 0
  00274	74 0c		 je	 SHORT $LN19@SkillRecal
  00276	39 05 00 00 00
	00		 cmp	 DWORD PTR ?gPandoraBoxEvent@@3VcPandoraBoxEvent@@A, eax
  0027c	0f 84 bc 02 00
	00		 je	 $LN25@SkillRecal
$LN19@SkillRecal:

; 3509 : 					{
; 3510 : 						continue;
; 3511 : 					}
; 3512 : 
; 3513 : 					if(!gTeleportManager.CheckTeleoprtMap(lpObj->m_Index, lpPartyObj->m_Index))

  00282	50		 push	 eax
  00283	51		 push	 ecx
  00284	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  00289	e8 00 00 00 00	 call	 ?CheckTeleoprtMap@cTeleportManager@@QAE_NHH@Z ; cTeleportManager::CheckTeleoprtMap
  0028e	84 c0		 test	 al, al
  00290	0f 84 a8 02 00
	00		 je	 $LN25@SkillRecal

; 3514 : 					{
; 3515 : 						continue;
; 3516 : 					}
; 3517 : 
; 3518 : 					if(!gTeleportManager.CheckTeleportDL(lpObj->MapNumber) || !gTeleportManager.CheckTeleportDL(lpPartyObj->MapNumber))

  00296	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0029d	50		 push	 eax
  0029e	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  002a3	e8 00 00 00 00	 call	 ?CheckTeleportDL@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckTeleportDL
  002a8	84 c0		 test	 al, al
  002aa	0f 84 8e 02 00
	00		 je	 $LN25@SkillRecal
  002b0	0f b6 8f 49 01
	00 00		 movzx	 ecx, BYTE PTR [edi+329]
  002b7	51		 push	 ecx
  002b8	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  002bd	e8 00 00 00 00	 call	 ?CheckTeleportDL@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckTeleportDL
  002c2	84 c0		 test	 al, al
  002c4	0f 84 74 02 00
	00		 je	 $LN25@SkillRecal

; 3519 : 					{
; 3520 : 						continue;
; 3521 : 					}
; 3522 : 
; 3523 : 					if(!gTeleportManager.CheckDLMemberTeleport(lpPartyObj->MapNumber))

  002ca	0f b6 97 49 01
	00 00		 movzx	 edx, BYTE PTR [edi+329]
  002d1	52		 push	 edx
  002d2	b9 00 00 00 00	 mov	 ecx, OFFSET ?gTeleportManager@@3VcTeleportManager@@A ; gTeleportManager
  002d7	e8 00 00 00 00	 call	 ?CheckDLMemberTeleport@cTeleportManager@@QAE_NH@Z ; cTeleportManager::CheckDLMemberTeleport
  002dc	84 c0		 test	 al, al
  002de	0f 84 5a 02 00
	00		 je	 $LN25@SkillRecal

; 3524 : 					{
; 3525 : 						continue;
; 3526 : 					}
; 3527 : 
; 3528 : 					if(g_ZtLicense.CheckUser(eZtUB::ulasevich)	|| g_ZtLicense.CheckUser(eZtUB::ulasevich2))

  002e4	6a 17		 push	 23			; 00000017H
  002e6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  002eb	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  002f0	84 c0		 test	 al, al
  002f2	75 10		 jne	 SHORT $LN13@SkillRecal
  002f4	6a 24		 push	 36			; 00000024H
  002f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  002fb	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00300	84 c0		 test	 al, al
  00302	74 0d		 je	 SHORT $LN12@SkillRecal
$LN13@SkillRecal:

; 3529 : 					{
; 3530 : 						if(lpPartyObj->m_PK_Level >= 6)

  00304	80 bf 3d 01 00
	00 06		 cmp	 BYTE PTR [edi+317], 6
  0030b	0f 8d 2d 02 00
	00		 jge	 $LN25@SkillRecal
$LN12@SkillRecal:

; 3531 : 						{
; 3532 : 							continue;
; 3533 : 						}
; 3534 : 					}
; 3535 : 
; 3536 : 					int movelevel = gMoveCommand.GetMoveLevel(lpObj->MapNumber,lpObj->X,lpObj->Y,lpPartyObj->Class);

  00311	0f b7 87 b8 00
	00 00		 movzx	 eax, WORD PTR [edi+184]
  00318	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  0031f	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  00326	50		 push	 eax
  00327	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0032e	51		 push	 ecx
  0032f	52		 push	 edx
  00330	50		 push	 eax
  00331	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  00336	e8 00 00 00 00	 call	 ?GetMoveLevel@CMoveCommand@@QAEHHHHH@Z ; CMoveCommand::GetMoveLevel

; 3537 : 					int bCheckMainToMove = gMoveCommand.CheckMainToMove(lpPartyObj);

  0033b	57		 push	 edi
  0033c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  00341	8b d8		 mov	 ebx, eax
  00343	e8 00 00 00 00	 call	 ?CheckMainToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckMainToMove

; 3538 : 					int bCheckEquipmentToMove = gMoveCommand.CheckEquipmentToMove(lpPartyObj,lpObj->MapNumber);

  00348	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0034f	51		 push	 ecx
  00350	57		 push	 edi
  00351	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  00356	89 85 f8 fe ff
	ff		 mov	 DWORD PTR _bCheckMainToMove$223041[ebp], eax
  0035c	e8 00 00 00 00	 call	 ?CheckEquipmentToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@H@Z ; CMoveCommand::CheckEquipmentToMove

; 3539 : 					int bCheckInterfaceToMove = gMoveCommand.CheckInterfaceToMove(lpPartyObj);

  00361	57		 push	 edi
  00362	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMoveCommand@@3VCMoveCommand@@A ; gMoveCommand
  00367	89 85 f4 fe ff
	ff		 mov	 DWORD PTR _bCheckEquipmentToMove$223042[ebp], eax
  0036d	e8 00 00 00 00	 call	 ?CheckInterfaceToMove@CMoveCommand@@QAEHPAUOBJECTSTRUCT@@@Z ; CMoveCommand::CheckInterfaceToMove

; 3540 : 
; 3541 : 					if(lpPartyObj->Level >= movelevel
; 3542 : 						&& movelevel != -1
; 3543 : 						&& bCheckMainToMove != false
; 3544 : 						&& bCheckEquipmentToMove != false
; 3545 : 						&& bCheckInterfaceToMove != false)

  00372	0f bf 97 be 00
	00 00		 movsx	 edx, WORD PTR [edi+190]
  00379	3b d3		 cmp	 edx, ebx
  0037b	0f 8c 8c 01 00
	00		 jl	 $LN11@SkillRecal
  00381	83 fb ff	 cmp	 ebx, -1
  00384	0f 84 83 01 00
	00		 je	 $LN11@SkillRecal
  0038a	83 bd f8 fe ff
	ff 00		 cmp	 DWORD PTR _bCheckMainToMove$223041[ebp], 0
  00391	0f 84 76 01 00
	00		 je	 $LN11@SkillRecal
  00397	83 bd f4 fe ff
	ff 00		 cmp	 DWORD PTR _bCheckEquipmentToMove$223042[ebp], 0
  0039e	0f 84 69 01 00
	00		 je	 $LN11@SkillRecal
  003a4	85 c0		 test	 eax, eax
  003a6	0f 84 61 01 00
	00		 je	 $LN11@SkillRecal

; 3546 : 					{
; 3547 : 						int addx;
; 3548 : 						int addy;
; 3549 : 						int count = 50;

  003ac	c7 85 f4 fe ff
	ff 32 00 00 00	 mov	 DWORD PTR _count$223047[ebp], 50 ; 00000032H
  003b6	eb 08 8d a4 24
	00 00 00 00 90	 npad	 10
$LL10@SkillRecal:

; 3550 : 						int Find = 0;
; 3551 : 
; 3552 : 						while(count--)

  003c0	ff 8d f4 fe ff
	ff		 dec	 DWORD PTR _count$223047[ebp]

; 3553 : 						{
; 3554 : 							if( g_ZtLicense.CheckUser(eZtUB::Gredy)		||	   
; 3555 : 								g_ZtLicense.CheckUser(eZtUB::Gredy2)	||
; 3556 : 								g_ZtLicense.CheckUser(eZtUB::GredyLocal) )

  003c6	6a 20		 push	 32			; 00000020H
  003c8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  003cd	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  003d2	84 c0		 test	 al, al
  003d4	75 52		 jne	 SHORT $LN7@SkillRecal
  003d6	6a 22		 push	 34			; 00000022H
  003d8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  003dd	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  003e2	84 c0		 test	 al, al
  003e4	75 42		 jne	 SHORT $LN7@SkillRecal
  003e6	6a 21		 push	 33			; 00000021H
  003e8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  003ed	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  003f2	84 c0		 test	 al, al
  003f4	75 32		 jne	 SHORT $LN7@SkillRecal

; 3560 : 							}
; 3561 : 							else
; 3562 : 							{
; 3563 : 								addx = lpObj->X + rand()%9 - 4;

  003f6	e8 00 00 00 00	 call	 _rand
  003fb	99		 cdq
  003fc	b9 09 00 00 00	 mov	 ecx, 9
  00401	f7 f9		 idiv	 ecx
  00403	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  0040a	8d 5c 02 fc	 lea	 ebx, DWORD PTR [edx+eax-4]

; 3564 : 								addy = lpObj->Y + rand()%9 - 4;

  0040e	e8 00 00 00 00	 call	 _rand
  00413	99		 cdq
  00414	b9 09 00 00 00	 mov	 ecx, 9
  00419	f7 f9		 idiv	 ecx
  0041b	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  00422	8d 4c 02 fc	 lea	 ecx, DWORD PTR [edx+eax-4]
  00426	eb 30		 jmp	 SHORT $LN58@SkillRecal
$LN7@SkillRecal:

; 3557 : 							{
; 3558 : 								addx = lpObj->X + rand()%5 - 2;

  00428	e8 00 00 00 00	 call	 _rand
  0042d	99		 cdq
  0042e	b9 05 00 00 00	 mov	 ecx, 5
  00433	f7 f9		 idiv	 ecx
  00435	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  0043c	8d 5c 02 fe	 lea	 ebx, DWORD PTR [edx+eax-2]

; 3559 : 								addy = lpObj->Y + rand()%5 - 2;

  00440	e8 00 00 00 00	 call	 _rand
  00445	99		 cdq
  00446	b9 05 00 00 00	 mov	 ecx, 5
  0044b	f7 f9		 idiv	 ecx
  0044d	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  00454	8d 4c 02 fe	 lea	 ecx, DWORD PTR [edx+eax-2]
$LN58@SkillRecal:

; 3565 : 							}
; 3566 : 
; 3567 : 							if(gObjCheckTeleportArea(lpObj->m_Index,addx,addy))

  00458	8b 06		 mov	 eax, DWORD PTR [esi]
  0045a	8b d1		 mov	 edx, ecx
  0045c	52		 push	 edx
  0045d	53		 push	 ebx
  0045e	50		 push	 eax
  0045f	89 8d f8 fe ff
	ff		 mov	 DWORD PTR _addy$223046[ebp], ecx
  00465	e8 00 00 00 00	 call	 ?gObjCheckTeleportArea@@YAHHEE@Z ; gObjCheckTeleportArea
  0046a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0046d	85 c0		 test	 eax, eax
  0046f	75 1c		 jne	 SHORT $LN55@SkillRecal

; 3550 : 						int Find = 0;
; 3551 : 
; 3552 : 						while(count--)

  00471	39 85 f4 fe ff
	ff		 cmp	 DWORD PTR _count$223047[ebp], eax
  00477	0f 85 43 ff ff
	ff		 jne	 $LL10@SkillRecal

; 3568 : 							{
; 3569 : 								Find = 1;
; 3570 : 								break;
; 3571 : 							}
; 3572 : 						}
; 3573 : 
; 3574 : 						if(Find == 0)
; 3575 : 						{
; 3576 : 							addx = lpObj->X;

  0047d	0f bf 9e 44 01
	00 00		 movsx	 ebx, WORD PTR [esi+324]

; 3577 : 							addy = lpObj->Y;

  00484	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  0048b	eb 06		 jmp	 SHORT $LN4@SkillRecal
$LN55@SkillRecal:
  0048d	8a 85 f8 fe ff
	ff		 mov	 al, BYTE PTR _addy$223046[ebp]
$LN4@SkillRecal:

; 3578 : 						}
; 3579 : 
; 3580 : 						lpPartyObj->SkillRecallParty_Time = 7;

  00493	b9 07 00 00 00	 mov	 ecx, 7
  00498	66 89 8f 74 12
	00 00		 mov	 WORD PTR [edi+4724], cx

; 3581 : 						lpPartyObj->SkillRecallParty_MapNumber = lpObj->MapNumber;

  0049f	8a 96 49 01 00
	00		 mov	 dl, BYTE PTR [esi+329]
  004a5	88 97 76 12 00
	00		 mov	 BYTE PTR [edi+4726], dl

; 3582 : 						lpPartyObj->SkillRecallParty_X = addx;

  004ab	88 9f 77 12 00
	00		 mov	 BYTE PTR [edi+4727], bl

; 3583 : 						lpPartyObj->SkillRecallParty_Y = addy;

  004b1	88 87 78 12 00
	00		 mov	 BYTE PTR [edi+4728], al

; 3584 : 
; 3585 : 						//Season4 add-on
; 3586 : 						if(lpObj->MapNumber == MAP_INDEX_RAKLION_BOSS)

  004b7	80 be 49 01 00
	00 3a		 cmp	 BYTE PTR [esi+329], 58	; 0000003aH
  004be	75 0d		 jne	 SHORT $LN3@SkillRecal

; 3587 : 						{
; 3588 : 							g_RaklionBattleUserMng.AddUserData(lpPartyObj->m_Index);

  004c0	8b 07		 mov	 eax, DWORD PTR [edi]
  004c2	50		 push	 eax
  004c3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_RaklionBattleUserMng@@3VCRaklionBattleUserMng@@A ; g_RaklionBattleUserMng
  004c8	e8 00 00 00 00	 call	 ?AddUserData@CRaklionBattleUserMng@@QAEHH@Z ; CRaklionBattleUserMng::AddUserData
$LN3@SkillRecal:

; 3589 : 						}
; 3590 : 
; 3591 : #if(FIX_MUHELPER_TP == TRUE)
; 3592 : 						lpPartyObj->MuHelperTeleportFix = true;
; 3593 : #endif
; 3594 : 
; 3595 : 						char msg[255];
; 3596 : 						wsprintf(msg,lMsg.Get(1251));

  004cd	68 e3 04 00 00	 push	 1251			; 000004e3H
  004d2	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  004d7	c6 87 cd 28 00
	00 01		 mov	 BYTE PTR [edi+10445], 1
  004de	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  004e3	50		 push	 eax
  004e4	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _msg$223058[ebp]
  004ea	51		 push	 ecx
  004eb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA

; 3597 : 						GCServerMsgStringSend(msg,lpPartyObj->m_Index,1);

  004f1	8b 17		 mov	 edx, DWORD PTR [edi]
  004f3	6a 01		 push	 1
  004f5	52		 push	 edx
  004f6	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _msg$223058[ebp]
  004fc	50		 push	 eax
  004fd	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  00502	83 c4 14	 add	 esp, 20			; 00000014H

; 3598 : 						recallcount++;

  00505	ff 85 f0 fe ff
	ff		 inc	 DWORD PTR _recallcount$[ebp]

; 3599 : 					}
; 3600 : 					else

  0050b	eb 31		 jmp	 SHORT $LN25@SkillRecal
$LN11@SkillRecal:

; 3601 : 					{
; 3602 : 						char msg[255];
; 3603 : 						wsprintf(msg,lMsg.Get(1252));

  0050d	68 e4 04 00 00	 push	 1252			; 000004e4H
  00512	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00517	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0051c	50		 push	 eax
  0051d	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _msg$223060[ebp]
  00523	51		 push	 ecx
  00524	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA

; 3604 : 						GCServerMsgStringSend(msg,lpPartyObj->m_Index,1);

  0052a	8b 17		 mov	 edx, DWORD PTR [edi]
  0052c	6a 01		 push	 1
  0052e	52		 push	 edx
  0052f	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _msg$223060[ebp]
  00535	50		 push	 eax
  00536	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  0053b	83 c4 14	 add	 esp, 20			; 00000014H
$LN25@SkillRecal:

; 3485 : 	{
; 3486 : 		partycount = gParty.m_PartyS[partynum].Count;
; 3487 : 
; 3488 : 		for(int n = 0; n < MAX_USER_IN_PARTY;n ++)

  0053e	8b bd e8 fe ff
	ff		 mov	 edi, DWORD PTR tv694[ebp]
  00544	83 c7 04	 add	 edi, 4
  00547	ff 8d ec fe ff
	ff		 dec	 DWORD PTR tv272[ebp]
  0054d	89 bd e8 fe ff
	ff		 mov	 DWORD PTR tv694[ebp], edi
  00553	0f 85 d7 fc ff
	ff		 jne	 $LL56@SkillRecal

; 3605 : 					}
; 3606 : 				}
; 3607 : 			}
; 3608 : 		}
; 3609 : 	}
; 3610 : 
; 3611 : 	if(recallcount != 0)

  00559	8b 85 f0 fe ff
	ff		 mov	 eax, DWORD PTR _recallcount$[ebp]
  0055f	85 c0		 test	 eax, eax
  00561	74 32		 je	 SHORT $LN57@SkillRecal

; 3612 : 	{
; 3613 : 		char msg[255];
; 3614 : 		wsprintf(msg,lMsg.Get(1244),recallcount);

  00563	50		 push	 eax
  00564	68 dc 04 00 00	 push	 1244			; 000004dcH
  00569	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0056e	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  00573	50		 push	 eax
  00574	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _msg$223062[ebp]
  0057a	51		 push	 ecx
  0057b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA

; 3615 : 		GCServerMsgStringSend(msg,lpObj->m_Index,1);

  00581	8b 16		 mov	 edx, DWORD PTR [esi]
  00583	6a 01		 push	 1
  00585	52		 push	 edx
  00586	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _msg$223062[ebp]
  0058c	50		 push	 eax
  0058d	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  00592	83 c4 18	 add	 esp, 24			; 00000018H
$LN57@SkillRecal:
  00595	5e		 pop	 esi
$LN1@SkillRecal:

; 3616 : 	}
; 3617 : }

  00596	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00599	5f		 pop	 edi
  0059a	33 cd		 xor	 ecx, ebp
  0059c	5b		 pop	 ebx
  0059d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  005a2	8b e5		 mov	 esp, ebp
  005a4	5d		 pop	 ebp
  005a5	c2 08 00	 ret	 8
?SkillRecallParty@CObjUseSkill@@QAEXHH@Z ENDP		; CObjUseSkill::SkillRecallParty
_TEXT	ENDS
PUBLIC	_aIndex$GSCopy$
PUBLIC	__$ArrayPad$
PUBLIC	?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z	; CObjUseSkill::SkillAddCriticalDamage
; Function compile flags: /Ogtp
;	COMDAT ?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z
_TEXT	SEGMENT
_aIndex$GSCopy$ = -56					; size = 4
_n$223094 = -52						; size = 4
_partynum$ = -52					; size = 4
_addcriticaldamagevalue$ = -48				; size = 4
_n$223081 = -48						; size = 4
_ApplyPartyIndex$ = -44					; size = 40
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_skill_level$ = 12					; size = 4
?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z PROC	; CObjUseSkill::SkillAddCriticalDamage, COMDAT
; _this$ = ecx

; 3620 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 38	 sub	 esp, 56			; 00000038H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	57		 push	 edi
  00011	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]

; 3695 : 	}
; 3696 : 	else
; 3697 : 	{
; 3698 : 		for(int n = 0;n < MAX_USER_IN_PARTY;n++)

  00014	89 7d c8	 mov	 DWORD PTR _aIndex$GSCopy$[ebp], edi
  00017	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0001d	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00023	80 3d 0e 00 00
	00 e9		 cmp	 BYTE PTR ?szAuthKey@@3PADA+14, -23 ; ffffffe9H
  0002a	74 05		 je	 SHORT $LN18@SkillAddCr

; 3621 : 	int skillSuccess = true;
; 3622 : 	LPOBJ lpObj = &gObj[aIndex];
; 3623 : 	int number;
; 3624 : 
; 3625 : 	if (szAuthKey[14] != AUTHKEY14 )
; 3626 : 	{
; 3627 : 		DestroyGIocp();

  0002c	e8 00 00 00 00	 call	 ?DestroyGIocp@@YAXXZ	; DestroyGIocp
$LN18@SkillAddCr:

; 3628 : 	}
; 3629 : 
; 3630 : 	if(lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1)

  00031	66 83 7f 68 01	 cmp	 WORD PTR [edi+104], 1
  00036	74 0d		 je	 SHORT $LN26@SkillAddCr
  00038	83 bf 50 04 00
	00 ff		 cmp	 DWORD PTR [edi+1104], -1
  0003f	0f 84 d1 01 00
	00		 je	 $LN2@SkillAddCr
$LN26@SkillAddCr:

; 3631 : 	{
; 3632 : 		return;
; 3633 : 	}
; 3634 : 
; 3635 : 	if(lpObj->Class != CLASS_DARKLORD)

  00045	66 83 bf b8 00
	00 00 04	 cmp	 WORD PTR [edi+184], 4
  0004d	0f 85 c3 01 00
	00		 jne	 $LN2@SkillAddCr

; 3636 : 	{
; 3637 : 		return;
; 3638 : 	}
; 3639 : 
; 3640 : 	int partynum = 0;
; 3641 : 	int totallevel = 0;
; 3642 : 	int partycount;
; 3643 : 	int dis;
; 3644 : 
; 3645 : 	int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 3646 : 	LPOBJ lpPartyObj;
; 3647 : 	memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));

  00053	83 c8 ff	 or	 eax, -1
  00056	53		 push	 ebx
  00057	56		 push	 esi

; 3648 : 
; 3649 : 	partynum = lpObj->PartyNumber;

  00058	8b b7 2c 04 00
	00		 mov	 esi, DWORD PTR [edi+1068]
  0005e	89 45 d4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp], eax
  00061	89 45 d8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+4], eax
  00064	89 45 dc	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+8], eax
  00067	89 45 e0	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+12], eax
  0006a	89 45 e4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+16], eax
  0006d	89 45 e8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+20], eax
  00070	89 45 ec	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+24], eax
  00073	89 45 f0	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+28], eax
  00076	89 45 f4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+32], eax
  00079	89 45 f8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+36], eax
  0007c	89 75 cc	 mov	 DWORD PTR _partynum$[ebp], esi

; 3650 : 
; 3651 : 	if(partynum != -1)

  0007f	3b f0		 cmp	 esi, eax
  00081	74 5b		 je	 SHORT $LN28@SkillAddCr

; 3652 : 	{
; 3653 : 		partycount = gParty.m_PartyS[partynum].Count;
; 3654 : 
; 3655 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  00083	6b f6 68	 imul	 esi, 104		; 00000068H
  00086	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$223081[ebp], 0
  0008d	81 c6 0c 00 00
	00		 add	 esi, OFFSET ?gParty@@3VPartyClass@@A+12
$LL30@SkillAddCr:

; 3656 : 		{
; 3657 : 			number = gParty.m_PartyS[partynum].Number[n];

  00093	8b 06		 mov	 eax, DWORD PTR [esi]

; 3658 : 
; 3659 : 			if(number >= 0)

  00095	85 c0		 test	 eax, eax
  00097	78 36		 js	 SHORT $LN13@SkillAddCr

; 3660 : 			{
; 3661 : 				lpPartyObj = &gObj[number];

  00099	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009f	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H

; 3662 : 
; 3663 : 				if(lpObj->MapNumber == lpPartyObj->MapNumber)

  000a5	8a 97 49 01 00
	00		 mov	 dl, BYTE PTR [edi+329]
  000ab	3a 94 08 49 01
	00 00		 cmp	 dl, BYTE PTR [eax+ecx+329]
  000b2	8d 1c 08	 lea	 ebx, DWORD PTR [eax+ecx]
  000b5	75 18		 jne	 SHORT $LN13@SkillAddCr

; 3664 : 				{
; 3665 : 					dis = gObjCalDistance(lpObj,&gObj[number]);

  000b7	53		 push	 ebx
  000b8	57		 push	 edi
  000b9	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000be	83 c4 08	 add	 esp, 8

; 3666 : 					if(dis < 10)

  000c1	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  000c4	7d 09		 jge	 SHORT $LN13@SkillAddCr

; 3667 : 					{
; 3668 : 						ApplyPartyIndex[n] = lpPartyObj->m_Index;

  000c6	8b 03		 mov	 eax, DWORD PTR [ebx]
  000c8	8b 4d d0	 mov	 ecx, DWORD PTR _n$223081[ebp]
  000cb	89 44 8d d4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+ecx*4], eax
$LN13@SkillAddCr:

; 3652 : 	{
; 3653 : 		partycount = gParty.m_PartyS[partynum].Count;
; 3654 : 
; 3655 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  000cf	8b 45 d0	 mov	 eax, DWORD PTR _n$223081[ebp]
  000d2	40		 inc	 eax
  000d3	83 c6 04	 add	 esi, 4
  000d6	89 45 d0	 mov	 DWORD PTR _n$223081[ebp], eax
  000d9	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  000dc	7c b5		 jl	 SHORT $LL30@SkillAddCr
$LN28@SkillAddCr:

; 3669 : 					}
; 3670 : 				}
; 3671 : 			}
; 3672 : 		}
; 3673 : 	}
; 3674 : 
; 3675 : 	int addcriticaldamagevalue = (lpObj->Leadership + lpObj->AddLeadership)/g_SkillAdditionInfo.CriticalDamageEffectDiv1 + (lpObj->Energy + lpObj->AddEnergy)/g_SkillAdditionInfo.CriticalDamageEffectDiv2;

  000de	0f b7 87 fa 00
	00 00		 movzx	 eax, WORD PTR [edi+250]
  000e5	0f bf b7 26 01
	00 00		 movsx	 esi, WORD PTR [edi+294]
  000ec	0f b7 8f 18 01
	00 00		 movzx	 ecx, WORD PTR [edi+280]
  000f3	03 f0		 add	 esi, eax
  000f5	0f b7 87 1a 01
	00 00		 movzx	 eax, WORD PTR [edi+282]
  000fc	03 c1		 add	 eax, ecx
  000fe	0f b7 0d 9c 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2972
  00105	99		 cdq
  00106	f7 f9		 idiv	 ecx
  00108	0f b7 1d 9e 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2974
  0010f	8b c8		 mov	 ecx, eax
  00111	8b c6		 mov	 eax, esi
  00113	99		 cdq
  00114	f7 fb		 idiv	 ebx
  00116	03 c8		 add	 ecx, eax

; 3676 : 
; 3677 : 	if( g_SkillAdditionInfo.CriticalDamageEffectMax > 0 && addcriticaldamagevalue > g_SkillAdditionInfo.CriticalDamageEffectMax )

  00118	66 a1 a0 0b 00
	00		 mov	 ax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2976
  0011e	89 4d d0	 mov	 DWORD PTR _addcriticaldamagevalue$[ebp], ecx
  00121	66 85 c0	 test	 ax, ax
  00124	74 0c		 je	 SHORT $LN8@SkillAddCr
  00126	0f b7 c0	 movzx	 eax, ax
  00129	3b c8		 cmp	 ecx, eax
  0012b	7e 05		 jle	 SHORT $LN8@SkillAddCr

; 3678 : 	{
; 3679 : 		addcriticaldamagevalue = g_SkillAdditionInfo.CriticalDamageEffectMax;

  0012d	89 45 d0	 mov	 DWORD PTR _addcriticaldamagevalue$[ebp], eax
  00130	8b c8		 mov	 ecx, eax
$LN8@SkillAddCr:

; 3680 : 	}
; 3681 : 
; 3682 : 	int SkillTime = (lpObj->Energy + lpObj->AddEnergy)/g_SkillAdditionInfo.CriticalDamageTimeDiv + g_SkillAdditionInfo.CriticalDamageTimeStart;

  00132	0f b7 1d a4 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2980
  00139	8b c6		 mov	 eax, esi
  0013b	99		 cdq
  0013c	f7 fb		 idiv	 ebx
  0013e	0f b7 1d a2 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2978
  00145	03 d8		 add	 ebx, eax

; 3683 : 
; 3684 : 	if( g_SkillAdditionInfo.CriticalDamageTimeMax > 0 && SkillTime > g_SkillAdditionInfo.CriticalDamageTimeMax )

  00147	a1 a8 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2984
  0014c	85 c0		 test	 eax, eax
  0014e	74 06		 je	 SHORT $LN7@SkillAddCr
  00150	3b d8		 cmp	 ebx, eax
  00152	76 02		 jbe	 SHORT $LN7@SkillAddCr

; 3685 : 	{
; 3686 : 		SkillTime = g_SkillAdditionInfo.CriticalDamageTimeMax;

  00154	8b d8		 mov	 ebx, eax
$LN7@SkillAddCr:

; 3687 : 	}
; 3688 : 
; 3689 : 	if(partynum == -1)

  00156	83 7d cc ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  0015a	75 50		 jne	 SHORT $LN6@SkillAddCr

; 3690 : 	{
; 3691 : 		gObjApplyBuffEffectDuration(lpObj, AT_INCREASE_CRITICAL_DMG, 17, addcriticaldamagevalue, 0, 0, SkillTime); //season3 add-on

  0015c	53		 push	 ebx
  0015d	6a 00		 push	 0
  0015f	6a 00		 push	 0
  00161	51		 push	 ecx
  00162	6a 11		 push	 17			; 00000011H
  00164	6a 05		 push	 5
  00166	57		 push	 edi
  00167	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0016c	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3692 : 
; 3693 : 		MsgOutput(aIndex,lMsg.Get(1240),SkillTime);

  0016f	53		 push	 ebx
  00170	68 d8 04 00 00	 push	 1240			; 000004d8H
  00175	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  0017a	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0017f	50		 push	 eax
  00180	8b 45 c8	 mov	 eax, DWORD PTR _aIndex$GSCopy$[ebp]
  00183	50		 push	 eax
  00184	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput

; 3694 : 		GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_CRITICALDAMAGE,lpObj->m_Index,skillSuccess);

  00189	8b 0f		 mov	 ecx, DWORD PTR [edi]
  0018b	6a 01		 push	 1
  0018d	51		 push	 ecx
  0018e	6a 40		 push	 64			; 00000040H
  00190	57		 push	 edi
  00191	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00196	83 c4 1c	 add	 esp, 28			; 0000001cH
  00199	5e		 pop	 esi
  0019a	5b		 pop	 ebx
  0019b	5f		 pop	 edi

; 3708 : 			}
; 3709 : 		}
; 3710 : 	}
; 3711 : }

  0019c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0019f	33 cd		 xor	 ecx, ebp
  001a1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001a6	8b e5		 mov	 esp, ebp
  001a8	5d		 pop	 ebp
  001a9	c2 08 00	 ret	 8
$LN6@SkillAddCr:

; 3695 : 	}
; 3696 : 	else
; 3697 : 	{
; 3698 : 		for(int n = 0;n < MAX_USER_IN_PARTY;n++)

  001ac	33 c9		 xor	 ecx, ecx
  001ae	89 4d cc	 mov	 DWORD PTR _n$223094[ebp], ecx
$LL31@SkillAddCr:

; 3699 : 		{
; 3700 : 			if(ApplyPartyIndex[n] != -1)

  001b1	8b 44 8d d4	 mov	 eax, DWORD PTR _ApplyPartyIndex$[ebp+ecx*4]
  001b5	83 f8 ff	 cmp	 eax, -1
  001b8	74 51		 je	 SHORT $LN3@SkillAddCr

; 3701 : 			{
; 3702 : 				lpPartyObj = &gObj[ApplyPartyIndex[n]];
; 3703 : 
; 3704 : 				gObjApplyBuffEffectDuration(lpPartyObj, AT_INCREASE_CRITICAL_DMG, 17, addcriticaldamagevalue, 0, 0, SkillTime); //season3 add-on

  001ba	8b 55 d0	 mov	 edx, DWORD PTR _addcriticaldamagevalue$[ebp]
  001bd	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  001c3	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001c9	53		 push	 ebx
  001ca	6a 00		 push	 0
  001cc	6a 00		 push	 0
  001ce	52		 push	 edx
  001cf	6a 11		 push	 17			; 00000011H
  001d1	8b f0		 mov	 esi, eax
  001d3	6a 05		 push	 5
  001d5	56		 push	 esi
  001d6	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  001db	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3705 : 
; 3706 : 				MsgOutput(aIndex,lMsg.Get(1240),SkillTime);

  001de	53		 push	 ebx
  001df	68 d8 04 00 00	 push	 1240			; 000004d8H
  001e4	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  001e9	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  001ee	50		 push	 eax
  001ef	8b 45 c8	 mov	 eax, DWORD PTR _aIndex$GSCopy$[ebp]
  001f2	50		 push	 eax
  001f3	e8 00 00 00 00	 call	 ?MsgOutput@@YAXHPADZZ	; MsgOutput

; 3707 : 				GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_CRITICALDAMAGE,lpPartyObj->m_Index,skillSuccess);

  001f8	8b 0e		 mov	 ecx, DWORD PTR [esi]
  001fa	6a 01		 push	 1
  001fc	51		 push	 ecx
  001fd	6a 40		 push	 64			; 00000040H
  001ff	57		 push	 edi
  00200	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00205	8b 4d cc	 mov	 ecx, DWORD PTR _n$223094[ebp]
  00208	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN3@SkillAddCr:

; 3695 : 	}
; 3696 : 	else
; 3697 : 	{
; 3698 : 		for(int n = 0;n < MAX_USER_IN_PARTY;n++)

  0020b	41		 inc	 ecx
  0020c	89 4d cc	 mov	 DWORD PTR _n$223094[ebp], ecx
  0020f	83 f9 0a	 cmp	 ecx, 10			; 0000000aH
  00212	7c 9d		 jl	 SHORT $LL31@SkillAddCr
  00214	5e		 pop	 esi
  00215	5b		 pop	 ebx
$LN2@SkillAddCr:

; 3708 : 			}
; 3709 : 		}
; 3710 : 	}
; 3711 : }

  00216	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00219	33 cd		 xor	 ecx, ebp
  0021b	5f		 pop	 edi
  0021c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00221	8b e5		 mov	 esp, ebp
  00223	5d		 pop	 ebp
  00224	c2 08 00	 ret	 8
?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z ENDP	; CObjUseSkill::SkillAddCriticalDamage
_TEXT	ENDS
PUBLIC	__real@4014000000000000
PUBLIC	__real@4034000000000000
PUBLIC	??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@ ; `string'
PUBLIC	??_C@_0BA@DNENMBIK@ObjUseSkill?4cpp?$AA@	; `string'
PUBLIC	?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z	; DecPartyMemberHPandMP
EXTRN	?GCManaSend@@YAXHHEEH@Z:PROC			; GCManaSend
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@4034000000000000
CONST	SEGMENT
__real@4034000000000000 DQ 04034000000000000r	; 20
CONST	ENDS
;	COMDAT ??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@
CONST	SEGMENT
??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@ DB 'error : De'
	DB	'cPartyMemberHPandMP %s %d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@DNENMBIK@ObjUseSkill?4cpp?$AA@
CONST	SEGMENT
??_C@_0BA@DNENMBIK@ObjUseSkill?4cpp?$AA@ DB 'ObjUseSkill.cpp', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
tv322 = -8						; size = 4
tv313 = -8						; size = 4
tv261 = -8						; size = 4
tv92 = -4						; size = 4
tv330 = 8						; size = 4
_lpObj$ = 8						; size = 4
?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z PROC	; DecPartyMemberHPandMP, COMDAT

; 3794 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx

; 3795 : 	LPOBJ lpPartyObj;
; 3796 : 	int partynum = lpObj->PartyNumber;

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  0000a	8b 83 2c 04 00
	00		 mov	 eax, DWORD PTR [ebx+1068]

; 3797 : 
; 3798 : 	if(OBJMAX_RANGE(partynum)==false)

  00010	85 c0		 test	 eax, eax
  00012	78 0e		 js	 SHORT $LN14@DecPartyMe
  00014	33 c9		 xor	 ecx, ecx
  00016	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  0001b	0f 9e c1	 setle	 cl
  0001e	85 c9		 test	 ecx, ecx
  00020	75 1f		 jne	 SHORT $LN7@DecPartyMe
$LN14@DecPartyMe:

; 3799 : 	{
; 3800 : 		LogAdd("error : DecPartyMemberHPandMP %s %d",__FILE__,__LINE__);

  00022	68 d8 0e 00 00	 push	 3800			; 00000ed8H
  00027	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@DNENMBIK@ObjUseSkill?4cpp?$AA@
  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0CE@CEJHKGA@error?5?3?5DecPartyMemberHPandMP?5?$CFs@
  00031	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00037	83 c4 0c	 add	 esp, 12			; 0000000cH

; 3801 : 		return false;

  0003a	33 c0		 xor	 eax, eax
  0003c	5b		 pop	 ebx

; 3837 : }

  0003d	8b e5		 mov	 esp, ebp
  0003f	5d		 pop	 ebp
  00040	c3		 ret	 0
$LN7@DecPartyMe:

; 3802 : 	}
; 3803 : 
; 3804 : 	int partycount = gParty.m_PartyS[partynum].Count;
; 3805 : 	int retcount = 0;

  00041	6b c0 68	 imul	 eax, 104		; 00000068H
  00044	56		 push	 esi
  00045	57		 push	 edi
  00046	33 ff		 xor	 edi, edi
  00048	05 0c 00 00 00	 add	 eax, OFFSET ?gParty@@3VPartyClass@@A+12
  0004d	89 45 08	 mov	 DWORD PTR tv330[ebp], eax
  00050	c7 45 fc 0a 00
	00 00		 mov	 DWORD PTR tv92[ebp], 10	; 0000000aH
  00057	eb 07 8d a4 24
	00 00 00 00	 npad	 9
$LL18@DecPartyMe:

; 3808 : 	{
; 3809 : 		int number = gParty.m_PartyS[partynum].Number[n];

  00060	8b 00		 mov	 eax, DWORD PTR [eax]

; 3810 : 
; 3811 : 		if(number >= 0)

  00062	85 c0		 test	 eax, eax
  00064	0f 88 e2 00 00
	00		 js	 $LN5@DecPartyMe

; 3812 : 		{
; 3813 : 			lpPartyObj = &gObj[number];
; 3814 : 
; 3815 : 			if(lpObj->MapNumber == lpPartyObj->MapNumber && lpObj->m_Index != number)

  0006a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00070	8a 93 49 01 00
	00		 mov	 dl, BYTE PTR [ebx+329]
  00076	8b f0		 mov	 esi, eax
  00078	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0007e	03 ce		 add	 ecx, esi
  00080	3a 91 49 01 00
	00		 cmp	 dl, BYTE PTR [ecx+329]
  00086	0f 85 c0 00 00
	00		 jne	 $LN5@DecPartyMe
  0008c	39 03		 cmp	 DWORD PTR [ebx], eax
  0008e	0f 84 b8 00 00
	00		 je	 $LN5@DecPartyMe

; 3816 : 			{
; 3817 : 				int dis = gObjCalDistance(lpObj,&gObj[number]);

  00094	51		 push	 ecx
  00095	53		 push	 ebx
  00096	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0009b	83 c4 08	 add	 esp, 8

; 3818 : 				if(dis < 10)

  0009e	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  000a1	0f 8d a5 00 00
	00		 jge	 $LN5@DecPartyMe

; 3819 : 				{
; 3820 : 					lpPartyObj = &gObj[number];

  000a7	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 3821 : 
; 3822 : 					int declife = (int)(lpPartyObj->Life * 20.0f / 100.0f);

  000ad	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  000b3	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4034000000000000
  000b9	d8 c9		 fmul	 ST(0), ST(1)
  000bb	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4059000000000000
  000c1	dc f9		 fdiv	 ST(1), ST(0)

; 3823 : 					int decmana = (int)(lpPartyObj->Mana * 5.0f / 100.0f);
; 3824 : 
; 3825 : 					lpPartyObj->Life = lpPartyObj->Life - declife;

  000c3	d9 c9		 fxch	 ST(1)
  000c5	e8 00 00 00 00	 call	 __ftol2_sse
  000ca	89 45 f8	 mov	 DWORD PTR tv322[ebp], eax
  000cd	db 45 f8	 fild	 DWORD PTR tv322[ebp]
  000d0	de ea		 fsubp	 ST(2), ST(0)
  000d2	d9 c9		 fxch	 ST(1)
  000d4	d9 5d f8	 fstp	 DWORD PTR tv261[ebp]
  000d7	d9 45 f8	 fld	 DWORD PTR tv261[ebp]
  000da	d9 96 fc 00 00
	00		 fst	 DWORD PTR [esi+252]
  000e0	d9 86 10 01 00
	00		 fld	 DWORD PTR [esi+272]
  000e6	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4014000000000000
  000ec	d8 c9		 fmul	 ST(0), ST(1)
  000ee	de f3		 fdivrp	 ST(3), ST(0)

; 3826 : 					lpPartyObj->Mana = lpPartyObj->Mana - decmana;

  000f0	d9 ca		 fxch	 ST(2)
  000f2	e8 00 00 00 00	 call	 __ftol2_sse

; 3827 : 
; 3828 : 					GCReFillSend(lpPartyObj->m_Index,lpPartyObj->Life,0xFF,0,lpPartyObj->iShield);

  000f7	8b 8e 54 01 00
	00		 mov	 ecx, DWORD PTR [esi+340]
  000fd	89 45 f8	 mov	 DWORD PTR tv313[ebp], eax
  00100	db 45 f8	 fild	 DWORD PTR tv313[ebp]
  00103	51		 push	 ecx
  00104	6a 00		 push	 0
  00106	68 ff 00 00 00	 push	 255			; 000000ffH
  0010b	de ea		 fsubp	 ST(2), ST(0)
  0010d	d9 c9		 fxch	 ST(1)
  0010f	d9 9e 10 01 00
	00		 fstp	 DWORD PTR [esi+272]
  00115	e8 00 00 00 00	 call	 __ftol2_sse
  0011a	8b 16		 mov	 edx, DWORD PTR [esi]
  0011c	50		 push	 eax
  0011d	52		 push	 edx
  0011e	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend

; 3829 : 					GCManaSend(lpPartyObj->m_Index,lpPartyObj->Mana,0xFF,0,lpPartyObj->BP);

  00123	d9 86 10 01 00
	00		 fld	 DWORD PTR [esi+272]
  00129	8b 86 28 01 00
	00		 mov	 eax, DWORD PTR [esi+296]
  0012f	83 c4 14	 add	 esp, 20			; 00000014H
  00132	50		 push	 eax
  00133	6a 00		 push	 0
  00135	68 ff 00 00 00	 push	 255			; 000000ffH
  0013a	e8 00 00 00 00	 call	 __ftol2_sse
  0013f	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00141	50		 push	 eax
  00142	51		 push	 ecx
  00143	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  00148	83 c4 14	 add	 esp, 20			; 00000014H

; 3830 : 					retcount++;

  0014b	47		 inc	 edi
$LN5@DecPartyMe:

; 3806 : 
; 3807 : 	for(int n = 0; n < MAX_USER_IN_PARTY;n++)

  0014c	8b 45 08	 mov	 eax, DWORD PTR tv330[ebp]
  0014f	83 c0 04	 add	 eax, 4
  00152	ff 4d fc	 dec	 DWORD PTR tv92[ebp]
  00155	89 45 08	 mov	 DWORD PTR tv330[ebp], eax
  00158	0f 85 02 ff ff
	ff		 jne	 $LL18@DecPartyMe

; 3831 : 				}
; 3832 : 			}
; 3833 : 		}
; 3834 : 	}
; 3835 : 
; 3836 : 	return retcount;

  0015e	8b c7		 mov	 eax, edi
  00160	5f		 pop	 edi
  00161	5e		 pop	 esi
  00162	5b		 pop	 ebx

; 3837 : }

  00163	8b e5		 mov	 esp, ebp
  00165	5d		 pop	 ebp
  00166	c3		 ret	 0
?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; DecPartyMemberHPandMP
_TEXT	ENDS
PUBLIC	?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSummon
EXTRN	?gObjAddMonster@@YAFH@Z:PROC			; gObjAddMonster
EXTRN	?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z:PROC	; gObjGetRandomFreeLocation
; Function compile flags: /Ogtp
;	COMDAT ?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_bSummonSuccess$ = -7					; size = 1
_cSummonY$ = -2						; size = 1
_cSY$223191 = -1					; size = 1
_aIndex$ = 8						; size = 4
_cSX$223190 = 11					; size = 1
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillSummon, COMDAT
; _this$ = ecx

; 3840 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3841 : 	if(OBJMAX_RANGE(aIndex)==false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	83 ec 08	 sub	 esp, 8
  00009	85 c0		 test	 eax, eax
  0000b	78 0e		 js	 SHORT $LN22@SkillSummo
  0000d	33 c9		 xor	 ecx, ecx
  0000f	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00014	0f 9e c1	 setle	 cl
  00017	85 c9		 test	 ecx, ecx
  00019	75 08		 jne	 SHORT $LN15@SkillSummo
$LN22@SkillSummo:

; 3842 : 	{
; 3843 : 		return false;

  0001b	33 c0		 xor	 eax, eax

; 3923 : }

  0001d	8b e5		 mov	 esp, ebp
  0001f	5d		 pop	 ebp
  00020	c2 0c 00	 ret	 12			; 0000000cH
$LN15@SkillSummo:

; 3844 : 	}
; 3845 : 
; 3846 : 	int iSummonCount = 1;
; 3847 : 	int iSummonMonterType = 0;
; 3848 : 	BYTE bDoSummon = 1;
; 3849 : 	BYTE bSummonSuccess = 0;
; 3850 : 	BYTE cSummonX = 0;
; 3851 : 	BYTE cSummonY = 0;
; 3852 : 
; 3853 : 	LPOBJ lpObj = &gObj[aIndex];

  00023	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00029	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002f	53		 push	 ebx
  00030	8b d8		 mov	 ebx, eax

; 3854 : 
; 3855 : 	switch(lpObj->Class)

  00032	0f b7 83 b8 00
	00 00		 movzx	 eax, WORD PTR [ebx+184]
  00039	57		 push	 edi
  0003a	05 5f ff ff ff	 add	 eax, -161		; ffffff5fH
  0003f	33 ff		 xor	 edi, edi
  00041	c6 45 f9 00	 mov	 BYTE PTR _bSummonSuccess$[ebp], 0
  00045	c6 45 fe 00	 mov	 BYTE PTR _cSummonY$[ebp], 0
  00049	83 f8 72	 cmp	 eax, 114		; 00000072H
  0004c	0f 87 d7 00 00
	00		 ja	 $LN6@SkillSummo
  00052	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN23@SkillSummo[eax]
  00059	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN35@SkillSummo[eax*4]
$LN12@SkillSummo:

; 3856 : 	{
; 3857 : 	case 161:
; 3858 : 		iSummonMonterType = rand()%2+ 147;

  00060	e8 00 00 00 00	 call	 _rand
  00065	8b f8		 mov	 edi, eax
  00067	81 e7 01 00 00
	80		 and	 edi, -2147483647	; 80000001H
  0006d	79 05		 jns	 SHORT $LN27@SkillSummo
  0006f	4f		 dec	 edi
  00070	83 cf fe	 or	 edi, -2			; fffffffeH
  00073	47		 inc	 edi
$LN27@SkillSummo:
  00074	81 c7 93 00 00
	00		 add	 edi, 147		; 00000093H

; 3859 : 		bDoSummon = (rand()%15) ? false : true;
; 3860 : 		break;

  0007a	e9 8a 00 00 00	 jmp	 $LN34@SkillSummo
$LN11@SkillSummo:

; 3861 : 	case 181:
; 3862 : 		iSummonMonterType = rand()%2+ 177;

  0007f	e8 00 00 00 00	 call	 _rand
  00084	8b f8		 mov	 edi, eax
  00086	81 e7 01 00 00
	80		 and	 edi, -2147483647	; 80000001H
  0008c	79 05		 jns	 SHORT $LN28@SkillSummo
  0008e	4f		 dec	 edi
  0008f	83 cf fe	 or	 edi, -2			; fffffffeH
  00092	47		 inc	 edi
$LN28@SkillSummo:
  00093	81 c7 b1 00 00
	00		 add	 edi, 177		; 000000b1H

; 3863 : 		bDoSummon = (rand()%15) ? false : true;
; 3864 : 		break;

  00099	eb 6e		 jmp	 SHORT $LN34@SkillSummo
$LN10@SkillSummo:

; 3865 : 	case 189:
; 3866 : 		iSummonMonterType = rand()%2+ 185;

  0009b	e8 00 00 00 00	 call	 _rand
  000a0	8b f8		 mov	 edi, eax
  000a2	81 e7 01 00 00
	80		 and	 edi, -2147483647	; 80000001H
  000a8	79 05		 jns	 SHORT $LN29@SkillSummo
  000aa	4f		 dec	 edi
  000ab	83 cf fe	 or	 edi, -2			; fffffffeH
  000ae	47		 inc	 edi
$LN29@SkillSummo:
  000af	81 c7 b9 00 00
	00		 add	 edi, 185		; 000000b9H

; 3867 : 		bDoSummon = (rand()%15) ? false : true;
; 3868 : 		break;

  000b5	eb 52		 jmp	 SHORT $LN34@SkillSummo
$LN9@SkillSummo:

; 3869 : 	case 197:
; 3870 : 		iSummonMonterType = rand()%2+ 193;

  000b7	e8 00 00 00 00	 call	 _rand
  000bc	8b f8		 mov	 edi, eax
  000be	81 e7 01 00 00
	80		 and	 edi, -2147483647	; 80000001H
  000c4	79 05		 jns	 SHORT $LN30@SkillSummo
  000c6	4f		 dec	 edi
  000c7	83 cf fe	 or	 edi, -2			; fffffffeH
  000ca	47		 inc	 edi
$LN30@SkillSummo:
  000cb	81 c7 c1 00 00
	00		 add	 edi, 193		; 000000c1H

; 3871 : 		bDoSummon = (rand()%15) ? false : true;
; 3872 : 		break;

  000d1	eb 36		 jmp	 SHORT $LN34@SkillSummo
$LN8@SkillSummo:

; 3873 : 	case 267:
; 3874 : 		iSummonMonterType = rand()%2+ 263;

  000d3	e8 00 00 00 00	 call	 _rand
  000d8	8b f8		 mov	 edi, eax
  000da	81 e7 01 00 00
	80		 and	 edi, -2147483647	; 80000001H
  000e0	79 05		 jns	 SHORT $LN31@SkillSummo
  000e2	4f		 dec	 edi
  000e3	83 cf fe	 or	 edi, -2			; fffffffeH
  000e6	47		 inc	 edi
$LN31@SkillSummo:
  000e7	81 c7 07 01 00
	00		 add	 edi, 263		; 00000107H

; 3875 : 		bDoSummon = (rand()%15) ? false : true;
; 3876 : 		break;

  000ed	eb 1a		 jmp	 SHORT $LN34@SkillSummo
$LN7@SkillSummo:

; 3877 : 	case 275:
; 3878 : 		iSummonMonterType = rand()%2+ 271;

  000ef	e8 00 00 00 00	 call	 _rand
  000f4	8b f8		 mov	 edi, eax
  000f6	81 e7 01 00 00
	80		 and	 edi, -2147483647	; 80000001H
  000fc	79 05		 jns	 SHORT $LN32@SkillSummo
  000fe	4f		 dec	 edi
  000ff	83 cf fe	 or	 edi, -2			; fffffffeH
  00102	47		 inc	 edi
$LN32@SkillSummo:
  00103	81 c7 0f 01 00
	00		 add	 edi, 271		; 0000010fH
$LN34@SkillSummo:

; 3879 : 		bDoSummon = (rand()%15) ? false : true;

  00109	e8 00 00 00 00	 call	 _rand
  0010e	99		 cdq
  0010f	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  00114	f7 f9		 idiv	 ecx
  00116	85 d2		 test	 edx, edx
  00118	0f 94 c0	 sete	 al

; 3880 : 		break;
; 3881 : 	}
; 3882 : 
; 3883 : 	if(bDoSummon == false)

  0011b	84 c0		 test	 al, al
  0011d	75 0a		 jne	 SHORT $LN6@SkillSummo

; 3884 : 	{
; 3885 : 		return false;

  0011f	5f		 pop	 edi
  00120	33 c0		 xor	 eax, eax
  00122	5b		 pop	 ebx

; 3923 : }

  00123	8b e5		 mov	 esp, ebp
  00125	5d		 pop	 ebp
  00126	c2 0c 00	 ret	 12			; 0000000cH
$LN6@SkillSummo:

; 3886 : 	}
; 3887 : 
; 3888 : 	for(int iSC = 0; iSC < iSummonCount; iSC++)
; 3889 : 	{
; 3890 : 		BYTE cSX = lpObj->X;

  00129	8a 93 44 01 00
	00		 mov	 dl, BYTE PTR [ebx+324]

; 3891 : 		BYTE cSY = lpObj->Y;

  0012f	8a 83 46 01 00
	00		 mov	 al, BYTE PTR [ebx+326]

; 3892 : 
; 3893 : 		if(gObjGetRandomFreeLocation(lpObj->MapNumber,(BYTE &)cSX,(BYTE &)cSY,2,2,30)==1)

  00135	6a 1e		 push	 30			; 0000001eH
  00137	6a 02		 push	 2
  00139	6a 02		 push	 2
  0013b	8d 4d ff	 lea	 ecx, DWORD PTR _cSY$223191[ebp]
  0013e	88 55 0b	 mov	 BYTE PTR _cSX$223190[ebp], dl
  00141	88 45 ff	 mov	 BYTE PTR _cSY$223191[ebp], al
  00144	0f b6 83 49 01
	00 00		 movzx	 eax, BYTE PTR [ebx+329]
  0014b	51		 push	 ecx
  0014c	8d 55 0b	 lea	 edx, DWORD PTR _cSX$223190[ebp]
  0014f	52		 push	 edx
  00150	50		 push	 eax
  00151	e8 00 00 00 00	 call	 ?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z ; gObjGetRandomFreeLocation
  00156	83 c4 18	 add	 esp, 24			; 00000018H
  00159	83 f8 01	 cmp	 eax, 1
  0015c	0f 85 61 01 00
	00		 jne	 $LN24@SkillSummo

; 3894 : 		{
; 3895 : 			int result = gObjAddMonster(lpObj->MapNumber);

  00162	0f b6 8b 49 01
	00 00		 movzx	 ecx, BYTE PTR [ebx+329]
  00169	51		 push	 ecx
  0016a	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  0016f	98		 cwde
  00170	83 c4 04	 add	 esp, 4

; 3896 : 
; 3897 : 			if(result >= 0)

  00173	85 c0		 test	 eax, eax
  00175	0f 88 48 01 00
	00		 js	 $LN24@SkillSummo

; 3898 : 			{
; 3899 : 				gObj[result].m_PosNum = (WORD)-1;

  0017b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00181	56		 push	 esi
  00182	8b f0		 mov	 esi, eax
  00184	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0018a	83 ca ff	 or	 edx, -1
  0018d	66 89 94 0e b0
	03 00 00	 mov	 WORD PTR [esi+ecx+944], dx

; 3900 : 				gObj[result].X = cSX;

  00195	0f b6 55 0b	 movzx	 edx, BYTE PTR _cSX$223190[ebp]
  00199	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0019f	66 89 94 0e 44
	01 00 00	 mov	 WORD PTR [esi+ecx+324], dx

; 3901 : 				gObj[result].Y = cSY;

  001a7	0f b6 55 ff	 movzx	 edx, BYTE PTR _cSY$223191[ebp]
  001ab	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001b1	66 89 94 0e 46
	01 00 00	 mov	 WORD PTR [esi+ecx+326], dx

; 3902 : 				gObj[result].MapNumber = lpObj->MapNumber;

  001b9	0f b6 93 49 01
	00 00		 movzx	 edx, BYTE PTR [ebx+329]
  001c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001c6	88 94 0e 49 01
	00 00		 mov	 BYTE PTR [esi+ecx+329], dl

; 3903 : 				gObj[result].TX = gObj[result].X;

  001cd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001d3	0f b7 94 0e 44
	01 00 00	 movzx	 edx, WORD PTR [esi+ecx+324]
  001db	66 89 94 0e 7c
	01 00 00	 mov	 WORD PTR [esi+ecx+380], dx

; 3904 : 				gObj[result].TY = gObj[result].Y;

  001e3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001e9	0f b7 94 0e 46
	01 00 00	 movzx	 edx, WORD PTR [esi+ecx+326]
  001f1	66 89 94 0e 7e
	01 00 00	 mov	 WORD PTR [esi+ecx+382], dx

; 3905 : 				gObj[result].m_OldX = gObj[result].X;

  001f9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001ff	0f b7 94 0e 44
	01 00 00	 movzx	 edx, WORD PTR [esi+ecx+324]
  00207	66 89 94 0e 78
	01 00 00	 mov	 WORD PTR [esi+ecx+376], dx

; 3906 : 				gObj[result].m_OldY = gObj[result].Y;

  0020f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00215	0f b7 94 0e 46
	01 00 00	 movzx	 edx, WORD PTR [esi+ecx+326]
  0021d	66 89 94 0e 7a
	01 00 00	 mov	 WORD PTR [esi+ecx+378], dx

; 3907 : 				gObj[result].Dir = 1;

  00225	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0022b	c6 84 0e 48 01
	00 00 01	 mov	 BYTE PTR [esi+ecx+328], 1

; 3908 : 				gObj[result].StartX = gObj[result].X;

  00233	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00239	0f b6 94 0e 44
	01 00 00	 movzx	 edx, BYTE PTR [esi+ecx+324]
  00241	88 94 0e 76 01
	00 00		 mov	 BYTE PTR [esi+ecx+374], dl

; 3909 : 				gObj[result].StartY = gObj[result].Y;

  00248	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0024e	0f b6 94 0e 46
	01 00 00	 movzx	 edx, BYTE PTR [esi+ecx+326]

; 3910 : 				gObjSetMonster(result,iSummonMonterType);

  00256	57		 push	 edi
  00257	50		 push	 eax
  00258	88 94 0e 77 01
	00 00		 mov	 BYTE PTR [esi+ecx+375], dl
  0025f	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster

; 3911 : 				gObj[result].m_Attribute = 60;

  00264	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0026a	b8 3c 00 00 00	 mov	 eax, 60			; 0000003cH
  0026f	66 89 84 0e b6
	04 00 00	 mov	 WORD PTR [esi+ecx+1206], ax

; 3912 : 				gObj[result].MaxRegenTime = 0;

  00277	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0027d	83 c4 08	 add	 esp, 8
  00280	c7 84 16 ac 03
	00 00 00 00 00
	00		 mov	 DWORD PTR [esi+edx+940], 0

; 3913 : 				gObj[result].Dir = rand()%8;

  0028b	e8 00 00 00 00	 call	 _rand
  00290	25 07 00 00 80	 and	 eax, -2147483641	; 80000007H
  00295	79 05		 jns	 SHORT $LN33@SkillSummo
  00297	48		 dec	 eax
  00298	83 c8 f8	 or	 eax, -8			; fffffff8H
  0029b	40		 inc	 eax
$LN33@SkillSummo:
  0029c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002a2	88 84 0e 48 01
	00 00		 mov	 BYTE PTR [esi+ecx+328], al

; 3914 : 				bSummonSuccess = 1;
; 3915 : 				cSummonX = gObj[result].StartX;

  002a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002ae	8a 8c 06 76 01
	00 00		 mov	 cl, BYTE PTR [esi+eax+374]

; 3916 : 				cSummonY = gObj[result].StartY;

  002b5	8a 84 06 77 01
	00 00		 mov	 al, BYTE PTR [esi+eax+375]
  002bc	c6 45 f9 01	 mov	 BYTE PTR _bSummonSuccess$[ebp], 1
  002c0	5e		 pop	 esi
  002c1	eb 05		 jmp	 SHORT $LN4@SkillSummo
$LN24@SkillSummo:
  002c3	8a 45 fe	 mov	 al, BYTE PTR _cSummonY$[ebp]
  002c6	8a c8		 mov	 cl, al
$LN4@SkillSummo:

; 3917 : 			}
; 3918 : 		}
; 3919 : 	}
; 3920 : 
; 3921 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_SUMMON,MAKE_NUMBERW(cSummonY, cSummonX),bSummonSuccess);

  002c8	8b 55 f9	 mov	 edx, DWORD PTR _bSummonSuccess$[ebp]
  002cb	0f b6 c0	 movzx	 eax, al
  002ce	52		 push	 edx
  002cf	66 c1 e0 08	 shl	 ax, 8
  002d3	0f b7 d0	 movzx	 edx, ax
  002d6	0f b6 c1	 movzx	 eax, cl
  002d9	0b d0		 or	 edx, eax
  002db	52		 push	 edx
  002dc	68 c8 00 00 00	 push	 200			; 000000c8H
  002e1	53		 push	 ebx
  002e2	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 3922 : 	return bSummonSuccess;

  002e7	0f b6 45 f9	 movzx	 eax, BYTE PTR _bSummonSuccess$[ebp]
  002eb	83 c4 10	 add	 esp, 16			; 00000010H
  002ee	5f		 pop	 edi
  002ef	5b		 pop	 ebx

; 3923 : }

  002f0	8b e5		 mov	 esp, ebp
  002f2	5d		 pop	 ebp
  002f3	c2 0c 00	 ret	 12			; 0000000cH
  002f6	8b ff		 npad	 2
$LN35@SkillSummo:
  002f8	00 00 00 00	 DD	 $LN12@SkillSummo
  002fc	00 00 00 00	 DD	 $LN11@SkillSummo
  00300	00 00 00 00	 DD	 $LN10@SkillSummo
  00304	00 00 00 00	 DD	 $LN9@SkillSummo
  00308	00 00 00 00	 DD	 $LN8@SkillSummo
  0030c	00 00 00 00	 DD	 $LN7@SkillSummo
  00310	00 00 00 00	 DD	 $LN6@SkillSummo
$LN23@SkillSummo:
  00314	00		 DB	 0
  00315	06		 DB	 6
  00316	06		 DB	 6
  00317	06		 DB	 6
  00318	06		 DB	 6
  00319	06		 DB	 6
  0031a	06		 DB	 6
  0031b	06		 DB	 6
  0031c	06		 DB	 6
  0031d	06		 DB	 6
  0031e	06		 DB	 6
  0031f	06		 DB	 6
  00320	06		 DB	 6
  00321	06		 DB	 6
  00322	06		 DB	 6
  00323	06		 DB	 6
  00324	06		 DB	 6
  00325	06		 DB	 6
  00326	06		 DB	 6
  00327	06		 DB	 6
  00328	01		 DB	 1
  00329	06		 DB	 6
  0032a	06		 DB	 6
  0032b	06		 DB	 6
  0032c	06		 DB	 6
  0032d	06		 DB	 6
  0032e	06		 DB	 6
  0032f	06		 DB	 6
  00330	02		 DB	 2
  00331	06		 DB	 6
  00332	06		 DB	 6
  00333	06		 DB	 6
  00334	06		 DB	 6
  00335	06		 DB	 6
  00336	06		 DB	 6
  00337	06		 DB	 6
  00338	03		 DB	 3
  00339	06		 DB	 6
  0033a	06		 DB	 6
  0033b	06		 DB	 6
  0033c	06		 DB	 6
  0033d	06		 DB	 6
  0033e	06		 DB	 6
  0033f	06		 DB	 6
  00340	06		 DB	 6
  00341	06		 DB	 6
  00342	06		 DB	 6
  00343	06		 DB	 6
  00344	06		 DB	 6
  00345	06		 DB	 6
  00346	06		 DB	 6
  00347	06		 DB	 6
  00348	06		 DB	 6
  00349	06		 DB	 6
  0034a	06		 DB	 6
  0034b	06		 DB	 6
  0034c	06		 DB	 6
  0034d	06		 DB	 6
  0034e	06		 DB	 6
  0034f	06		 DB	 6
  00350	06		 DB	 6
  00351	06		 DB	 6
  00352	06		 DB	 6
  00353	06		 DB	 6
  00354	06		 DB	 6
  00355	06		 DB	 6
  00356	06		 DB	 6
  00357	06		 DB	 6
  00358	06		 DB	 6
  00359	06		 DB	 6
  0035a	06		 DB	 6
  0035b	06		 DB	 6
  0035c	06		 DB	 6
  0035d	06		 DB	 6
  0035e	06		 DB	 6
  0035f	06		 DB	 6
  00360	06		 DB	 6
  00361	06		 DB	 6
  00362	06		 DB	 6
  00363	06		 DB	 6
  00364	06		 DB	 6
  00365	06		 DB	 6
  00366	06		 DB	 6
  00367	06		 DB	 6
  00368	06		 DB	 6
  00369	06		 DB	 6
  0036a	06		 DB	 6
  0036b	06		 DB	 6
  0036c	06		 DB	 6
  0036d	06		 DB	 6
  0036e	06		 DB	 6
  0036f	06		 DB	 6
  00370	06		 DB	 6
  00371	06		 DB	 6
  00372	06		 DB	 6
  00373	06		 DB	 6
  00374	06		 DB	 6
  00375	06		 DB	 6
  00376	06		 DB	 6
  00377	06		 DB	 6
  00378	06		 DB	 6
  00379	06		 DB	 6
  0037a	06		 DB	 6
  0037b	06		 DB	 6
  0037c	06		 DB	 6
  0037d	06		 DB	 6
  0037e	04		 DB	 4
  0037f	06		 DB	 6
  00380	06		 DB	 6
  00381	06		 DB	 6
  00382	06		 DB	 6
  00383	06		 DB	 6
  00384	06		 DB	 6
  00385	06		 DB	 6
  00386	05		 DB	 5
?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillSummon
_TEXT	ENDS
PUBLIC	?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToMagic
; Function compile flags: /Ogtp
;	COMDAT ?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillImmuneToMagic, COMDAT
; _this$ = ecx

; 3926 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3927 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN7@SkillImmun
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN2@SkillImmun
$LN7@SkillImmun:

; 3928 : 	{
; 3929 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 3942 : }

  0001a	5d		 pop	 ebp
  0001b	c2 08 00	 ret	 8
$LN2@SkillImmun:

; 3930 : 	}
; 3931 : 
; 3932 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002a	56		 push	 esi
  0002b	8b f0		 mov	 esi, eax

; 3933 : 
; 3934 : 	if(gObjSearchActiveEffect(lpObj, AT_IMMUNE_MAGIC) == FALSE && gObjSearchActiveEffect(lpObj, AT_IMMUNE_HARM) == FALSE) //season3 add-on

  0002d	6a 3f		 push	 63			; 0000003fH
  0002f	56		 push	 esi
  00030	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00035	83 c4 08	 add	 esp, 8
  00038	84 c0		 test	 al, al
  0003a	75 2e		 jne	 SHORT $LN1@SkillImmun
  0003c	6a 40		 push	 64			; 00000040H
  0003e	56		 push	 esi
  0003f	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00044	83 c4 08	 add	 esp, 8
  00047	84 c0		 test	 al, al
  00049	75 1f		 jne	 SHORT $LN1@SkillImmun

; 3935 : 	{
; 3936 : 		gObjApplyBuffEffectDuration(lpObj, AT_IMMUNE_MAGIC, 0, 0, 0, 0, 10); //season3 add-on

  0004b	6a 0a		 push	 10			; 0000000aH
  0004d	6a 00		 push	 0
  0004f	6a 00		 push	 0
  00051	6a 00		 push	 0
  00053	6a 00		 push	 0
  00055	6a 3f		 push	 63			; 0000003fH
  00057	56		 push	 esi
  00058	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0005d	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3937 : 		return true;

  00060	b8 01 00 00 00	 mov	 eax, 1
  00065	5e		 pop	 esi

; 3942 : }

  00066	5d		 pop	 ebp
  00067	c2 08 00	 ret	 8
$LN1@SkillImmun:

; 3938 : 	}
; 3939 : 
; 3940 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_IMMUNE_TO_MAGIC,lpObj->m_Index,1);
; 3941 : 	return false;

  0006a	33 c0		 xor	 eax, eax
  0006c	5e		 pop	 esi

; 3942 : }

  0006d	5d		 pop	 ebp
  0006e	c2 08 00	 ret	 8
?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillImmuneToMagic
_TEXT	ENDS
PUBLIC	?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToHarm
; Function compile flags: /Ogtp
;	COMDAT ?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillImmuneToHarm, COMDAT
; _this$ = ecx

; 3945 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3946 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN7@SkillImmun@2
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN2@SkillImmun@2
$LN7@SkillImmun@2:

; 3947 : 	{
; 3948 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 3961 : }

  0001a	5d		 pop	 ebp
  0001b	c2 08 00	 ret	 8
$LN2@SkillImmun@2:

; 3949 : 	}
; 3950 : 
; 3951 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002a	56		 push	 esi
  0002b	8b f0		 mov	 esi, eax

; 3952 : 
; 3953 : 	if(gObjSearchActiveEffect(lpObj, AT_IMMUNE_MAGIC) == FALSE && gObjSearchActiveEffect(lpObj, AT_IMMUNE_HARM) == FALSE) //season3 add-on

  0002d	6a 3f		 push	 63			; 0000003fH
  0002f	56		 push	 esi
  00030	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00035	83 c4 08	 add	 esp, 8
  00038	84 c0		 test	 al, al
  0003a	75 2e		 jne	 SHORT $LN1@SkillImmun@2
  0003c	6a 40		 push	 64			; 00000040H
  0003e	56		 push	 esi
  0003f	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00044	83 c4 08	 add	 esp, 8
  00047	84 c0		 test	 al, al
  00049	75 1f		 jne	 SHORT $LN1@SkillImmun@2

; 3954 : 	{
; 3955 : 		gObjApplyBuffEffectDuration(lpObj, AT_IMMUNE_HARM, 0, 0, 0, 0, 10); //season3 add-on

  0004b	6a 0a		 push	 10			; 0000000aH
  0004d	6a 00		 push	 0
  0004f	6a 00		 push	 0
  00051	6a 00		 push	 0
  00053	6a 00		 push	 0
  00055	6a 40		 push	 64			; 00000040H
  00057	56		 push	 esi
  00058	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0005d	83 c4 1c	 add	 esp, 28			; 0000001cH

; 3956 : 		return true;

  00060	b8 01 00 00 00	 mov	 eax, 1
  00065	5e		 pop	 esi

; 3961 : }

  00066	5d		 pop	 ebp
  00067	c2 08 00	 ret	 8
$LN1@SkillImmun@2:

; 3957 : 	}
; 3958 : 
; 3959 : 	//GCMagicAttackNumberSend(lpObj,AT_SKILL_IMMUNE_TO_HARM,lpObj->m_Index,1);
; 3960 : 	return false;

  0006a	33 c0		 xor	 eax, eax
  0006c	5e		 pop	 esi

; 3961 : }

  0006d	5d		 pop	 ebp
  0006e	c2 08 00	 ret	 8
?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillImmuneToHarm
_TEXT	ENDS
PUBLIC	?RemoveSpecificSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@H@Z ; CObjUseSkill::RemoveSpecificSkillState
EXTRN	?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z:PROC ; gObjRemoveBuffEffect
; Function compile flags: /Ogtp
;	COMDAT ?RemoveSpecificSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_iSkillNumber$ = 12					; size = 4
?RemoveSpecificSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@H@Z PROC ; CObjUseSkill::RemoveSpecificSkillState, COMDAT
; _this$ = ecx

; 3964 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3965 : 	if(lpObj->Type != OBJ_USER)

  00003	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00006	66 83 78 68 01	 cmp	 WORD PTR [eax+104], 1
  0000b	74 06		 je	 SHORT $LN4@RemoveSpec

; 3966 : 	{
; 3967 : 		return false;

  0000d	33 c0		 xor	 eax, eax

; 3982 : }

  0000f	5d		 pop	 ebp
  00010	c2 08 00	 ret	 8
$LN4@RemoveSpec:

; 3968 : 	}
; 3969 : 
; 3970 : 	int iViewSkillState = 0;
; 3971 : 
; 3972 : 	if(iSkillNumber == AT_SKILL_ATTACK)

  00013	8b 4d 0c	 mov	 ecx, DWORD PTR _iSkillNumber$[ebp]
  00016	83 f9 1c	 cmp	 ecx, 28			; 0000001cH
  00019	75 14		 jne	 SHORT $LN3@RemoveSpec

; 3973 : 	{
; 3974 : 		gObjRemoveBuffEffect(lpObj, AT_INCREASE_ATTACK); //season3 add-on

  0001b	6a 01		 push	 1

; 3977 : 	{
; 3978 : 		gObjRemoveBuffEffect(lpObj, AT_INCREASE_DEFENSE); //season3 add-on

  0001d	50		 push	 eax
  0001e	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  00023	83 c4 08	 add	 esp, 8

; 3979 : 	}
; 3980 : 
; 3981 : 	return true;

  00026	b8 01 00 00 00	 mov	 eax, 1

; 3982 : }

  0002b	5d		 pop	 ebp
  0002c	c2 08 00	 ret	 8
$LN3@RemoveSpec:

; 3975 : 	}
; 3976 : 	else if(iSkillNumber == AT_SKILL_DEFENSE)

  0002f	83 f9 1b	 cmp	 ecx, 27			; 0000001bH
  00032	75 0b		 jne	 SHORT $LN1@RemoveSpec

; 3977 : 	{
; 3978 : 		gObjRemoveBuffEffect(lpObj, AT_INCREASE_DEFENSE); //season3 add-on

  00034	6a 02		 push	 2
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  0003c	83 c4 08	 add	 esp, 8
$LN1@RemoveSpec:

; 3979 : 	}
; 3980 : 
; 3981 : 	return true;

  0003f	b8 01 00 00 00	 mov	 eax, 1

; 3982 : }

  00044	5d		 pop	 ebp
  00045	c2 08 00	 ret	 8
?RemoveSpecificSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@H@Z ENDP ; CObjUseSkill::RemoveSpecificSkillState
_TEXT	ENDS
PUBLIC	?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState
; Function compile flags: /Ogtp
;	COMDAT ?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z PROC ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState, COMDAT
; _this$ = ecx

; 3985 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3986 : 	if(lpObj->Type != OBJ_USER)

  00003	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00006	66 83 78 68 01	 cmp	 WORD PTR [eax+104], 1
  0000b	74 06		 je	 SHORT $LN1@RemoveAllC

; 3987 : 	{
; 3988 : 		return false;

  0000d	33 c0		 xor	 eax, eax

; 3996 : }

  0000f	5d		 pop	 ebp
  00010	c2 04 00	 ret	 4
$LN1@RemoveAllC:

; 3989 : 	}
; 3990 : 
; 3991 : 	lpObj->m_SkillAttackTime = 0;

  00013	33 c9		 xor	 ecx, ecx
  00015	88 88 28 04 00
	00		 mov	 BYTE PTR [eax+1064], cl

; 3992 : 	lpObj->m_SkillAttack = 0;

  0001b	89 88 24 04 00
	00		 mov	 DWORD PTR [eax+1060], ecx

; 3993 : 
; 3994 : 
; 3995 : 	return true;

  00021	8d 41 01	 lea	 eax, DWORD PTR [ecx+1]

; 3996 : }

  00024	5d		 pop	 ebp
  00025	c2 04 00	 ret	 4
?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z ENDP ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState
_TEXT	ENDS
PUBLIC	?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillKnightRush
; Function compile flags: /Ogtp
;	COMDAT ?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillKnightRush, COMDAT
; _this$ = ecx

; 3999 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4000 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN8@SkillKnigh
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN3@SkillKnigh
$LN8@SkillKnigh:

; 4001 : 	{
; 4002 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 4018 : }

  0001a	5d		 pop	 ebp
  0001b	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillKnigh:

; 4003 : 	}
; 4004 : 
; 4005 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4006 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ZtData\\Skills.ini");
; 4007 : 	if(!ZtConfig.Character.CastleSiegeSkillEnable)

  0002a	83 3d 6c 01 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+364, 0
  00031	57		 push	 edi
  00032	8b f8		 mov	 edi, eax
  00034	75 15		 jne	 SHORT $LN1@SkillKnigh

; 4008 : 	{
; 4009 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00036	8a 87 49 01 00
	00		 mov	 al, BYTE PTR [edi+329]
  0003c	3c 1e		 cmp	 al, 30			; 0000001eH
  0003e	74 0b		 je	 SHORT $LN1@SkillKnigh
  00040	3c 1f		 cmp	 al, 31			; 0000001fH
  00042	74 07		 je	 SHORT $LN1@SkillKnigh

; 4010 : 		{
; 4011 : 			return false;

  00044	33 c0		 xor	 eax, eax
  00046	5f		 pop	 edi

; 4018 : }

  00047	5d		 pop	 ebp
  00048	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillKnigh:
  0004b	53		 push	 ebx

; 4012 : 		}
; 4013 : 	}
; 4014 : 
; 4015 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0004c	8b 5d 10	 mov	 ebx, DWORD PTR _lpMagic$[ebp]
  0004f	0f b7 43 08	 movzx	 eax, WORD PTR [ebx+8]
  00053	56		 push	 esi
  00054	8b 75 0c	 mov	 esi, DWORD PTR _aTargetIndex$[ebp]
  00057	6a 01		 push	 1
  00059	56		 push	 esi
  0005a	50		 push	 eax
  0005b	57		 push	 edi
  0005c	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4016 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  00061	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00067	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006d	6a 00		 push	 0
  0006f	6a 00		 push	 0
  00071	6a 00		 push	 0
  00073	6a 00		 push	 0
  00075	6a 01		 push	 1
  00077	6a 00		 push	 0
  00079	53		 push	 ebx
  0007a	56		 push	 esi
  0007b	57		 push	 edi
  0007c	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00081	83 c4 34	 add	 esp, 52			; 00000034H
  00084	5e		 pop	 esi
  00085	5b		 pop	 ebx

; 4017 : 	return true;

  00086	b8 01 00 00 00	 mov	 eax, 1
  0008b	5f		 pop	 edi

; 4018 : }

  0008c	5d		 pop	 ebp
  0008d	c2 0c 00	 ret	 12			; 0000000cH
?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillKnightRush
_TEXT	ENDS
PUBLIC	?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillWizardJavalin
; Function compile flags: /Ogtp
;	COMDAT ?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillWizardJavalin, COMDAT
; _this$ = ecx

; 4024 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 4025 : 	if(OBJMAX_RANGE(aIndex) == false)

  00004	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00007	85 f6		 test	 esi, esi
  00009	78 0f		 js	 SHORT $LN8@SkillWizar
  0000b	33 c0		 xor	 eax, eax
  0000d	81 fe 97 3a 00
	00		 cmp	 esi, 14999		; 00003a97H
  00013	0f 9e c0	 setle	 al
  00016	85 c0		 test	 eax, eax
  00018	75 07		 jne	 SHORT $LN3@SkillWizar
$LN8@SkillWizar:

; 4026 : 	{
; 4027 : 		return false;

  0001a	33 c0		 xor	 eax, eax
  0001c	5e		 pop	 esi

; 4047 : }

  0001d	5d		 pop	 ebp
  0001e	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillWizar:

; 4028 : 	}
; 4029 : 
; 4030 : 	LPOBJ lpObj = &gObj[aIndex];

  00021	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00027	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4031 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ZtData\\Skills.ini");
; 4032 : 	if(!ZtConfig.Character.CastleSiegeSkillEnable)

  0002d	83 3d 6c 01 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+364, 0
  00034	75 0e		 jne	 SHORT $LN1@SkillWizar

; 4033 : 	{
; 4034 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00036	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  0003c	3c 1e		 cmp	 al, 30			; 0000001eH
  0003e	74 04		 je	 SHORT $LN1@SkillWizar
  00040	3c 1f		 cmp	 al, 31			; 0000001fH

; 4035 : 		{
; 4036 : 			return false;

  00042	75 d6		 jne	 SHORT $LN8@SkillWizar
$LN1@SkillWizar:
  00044	53		 push	 ebx

; 4037 : 		}
; 4038 : 	}
; 4039 : 
; 4040 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00045	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  00048	57		 push	 edi
  00049	8b 7d 10	 mov	 edi, DWORD PTR _lpMagic$[ebp]
  0004c	0f b7 47 08	 movzx	 eax, WORD PTR [edi+8]
  00050	6a 01		 push	 1
  00052	53		 push	 ebx
  00053	50		 push	 eax
  00054	56		 push	 esi
  00055	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4041 : 
; 4042 : 	int iDelay = 500;
; 4043 : 
; 4044 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,iDelay,lpMagic->m_Skill,0);

  0005a	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  0005d	6a 00		 push	 0
  0005f	51		 push	 ecx
  00060	68 f4 01 00 00	 push	 500			; 000001f4H
  00065	53		 push	 ebx
  00066	6a 32		 push	 50			; 00000032H
  00068	56		 push	 esi
  00069	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay

; 4045 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,iDelay+200,lpMagic->m_Skill,0);

  0006e	8b 57 08	 mov	 edx, DWORD PTR [edi+8]
  00071	6a 00		 push	 0
  00073	52		 push	 edx
  00074	68 bc 02 00 00	 push	 700			; 000002bcH
  00079	53		 push	 ebx
  0007a	6a 32		 push	 50			; 00000032H
  0007c	56		 push	 esi
  0007d	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00082	83 c4 40	 add	 esp, 64			; 00000040H
  00085	5f		 pop	 edi
  00086	5b		 pop	 ebx

; 4046 : 	return true;

  00087	b8 01 00 00 00	 mov	 eax, 1
  0008c	5e		 pop	 esi

; 4047 : }

  0008d	5d		 pop	 ebp
  0008e	c2 0c 00	 ret	 12			; 0000000cH
?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillWizardJavalin
_TEXT	ENDS
PUBLIC	?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillElfRush
; Function compile flags: /Ogtp
;	COMDAT ?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillElfRush, COMDAT
; _this$ = ecx

; 4053 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4054 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN8@SkillElfRu
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN3@SkillElfRu
$LN8@SkillElfRu:

; 4055 : 	{
; 4056 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 4073 : }

  0001a	5d		 pop	 ebp
  0001b	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillElfRu:

; 4057 : 	}
; 4058 : 
; 4059 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4060 : 
; 4061 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ZtData\\Skills.ini");
; 4062 : 	if(!ZtConfig.Character.CastleSiegeSkillEnable)

  0002a	83 3d 6c 01 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+364, 0
  00031	56		 push	 esi
  00032	8b f0		 mov	 esi, eax
  00034	75 15		 jne	 SHORT $LN1@SkillElfRu

; 4063 : 	{
; 4064 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00036	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  0003c	3c 1e		 cmp	 al, 30			; 0000001eH
  0003e	74 0b		 je	 SHORT $LN1@SkillElfRu
  00040	3c 1f		 cmp	 al, 31			; 0000001fH
  00042	74 07		 je	 SHORT $LN1@SkillElfRu

; 4065 : 		{
; 4066 : 			return false;

  00044	33 c0		 xor	 eax, eax
  00046	5e		 pop	 esi

; 4073 : }

  00047	5d		 pop	 ebp
  00048	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillElfRu:
  0004b	53		 push	 ebx

; 4067 : 		}
; 4068 : 	}
; 4069 : 
; 4070 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0004c	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0004f	57		 push	 edi
  00050	8b 7d 10	 mov	 edi, DWORD PTR _lpMagic$[ebp]
  00053	0f b7 47 08	 movzx	 eax, WORD PTR [edi+8]
  00057	6a 01		 push	 1
  00059	53		 push	 ebx
  0005a	50		 push	 eax
  0005b	56		 push	 esi
  0005c	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4071 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,800,lpMagic->m_Skill,0);

  00061	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  00064	6a 00		 push	 0
  00066	51		 push	 ecx
  00067	68 20 03 00 00	 push	 800			; 00000320H
  0006c	53		 push	 ebx
  0006d	6a 32		 push	 50			; 00000032H
  0006f	56		 push	 esi
  00070	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00075	83 c4 28	 add	 esp, 40			; 00000028H
  00078	5f		 pop	 edi
  00079	5b		 pop	 ebx

; 4072 : 	return true;

  0007a	b8 01 00 00 00	 mov	 eax, 1
  0007f	5e		 pop	 esi

; 4073 : }

  00080	5d		 pop	 ebp
  00081	c2 0c 00	 ret	 12			; 0000000cH
?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillElfRush
_TEXT	ENDS
PUBLIC	?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumOneFlash
; Function compile flags: /Ogtp
;	COMDAT ?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillMagumOneFlash, COMDAT
; _this$ = ecx

; 4079 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4080 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN8@SkillMagum
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN3@SkillMagum
$LN8@SkillMagum:

; 4081 : 	{
; 4082 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 4098 : }

  0001a	5d		 pop	 ebp
  0001b	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillMagum:

; 4083 : 	}
; 4084 : 
; 4085 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4086 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ZtData\\Skills.ini");
; 4087 : 	if(!ZtConfig.Character.CastleSiegeSkillEnable)

  0002a	83 3d 6c 01 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+364, 0
  00031	56		 push	 esi
  00032	8b f0		 mov	 esi, eax
  00034	75 15		 jne	 SHORT $LN1@SkillMagum

; 4088 : 	{
; 4089 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00036	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  0003c	3c 1e		 cmp	 al, 30			; 0000001eH
  0003e	74 0b		 je	 SHORT $LN1@SkillMagum
  00040	3c 1f		 cmp	 al, 31			; 0000001fH
  00042	74 07		 je	 SHORT $LN1@SkillMagum

; 4090 : 		{
; 4091 : 			return false;

  00044	33 c0		 xor	 eax, eax
  00046	5e		 pop	 esi

; 4098 : }

  00047	5d		 pop	 ebp
  00048	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillMagum:
  0004b	53		 push	 ebx

; 4092 : 		}
; 4093 : 	}
; 4094 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0004c	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0004f	57		 push	 edi
  00050	8b 7d 10	 mov	 edi, DWORD PTR _lpMagic$[ebp]
  00053	0f b7 47 08	 movzx	 eax, WORD PTR [edi+8]
  00057	6a 01		 push	 1
  00059	53		 push	 ebx
  0005a	50		 push	 eax
  0005b	56		 push	 esi
  0005c	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4095 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  00061	6a 00		 push	 0
  00063	6a 00		 push	 0
  00065	8b cb		 mov	 ecx, ebx
  00067	6a 00		 push	 0
  00069	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0006f	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00075	6a 00		 push	 0
  00077	6a 01		 push	 1
  00079	6a 00		 push	 0
  0007b	57		 push	 edi
  0007c	51		 push	 ecx
  0007d	56		 push	 esi
  0007e	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack

; 4096 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,100,lpMagic->m_Skill,0);

  00083	8b 57 08	 mov	 edx, DWORD PTR [edi+8]
  00086	6a 00		 push	 0
  00088	52		 push	 edx
  00089	6a 64		 push	 100			; 00000064H
  0008b	53		 push	 ebx
  0008c	6a 32		 push	 50			; 00000032H
  0008e	56		 push	 esi
  0008f	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00094	83 c4 4c	 add	 esp, 76			; 0000004cH
  00097	5f		 pop	 edi
  00098	5b		 pop	 ebx

; 4097 : 	return true;

  00099	b8 01 00 00 00	 mov	 eax, 1
  0009e	5e		 pop	 esi

; 4098 : }

  0009f	5d		 pop	 ebp
  000a0	c2 0c 00	 ret	 12			; 0000000cH
?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillMagumOneFlash
_TEXT	ENDS
PUBLIC	?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumDeathCannon
; Function compile flags: /Ogtp
;	COMDAT ?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillMagumDeathCannon, COMDAT
; _this$ = ecx

; 4104 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4105 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN8@SkillMagum@2
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN3@SkillMagum@2
$LN8@SkillMagum@2:

; 4106 : 	{
; 4107 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 4123 : }

  0001a	5d		 pop	 ebp
  0001b	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillMagum@2:

; 4108 : 	}
; 4109 : 
; 4110 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4111 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ZtData\\Skills.ini");
; 4112 : 	if(!ZtConfig.Character.CastleSiegeSkillEnable)

  0002a	83 3d 6c 01 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+364, 0
  00031	57		 push	 edi
  00032	8b f8		 mov	 edi, eax
  00034	75 15		 jne	 SHORT $LN1@SkillMagum@2

; 4113 : 	{
; 4114 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00036	8a 87 49 01 00
	00		 mov	 al, BYTE PTR [edi+329]
  0003c	3c 1e		 cmp	 al, 30			; 0000001eH
  0003e	74 0b		 je	 SHORT $LN1@SkillMagum@2
  00040	3c 1f		 cmp	 al, 31			; 0000001fH
  00042	74 07		 je	 SHORT $LN1@SkillMagum@2

; 4115 : 		{
; 4116 : 			return false;

  00044	33 c0		 xor	 eax, eax
  00046	5f		 pop	 edi

; 4123 : }

  00047	5d		 pop	 ebp
  00048	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillMagum@2:
  0004b	53		 push	 ebx

; 4117 : 		}
; 4118 : 	}
; 4119 : 
; 4120 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0004c	8b 5d 10	 mov	 ebx, DWORD PTR _lpMagic$[ebp]
  0004f	0f b7 43 08	 movzx	 eax, WORD PTR [ebx+8]
  00053	56		 push	 esi
  00054	8b 75 0c	 mov	 esi, DWORD PTR _aTargetIndex$[ebp]
  00057	6a 01		 push	 1
  00059	56		 push	 esi
  0005a	50		 push	 eax
  0005b	57		 push	 edi
  0005c	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4121 : 	gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,0,1,0,0,0,0);

  00061	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00067	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006d	6a 00		 push	 0
  0006f	6a 00		 push	 0
  00071	6a 00		 push	 0
  00073	6a 00		 push	 0
  00075	6a 01		 push	 1
  00077	6a 00		 push	 0
  00079	53		 push	 ebx
  0007a	56		 push	 esi
  0007b	57		 push	 edi
  0007c	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00081	83 c4 34	 add	 esp, 52			; 00000034H
  00084	5e		 pop	 esi
  00085	5b		 pop	 ebx

; 4122 : 	return true;

  00086	b8 01 00 00 00	 mov	 eax, 1
  0008b	5f		 pop	 edi

; 4123 : }

  0008c	5d		 pop	 ebp
  0008d	c2 0c 00	 ret	 12			; 0000000cH
?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillMagumDeathCannon
_TEXT	ENDS
PUBLIC	?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarklordSpaceSplit
; Function compile flags: /Ogtp
;	COMDAT ?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDarklordSpaceSplit, COMDAT
; _this$ = ecx

; 4129 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4130 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN8@SkillDarkl
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN3@SkillDarkl
$LN8@SkillDarkl:

; 4131 : 	{
; 4132 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 4149 : }

  0001a	5d		 pop	 ebp
  0001b	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillDarkl:

; 4133 : 	}
; 4134 : 
; 4135 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4136 : 
; 4137 : 	//int ExBKCSSKill = GetPrivateProfileInt("CastleSkills","CastleSkillsOnNormal",0,"..\\Data\\ZtData\\Skills.ini");
; 4138 : 	if(!ZtConfig.Character.CastleSiegeSkillEnable)

  0002a	83 3d 6c 01 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+364, 0
  00031	56		 push	 esi
  00032	8b f0		 mov	 esi, eax
  00034	75 15		 jne	 SHORT $LN1@SkillDarkl

; 4139 : 	{
; 4140 : 		if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00036	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  0003c	3c 1e		 cmp	 al, 30			; 0000001eH
  0003e	74 0b		 je	 SHORT $LN1@SkillDarkl
  00040	3c 1f		 cmp	 al, 31			; 0000001fH
  00042	74 07		 je	 SHORT $LN1@SkillDarkl

; 4141 : 		{
; 4142 : 			return false;

  00044	33 c0		 xor	 eax, eax
  00046	5e		 pop	 esi

; 4149 : }

  00047	5d		 pop	 ebp
  00048	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillDarkl:
  0004b	53		 push	 ebx

; 4143 : 		}
; 4144 : 	}
; 4145 : 
; 4146 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0004c	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0004f	57		 push	 edi
  00050	8b 7d 10	 mov	 edi, DWORD PTR _lpMagic$[ebp]
  00053	0f b7 47 08	 movzx	 eax, WORD PTR [edi+8]
  00057	6a 01		 push	 1
  00059	53		 push	 ebx
  0005a	50		 push	 eax
  0005b	56		 push	 esi
  0005c	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4147 : 	gObjAddAttackProcMsgSendDelay(lpObj,50,aTargetIndex,500,lpMagic->m_Skill,0);

  00061	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  00064	6a 00		 push	 0
  00066	51		 push	 ecx
  00067	68 f4 01 00 00	 push	 500			; 000001f4H
  0006c	53		 push	 ebx
  0006d	6a 32		 push	 50			; 00000032H
  0006f	56		 push	 esi
  00070	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00075	83 c4 28	 add	 esp, 40			; 00000028H
  00078	5f		 pop	 edi
  00079	5b		 pop	 ebx

; 4148 : 	return true;

  0007a	b8 01 00 00 00	 mov	 eax, 1
  0007f	5e		 pop	 esi

; 4149 : }

  00080	5d		 pop	 ebp
  00081	c2 0c 00	 ret	 12			; 0000000cH
?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDarklordSpaceSplit
_TEXT	ENDS
PUBLIC	?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBrandOfSkill
; Function compile flags: /Ogtp
;	COMDAT ?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv336 = -4						; size = 4
tv306 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillBrandOfSkill, COMDAT
; _this$ = ecx

; 4152 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	57		 push	 edi

; 4153 : 	if(OBJMAX_RANGE(aIndex) == false)

  00005	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00008	85 ff		 test	 edi, edi
  0000a	78 0f		 js	 SHORT $LN19@SkillBrand
  0000c	33 c0		 xor	 eax, eax
  0000e	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  00014	0f 9e c0	 setle	 al
  00017	85 c0		 test	 eax, eax
  00019	75 09		 jne	 SHORT $LN9@SkillBrand
$LN19@SkillBrand:

; 4154 : 	{
; 4155 : 		return false;

  0001b	33 c0		 xor	 eax, eax
  0001d	5f		 pop	 edi

; 4199 : }

  0001e	8b e5		 mov	 esp, ebp
  00020	5d		 pop	 ebp
  00021	c2 0c 00	 ret	 12			; 0000000cH
$LN9@SkillBrand:

; 4156 : 	}
; 4157 : 
; 4158 : 	LPOBJ lpObj = &gObj[aIndex];

  00024	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0002a	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4159 : 	int tObjNum;
; 4160 : 
; 4161 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00030	8a 87 49 01 00
	00		 mov	 al, BYTE PTR [edi+329]
  00036	3c 1e		 cmp	 al, 30			; 0000001eH
  00038	74 04		 je	 SHORT $LN8@SkillBrand
  0003a	3c 1f		 cmp	 al, 31			; 0000001fH

; 4162 : 	{
; 4163 : 		return false;

  0003c	75 dd		 jne	 SHORT $LN19@SkillBrand
$LN8@SkillBrand:

; 4164 : 	}
; 4165 : 
; 4166 : 	int count = 0;
; 4167 : 
; 4168 : 	gObjApplyBuffEffectDuration(lpObj, AT_DARK_ROD_SKILL, 0, 0, 0, 0, 10); //season3 add-on

  0003e	6a 0a		 push	 10			; 0000000aH
  00040	6a 00		 push	 0
  00042	6a 00		 push	 0
  00044	6a 00		 push	 0
  00046	6a 00		 push	 0
  00048	6a 13		 push	 19			; 00000013H
  0004a	57		 push	 edi
  0004b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 4169 : 
; 4170 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_BRAND_OF_SKILL,lpObj->m_Index,1);

  00050	8b 07		 mov	 eax, DWORD PTR [edi]
  00052	6a 01		 push	 1
  00054	50		 push	 eax
  00055	6a 4b		 push	 75			; 0000004bH
  00057	57		 push	 edi
  00058	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0005d	83 c4 2c	 add	 esp, 44			; 0000002cH
  00060	8d 87 ae 08 00
	00		 lea	 eax, DWORD PTR [edi+2222]
  00066	53		 push	 ebx
  00067	89 45 08	 mov	 DWORD PTR tv306[ebp], eax
  0006a	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv336[ebp], 75 ; 0000004bH
  00071	56		 push	 esi
$LL7@SkillBrand:

; 4171 : 
; 4172 : 	while( true )
; 4173 : 	{
; 4174 : 		if(lpObj->VpPlayer2[count].state != 0)

  00072	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  00076	74 65		 je	 SHORT $LN2@SkillBrand

; 4175 : 		{
; 4176 : 			tObjNum = lpObj->VpPlayer2[count].number;

  00078	0f bf 18	 movsx	 ebx, WORD PTR [eax]

; 4177 : 
; 4178 : 			if(OBJMAX_RANGE(tObjNum))

  0007b	85 db		 test	 ebx, ebx
  0007d	78 5e		 js	 SHORT $LN2@SkillBrand
  0007f	33 c9		 xor	 ecx, ecx
  00081	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  00087	0f 9e c1	 setle	 cl
  0008a	85 c9		 test	 ecx, ecx
  0008c	74 4f		 je	 SHORT $LN2@SkillBrand

; 4179 : 			{
; 4180 : 				if(lpObj->VpPlayer2[count].type == OBJ_USER)

  0008e	80 78 02 01	 cmp	 BYTE PTR [eax+2], 1
  00092	75 49		 jne	 SHORT $LN2@SkillBrand

; 4181 : 				{
; 4182 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  00094	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009a	8b f3		 mov	 esi, ebx
  0009c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000a2	8d 14 0e	 lea	 edx, DWORD PTR [esi+ecx]
  000a5	52		 push	 edx
  000a6	57		 push	 edi
  000a7	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000ac	83 c4 08	 add	 esp, 8
  000af	83 f8 05	 cmp	 eax, 5
  000b2	7d 26		 jge	 SHORT $LN20@SkillBrand

; 4183 : 					{
; 4184 : 						gObjApplyBuffEffectDuration(&gObj[tObjNum], AT_DARK_ROD_SKILL, 0, 0, 0, 0, 10); //season3 add-on

  000b4	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ba	6a 0a		 push	 10			; 0000000aH
  000bc	6a 00		 push	 0
  000be	6a 00		 push	 0
  000c0	6a 00		 push	 0
  000c2	6a 00		 push	 0
  000c4	6a 13		 push	 19			; 00000013H
  000c6	56		 push	 esi
  000c7	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 4185 : 						GCMagicAttackNumberSend(lpObj,AT_SKILL_BRAND_OF_SKILL,tObjNum,1);

  000cc	6a 01		 push	 1
  000ce	53		 push	 ebx
  000cf	6a 4b		 push	 75			; 0000004bH
  000d1	57		 push	 edi
  000d2	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000d7	83 c4 2c	 add	 esp, 44			; 0000002cH
$LN20@SkillBrand:
  000da	8b 45 08	 mov	 eax, DWORD PTR tv306[ebp]
$LN2@SkillBrand:

; 4186 : 					}
; 4187 : 				}
; 4188 : 			}
; 4189 : 		}
; 4190 : 
; 4191 : 		count++;

  000dd	83 c0 0c	 add	 eax, 12			; 0000000cH

; 4192 : 
; 4193 : 		if(count > MAX_VIEWPORT - 1)

  000e0	ff 4d fc	 dec	 DWORD PTR tv336[ebp]
  000e3	89 45 08	 mov	 DWORD PTR tv306[ebp], eax
  000e6	75 8a		 jne	 SHORT $LL7@SkillBrand

; 4194 : 		{
; 4195 : 			break;
; 4196 : 		}
; 4197 : 	}
; 4198 : 	return true;

  000e8	5e		 pop	 esi
  000e9	5b		 pop	 ebx
  000ea	b8 01 00 00 00	 mov	 eax, 1
  000ef	5f		 pop	 edi

; 4199 : }

  000f0	8b e5		 mov	 esp, ebp
  000f2	5d		 pop	 ebp
  000f3	c2 0c 00	 ret	 12			; 0000000cH
?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillBrandOfSkill
_TEXT	ENDS
PUBLIC	?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z ; CObjUseSkill::SkillStun
EXTRN	?gObjSetPosition@@YAXHHH@Z:PROC			; gObjSetPosition
EXTRN	?SkillElectricSparkHitBox@@3VCSkillHitBox@@A:BYTE ; SkillElectricSparkHitBox
EXTRN	?gObjSetKillCount@@YAXHH@Z:PROC			; gObjSetKillCount
; Function compile flags: /Ogtp
;	COMDAT ?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z
_TEXT	SEGMENT
_iangle$ = -4						; size = 4
_this$ = -4						; size = 4
tv77 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_btX$ = 20						; size = 1
_btY$ = 24						; size = 1
_btDir$ = 28						; size = 1
tv435 = 32						; size = 4
_btTargetPos$ = 32					; size = 1
?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z PROC ; CObjUseSkill::SkillStun, COMDAT
; _this$ = ecx

; 4202 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx

; 4203 : 	if(OBJMAX_RANGE(aIndex) == false)

  00005	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00008	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0000b	85 db		 test	 ebx, ebx
  0000d	78 0f		 js	 SHORT $LN22@SkillStun
  0000f	33 c0		 xor	 eax, eax
  00011	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  00017	0f 9e c0	 setle	 al
  0001a	85 c0		 test	 eax, eax
  0001c	75 09		 jne	 SHORT $LN12@SkillStun
$LN22@SkillStun:

; 4204 : 	{
; 4205 : 		return false;

  0001e	33 c0		 xor	 eax, eax
  00020	5b		 pop	 ebx

; 4259 : }

  00021	8b e5		 mov	 esp, ebp
  00023	5d		 pop	 ebp
  00024	c2 1c 00	 ret	 28			; 0000001cH
$LN12@SkillStun:

; 4206 : 	}
; 4207 : 
; 4208 : 	LPOBJ lpObj = &gObj[aIndex];
; 4209 : 
; 4210 : 	int TargePosx = lpObj->X - (8 - (btTargetPos & 15));
; 4211 : 	int TargePosy = lpObj->Y - (8 - ((btTargetPos & 240) >> 4));

  00027	0f b6 45 20	 movzx	 eax, BYTE PTR _btTargetPos$[ebp]
  0002b	56		 push	 esi
  0002c	57		 push	 edi
  0002d	8b fb		 mov	 edi, ebx
  0002f	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00035	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0003b	8b c8		 mov	 ecx, eax
  0003d	0f bf 97 46 01
	00 00		 movsx	 edx, WORD PTR [edi+326]
  00044	0f bf b7 44 01
	00 00		 movsx	 esi, WORD PTR [edi+324]
  0004b	c1 e9 04	 shr	 ecx, 4

; 4212 : 
; 4213 : 	int iangle = this->GetAngle(lpObj->X,lpObj->Y,TargePosx,TargePosy);

  0004e	8d 4c 11 f8	 lea	 ecx, DWORD PTR [ecx+edx-8]
  00052	51		 push	 ecx
  00053	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00056	83 e0 0f	 and	 eax, 15			; 0000000fH
  00059	8d 44 30 f8	 lea	 eax, DWORD PTR [eax+esi-8]
  0005d	50		 push	 eax
  0005e	52		 push	 edx
  0005f	56		 push	 esi
  00060	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  00065	89 45 fc	 mov	 DWORD PTR _iangle$[ebp], eax

; 4214 : 
; 4215 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00068	8a 87 49 01 00
	00		 mov	 al, BYTE PTR [edi+329]
  0006e	3c 1e		 cmp	 al, 30			; 0000001eH
  00070	74 0f		 je	 SHORT $LN11@SkillStun
  00072	3c 1f		 cmp	 al, 31			; 0000001fH
  00074	74 0b		 je	 SHORT $LN11@SkillStun

; 4216 : 	{
; 4217 : 		return false;

  00076	5f		 pop	 edi
  00077	5e		 pop	 esi
  00078	33 c0		 xor	 eax, eax
  0007a	5b		 pop	 ebx

; 4259 : }

  0007b	8b e5		 mov	 esp, ebp
  0007d	5d		 pop	 ebp
  0007e	c2 1c 00	 ret	 28			; 0000001cH
$LN11@SkillStun:

; 4218 : 	}
; 4219 : 
; 4220 : 	int tObjNum;
; 4221 : 	int count = 0;
; 4222 : 
; 4223 : 	gObjSetKillCount(aIndex,0);

  00081	6a 00		 push	 0
  00083	53		 push	 ebx
  00084	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount
  00089	8d 87 b0 08 00
	00		 lea	 eax, DWORD PTR [edi+2224]
  0008f	83 c4 08	 add	 esp, 8
  00092	89 45 20	 mov	 DWORD PTR tv435[ebp], eax
  00095	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv77[ebp], 75	; 0000004bH
  0009c	8d 64 24 00	 npad	 4
$LL10@SkillStun:

; 4224 : 
; 4225 : 	while( true )
; 4226 : 	{
; 4227 : 		if(lpObj->VpPlayer2[count].state != 0)

  000a0	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  000a4	0f 84 ea 00 00
	00		 je	 $LN3@SkillStun

; 4228 : 		{
; 4229 : 			if(lpObj->VpPlayer2[count].type == OBJ_USER || lpObj->VpPlayer2[count].type == OBJ_MONSTER)

  000aa	8a 08		 mov	 cl, BYTE PTR [eax]
  000ac	80 f9 01	 cmp	 cl, 1
  000af	74 09		 je	 SHORT $LN6@SkillStun
  000b1	80 f9 02	 cmp	 cl, 2
  000b4	0f 85 da 00 00
	00		 jne	 $LN3@SkillStun
$LN6@SkillStun:

; 4230 : 			{
; 4231 : 				tObjNum = lpObj->VpPlayer2[count].number;

  000ba	0f bf 58 fe	 movsx	 ebx, WORD PTR [eax-2]

; 4232 : 
; 4233 : 				if(OBJMAX_RANGE(tObjNum))

  000be	85 db		 test	 ebx, ebx
  000c0	0f 88 ce 00 00
	00		 js	 $LN3@SkillStun
  000c6	33 c9		 xor	 ecx, ecx
  000c8	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  000ce	0f 9e c1	 setle	 cl
  000d1	85 c9		 test	 ecx, ecx
  000d3	0f 84 bb 00 00
	00		 je	 $LN3@SkillStun

; 4234 : 				{
; 4235 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) <= 4)

  000d9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000df	8b f3		 mov	 esi, ebx
  000e1	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000e7	8d 14 0e	 lea	 edx, DWORD PTR [esi+ecx]
  000ea	52		 push	 edx
  000eb	57		 push	 edi
  000ec	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000f1	83 c4 08	 add	 esp, 8
  000f4	83 f8 04	 cmp	 eax, 4
  000f7	0f 8f 94 00 00
	00		 jg	 $LN23@SkillStun

; 4236 : 					{
; 4237 : 						if(SkillElectricSparkHitBox.HitCheck(iangle,lpObj->X,lpObj->Y,gObj[tObjNum].X,gObj[tObjNum].Y))

  000fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00102	0f bf 8c 06 46
	01 00 00	 movsx	 ecx, WORD PTR [esi+eax+326]
  0010a	0f bf 94 06 44
	01 00 00	 movsx	 edx, WORD PTR [esi+eax+324]
  00112	0f bf 87 46 01
	00 00		 movsx	 eax, WORD PTR [edi+326]
  00119	51		 push	 ecx
  0011a	0f bf 8f 44 01
	00 00		 movsx	 ecx, WORD PTR [edi+324]
  00121	52		 push	 edx
  00122	8b 55 fc	 mov	 edx, DWORD PTR _iangle$[ebp]
  00125	50		 push	 eax
  00126	51		 push	 ecx
  00127	52		 push	 edx
  00128	b9 00 00 00 00	 mov	 ecx, OFFSET ?SkillElectricSparkHitBox@@3VCSkillHitBox@@A ; SkillElectricSparkHitBox
  0012d	e8 00 00 00 00	 call	 ?HitCheck@CSkillHitBox@@QAEHHHHHH@Z ; CSkillHitBox::HitCheck
  00132	85 c0		 test	 eax, eax
  00134	74 5b		 je	 SHORT $LN23@SkillStun

; 4238 : 						{
; 4239 : 							gObjApplyBuffEffectDuration(&gObj[tObjNum], AT_STUN, 0, 0, 0, 0, 10); //season3 add-on

  00136	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0013b	6a 0a		 push	 10			; 0000000aH
  0013d	6a 00		 push	 0
  0013f	6a 00		 push	 0
  00141	6a 00		 push	 0
  00143	6a 00		 push	 0
  00145	8d 0c 06	 lea	 ecx, DWORD PTR [esi+eax]
  00148	6a 3d		 push	 61			; 0000003dH
  0014a	51		 push	 ecx
  0014b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  00150	83 c4 1c	 add	 esp, 28			; 0000001cH

; 4240 : 							if(!g_ZtLicense.CheckUser(eZtUB::Stone))

  00153	6a 37		 push	 55			; 00000037H
  00155	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0015a	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  0015f	84 c0		 test	 al, al
  00161	75 0e		 jne	 SHORT $LN2@SkillStun

; 4241 : 							{
; 4242 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_STUN,tObjNum,1);

  00163	6a 01		 push	 1
  00165	53		 push	 ebx
  00166	6a 43		 push	 67			; 00000043H
  00168	57		 push	 edi
  00169	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0016e	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@SkillStun:

; 4243 : 							}
; 4244 : 							gObjSetPosition(tObjNum,gObj[tObjNum].X,gObj[tObjNum].Y);

  00171	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00176	0f bf 94 06 46
	01 00 00	 movsx	 edx, WORD PTR [esi+eax+326]
  0017e	0f bf 84 06 44
	01 00 00	 movsx	 eax, WORD PTR [esi+eax+324]
  00186	52		 push	 edx
  00187	50		 push	 eax
  00188	53		 push	 ebx
  00189	e8 00 00 00 00	 call	 ?gObjSetPosition@@YAXHHH@Z ; gObjSetPosition
  0018e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN23@SkillStun:
  00191	8b 45 20	 mov	 eax, DWORD PTR tv435[ebp]
$LN3@SkillStun:

; 4245 : 						}
; 4246 : 					}
; 4247 : 				}
; 4248 : 			}
; 4249 : 		}
; 4250 : 
; 4251 : 		count++;

  00194	83 c0 0c	 add	 eax, 12			; 0000000cH

; 4252 : 
; 4253 : 		if(count > MAX_VIEWPORT - 1)

  00197	ff 4d 08	 dec	 DWORD PTR tv77[ebp]
  0019a	89 45 20	 mov	 DWORD PTR tv435[ebp], eax
  0019d	0f 85 fd fe ff
	ff		 jne	 $LL10@SkillStun

; 4254 : 		{
; 4255 : 			break;
; 4256 : 		}
; 4257 : 	}
; 4258 : 	return true;

  001a3	5f		 pop	 edi
  001a4	5e		 pop	 esi
  001a5	b8 01 00 00 00	 mov	 eax, 1
  001aa	5b		 pop	 ebx

; 4259 : }

  001ab	8b e5		 mov	 esp, ebp
  001ad	5d		 pop	 ebp
  001ae	c2 1c 00	 ret	 28			; 0000001cH
?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z ENDP ; CObjUseSkill::SkillStun
_TEXT	ENDS
PUBLIC	?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveStun
; Function compile flags: /Ogtp
;	COMDAT ?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv358 = -4						; size = 4
tv306 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillRemoveStun, COMDAT
; _this$ = ecx

; 4262 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 4263 : 
; 4264 : 	if(OBJMAX_RANGE(aIndex) == false)

  00004	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00007	85 c0		 test	 eax, eax
  00009	78 0e		 js	 SHORT $LN19@SkillRemov
  0000b	33 c9		 xor	 ecx, ecx
  0000d	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00012	0f 9e c1	 setle	 cl
  00015	85 c9		 test	 ecx, ecx
  00017	75 08		 jne	 SHORT $LN9@SkillRemov
$LN19@SkillRemov:

; 4265 : 	{
; 4266 : 		return false;

  00019	33 c0		 xor	 eax, eax

; 4309 : }

  0001b	8b e5		 mov	 esp, ebp
  0001d	5d		 pop	 ebp
  0001e	c2 0c 00	 ret	 12			; 0000000cH
$LN9@SkillRemov:
  00021	57		 push	 edi

; 4267 : 	}
; 4268 : 
; 4269 : 	LPOBJ lpObj = &gObj[aIndex];

  00022	8b f8		 mov	 edi, eax
  00024	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0002a	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4270 : 
; 4271 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00030	8a 8f 49 01 00
	00		 mov	 cl, BYTE PTR [edi+329]
  00036	80 f9 1e	 cmp	 cl, 30			; 0000001eH
  00039	74 0e		 je	 SHORT $LN8@SkillRemov
  0003b	80 f9 1f	 cmp	 cl, 31			; 0000001fH
  0003e	74 09		 je	 SHORT $LN8@SkillRemov

; 4272 : 	{
; 4273 : 		return false;

  00040	33 c0		 xor	 eax, eax
  00042	5f		 pop	 edi

; 4309 : }

  00043	8b e5		 mov	 esp, ebp
  00045	5d		 pop	 ebp
  00046	c2 0c 00	 ret	 12			; 0000000cH
$LN8@SkillRemov:

; 4274 : 	}
; 4275 : 
; 4276 : 	int tObjNum;
; 4277 : 	int count = 0;
; 4278 : 
; 4279 : 	gObjSetKillCount(aIndex,0);

  00049	6a 00		 push	 0
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount

; 4280 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_STUN,lpObj->m_Index,1);

  00051	8b 07		 mov	 eax, DWORD PTR [edi]
  00053	6a 01		 push	 1
  00055	50		 push	 eax
  00056	6a 44		 push	 68			; 00000044H
  00058	57		 push	 edi
  00059	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0005e	83 c4 18	 add	 esp, 24			; 00000018H
  00061	8d 87 ae 08 00
	00		 lea	 eax, DWORD PTR [edi+2222]
  00067	53		 push	 ebx
  00068	89 45 08	 mov	 DWORD PTR tv306[ebp], eax
  0006b	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv358[ebp], 75 ; 0000004bH
  00072	56		 push	 esi
$LL7@SkillRemov:

; 4281 : 
; 4282 : 	while( true )
; 4283 : 	{
; 4284 : 		if(lpObj->VpPlayer2[count].state != 0)

  00073	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  00077	74 5b		 je	 SHORT $LN2@SkillRemov

; 4285 : 		{
; 4286 : 
; 4287 : 			tObjNum = lpObj->VpPlayer2[count].number;

  00079	0f bf 18	 movsx	 ebx, WORD PTR [eax]

; 4288 : 			if(OBJMAX_RANGE(tObjNum))

  0007c	85 db		 test	 ebx, ebx
  0007e	78 54		 js	 SHORT $LN2@SkillRemov
  00080	33 c9		 xor	 ecx, ecx
  00082	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  00088	0f 9e c1	 setle	 cl
  0008b	85 c9		 test	 ecx, ecx
  0008d	74 45		 je	 SHORT $LN2@SkillRemov

; 4289 : 			{
; 4290 : 				if(lpObj->VpPlayer2[count].type == OBJ_USER)

  0008f	80 78 02 01	 cmp	 BYTE PTR [eax+2], 1
  00093	75 3f		 jne	 SHORT $LN2@SkillRemov

; 4291 : 				{
; 4292 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 6)

  00095	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009b	8b f3		 mov	 esi, ebx
  0009d	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000a3	8d 14 0e	 lea	 edx, DWORD PTR [esi+ecx]
  000a6	52		 push	 edx
  000a7	57		 push	 edi
  000a8	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000ad	83 c4 08	 add	 esp, 8
  000b0	83 f8 06	 cmp	 eax, 6
  000b3	7d 1c		 jge	 SHORT $LN20@SkillRemov

; 4293 : 					{
; 4294 : 						gObjRemoveBuffEffect(&gObj[tObjNum], AT_STUN);

  000b5	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000bb	6a 3d		 push	 61			; 0000003dH
  000bd	56		 push	 esi
  000be	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect

; 4295 : 						GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_STUN,tObjNum,1);

  000c3	6a 01		 push	 1
  000c5	53		 push	 ebx
  000c6	6a 44		 push	 68			; 00000044H
  000c8	57		 push	 edi
  000c9	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000ce	83 c4 18	 add	 esp, 24			; 00000018H
$LN20@SkillRemov:
  000d1	8b 45 08	 mov	 eax, DWORD PTR tv306[ebp]
$LN2@SkillRemov:

; 4296 : 					}
; 4297 : 				}
; 4298 : 			}
; 4299 : 		}
; 4300 : 
; 4301 : 		count++;

  000d4	83 c0 0c	 add	 eax, 12			; 0000000cH

; 4302 : 
; 4303 : 		if(count > MAX_VIEWPORT - 1)

  000d7	ff 4d fc	 dec	 DWORD PTR tv358[ebp]
  000da	89 45 08	 mov	 DWORD PTR tv306[ebp], eax
  000dd	75 94		 jne	 SHORT $LL7@SkillRemov

; 4304 : 		{
; 4305 : 			break;
; 4306 : 		}
; 4307 : 	}
; 4308 : return true;

  000df	5e		 pop	 esi
  000e0	5b		 pop	 ebx
  000e1	b8 01 00 00 00	 mov	 eax, 1
  000e6	5f		 pop	 edi

; 4309 : }

  000e7	8b e5		 mov	 esp, ebp
  000e9	5d		 pop	 ebp
  000ea	c2 0c 00	 ret	 12			; 0000000cH
?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillRemoveStun
_TEXT	ENDS
PUBLIC	__real@4049000000000000
PUBLIC	?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillAddMana
;	COMDAT __real@4049000000000000
CONST	SEGMENT
__real@4049000000000000 DQ 04049000000000000r	; 50
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_tObjNum$ = -20						; size = 4
tv531 = -16						; size = 4
_count$ = -12						; size = 4
tv577 = -8						; size = 4
tv579 = -4						; size = 4
tv581 = 8						; size = 4
tv564 = 8						; size = 4
tv404 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillAddMana, COMDAT
; _this$ = ecx

; 4313 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4314 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	83 ec 14	 sub	 esp, 20			; 00000014H
  00009	85 c0		 test	 eax, eax
  0000b	78 0e		 js	 SHORT $LN23@SkillAddMa
  0000d	33 c9		 xor	 ecx, ecx
  0000f	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00014	0f 9e c1	 setle	 cl
  00017	85 c9		 test	 ecx, ecx
  00019	75 08		 jne	 SHORT $LN12@SkillAddMa
$LN23@SkillAddMa:

; 4315 : 	{
; 4316 : 		return false;

  0001b	33 c0		 xor	 eax, eax

; 4390 : }

  0001d	8b e5		 mov	 esp, ebp
  0001f	5d		 pop	 ebp
  00020	c2 0c 00	 ret	 12			; 0000000cH
$LN12@SkillAddMa:
  00023	57		 push	 edi

; 4317 : 	}
; 4318 : 
; 4319 : 	LPOBJ lpObj = &gObj[aIndex];

  00024	8b f8		 mov	 edi, eax
  00026	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0002c	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4320 : 
; 4321 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00032	8a 8f 49 01 00
	00		 mov	 cl, BYTE PTR [edi+329]
  00038	80 f9 1e	 cmp	 cl, 30			; 0000001eH
  0003b	74 0e		 je	 SHORT $LN11@SkillAddMa
  0003d	80 f9 1f	 cmp	 cl, 31			; 0000001fH
  00040	74 09		 je	 SHORT $LN11@SkillAddMa

; 4322 : 	{
; 4323 : 		return false;

  00042	33 c0		 xor	 eax, eax
  00044	5f		 pop	 edi

; 4390 : }

  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c2 0c 00	 ret	 12			; 0000000cH
$LN11@SkillAddMa:

; 4324 : 	}
; 4325 : 
; 4326 : 	int tObjNum;
; 4327 : 	int count = 0;
; 4328 : 	gObjSetKillCount(aIndex,0);

  0004b	6a 00		 push	 0
  0004d	50		 push	 eax
  0004e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  00055	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount

; 4329 : 
; 4330 : 	int iSwelledMana = 0;
; 4331 : 
; 4332 : 	iSwelledMana = (int)(float(lpObj->MaxMana + lpObj->AddMana) * 50 / 100);
; 4333 : 
; 4334 : 	gObjApplyBuffEffectDuration(lpObj, AT_SWELL_MANA, 5, iSwelledMana, 0, 0, 60); //season3 add-on

  0005a	db 87 50 01 00
	00		 fild	 DWORD PTR [edi+336]
  00060	83 c4 08	 add	 esp, 8
  00063	6a 3c		 push	 60			; 0000003cH
  00065	d8 87 14 01 00
	00		 fadd	 DWORD PTR [edi+276]
  0006b	6a 00		 push	 0
  0006d	6a 00		 push	 0
  0006f	d9 5d 08	 fstp	 DWORD PTR tv564[ebp]
  00072	d9 45 08	 fld	 DWORD PTR tv564[ebp]
  00075	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4049000000000000
  0007b	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  00081	e8 00 00 00 00	 call	 __ftol2_sse
  00086	50		 push	 eax
  00087	6a 05		 push	 5
  00089	6a 09		 push	 9
  0008b	57		 push	 edi
  0008c	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 4335 : 
; 4336 : 	GCManaSend(lpObj->m_Index,(lpObj->MaxMana + lpObj->AddMana),0xFE,0,(lpObj->MaxBP + lpObj->AddBP));

  00091	db 87 50 01 00
	00		 fild	 DWORD PTR [edi+336]
  00097	8b 87 30 01 00
	00		 mov	 eax, DWORD PTR [edi+304]
  0009d	03 87 2c 01 00
	00		 add	 eax, DWORD PTR [edi+300]
  000a3	d8 87 14 01 00
	00		 fadd	 DWORD PTR [edi+276]
  000a9	83 c4 1c	 add	 esp, 28			; 0000001cH
  000ac	50		 push	 eax
  000ad	6a 00		 push	 0
  000af	68 fe 00 00 00	 push	 254			; 000000feH
  000b4	e8 00 00 00 00	 call	 __ftol2_sse
  000b9	8b 0f		 mov	 ecx, DWORD PTR [edi]
  000bb	50		 push	 eax
  000bc	51		 push	 ecx
  000bd	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend

; 4337 : 
; 4338 : 	if( (lpObj->MaxMana + lpObj->AddMana) < lpObj->Mana)

  000c2	db 87 50 01 00
	00		 fild	 DWORD PTR [edi+336]
  000c8	83 c4 14	 add	 esp, 20			; 00000014H
  000cb	d8 87 14 01 00
	00		 fadd	 DWORD PTR [edi+276]
  000d1	d9 87 10 01 00
	00		 fld	 DWORD PTR [edi+272]
  000d7	d8 d9		 fcomp	 ST(1)
  000d9	df e0		 fnstsw	 ax
  000db	f6 c4 41	 test	 ah, 65			; 00000041H
  000de	75 2d		 jne	 SHORT $LN28@SkillAddMa

; 4339 : 	{
; 4340 : 		lpObj->Mana = lpObj->MaxMana + lpObj->AddMana;
; 4341 : 		GCManaSend(lpObj->m_Index,lpObj->Mana,0xFF,0,lpObj->BP);

  000e0	8b 97 28 01 00
	00		 mov	 edx, DWORD PTR [edi+296]
  000e6	d9 5d 08	 fstp	 DWORD PTR tv404[ebp]
  000e9	d9 45 08	 fld	 DWORD PTR tv404[ebp]
  000ec	52		 push	 edx
  000ed	6a 00		 push	 0
  000ef	d9 97 10 01 00
	00		 fst	 DWORD PTR [edi+272]
  000f5	68 ff 00 00 00	 push	 255			; 000000ffH
  000fa	e8 00 00 00 00	 call	 __ftol2_sse
  000ff	50		 push	 eax
  00100	8b 07		 mov	 eax, DWORD PTR [edi]
  00102	50		 push	 eax
  00103	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  00108	83 c4 14	 add	 esp, 20			; 00000014H
  0010b	eb 02		 jmp	 SHORT $LN10@SkillAddMa
$LN28@SkillAddMa:
  0010d	dd d8		 fstp	 ST(0)
$LN10@SkillAddMa:

; 4342 : 	}
; 4343 : 
; 4344 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_MANA,lpObj->m_Index,1);

  0010f	8b 0f		 mov	 ecx, DWORD PTR [edi]
  00111	6a 01		 push	 1
  00113	51		 push	 ecx
  00114	6a 45		 push	 69			; 00000045H
  00116	57		 push	 edi
  00117	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0011c	83 c4 10	 add	 esp, 16			; 00000010H
  0011f	8d 97 b0 08 00
	00		 lea	 edx, DWORD PTR [edi+2224]
  00125	8d 87 ae 08 00
	00		 lea	 eax, DWORD PTR [edi+2222]
  0012b	8d 8f ac 08 00
	00		 lea	 ecx, DWORD PTR [edi+2220]
  00131	53		 push	 ebx
  00132	89 55 f8	 mov	 DWORD PTR tv577[ebp], edx
  00135	89 45 fc	 mov	 DWORD PTR tv579[ebp], eax
  00138	89 4d 08	 mov	 DWORD PTR tv581[ebp], ecx
  0013b	56		 push	 esi
  0013c	8d 64 24 00	 npad	 4
$LL9@SkillAddMa:

; 4345 : 
; 4346 : 	while( true )
; 4347 : 	{
; 4348 : 		if(lpObj->VpPlayer2[count].state != 0)

  00140	8b 55 08	 mov	 edx, DWORD PTR tv581[ebp]
  00143	80 3a 00	 cmp	 BYTE PTR [edx], 0
  00146	0f 84 67 01 00
	00		 je	 $LN24@SkillAddMa

; 4349 : 		{
; 4350 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0014c	8b 45 fc	 mov	 eax, DWORD PTR tv579[ebp]
  0014f	0f bf 30	 movsx	 esi, WORD PTR [eax]
  00152	89 75 ec	 mov	 DWORD PTR _tObjNum$[ebp], esi

; 4351 : 
; 4352 : 			if(OBJMAX_RANGE(tObjNum) && lpObj->VpPlayer2[count].type == OBJ_USER)

  00155	85 f6		 test	 esi, esi
  00157	0f 88 56 01 00
	00		 js	 $LN24@SkillAddMa
  0015d	33 c0		 xor	 eax, eax
  0015f	81 fe 97 3a 00
	00		 cmp	 esi, 14999		; 00003a97H
  00165	0f 9e c0	 setle	 al
  00168	85 c0		 test	 eax, eax
  0016a	0f 84 43 01 00
	00		 je	 $LN24@SkillAddMa
  00170	8b 4d f8	 mov	 ecx, DWORD PTR tv577[ebp]
  00173	80 39 01	 cmp	 BYTE PTR [ecx], 1
  00176	0f 85 37 01 00
	00		 jne	 $LN24@SkillAddMa

; 4353 : 			{
; 4354 : 				if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  0017c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00182	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00188	8d 04 16	 lea	 eax, DWORD PTR [esi+edx]
  0018b	50		 push	 eax
  0018c	57		 push	 edi
  0018d	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00192	83 c4 08	 add	 esp, 8
  00195	83 f8 05	 cmp	 eax, 5
  00198	0f 8d 15 01 00
	00		 jge	 $LN24@SkillAddMa

; 4355 : 				{
; 4356 : 					if(lpObj->GuildNumber > 0 && gObj[tObjNum].GuildNumber > 0)

  0019e	8b 8f 34 04 00
	00		 mov	 ecx, DWORD PTR [edi+1076]
  001a4	85 c9		 test	 ecx, ecx
  001a6	0f 8e 07 01 00
	00		 jle	 $LN24@SkillAddMa
  001ac	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001b2	8b 84 16 34 04
	00 00		 mov	 eax, DWORD PTR [esi+edx+1076]
  001b9	8d 1c 16	 lea	 ebx, DWORD PTR [esi+edx]
  001bc	85 c0		 test	 eax, eax
  001be	0f 8e ef 00 00
	00		 jle	 $LN24@SkillAddMa

; 4357 : 					{
; 4358 : 						if(lpObj->GuildNumber != gObj[tObjNum].GuildNumber)

  001c4	3b c8		 cmp	 ecx, eax
  001c6	74 16		 je	 SHORT $LN3@SkillAddMa

; 4359 : 						{
; 4360 : 							count++;

  001c8	ff 45 f4	 inc	 DWORD PTR _count$[ebp]
  001cb	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH
  001d0	01 45 08	 add	 DWORD PTR tv581[ebp], eax
  001d3	01 45 fc	 add	 DWORD PTR tv579[ebp], eax
  001d6	01 45 f8	 add	 DWORD PTR tv577[ebp], eax

; 4361 : 							continue;

  001d9	e9 62 ff ff ff	 jmp	 $LL9@SkillAddMa
$LN3@SkillAddMa:

; 4362 : 						}
; 4363 : 
; 4364 : 						iSwelledMana = (int)(float(gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana) * 50 / 100);
; 4365 : 
; 4366 : 						gObjApplyBuffEffectDuration(&gObj[tObjNum], AT_SWELL_MANA, 5, iSwelledMana, 0, 0, 60); //season3 add-on

  001de	db 83 50 01 00
	00		 fild	 DWORD PTR [ebx+336]
  001e4	6a 3c		 push	 60			; 0000003cH
  001e6	6a 00		 push	 0
  001e8	6a 00		 push	 0
  001ea	d8 83 14 01 00
	00		 fadd	 DWORD PTR [ebx+276]
  001f0	d9 5d f0	 fstp	 DWORD PTR tv531[ebp]
  001f3	d9 45 f0	 fld	 DWORD PTR tv531[ebp]
  001f6	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@4049000000000000
  001fc	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  00202	e8 00 00 00 00	 call	 __ftol2_sse
  00207	50		 push	 eax
  00208	6a 05		 push	 5
  0020a	6a 09		 push	 9
  0020c	53		 push	 ebx
  0020d	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 4367 : 
; 4368 : 						GCManaSend(tObjNum,(gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana),0xFE,0,(gObj[tObjNum].BP + gObj[tObjNum].MaxBP)); //season3 add-on

  00212	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00217	8b 8c 06 2c 01
	00 00		 mov	 ecx, DWORD PTR [esi+eax+300]
  0021e	db 84 06 50 01
	00 00		 fild	 DWORD PTR [esi+eax+336]
  00225	03 8c 06 28 01
	00 00		 add	 ecx, DWORD PTR [esi+eax+296]
  0022c	83 c4 1c	 add	 esp, 28			; 0000001cH
  0022f	d8 84 06 14 01
	00 00		 fadd	 DWORD PTR [esi+eax+276]
  00236	51		 push	 ecx
  00237	6a 00		 push	 0
  00239	68 fe 00 00 00	 push	 254			; 000000feH
  0023e	e8 00 00 00 00	 call	 __ftol2_sse
  00243	8b 5d ec	 mov	 ebx, DWORD PTR _tObjNum$[ebp]
  00246	50		 push	 eax
  00247	53		 push	 ebx
  00248	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend

; 4369 : 
; 4370 : 						if(gObj[tObjNum].Mana > gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana)

  0024d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00252	db 84 06 50 01
	00 00		 fild	 DWORD PTR [esi+eax+336]
  00259	8d 8c 06 10 01
	00 00		 lea	 ecx, DWORD PTR [esi+eax+272]
  00260	83 c4 14	 add	 esp, 20			; 00000014H
  00263	d8 84 06 14 01
	00 00		 fadd	 DWORD PTR [esi+eax+276]
  0026a	d9 01		 fld	 DWORD PTR [ecx]
  0026c	d8 d9		 fcomp	 ST(1)
  0026e	df e0		 fnstsw	 ax
  00270	f6 c4 41	 test	 ah, 65			; 00000041H
  00273	75 2e		 jne	 SHORT $LN31@SkillAddMa

; 4371 : 						{
; 4372 : 							gObj[tObjNum].Mana = gObj[tObjNum].MaxMana + gObj[tObjNum].AddMana;

  00275	d9 19		 fstp	 DWORD PTR [ecx]

; 4373 : 							GCManaSend(tObjNum,gObj[tObjNum].Mana,0xFF,0,gObj[tObjNum].BP);

  00277	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0027c	8b 94 06 28 01
	00 00		 mov	 edx, DWORD PTR [esi+eax+296]
  00283	d9 84 06 10 01
	00 00		 fld	 DWORD PTR [esi+eax+272]
  0028a	52		 push	 edx
  0028b	6a 00		 push	 0
  0028d	68 ff 00 00 00	 push	 255			; 000000ffH
  00292	e8 00 00 00 00	 call	 __ftol2_sse
  00297	50		 push	 eax
  00298	53		 push	 ebx
  00299	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  0029e	83 c4 14	 add	 esp, 20			; 00000014H
  002a1	eb 02		 jmp	 SHORT $LN2@SkillAddMa
$LN31@SkillAddMa:
  002a3	dd d8		 fstp	 ST(0)
$LN2@SkillAddMa:

; 4374 : 						}
; 4375 : 
; 4376 : 						GCMagicAttackNumberSend(lpObj,AT_SKILL_ADD_MANA,tObjNum,1);

  002a5	6a 01		 push	 1
  002a7	53		 push	 ebx
  002a8	6a 45		 push	 69			; 00000045H
  002aa	57		 push	 edi
  002ab	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  002b0	83 c4 10	 add	 esp, 16			; 00000010H
$LN24@SkillAddMa:

; 4377 : 					}
; 4378 : 				}
; 4379 : 			}
; 4380 : 		}
; 4381 : 
; 4382 : 		count++;

  002b3	8b 45 f4	 mov	 eax, DWORD PTR _count$[ebp]
  002b6	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  002bb	01 4d 08	 add	 DWORD PTR tv581[ebp], ecx
  002be	01 4d fc	 add	 DWORD PTR tv579[ebp], ecx
  002c1	01 4d f8	 add	 DWORD PTR tv577[ebp], ecx
  002c4	40		 inc	 eax
  002c5	89 45 f4	 mov	 DWORD PTR _count$[ebp], eax

; 4383 : 
; 4384 : 		if(count > MAX_VIEWPORT - 1)

  002c8	83 f8 4a	 cmp	 eax, 74			; 0000004aH
  002cb	0f 8e 6f fe ff
	ff		 jle	 $LL9@SkillAddMa

; 4385 : 		{
; 4386 : 			break;
; 4387 : 		}
; 4388 : 	}
; 4389 : 	return true;

  002d1	5e		 pop	 esi
  002d2	5b		 pop	 ebx
  002d3	8d 41 f5	 lea	 eax, DWORD PTR [ecx-11]
  002d6	5f		 pop	 edi

; 4390 : }

  002d7	8b e5		 mov	 esp, ebp
  002d9	5d		 pop	 ebp
  002da	c2 0c 00	 ret	 12			; 0000000cH
?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillAddMana
_TEXT	ENDS
PUBLIC	??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@ ; `string'
PUBLIC	?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillCloaking
;	COMDAT ??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@ DB '['
	DB	'ANTI-HACK][Cloaking Skill] [%s][%s] Invalid Targeting  Target'
	DB	'Type [%d] TargetClass [%d]', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillCloaking, COMDAT
; _this$ = ecx

; 4393 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4394 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN11@SkillCloak
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN4@SkillCloak
$LN11@SkillCloak:

; 4395 : 	{
; 4396 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 4427 : }

  0001a	5d		 pop	 ebp
  0001b	c2 0c 00	 ret	 12			; 0000000cH
$LN4@SkillCloak:
  0001e	53		 push	 ebx

; 4397 : 	}
; 4398 : 
; 4399 : 	if(OBJMAX_RANGE(aTargetIndex) == false)

  0001f	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  00022	85 db		 test	 ebx, ebx
  00024	78 0f		 js	 SHORT $LN12@SkillCloak
  00026	33 c9		 xor	 ecx, ecx
  00028	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  0002e	0f 9e c1	 setle	 cl
  00031	85 c9		 test	 ecx, ecx
  00033	75 07		 jne	 SHORT $LN3@SkillCloak
$LN12@SkillCloak:

; 4400 : 	{
; 4401 : 		return false;

  00035	33 c0		 xor	 eax, eax
  00037	5b		 pop	 ebx

; 4427 : }

  00038	5d		 pop	 ebp
  00039	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillCloak:

; 4402 : 	}
; 4403 : 
; 4404 : 	LPOBJ lpObj = &gObj[aIndex];

  0003c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00042	56		 push	 esi
  00043	57		 push	 edi
  00044	8b f0		 mov	 esi, eax
  00046	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H

; 4405 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  0004c	8b fb		 mov	 edi, ebx
  0004e	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00054	03 f1		 add	 esi, ecx
  00056	03 f9		 add	 edi, ecx

; 4406 : 
; 4407 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00058	8a 8e 49 01 00
	00		 mov	 cl, BYTE PTR [esi+329]
  0005e	80 f9 1e	 cmp	 cl, 30			; 0000001eH
  00061	74 05		 je	 SHORT $LN2@SkillCloak
  00063	80 f9 1f	 cmp	 cl, 31			; 0000001fH

; 4408 : 	{
; 4409 : 		return false;

  00066	75 28		 jne	 SHORT $LN16@SkillCloak
$LN2@SkillCloak:

; 4410 : 	}
; 4411 : 
; 4412 : 	if(lpTargetObj->Type != OBJ_USER)

  00068	0f b7 4f 68	 movzx	 ecx, WORD PTR [edi+104]
  0006c	83 f9 01	 cmp	 ecx, 1
  0006f	74 28		 je	 SHORT $LN1@SkillCloak

; 4413 : 	{
; 4414 : 		LogAddTD("[ANTI-HACK][Cloaking Skill] [%s][%s] Invalid Targeting  TargetType [%d] TargetClass [%d]",
; 4415 : 			lpObj->AccountID,lpObj->Name,lpTargetObj->Type,lpTargetObj->Class);

  00071	0f b7 87 b8 00
	00 00		 movzx	 eax, WORD PTR [edi+184]
  00078	50		 push	 eax
  00079	51		 push	 ecx
  0007a	8d 56 77	 lea	 edx, DWORD PTR [esi+119]
  0007d	52		 push	 edx
  0007e	83 c6 6c	 add	 esi, 108		; 0000006cH
  00081	56		 push	 esi
  00082	68 00 00 00 00	 push	 OFFSET ??_C@_0FJ@KFEKMJMJ@?$FLANTI?9HACK?$FN?$FLCloaking?5Skill?$FN?5?$FL?$CFs?$FN@
  00087	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0008d	83 c4 14	 add	 esp, 20			; 00000014H
$LN16@SkillCloak:

; 4416 : 		return false;

  00090	5f		 pop	 edi
  00091	5e		 pop	 esi
  00092	33 c0		 xor	 eax, eax
  00094	5b		 pop	 ebx

; 4427 : }

  00095	5d		 pop	 ebp
  00096	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillCloak:

; 4417 : 	}
; 4418 : 
; 4419 : 	gObjSetKillCount(aIndex,0);

  00099	6a 00		 push	 0
  0009b	50		 push	 eax
  0009c	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount

; 4420 : 
; 4421 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_INVISIBLE,lpObj->m_Index,1);

  000a1	8b 06		 mov	 eax, DWORD PTR [esi]
  000a3	6a 01		 push	 1
  000a5	50		 push	 eax
  000a6	6a 46		 push	 70			; 00000046H
  000a8	56		 push	 esi
  000a9	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4422 : 
; 4423 : 	gObjApplyBuffEffectDuration(lpTargetObj, AT_INVISIBILITY, 0, 0, 0, 0, 60); //season3 add-on

  000ae	6a 3c		 push	 60			; 0000003cH
  000b0	6a 00		 push	 0
  000b2	6a 00		 push	 0
  000b4	6a 00		 push	 0
  000b6	6a 00		 push	 0
  000b8	6a 12		 push	 18			; 00000012H
  000ba	57		 push	 edi
  000bb	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 4424 : 
; 4425 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_INVISIBLE,aTargetIndex,1);

  000c0	6a 01		 push	 1
  000c2	53		 push	 ebx
  000c3	6a 46		 push	 70			; 00000046H
  000c5	56		 push	 esi
  000c6	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000cb	83 c4 44	 add	 esp, 68			; 00000044H
  000ce	5f		 pop	 edi
  000cf	5e		 pop	 esi

; 4426 : 	return true;

  000d0	b8 01 00 00 00	 mov	 eax, 1
  000d5	5b		 pop	 ebx

; 4427 : }

  000d6	5d		 pop	 ebp
  000d7	c2 0c 00	 ret	 12			; 0000000cH
?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillCloaking
_TEXT	ENDS
PUBLIC	?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z	; CObjUseSkill::RemoveCloakingEffect
; Function compile flags: /Ogtp
;	COMDAT ?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z PROC	; CObjUseSkill::RemoveCloakingEffect, COMDAT
; _this$ = ecx

; 4430 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4431 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN6@RemoveCloa
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN1@RemoveCloa
$LN6@RemoveCloa:

; 4432 : 	{
; 4433 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 4438 : }

  0001a	5d		 pop	 ebp
  0001b	c2 04 00	 ret	 4
$LN1@RemoveCloa:

; 4434 : 	}
; 4435 : 
; 4436 : 	gObjRemoveBuffEffect(&gObj[aIndex], AT_INVISIBILITY); //season3 add-on

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002a	6a 12		 push	 18			; 00000012H
  0002c	50		 push	 eax
  0002d	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect
  00032	83 c4 08	 add	 esp, 8

; 4437 : 	return true;

  00035	b8 01 00 00 00	 mov	 eax, 1

; 4438 : }

  0003a	5d		 pop	 ebp
  0003b	c2 04 00	 ret	 4
?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z ENDP	; CObjUseSkill::RemoveCloakingEffect
_TEXT	ENDS
PUBLIC	?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveCloaking
; Function compile flags: /Ogtp
;	COMDAT ?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv318 = 8						; size = 4
_aIndex$ = 8						; size = 4
tv363 = 12						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillRemoveCloaking, COMDAT
; _this$ = ecx

; 4442 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 4443 : 	if(OBJMAX_RANGE(aIndex) == false)

  00004	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00007	85 f6		 test	 esi, esi
  00009	78 0f		 js	 SHORT $LN20@SkillRemov@2
  0000b	33 c0		 xor	 eax, eax
  0000d	81 fe 97 3a 00
	00		 cmp	 esi, 14999		; 00003a97H
  00013	0f 9e c0	 setle	 al
  00016	85 c0		 test	 eax, eax
  00018	75 07		 jne	 SHORT $LN10@SkillRemov@2
$LN20@SkillRemov@2:

; 4444 : 	{
; 4445 : 		return false;

  0001a	33 c0		 xor	 eax, eax
  0001c	5e		 pop	 esi

; 4495 : }

  0001d	5d		 pop	 ebp
  0001e	c2 0c 00	 ret	 12			; 0000000cH
$LN10@SkillRemov@2:

; 4446 : 	}
; 4447 : 
; 4448 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  00021	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00027	57		 push	 edi
  00028	8b fe		 mov	 edi, esi
  0002a	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H

; 4449 : 
; 4450 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00030	8a 84 0f 49 01
	00 00		 mov	 al, BYTE PTR [edi+ecx+329]
  00037	03 f9		 add	 edi, ecx
  00039	3c 1e		 cmp	 al, 30			; 0000001eH
  0003b	74 04		 je	 SHORT $LN9@SkillRemov@2
  0003d	3c 1f		 cmp	 al, 31			; 0000001fH

; 4451 : 	{
; 4452 : 		return false;

  0003f	75 23		 jne	 SHORT $LN23@SkillRemov@2
$LN9@SkillRemov@2:

; 4453 : 	}
; 4454 : 
; 4455 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex]; //loc3

  00041	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00044	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0004a	03 c1		 add	 eax, ecx

; 4456 : 
; 4457 : 	if((lpTargetObj->Authority&32) == 32) //Season 2.5 add-on

  0004c	f6 80 0c 02 00
	00 20		 test	 BYTE PTR [eax+524], 32	; 00000020H
  00053	74 17		 je	 SHORT $LN7@SkillRemov@2

; 4458 : 	{
; 4459 : 		if(gObjSearchActiveEffect(lpTargetObj, AT_INVISIBILITY) != FALSE) //season3 add-on

  00055	6a 12		 push	 18			; 00000012H
  00057	50		 push	 eax
  00058	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0005d	83 c4 08	 add	 esp, 8
  00060	84 c0		 test	 al, al
  00062	74 08		 je	 SHORT $LN7@SkillRemov@2
$LN23@SkillRemov@2:
  00064	5f		 pop	 edi

; 4460 : 		{
; 4461 : 			return false;

  00065	33 c0		 xor	 eax, eax
  00067	5e		 pop	 esi

; 4495 : }

  00068	5d		 pop	 ebp
  00069	c2 0c 00	 ret	 12			; 0000000cH
$LN7@SkillRemov@2:

; 4462 : 		}
; 4463 : 	}
; 4464 : 
; 4465 : 	int tObjNum;
; 4466 : 	int count = 0;
; 4467 : 
; 4468 : 	gObjSetKillCount(aIndex,0);

  0006c	6a 00		 push	 0
  0006e	56		 push	 esi
  0006f	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount

; 4469 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_INVISIBLE,lpObj->m_Index,1);

  00074	8b 07		 mov	 eax, DWORD PTR [edi]
  00076	6a 01		 push	 1
  00078	50		 push	 eax
  00079	6a 47		 push	 71			; 00000047H
  0007b	57		 push	 edi
  0007c	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00081	83 c4 18	 add	 esp, 24			; 00000018H
  00084	8d 87 ae 08 00
	00		 lea	 eax, DWORD PTR [edi+2222]
  0008a	89 45 08	 mov	 DWORD PTR tv318[ebp], eax
  0008d	c7 45 0c 4b 00
	00 00		 mov	 DWORD PTR tv363[ebp], 75 ; 0000004bH
  00094	53		 push	 ebx
$LL6@SkillRemov@2:

; 4470 : 
; 4471 : 	while ( true )
; 4472 : 	{
; 4473 : 		if(lpObj->VpPlayer2[count].state != 0)

  00095	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  00099	74 5b		 je	 SHORT $LN2@SkillRemov@2

; 4474 : 		{
; 4475 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0009b	0f bf 18	 movsx	 ebx, WORD PTR [eax]

; 4476 : 
; 4477 : 			if(OBJMAX_RANGE(tObjNum) && lpObj->VpPlayer2[count].type == OBJ_USER)

  0009e	85 db		 test	 ebx, ebx
  000a0	78 54		 js	 SHORT $LN2@SkillRemov@2
  000a2	33 c9		 xor	 ecx, ecx
  000a4	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  000aa	0f 9e c1	 setle	 cl
  000ad	85 c9		 test	 ecx, ecx
  000af	74 45		 je	 SHORT $LN2@SkillRemov@2
  000b1	80 78 02 01	 cmp	 BYTE PTR [eax+2], 1
  000b5	75 3f		 jne	 SHORT $LN2@SkillRemov@2

; 4478 : 			{
; 4479 : 				if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  000b7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000bd	8b f3		 mov	 esi, ebx
  000bf	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000c5	8d 14 0e	 lea	 edx, DWORD PTR [esi+ecx]
  000c8	52		 push	 edx
  000c9	57		 push	 edi
  000ca	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000cf	83 c4 08	 add	 esp, 8
  000d2	83 f8 05	 cmp	 eax, 5
  000d5	7d 1c		 jge	 SHORT $LN21@SkillRemov@2

; 4480 : 				{
; 4481 : 					gObjRemoveBuffEffect(&gObj[tObjNum], AT_INVISIBILITY); //season3 add-on

  000d7	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000dd	6a 12		 push	 18			; 00000012H
  000df	56		 push	 esi
  000e0	e8 00 00 00 00	 call	 ?gObjRemoveBuffEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjRemoveBuffEffect

; 4482 : 					GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_INVISIBLE,tObjNum,1);

  000e5	6a 01		 push	 1
  000e7	53		 push	 ebx
  000e8	6a 47		 push	 71			; 00000047H
  000ea	57		 push	 edi
  000eb	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000f0	83 c4 18	 add	 esp, 24			; 00000018H
$LN21@SkillRemov@2:
  000f3	8b 45 08	 mov	 eax, DWORD PTR tv318[ebp]
$LN2@SkillRemov@2:

; 4483 : 				}
; 4484 : 			}
; 4485 : 		}
; 4486 : 
; 4487 : 		count++;

  000f6	83 c0 0c	 add	 eax, 12			; 0000000cH

; 4488 : 
; 4489 : 		if(count > MAX_VIEWPORT - 1)

  000f9	ff 4d 0c	 dec	 DWORD PTR tv363[ebp]
  000fc	89 45 08	 mov	 DWORD PTR tv318[ebp], eax
  000ff	75 94		 jne	 SHORT $LL6@SkillRemov@2

; 4490 : 		{
; 4491 : 			break;
; 4492 : 		}
; 4493 : 	}
; 4494 : 	return true;

  00101	5b		 pop	 ebx
  00102	5f		 pop	 edi
  00103	b8 01 00 00 00	 mov	 eax, 1
  00108	5e		 pop	 esi

; 4495 : }

  00109	5d		 pop	 ebp
  0010a	c2 0c 00	 ret	 12			; 0000000cH
?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillRemoveCloaking
_TEXT	ENDS
PUBLIC	?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveMagic
; Function compile flags: /Ogtp
;	COMDAT ?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_this$ = -8						; size = 4
tv358 = -4						; size = 4
tv306 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillRemoveMagic, COMDAT
; _this$ = ecx

; 4501 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 4502 : 	if(OBJMAX_RANGE(aIndex) == false)

  00006	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00009	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  0000c	85 c0		 test	 eax, eax
  0000e	78 0e		 js	 SHORT $LN18@SkillRemov@3
  00010	33 c9		 xor	 ecx, ecx
  00012	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00017	0f 9e c1	 setle	 cl
  0001a	85 c9		 test	 ecx, ecx
  0001c	75 08		 jne	 SHORT $LN8@SkillRemov@3
$LN18@SkillRemov@3:

; 4503 : 	{
; 4504 : 		return false;

  0001e	33 c0		 xor	 eax, eax

; 4544 : }

  00020	8b e5		 mov	 esp, ebp
  00022	5d		 pop	 ebp
  00023	c2 0c 00	 ret	 12			; 0000000cH
$LN8@SkillRemov@3:
  00026	57		 push	 edi

; 4505 : 	}
; 4506 : 
; 4507 : 	LPOBJ lpObj = &gObj[aIndex];

  00027	8b f8		 mov	 edi, eax
  00029	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0002f	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4508 : 
; 4509 : 	if(lpObj->MapNumber != MAP_INDEX_CASTLESIEGE && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00035	8a 8f 49 01 00
	00		 mov	 cl, BYTE PTR [edi+329]
  0003b	80 f9 1e	 cmp	 cl, 30			; 0000001eH
  0003e	74 0e		 je	 SHORT $LN7@SkillRemov@3
  00040	80 f9 1f	 cmp	 cl, 31			; 0000001fH
  00043	74 09		 je	 SHORT $LN7@SkillRemov@3

; 4510 : 	{
; 4511 : 		return false;

  00045	33 c0		 xor	 eax, eax
  00047	5f		 pop	 edi

; 4544 : }

  00048	8b e5		 mov	 esp, ebp
  0004a	5d		 pop	 ebp
  0004b	c2 0c 00	 ret	 12			; 0000000cH
$LN7@SkillRemov@3:

; 4512 : 	}
; 4513 : 
; 4514 : 	int tObjNum;
; 4515 : 	int count = 0;
; 4516 : 
; 4517 : 	gObjSetKillCount(aIndex,0);

  0004e	6a 00		 push	 0
  00050	50		 push	 eax
  00051	e8 00 00 00 00	 call	 ?gObjSetKillCount@@YAXHH@Z ; gObjSetKillCount

; 4518 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_MAGIC,lpObj->m_Index,1);

  00056	8b 07		 mov	 eax, DWORD PTR [edi]
  00058	6a 01		 push	 1
  0005a	50		 push	 eax
  0005b	6a 48		 push	 72			; 00000048H
  0005d	57		 push	 edi
  0005e	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00063	83 c4 18	 add	 esp, 24			; 00000018H
  00066	8d 87 ae 08 00
	00		 lea	 eax, DWORD PTR [edi+2222]
  0006c	53		 push	 ebx
  0006d	89 45 08	 mov	 DWORD PTR tv306[ebp], eax
  00070	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv358[ebp], 75 ; 0000004bH
  00077	56		 push	 esi
$LL6@SkillRemov@3:

; 4519 : 
; 4520 : 	while ( true )
; 4521 : 	{
; 4522 : 		if(lpObj->VpPlayer2[count].state != 0)

  00078	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  0007c	74 5c		 je	 SHORT $LN2@SkillRemov@3

; 4523 : 		{
; 4524 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0007e	0f bf 18	 movsx	 ebx, WORD PTR [eax]

; 4525 : 
; 4526 : 			if(OBJMAX_RANGE(tObjNum) && lpObj->VpPlayer2[count].type == OBJ_USER)

  00081	85 db		 test	 ebx, ebx
  00083	78 55		 js	 SHORT $LN2@SkillRemov@3
  00085	33 c9		 xor	 ecx, ecx
  00087	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  0008d	0f 9e c1	 setle	 cl
  00090	85 c9		 test	 ecx, ecx
  00092	74 46		 je	 SHORT $LN2@SkillRemov@3
  00094	80 78 02 01	 cmp	 BYTE PTR [eax+2], 1
  00098	75 40		 jne	 SHORT $LN2@SkillRemov@3

; 4527 : 			{
; 4528 : 				if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  0009a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000a0	8b f3		 mov	 esi, ebx
  000a2	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000a8	8d 14 0e	 lea	 edx, DWORD PTR [esi+ecx]
  000ab	52		 push	 edx
  000ac	57		 push	 edi
  000ad	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000b2	83 c4 08	 add	 esp, 8
  000b5	83 f8 05	 cmp	 eax, 5
  000b8	7d 1d		 jge	 SHORT $LN19@SkillRemov@3

; 4529 : 				{
; 4530 : 					this->RemoveAllCharacterInvalidMagicAndSkillState(&gObj[tObjNum]);

  000ba	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000c0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000c3	56		 push	 esi
  000c4	e8 00 00 00 00	 call	 ?RemoveAllCharacterInvalidMagicAndSkillState@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@@Z ; CObjUseSkill::RemoveAllCharacterInvalidMagicAndSkillState

; 4531 : 					GCMagicAttackNumberSend(lpObj,AT_SKILL_REMOVAL_MAGIC,tObjNum,1);

  000c9	6a 01		 push	 1
  000cb	53		 push	 ebx
  000cc	6a 48		 push	 72			; 00000048H
  000ce	57		 push	 edi
  000cf	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000d4	83 c4 10	 add	 esp, 16			; 00000010H
$LN19@SkillRemov@3:
  000d7	8b 45 08	 mov	 eax, DWORD PTR tv306[ebp]
$LN2@SkillRemov@3:

; 4532 : 				}
; 4533 : 			}
; 4534 : 		}
; 4535 : 
; 4536 : 		count++;

  000da	83 c0 0c	 add	 eax, 12			; 0000000cH

; 4537 : 
; 4538 : 		if(count > MAX_VIEWPORT - 1)

  000dd	ff 4d fc	 dec	 DWORD PTR tv358[ebp]
  000e0	89 45 08	 mov	 DWORD PTR tv306[ebp], eax
  000e3	75 93		 jne	 SHORT $LL6@SkillRemov@3

; 4539 : 		{
; 4540 : 			break;
; 4541 : 		}
; 4542 : 	}
; 4543 : 	return true;

  000e5	5e		 pop	 esi
  000e6	5b		 pop	 ebx
  000e7	b8 01 00 00 00	 mov	 eax, 1
  000ec	5f		 pop	 edi

; 4544 : }

  000ed	8b e5		 mov	 esp, ebp
  000ef	5d		 pop	 ebp
  000f0	c2 0c 00	 ret	 12			; 0000000cH
?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillRemoveMagic
_TEXT	ENDS
PUBLIC	?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFenrirAttack
; Function compile flags: /Ogtp
;	COMDAT ?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -12					; size = 4
tv220 = -8						; size = 4
tv384 = -4						; size = 4
_HitCount$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillFenrirAttack, COMDAT
; _this$ = ecx

; 4547 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 4548 : 	LPOBJ lpObj = &gObj[aIndex];

  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000b	53		 push	 ebx
  0000c	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  0000f	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H

; 4549 : 	int tObjNum;
; 4550 : 	int count = 0;
; 4551 : 	int HitCount = 0;
; 4552 : 	int bAttack;
; 4553 : 	int DuelIndex = lpObj->m_iDuelUser;

  00015	8b 8c 03 b8 0e
	00 00		 mov	 ecx, DWORD PTR [ebx+eax+3768]
  0001c	03 d8		 add	 ebx, eax

; 4554 : 	int EnableAttack;
; 4555 : 
; 4556 : 	if(lpObj->Level < 300)

  0001e	ba 2c 01 00 00	 mov	 edx, 300		; 0000012cH
  00023	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0
  0002a	89 4d f4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
  0002d	66 39 93 be 00
	00 00		 cmp	 WORD PTR [ebx+190], dx
  00034	7d 09		 jge	 SHORT $LN33@SkillFenri

; 4557 : 	{
; 4558 : 		return false;

  00036	33 c0		 xor	 eax, eax
  00038	5b		 pop	 ebx

; 4642 : }

  00039	8b e5		 mov	 esp, ebp
  0003b	5d		 pop	 ebp
  0003c	c2 0c 00	 ret	 12			; 0000000cH
$LN33@SkillFenri:

; 4559 : 	}
; 4560 : 
; 4561 : 	while( true )
; 4562 : 	{
; 4563 : 		if(lpObj->VpPlayer2[count].state != 0)

  0003f	8d 93 b0 08 00
	00		 lea	 edx, DWORD PTR [ebx+2224]
  00045	56		 push	 esi
  00046	89 55 fc	 mov	 DWORD PTR tv384[ebp], edx
  00049	c7 45 f8 4b 00
	00 00		 mov	 DWORD PTR tv220[ebp], 75 ; 0000004bH
  00050	57		 push	 edi
$LL22@SkillFenri:
  00051	80 7a fc 00	 cmp	 BYTE PTR [edx-4], 0
  00055	0f 84 e0 00 00
	00		 je	 $LN38@SkillFenri

; 4564 : 		{
; 4565 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0005b	0f bf 7a fe	 movsx	 edi, WORD PTR [edx-2]

; 4566 : 
; 4567 : 			if(tObjNum >= 0)

  0005f	85 ff		 test	 edi, edi
  00061	0f 88 d4 00 00
	00		 js	 $LN38@SkillFenri

; 4568 : 			{
; 4569 : 				EnableAttack = 0;
; 4570 : 
; 4571 : 				if(gObj[tObjNum].Class < 100 || gObj[tObjNum].Class > 110)

  00067	8b f7		 mov	 esi, edi
  00069	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0006f	0f b7 8c 06 b8
	00 00 00	 movzx	 ecx, WORD PTR [esi+eax+184]
  00077	83 f9 64	 cmp	 ecx, 100		; 00000064H
  0007a	72 09		 jb	 SHORT $LN17@SkillFenri
  0007c	83 f9 6e	 cmp	 ecx, 110		; 0000006eH
  0007f	0f 86 b6 00 00
	00		 jbe	 $LN38@SkillFenri
$LN17@SkillFenri:

; 4572 : 				{
; 4573 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00085	8a 12		 mov	 dl, BYTE PTR [edx]
  00087	80 fa 02	 cmp	 dl, 2
  0008a	75 0a		 jne	 SHORT $LN16@SkillFenri
  0008c	83 bc 06 50 04
	00 00 00	 cmp	 DWORD PTR [esi+eax+1104], 0

; 4574 : 					{
; 4575 : 						EnableAttack = 1;

  00094	7c 5d		 jl	 SHORT $LN13@SkillFenri
$LN16@SkillFenri:

; 4576 : 					}
; 4577 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  00096	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  00099	74 58		 je	 SHORT $LN13@SkillFenri
  0009b	39 7d f4	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  0009e	74 53		 je	 SHORT $LN13@SkillFenri

; 4578 : 					{
; 4579 : 						EnableAttack = 1;
; 4580 : 					}
; 4581 : //#if(GS_CASTLE==1)
; 4582 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000a0	80 fa 03	 cmp	 dl, 3
  000a3	74 13		 je	 SHORT $LN11@SkillFenri
  000a5	80 bc 06 49 01
	00 00 1e	 cmp	 BYTE PTR [esi+eax+329], 30 ; 0000001eH
  000ad	75 09		 jne	 SHORT $LN11@SkillFenri
  000af	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 4583 : 					{
; 4584 : 						EnableAttack = 1;
; 4585 : 					}
; 4586 : //#endif
; 4587 : 					else

  000b6	74 3b		 je	 SHORT $LN13@SkillFenri
$LN11@SkillFenri:

; 4588 : 					{
; 4589 : 						int CallMonIndex = gObj[tObjNum].m_Index;
; 4590 : 
; 4591 : 
; 4592 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000b8	66 83 7c 06 68
	02		 cmp	 WORD PTR [esi+eax+104], 2
  000be	8b 0c 06	 mov	 ecx, DWORD PTR [esi+eax]
  000c1	75 14		 jne	 SHORT $LN9@SkillFenri
  000c3	8b 94 06 50 04
	00 00		 mov	 edx, DWORD PTR [esi+eax+1104]
  000ca	85 d2		 test	 edx, edx
  000cc	78 09		 js	 SHORT $LN9@SkillFenri

; 4593 : 						{
; 4594 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000ce	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000d4	8b 0c 02	 mov	 ecx, DWORD PTR [edx+eax]
$LN9@SkillFenri:

; 4595 : 						}
; 4596 : 
; 4597 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex]) == 1)

  000d7	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000dd	03 c8		 add	 ecx, eax
  000df	51		 push	 ecx
  000e0	53		 push	 ebx
  000e1	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000e6	83 c4 08	 add	 esp, 8
  000e9	83 f8 01	 cmp	 eax, 1
  000ec	75 45		 jne	 SHORT $LN36@SkillFenri
  000ee	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN13@SkillFenri:

; 4598 : 						{
; 4599 : 							EnableAttack = 1;
; 4600 : 						}
; 4601 : 					}
; 4602 : 				}
; 4603 : 
; 4604 : 				if(EnableAttack != 0)
; 4605 : 				{
; 4606 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 6)

  000f3	03 f0		 add	 esi, eax
  000f5	56		 push	 esi
  000f6	53		 push	 ebx
  000f7	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000fc	83 c4 08	 add	 esp, 8
  000ff	83 f8 06	 cmp	 eax, 6
  00102	7d 2f		 jge	 SHORT $LN36@SkillFenri

; 4607 : 					{
; 4608 : 						bAttack = 0;
; 4609 : 
; 4610 : 						if(HitCount >= 5)

  00104	33 c0		 xor	 eax, eax
  00106	83 7d 08 05	 cmp	 DWORD PTR _HitCount$[ebp], 5
  0010a	0f 9c c0	 setl	 al

; 4611 : 						{
; 4612 : 							bAttack = 0;
; 4613 : 						}
; 4614 : 						else
; 4615 : 						{
; 4616 : 							bAttack = 1;
; 4617 : 						}
; 4618 : 
; 4619 : 						if(tObjNum == aTargetIndex)

  0010d	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]

; 4620 : 						{
; 4621 : 							bAttack = 1;
; 4622 : 						}
; 4623 : 
; 4624 : 						if(bAttack != 0)

  00110	74 04		 je	 SHORT $LN35@SkillFenri
  00112	85 c0		 test	 eax, eax
  00114	74 1d		 je	 SHORT $LN36@SkillFenri
$LN35@SkillFenri:

; 4625 : 						{
; 4626 : 							gObjAddAttackProcMsgSendDelay(lpObj,53,tObjNum,300,lpMagic->m_Skill,0);

  00116	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00119	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0011c	6a 00		 push	 0
  0011e	51		 push	 ecx
  0011f	68 2c 01 00 00	 push	 300			; 0000012cH
  00124	57		 push	 edi
  00125	6a 35		 push	 53			; 00000035H
  00127	53		 push	 ebx
  00128	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0012d	83 c4 18	 add	 esp, 24			; 00000018H

; 4627 : 							HitCount++;

  00130	ff 45 08	 inc	 DWORD PTR _HitCount$[ebp]
$LN36@SkillFenri:
  00133	8b 55 fc	 mov	 edx, DWORD PTR tv384[ebp]
  00136	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN38@SkillFenri:

; 4628 : 						}
; 4629 : 					}
; 4630 : 				}
; 4631 : 			}
; 4632 : 		}
; 4633 : 
; 4634 : 		count++;

  0013b	83 c2 0c	 add	 edx, 12			; 0000000cH

; 4635 : 
; 4636 : 		if(count > MAX_VIEWPORT - 1)

  0013e	ff 4d f8	 dec	 DWORD PTR tv220[ebp]
  00141	89 55 fc	 mov	 DWORD PTR tv384[ebp], edx
  00144	0f 85 07 ff ff
	ff		 jne	 $LL22@SkillFenri

; 4637 : 		{
; 4638 : 			break;
; 4639 : 		}
; 4640 : 	}
; 4641 : 	return true;

  0014a	5f		 pop	 edi
  0014b	5e		 pop	 esi
  0014c	b8 01 00 00 00	 mov	 eax, 1
  00151	5b		 pop	 ebx

; 4642 : }

  00152	8b e5		 mov	 esp, ebp
  00154	5d		 pop	 ebp
  00155	c2 0c 00	 ret	 12			; 0000000cH
?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillFenrirAttack
_TEXT	ENDS
PUBLIC	??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@ ; `string'
PUBLIC	?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillInfinityArrow
;	COMDAT ??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@
; File e:\work\tranet_version\gs\gameserver\skilladditioninfo.h
CONST	SEGMENT
??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@ DB '['
	DB	'%s][%s] Use Infinity Arrow Skill (Time:%d)(Character Level : '
	DB	'%d)(ChangeUp: %d)', 00H			; `string'
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\objuseskill.cpp
CONST	ENDS
;	COMDAT ?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillInfinityArrow, COMDAT
; _this$ = ecx

; 4646 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 4647 : 	LPOBJ lpObj = &gObj[aIndex];

  00004	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00007	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0000d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 4648 : 
; 4649 : 	if(lpObj->Type != OBJ_USER)

  00013	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1

; 4650 : 	{
; 4651 : 		return false;

  00018	0f 85 84 00 00
	00		 jne	 $LN3@SkillInfin

; 4652 : 	}
; 4653 : 
; 4654 : 	if(lpObj->Class != CLASS_ELF || lpObj->ChangeUP == 0)

  0001e	66 83 be b8 00
	00 00 02	 cmp	 WORD PTR [esi+184], 2
  00026	75 7a		 jne	 SHORT $LN3@SkillInfin
  00028	80 be bb 00 00
	00 00		 cmp	 BYTE PTR [esi+187], 0
  0002f	74 71		 je	 SHORT $LN3@SkillInfin

; 4657 : 	}
; 4658 : 
; 4659 : 	if(lpObj->m_Index != aTargetIndex)

  00031	8b 06		 mov	 eax, DWORD PTR [esi]
  00033	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]

; 4660 : 	{
; 4661 : 		return false;

  00036	75 6a		 jne	 SHORT $LN3@SkillInfin

; 4662 : 	}
; 4663 : 
; 4664 : 	if(gObjSearchActiveEffect(lpObj, AT_INFINITY_ARROW) == TRUE)

  00038	6a 06		 push	 6
  0003a	56		 push	 esi
  0003b	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00040	83 c4 08	 add	 esp, 8
  00043	3c 01		 cmp	 al, 1

; 4665 : 	{
; 4666 : 		return false;

  00045	74 5b		 je	 SHORT $LN3@SkillInfin

; 4667 : 	}
; 4668 : 
; 4669 : 	gObjApplyBuffEffectDuration(lpObj, AT_INFINITY_ARROW, 0, 0, 0, 0, g_SkillAdditionInfo.GetInfinityArrowSkillTime());

  00047	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+4
  0004d	51		 push	 ecx
  0004e	6a 00		 push	 0
  00050	6a 00		 push	 0
  00052	6a 00		 push	 0
  00054	6a 00		 push	 0
  00056	6a 06		 push	 6
  00058	56		 push	 esi
  00059	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 4670 : 	GCMagicAttackNumberSend(lpObj,0x4D,lpObj->m_Index,1);

  0005e	8b 16		 mov	 edx, DWORD PTR [esi]
  00060	6a 01		 push	 1
  00062	52		 push	 edx
  00063	6a 4d		 push	 77			; 0000004dH
  00065	56		 push	 esi
  00066	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4671 : 	LogAddTD("[%s][%s] Use Infinity Arrow Skill (Time:%d)(Character Level : %d)(ChangeUp: %d)",	lpObj->AccountID,lpObj->Name,g_SkillAdditionInfo.GetInfinityArrowSkillTime(),lpObj->Level,lpObj->ChangeUP);

  0006b	0f b6 86 bb 00
	00 00		 movzx	 eax, BYTE PTR [esi+187]
  00072	0f bf 8e be 00
	00 00		 movsx	 ecx, WORD PTR [esi+190]
  00079	8b 15 04 00 00
	00		 mov	 edx, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+4
  0007f	50		 push	 eax
  00080	51		 push	 ecx
  00081	52		 push	 edx
  00082	8d 46 77	 lea	 eax, DWORD PTR [esi+119]
  00085	50		 push	 eax
  00086	83 c6 6c	 add	 esi, 108		; 0000006cH
  00089	56		 push	 esi
  0008a	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@NONLFBKD@?$FL?$CFs?$FN?$FL?$CFs?$FN?5Use?5Infinity?5Arrow?5Skil@
  0008f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00095	83 c4 44	 add	 esp, 68			; 00000044H

; 4672 : 	return true;

  00098	b8 01 00 00 00	 mov	 eax, 1
  0009d	5e		 pop	 esi

; 4673 : }

  0009e	5d		 pop	 ebp
  0009f	c2 0c 00	 ret	 12			; 0000000cH
$LN3@SkillInfin:

; 4655 : 	{
; 4656 : 		return false;

  000a2	33 c0		 xor	 eax, eax
  000a4	5e		 pop	 esi

; 4673 : }

  000a5	5d		 pop	 ebp
  000a6	c2 0c 00	 ret	 12			; 0000000cH
?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillInfinityArrow
_TEXT	ENDS
PUBLIC	?SkillFireScream@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFireScream
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
; Function compile flags: /Ogtp
;	COMDAT ?SkillFireScream@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillFireScream@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillFireScream, COMDAT
; _this$ = ecx

; 4677 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4678 : 	if(g_SkillAdditionInfo.GetFireScreamSkill() == false)

  00003	83 3d 1c 00 00
	00 00		 cmp	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+28, 0
  0000a	75 06		 jne	 SHORT $LN4@SkillFireS

; 4679 : 	{
; 4680 : 		return false;

  0000c	33 c0		 xor	 eax, eax

; 4703 : }

  0000e	5d		 pop	 ebp
  0000f	c2 0c 00	 ret	 12			; 0000000cH
$LN4@SkillFireS:

; 4681 : 	}
; 4682 : 
; 4683 : 	LPOBJ lpObj = &gObj[aIndex];

  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00017	56		 push	 esi
  00018	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0001b	57		 push	 edi
  0001c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H

; 4684 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00022	8b 7d 0c	 mov	 edi, DWORD PTR _aTargetIndex$[ebp]
  00025	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0002b	03 f0		 add	 esi, eax
  0002d	03 f8		 add	 edi, eax

; 4685 : 
; 4686 : 	if(gObjIsConnected(lpObj->m_Index) == false && gObjIsConnected(lpTargetObj->m_Index) == false)

  0002f	8b 06		 mov	 eax, DWORD PTR [esi]
  00031	50		 push	 eax
  00032	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00037	83 c4 04	 add	 esp, 4
  0003a	85 c0		 test	 eax, eax
  0003c	75 0f		 jne	 SHORT $LN3@SkillFireS
  0003e	8b 0f		 mov	 ecx, DWORD PTR [edi]
  00040	51		 push	 ecx
  00041	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00046	83 c4 04	 add	 esp, 4
  00049	85 c0		 test	 eax, eax

; 4687 : 	{
; 4688 : 		return false;

  0004b	74 11		 je	 SHORT $LN11@SkillFireS
$LN3@SkillFireS:

; 4689 : 	}
; 4690 : 
; 4691 : 	if(lpObj->Type != OBJ_USER)

  0004d	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1

; 4692 : 	{
; 4693 : 		return false;

  00052	75 0a		 jne	 SHORT $LN11@SkillFireS

; 4694 : 	}
; 4695 : 
; 4696 : 	if(lpObj->Class != CLASS_DARKLORD)

  00054	66 83 be b8 00
	00 00 04	 cmp	 WORD PTR [esi+184], 4
  0005c	74 08		 je	 SHORT $LN1@SkillFireS
$LN11@SkillFireS:
  0005e	5f		 pop	 edi

; 4697 : 	{
; 4698 : 		return false;

  0005f	33 c0		 xor	 eax, eax
  00061	5e		 pop	 esi

; 4703 : }

  00062	5d		 pop	 ebp
  00063	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillFireS:

; 4699 : 	}
; 4700 : 
; 4701 : 	gObjAttack(lpObj,lpTargetObj,lpMagic,0,0,0,0,0,0);

  00066	8b 55 10	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00069	6a 00		 push	 0
  0006b	6a 00		 push	 0
  0006d	6a 00		 push	 0
  0006f	6a 00		 push	 0
  00071	6a 00		 push	 0
  00073	6a 00		 push	 0
  00075	52		 push	 edx
  00076	57		 push	 edi
  00077	56		 push	 esi
  00078	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0007d	83 c4 24	 add	 esp, 36			; 00000024H
  00080	5f		 pop	 edi

; 4702 : 	return true;

  00081	b8 01 00 00 00	 mov	 eax, 1
  00086	5e		 pop	 esi

; 4703 : }

  00087	5d		 pop	 ebp
  00088	c2 0c 00	 ret	 12			; 0000000cH
?SkillFireScream@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillFireScream
_TEXT	ENDS
PUBLIC	?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z ; CObjUseSkill::FireScreamExplosionAttack
EXTRN	?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z:PROC ; gObjAddMsgSendDelay
EXTRN	?gObjGetRelationShip@@YAHPAUOBJECTSTRUCT@@0@Z:PROC ; gObjGetRelationShip
; Function compile flags: /Ogtp
;	COMDAT ?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z
_TEXT	SEGMENT
_iExplosionDamage$ = -8					; size = 4
tv172 = -4						; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
tv374 = 16						; size = 4
_iAttackDamage$ = 16					; size = 4
?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z PROC ; CObjUseSkill::FireScreamExplosionAttack, COMDAT
; _this$ = ecx

; 4706 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	57		 push	 edi

; 4707 : 	if(gObjIsConnected(lpObj->m_Index) == false && gObjIsConnected(lpTargetObj->m_Index) == false)

  00007	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]
  0000a	8b 07		 mov	 eax, DWORD PTR [edi]
  0000c	50		 push	 eax
  0000d	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00012	83 c4 04	 add	 esp, 4
  00015	85 c0		 test	 eax, eax
  00017	75 19		 jne	 SHORT $LN21@FireScream
  00019	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  0001c	8b 11		 mov	 edx, DWORD PTR [ecx]
  0001e	52		 push	 edx
  0001f	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00024	83 c4 04	 add	 esp, 4
  00027	85 c0		 test	 eax, eax
  00029	75 07		 jne	 SHORT $LN21@FireScream
  0002b	5f		 pop	 edi

; 4786 : 		{
; 4787 : 			break;
; 4788 : 		}
; 4789 : 	}
; 4790 : 	return true;
; 4791 : }

  0002c	8b e5		 mov	 esp, ebp
  0002e	5d		 pop	 ebp
  0002f	c2 0c 00	 ret	 12			; 0000000cH
$LN21@FireScream:
  00032	56		 push	 esi

; 4708 : 	{
; 4709 : 		return false;
; 4710 : 	}
; 4711 : 
; 4712 : 	if(rand()%10000 > g_SkillAdditionInfo.GetFireScreamExplosionRate())

  00033	8b 35 24 00 00
	00		 mov	 esi, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+36
  00039	e8 00 00 00 00	 call	 _rand
  0003e	99		 cdq
  0003f	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00044	f7 f9		 idiv	 ecx
  00046	3b d6		 cmp	 edx, esi
  00048	7e 0a		 jle	 SHORT $LN20@FireScream

; 4713 : 	{
; 4714 : 		return false;

  0004a	5e		 pop	 esi
  0004b	33 c0		 xor	 eax, eax
  0004d	5f		 pop	 edi

; 4786 : 		{
; 4787 : 			break;
; 4788 : 		}
; 4789 : 	}
; 4790 : 	return true;
; 4791 : }

  0004e	8b e5		 mov	 esp, ebp
  00050	5d		 pop	 ebp
  00051	c2 0c 00	 ret	 12			; 0000000cH
$LN20@FireScream:

; 4715 : 	}
; 4716 : 
; 4717 : 	int iExplosionDamage = iAttackDamage / 10;

  00054	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00059	f7 6d 10	 imul	 DWORD PTR _iAttackDamage$[ebp]
  0005c	c1 fa 02	 sar	 edx, 2
  0005f	8b c2		 mov	 eax, edx
  00061	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00064	03 c2		 add	 eax, edx
  00066	89 45 f8	 mov	 DWORD PTR _iExplosionDamage$[ebp], eax

; 4718 : 	int iTarObjNum;
; 4719 : 
; 4720 : 	if(iExplosionDamage < 1)

  00069	83 f8 01	 cmp	 eax, 1
  0006c	7d 0d		 jge	 SHORT $LN19@FireScream

; 4721 : 	{
; 4722 : 		return true;

  0006e	5e		 pop	 esi
  0006f	b8 01 00 00 00	 mov	 eax, 1
  00074	5f		 pop	 edi

; 4786 : 		{
; 4787 : 			break;
; 4788 : 		}
; 4789 : 	}
; 4790 : 	return true;
; 4791 : }

  00075	8b e5		 mov	 esp, ebp
  00077	5d		 pop	 ebp
  00078	c2 0c 00	 ret	 12			; 0000000cH
$LN19@FireScream:

; 4723 : 	}
; 4724 : 
; 4725 : 	int iCount = 0;

  0007b	81 c7 ae 08 00
	00		 add	 edi, 2222		; 000008aeH
  00081	89 7d 10	 mov	 DWORD PTR tv374[ebp], edi
  00084	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv172[ebp], 75 ; 0000004bH
  0008b	53		 push	 ebx
  0008c	8d 64 24 00	 npad	 4
$LL18@FireScream:

; 4726 : 	BOOL bEnableAttack;
; 4727 : 
; 4728 : 	while( true )
; 4729 : 	{
; 4730 : 		if(lpObj->VpPlayer2[iCount].state != 0)

  00090	80 7f fe 00	 cmp	 BYTE PTR [edi-2], 0
  00094	0f 84 ac 00 00
	00		 je	 $LN35@FireScream

; 4731 : 		{
; 4732 : 			iTarObjNum = lpObj->VpPlayer2[iCount].number;

  0009a	0f bf 1f	 movsx	 ebx, WORD PTR [edi]

; 4733 : 
; 4734 : 			if(iTarObjNum >= 0)

  0009d	85 db		 test	 ebx, ebx
  0009f	0f 88 a1 00 00
	00		 js	 $LN35@FireScream

; 4735 : 			{
; 4736 : 				bEnableAttack = FALSE;
; 4737 : 
; 4738 : 				if(gObj[iTarObjNum].Type == OBJ_MONSTER && gObj[iTarObjNum].m_RecallMon < 0)

  000a5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ab	8b f3		 mov	 esi, ebx
  000ad	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000b3	0f b7 4c 16 68	 movzx	 ecx, WORD PTR [esi+edx+104]
  000b8	8d 04 16	 lea	 eax, DWORD PTR [esi+edx]
  000bb	33 ff		 xor	 edi, edi
  000bd	83 f9 02	 cmp	 ecx, 2
  000c0	75 08		 jne	 SHORT $LN14@FireScream
  000c2	39 b8 50 04 00
	00		 cmp	 DWORD PTR [eax+1104], edi
  000c8	7c 40		 jl	 SHORT $LN34@FireScream
$LN14@FireScream:

; 4739 : 				{
; 4740 : 					bEnableAttack = TRUE;
; 4741 : 				}
; 4742 : 				else if(lpTargetObj->Type == OBJ_USER && lpObj->Type == OBJ_USER && gObj[iTarObjNum].Type != OBJ_NPC)

  000ca	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  000cd	66 83 7a 68 01	 cmp	 WORD PTR [edx+104], 1
  000d2	0f 85 8e 00 00
	00		 jne	 $LN36@FireScream
  000d8	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  000db	66 83 7a 68 01	 cmp	 WORD PTR [edx+104], 1
  000e0	0f 85 80 00 00
	00		 jne	 $LN36@FireScream
  000e6	83 f9 03	 cmp	 ecx, 3
  000e9	74 7b		 je	 SHORT $LN36@FireScream

; 4743 : 				{
; 4744 : 					if(lpTargetObj->m_Index == iTarObjNum)

  000eb	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  000ee	39 19		 cmp	 DWORD PTR [ecx], ebx
  000f0	75 05		 jne	 SHORT $LN11@FireScream

; 4745 : 					{
; 4746 : 						bEnableAttack = TRUE;

  000f2	bf 01 00 00 00	 mov	 edi, 1
$LN11@FireScream:

; 4747 : 					}
; 4748 : 
; 4749 : 					if(gObjGetRelationShip(lpObj, &gObj[iTarObjNum]) == 2) //rival??

  000f7	50		 push	 eax
  000f8	52		 push	 edx
  000f9	e8 00 00 00 00	 call	 ?gObjGetRelationShip@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjGetRelationShip
  000fe	83 c4 08	 add	 esp, 8
  00101	83 f8 02	 cmp	 eax, 2
  00104	74 04		 je	 SHORT $LN34@FireScream

; 4762 : 					{
; 4763 : 						bEnableAttack = TRUE;
; 4764 : 					}
; 4765 : 				}
; 4766 : //#endif
; 4767 : 				if(bEnableAttack != FALSE)

  00106	85 ff		 test	 edi, edi
$LN40@FireScream:
  00108	74 3c		 je	 SHORT $LN35@FireScream
$LN34@FireScream:

; 4768 : 				{
; 4769 : 					if(lpObj->m_Index != gObj[iTarObjNum].m_Index)

  0010a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00110	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00113	8d 04 16	 lea	 eax, DWORD PTR [esi+edx]
  00116	8b 11		 mov	 edx, DWORD PTR [ecx]
  00118	3b 10		 cmp	 edx, DWORD PTR [eax]
  0011a	74 2a		 je	 SHORT $LN35@FireScream

; 4770 : 					{
; 4771 : 						int iSkillDistance = gObjCalDistance(lpTargetObj,&gObj[iTarObjNum]);

  0011c	50		 push	 eax
  0011d	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  00120	50		 push	 eax
  00121	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00126	83 c4 08	 add	 esp, 8

; 4772 : 
; 4773 : 						if(iSkillDistance <= g_SkillAdditionInfo.GetFireScreamExplosionAttackDistance())

  00129	3b 05 20 00 00
	00		 cmp	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+32
  0012f	7f 15		 jg	 SHORT $LN35@FireScream

; 4774 : 						{
; 4775 : 							gObjAddMsgSendDelay(lpObj,54,iTarObjNum,100,iExplosionDamage);

  00131	8b 4d f8	 mov	 ecx, DWORD PTR _iExplosionDamage$[ebp]
  00134	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00137	51		 push	 ecx
  00138	6a 64		 push	 100			; 00000064H
  0013a	53		 push	 ebx
  0013b	6a 36		 push	 54			; 00000036H
  0013d	52		 push	 edx
  0013e	e8 00 00 00 00	 call	 ?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z ; gObjAddMsgSendDelay
  00143	83 c4 14	 add	 esp, 20			; 00000014H
$LN35@FireScream:

; 4776 : 							//gObjAttack(lpObj,&gObj[iTarObjNum],lpMagic,1,0,0,0,0,0);
; 4777 : 						}
; 4778 : 					}
; 4779 : 				}
; 4780 : 			}
; 4781 : 		}
; 4782 : 
; 4783 : 		iCount++;

  00146	8b 7d 10	 mov	 edi, DWORD PTR tv374[ebp]
  00149	83 c7 0c	 add	 edi, 12			; 0000000cH

; 4784 : 
; 4785 : 		if(iCount > MAX_VIEWPORT -1)

  0014c	b8 01 00 00 00	 mov	 eax, 1
  00151	29 45 fc	 sub	 DWORD PTR tv172[ebp], eax
  00154	89 7d 10	 mov	 DWORD PTR tv374[ebp], edi
  00157	0f 85 33 ff ff
	ff		 jne	 $LL18@FireScream
  0015d	5b		 pop	 ebx
  0015e	5e		 pop	 esi
  0015f	5f		 pop	 edi

; 4786 : 		{
; 4787 : 			break;
; 4788 : 		}
; 4789 : 	}
; 4790 : 	return true;
; 4791 : }

  00160	8b e5		 mov	 esp, ebp
  00162	5d		 pop	 ebp
  00163	c2 0c 00	 ret	 12			; 0000000cH
$LN36@FireScream:

; 4750 : 					{
; 4751 : 						bEnableAttack = TRUE;
; 4752 : 					}
; 4753 : 				}
; 4754 : 				else if(lpTargetObj->m_cChaosCastleIndex == gObj[iTarObjNum].m_cChaosCastleIndex && lpTargetObj->m_cChaosCastleIndex != -1)

  00166	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  00169	8a 92 a5 0e 00
	00		 mov	 dl, BYTE PTR [edx+3749]
  0016f	3a 90 a5 0e 00
	00		 cmp	 dl, BYTE PTR [eax+3749]
  00175	75 05		 jne	 SHORT $LN8@FireScream
  00177	80 fa ff	 cmp	 dl, -1
  0017a	75 8e		 jne	 SHORT $LN34@FireScream
$LN8@FireScream:

; 4755 : 				{
; 4756 : 					bEnableAttack = TRUE;
; 4757 : 				}
; 4758 : //#if(GS_CASTLE==1)
; 4759 : 				else if(gObj[iTarObjNum].Type != OBJ_NPC && gObj[iTarObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0017c	83 f9 03	 cmp	 ecx, 3
  0017f	74 c5		 je	 SHORT $LN35@FireScream
  00181	80 b8 49 01 00
	00 1e		 cmp	 BYTE PTR [eax+329], 30	; 0000001eH
  00188	75 bc		 jne	 SHORT $LN35@FireScream
  0018a	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7
  00191	75 b3		 jne	 SHORT $LN35@FireScream

; 4760 : 				{
; 4761 : 					if(lpObj->m_btCsJoinSide != gObj[iTarObjNum].m_btCsJoinSide && gObj[iTarObjNum].m_btCsJoinSide > 0)

  00193	8a 80 02 1c 00
	00		 mov	 al, BYTE PTR [eax+7170]
  00199	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0019c	38 81 02 1c 00
	00		 cmp	 BYTE PTR [ecx+7170], al
  001a2	74 a2		 je	 SHORT $LN35@FireScream
  001a4	84 c0		 test	 al, al

; 4762 : 					{
; 4763 : 						bEnableAttack = TRUE;
; 4764 : 					}
; 4765 : 				}
; 4766 : //#endif
; 4767 : 				if(bEnableAttack != FALSE)

  001a6	e9 5d ff ff ff	 jmp	 $LN40@FireScream
?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z ENDP ; CObjUseSkill::FireScreamExplosionAttack
_TEXT	ENDS
PUBLIC	?SpecificSkillAdditionTreat@CObjUseSkill@@QAEXPAUOBJECTSTRUCT@@0PAVCMagicInf@@H@Z ; CObjUseSkill::SpecificSkillAdditionTreat
; Function compile flags: /Ogtp
;	COMDAT ?SpecificSkillAdditionTreat@CObjUseSkill@@QAEXPAUOBJECTSTRUCT@@0PAVCMagicInf@@H@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_iAttackDamage$ = 20					; size = 4
?SpecificSkillAdditionTreat@CObjUseSkill@@QAEXPAUOBJECTSTRUCT@@0PAVCMagicInf@@H@Z PROC ; CObjUseSkill::SpecificSkillAdditionTreat, COMDAT
; _this$ = ecx

; 4794 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4795 : 	int inSkillNum = lpMagic->m_Skill;

  00003	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00006	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 4796 : 
; 4797 : 	if(inSkillNum == AT_SKILL_FIRESCREAM || 
; 4798 : 		(inSkillNum >= 525 && inSkillNum < 530)) //season4 add-on

  00009	83 f8 4e	 cmp	 eax, 78			; 0000004eH
  0000c	74 0a		 je	 SHORT $LN1@SpecificSk
  0000e	05 f3 fd ff ff	 add	 eax, -525		; fffffdf3H
  00013	83 f8 04	 cmp	 eax, 4
  00016	77 16		 ja	 SHORT $LN2@SpecificSk
$LN1@SpecificSk:

; 4799 : 	{
; 4800 : 		gObjUseSkill.FireScreamExplosionAttack(lpObj,lpTargetObj,iAttackDamage);

  00018	8b 4d 14	 mov	 ecx, DWORD PTR _iAttackDamage$[ebp]
  0001b	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0001e	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00021	51		 push	 ecx
  00022	52		 push	 edx
  00023	50		 push	 eax
  00024	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  00029	e8 00 00 00 00	 call	 ?FireScreamExplosionAttack@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0H@Z ; CObjUseSkill::FireScreamExplosionAttack
$LN2@SpecificSk:

; 4801 : 	}
; 4802 : }

  0002e	5d		 pop	 ebp
  0002f	c2 10 00	 ret	 16			; 00000010H
?SpecificSkillAdditionTreat@CObjUseSkill@@QAEXPAUOBJECTSTRUCT@@0PAVCMagicInf@@H@Z ENDP ; CObjUseSkill::SpecificSkillAdditionTreat
_TEXT	ENDS
PUBLIC	?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEletrictSurge
EXTRN	?gCheckSkillDistance@@YAHHHH@Z:PROC		; gCheckSkillDistance
; Function compile flags: /Ogtp
;	COMDAT ?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -8					; size = 4
_count$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillEletrictSurge, COMDAT
; _this$ = ecx

; 4806 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 4807 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2 ebp-8
; 4808 : 	int Result = 0; //loc3 ebp-c
; 4809 : 	int tObjNum; //loc4 ebp-10
; 4810 : 
; 4811 : 	int fangle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 -> ebp-14
; 4812 : 
; 4813 : 	int count = 0; //loc6 ebp-18
; 4814 : 
; 4815 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00006	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00009	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0000c	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00015	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001b	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00021	57		 push	 edi
  00022	6a 01		 push	 1
  00024	50		 push	 eax
  00025	52		 push	 edx
  00026	56		 push	 esi
  00027	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002e	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4816 : 
; 4817 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8 -> ebp-1c

  00033	8b 86 b8 0e 00
	00		 mov	 eax, DWORD PTR [esi+3768]
  00039	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0003f	83 c4 10	 add	 esp, 16			; 00000010H
  00042	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00045	8d 9e ae 08 00
	00		 lea	 ebx, DWORD PTR [esi+2222]
  0004b	eb 03 8d 49 00	 npad	 5
$LL15@SkillEletr:

; 4818 : 	int EnableAttack; //loc9 -> ebp-20
; 4819 : 
; 4820 : 	while ( true )
; 4821 : 	{
; 4822 : 		if(lpObj->VpPlayer2[count].state != 0)

  00050	80 7b fe 00	 cmp	 BYTE PTR [ebx-2], 0
  00054	0f 84 97 00 00
	00		 je	 $LN27@SkillEletr

; 4823 : 		{
; 4824 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0005a	0f bf 3b	 movsx	 edi, WORD PTR [ebx]

; 4825 : 
; 4826 : 			if(tObjNum >= 0)

  0005d	85 ff		 test	 edi, edi
  0005f	0f 88 8c 00 00
	00		 js	 $LN27@SkillEletr

; 4827 : 			{
; 4828 : 				EnableAttack = 0;
; 4829 : 
; 4830 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00065	80 7b 02 02	 cmp	 BYTE PTR [ebx+2], 2
  00069	75 12		 jne	 SHORT $LN11@SkillEletr
  0006b	8b cf		 mov	 ecx, edi
  0006d	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00073	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 4831 : 				{
; 4832 : 					EnableAttack = 1;

  0007b	7c 4e		 jl	 SHORT $LN26@SkillEletr
$LN11@SkillEletr:

; 4833 : 				}
; 4834 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0007d	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  00080	74 4e		 je	 SHORT $LN23@SkillEletr
  00082	39 7d f8	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  00085	74 44		 je	 SHORT $LN26@SkillEletr

; 4835 : 				{
; 4836 : 					EnableAttack = 1;
; 4837 : 				}
; 4838 : 				else
; 4839 : 				{
; 4840 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  00087	8b cf		 mov	 ecx, edi
  00089	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 4841 : 
; 4842 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0008f	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  00095	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  00098	75 14		 jne	 SHORT $LN6@SkillEletr
  0009a	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000a1	85 c9		 test	 ecx, ecx
  000a3	78 09		 js	 SHORT $LN6@SkillEletr

; 4843 : 					{
; 4844 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000a5	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000ab	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN6@SkillEletr:

; 4845 : 					}
; 4846 : 
; 4847 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000ae	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000b4	03 c2		 add	 eax, edx
  000b6	50		 push	 eax
  000b7	56		 push	 esi
  000b8	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000bd	83 c4 08	 add	 esp, 8
  000c0	83 f8 01	 cmp	 eax, 1
  000c3	75 26		 jne	 SHORT $LN25@SkillEletr
  000c5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN26@SkillEletr:

; 4848 : 					{
; 4849 : 						EnableAttack = 1;
; 4850 : 					}
; 4851 : 				}
; 4852 : 
; 4853 : 				if(EnableAttack != 0)
; 4854 : 				{
; 4855 : 					if(tObjNum == aTargetIndex)

  000cb	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000ce	75 21		 jne	 SHORT $LN27@SkillEletr
$LN23@SkillEletr:

; 4856 : 					{
; 4857 : 						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  000d0	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  000d3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  000d6	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  000d9	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  000dc	52		 push	 edx
  000dd	50		 push	 eax
  000de	51		 push	 ecx
  000df	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  000e4	83 c4 0c	 add	 esp, 12			; 0000000cH
  000e7	85 c0		 test	 eax, eax
  000e9	75 24		 jne	 SHORT $LN20@SkillEletr
$LN25@SkillEletr:
  000eb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN27@SkillEletr:

; 4861 : 							break;
; 4862 : 						}
; 4863 : 					}
; 4864 : 				}
; 4865 : 			}
; 4866 : 		}
; 4867 : 
; 4868 : 		count++;

  000f1	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  000f4	40		 inc	 eax
  000f5	83 c3 0c	 add	 ebx, 12			; 0000000cH
  000f8	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax

; 4869 : 		if(count > MAX_VIEWPORT -1)

  000fb	83 f8 4a	 cmp	 eax, 74			; 0000004aH
  000fe	0f 8e 4c ff ff
	ff		 jle	 $LL15@SkillEletr

; 4870 : 		{
; 4871 : 			break;
; 4872 : 		}
; 4873 : 	}
; 4874 : 	return Result;

  00104	5f		 pop	 edi
  00105	5e		 pop	 esi
  00106	33 c0		 xor	 eax, eax
  00108	5b		 pop	 ebx

; 4875 : }

  00109	8b e5		 mov	 esp, ebp
  0010b	5d		 pop	 ebp
  0010c	c2 0c 00	 ret	 12			; 0000000cH
$LN20@SkillEletr:

; 4858 : 						{
; 4859 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  0010f	8b 55 10	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00112	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00115	6a 00		 push	 0
  00117	50		 push	 eax
  00118	68 bc 02 00 00	 push	 700			; 000002bcH
  0011d	57		 push	 edi
  0011e	6a 32		 push	 50			; 00000032H
  00120	56		 push	 esi
  00121	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00126	83 c4 18	 add	 esp, 24			; 00000018H
  00129	5f		 pop	 edi
  0012a	5e		 pop	 esi

; 4860 : 							Result = 1;

  0012b	b8 01 00 00 00	 mov	 eax, 1
  00130	5b		 pop	 ebx

; 4875 : }

  00131	8b e5		 mov	 esp, ebp
  00133	5d		 pop	 ebp
  00134	c2 0c 00	 ret	 12			; 0000000cH
?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillEletrictSurge
_TEXT	ENDS
PUBLIC	?SkillEletrictSurgeProc@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0HHHH@Z ; CObjUseSkill::SkillEletrictSurgeProc
; Function compile flags: /Ogtp
;	COMDAT ?SkillEletrictSurgeProc@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0HHHH@Z
_TEXT	SEGMENT
tv315 = 8						; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
_iSkillID$ = 16						; size = 4
tv76 = 20						; size = 4
_iAttackDamage$ = 20					; size = 4
_flag$ = 24						; size = 4
_Message$ = 28						; size = 4
?SkillEletrictSurgeProc@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0HHHH@Z PROC ; CObjUseSkill::SkillEletrictSurgeProc, COMDAT
; _this$ = ecx

; 4879 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 4880 : 	if(gObjIsConnected(lpObj->m_Index) == FALSE && gObjIsConnected(lpTargetObj->m_Index) == FALSE)

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  00007	8b 03		 mov	 eax, DWORD PTR [ebx]
  00009	50		 push	 eax
  0000a	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0000f	83 c4 04	 add	 esp, 4
  00012	85 c0		 test	 eax, eax
  00014	75 19		 jne	 SHORT $LN15@SkillEletr@2
  00016	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  00019	8b 11		 mov	 edx, DWORD PTR [ecx]
  0001b	52		 push	 edx
  0001c	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00021	83 c4 04	 add	 esp, 4
  00024	85 c0		 test	 eax, eax
  00026	75 07		 jne	 SHORT $LN15@SkillEletr@2
$LN29@SkillEletr@2:

; 4881 : 	{
; 4882 : 		return false;

  00028	33 c0		 xor	 eax, eax
  0002a	5b		 pop	 ebx

; 4943 : }

  0002b	5d		 pop	 ebp
  0002c	c2 18 00	 ret	 24			; 00000018H
$LN15@SkillEletr@2:

; 4883 : 	}
; 4884 : 
; 4885 : 	if(iAttackDamage <= 0)

  0002f	8b 45 14	 mov	 eax, DWORD PTR _iAttackDamage$[ebp]
  00032	85 c0		 test	 eax, eax

; 4886 : 	{
; 4887 : 		return 0;

  00034	7e f2		 jle	 SHORT $LN29@SkillEletr@2

; 4888 : 	}
; 4889 : 
; 4890 : 	int iDamage = iAttackDamage * Message/ 100; //loc2

  00036	0f af 45 1c	 imul	 eax, DWORD PTR _Message$[ebp]
  0003a	8b c8		 mov	 ecx, eax
  0003c	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  00041	f7 e9		 imul	 ecx
  00043	56		 push	 esi
  00044	57		 push	 edi
  00045	c1 fa 05	 sar	 edx, 5
  00048	8b fa		 mov	 edi, edx
  0004a	c1 ef 1f	 shr	 edi, 31			; 0000001fH
  0004d	8d 83 ae 08 00
	00		 lea	 eax, DWORD PTR [ebx+2222]
  00053	03 fa		 add	 edi, edx
  00055	89 45 08	 mov	 DWORD PTR tv315[ebp], eax
  00058	c7 45 14 4b 00
	00 00		 mov	 DWORD PTR tv76[ebp], 75	; 0000004bH
  0005f	90		 npad	 1
$LL13@SkillEletr@2:

; 4891 : 
; 4892 : 	int tObjNum; //loc3
; 4893 : 	int count = 0; //loc4
; 4894 : 
; 4895 : 	BOOL bEnableAttack;
; 4896 : 	
; 4897 : 	while ( true )
; 4898 : 	{
; 4899 : 		if ( lpObj->VpPlayer2[count].state != 0)

  00060	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  00064	74 7d		 je	 SHORT $LN22@SkillEletr@2

; 4900 : 		{
; 4901 : 			tObjNum = lpObj->VpPlayer2[count].number;

  00066	0f bf 30	 movsx	 esi, WORD PTR [eax]

; 4902 : 
; 4903 : 			if ( tObjNum >= 0 )

  00069	85 f6		 test	 esi, esi
  0006b	78 76		 js	 SHORT $LN22@SkillEletr@2

; 4904 : 			{
; 4905 : 				bEnableAttack = FALSE;
; 4906 : 
; 4907 : 				if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0006d	8b c6		 mov	 eax, esi
  0006f	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00075	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0007b	0f b7 50 68	 movzx	 edx, WORD PTR [eax+104]
  0007f	83 fa 02	 cmp	 edx, 2
  00082	75 09		 jne	 SHORT $LN9@SkillEletr@2
  00084	83 b8 50 04 00
	00 00		 cmp	 DWORD PTR [eax+1104], 0

; 4908 : 				{
; 4909 : 					bEnableAttack = TRUE;

  0008b	7c 2c		 jl	 SHORT $LN23@SkillEletr@2
$LN9@SkillEletr@2:

; 4910 : 				}
; 4911 : 				else if(lpTargetObj->m_cChaosCastleIndex != -1 && lpTargetObj->m_cChaosCastleIndex == gObj[tObjNum].m_cChaosCastleIndex)

  0008d	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  00090	8a 89 a5 0e 00
	00		 mov	 cl, BYTE PTR [ecx+3749]
  00096	80 f9 ff	 cmp	 cl, -1
  00099	74 08		 je	 SHORT $LN7@SkillEletr@2
  0009b	3a 88 a5 0e 00
	00		 cmp	 cl, BYTE PTR [eax+3749]

; 4912 : 				{
; 4913 : 					bEnableAttack = TRUE;

  000a1	74 16		 je	 SHORT $LN23@SkillEletr@2
$LN7@SkillEletr@2:

; 4914 : 				}
; 4915 : 				else if(lpTargetObj->Type == OBJ_USER && lpObj->Type == OBJ_USER && gObj[tObjNum].Type != OBJ_NPC)

  000a3	8b 4d 0c	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  000a6	66 83 79 68 01	 cmp	 WORD PTR [ecx+104], 1
  000ab	75 36		 jne	 SHORT $LN22@SkillEletr@2
  000ad	66 83 7b 68 01	 cmp	 WORD PTR [ebx+104], 1
  000b2	75 2f		 jne	 SHORT $LN22@SkillEletr@2
  000b4	83 fa 03	 cmp	 edx, 3
  000b7	74 2a		 je	 SHORT $LN22@SkillEletr@2
$LN23@SkillEletr@2:

; 4916 : 				{
; 4917 : 					bEnableAttack = TRUE;
; 4918 : 				}
; 4919 : 
; 4920 : 				if(bEnableAttack != FALSE)
; 4921 : 				{
; 4922 : 					if(lpObj->m_Index != gObj[tObjNum].m_Index)

  000b9	8b 13		 mov	 edx, DWORD PTR [ebx]
  000bb	3b 10		 cmp	 edx, DWORD PTR [eax]
  000bd	74 24		 je	 SHORT $LN22@SkillEletr@2

; 4923 : 					{
; 4924 : 						int dis = gObjCalDistance(lpTargetObj, &gObj[tObjNum]);

  000bf	50		 push	 eax
  000c0	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  000c3	50		 push	 eax
  000c4	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000c9	83 c4 08	 add	 esp, 8

; 4925 : 
; 4926 : 						if(dis <= flag)

  000cc	3b 45 18	 cmp	 eax, DWORD PTR _flag$[ebp]
  000cf	7f 12		 jg	 SHORT $LN22@SkillEletr@2

; 4927 : 						{
; 4928 : 							gObjAddMsgSendDelay(lpObj, 58, tObjNum, 300, iDamage);

  000d1	57		 push	 edi
  000d2	68 2c 01 00 00	 push	 300			; 0000012cH
  000d7	56		 push	 esi
  000d8	6a 3a		 push	 58			; 0000003aH
  000da	53		 push	 ebx
  000db	e8 00 00 00 00	 call	 ?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z ; gObjAddMsgSendDelay
  000e0	83 c4 14	 add	 esp, 20			; 00000014H
$LN22@SkillEletr@2:

; 4929 : 						}
; 4930 : 					}
; 4931 : 				}
; 4932 : 			}
; 4933 : 		}
; 4934 : 
; 4935 : 		count++;

  000e3	8b 45 08	 mov	 eax, DWORD PTR tv315[ebp]
  000e6	83 c0 0c	 add	 eax, 12			; 0000000cH

; 4936 : 		if(count > MAX_VIEWPORT -1)

  000e9	ff 4d 14	 dec	 DWORD PTR tv76[ebp]
  000ec	89 45 08	 mov	 DWORD PTR tv315[ebp], eax
  000ef	0f 85 6b ff ff
	ff		 jne	 $LL13@SkillEletr@2

; 4937 : 		{
; 4938 : 			break;
; 4939 : 		}
; 4940 : 	}
; 4941 : 
; 4942 : 	return true;

  000f5	5f		 pop	 edi
  000f6	5e		 pop	 esi
  000f7	b8 01 00 00 00	 mov	 eax, 1
  000fc	5b		 pop	 ebx

; 4943 : }

  000fd	5d		 pop	 ebp
  000fe	c2 18 00	 ret	 24			; 00000018H
?SkillEletrictSurgeProc@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@0HHHH@Z ENDP ; CObjUseSkill::SkillEletrictSurgeProc
_TEXT	ENDS
PUBLIC	?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDrainLife
; Function compile flags: /Ogtp
;	COMDAT ?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -12					; size = 4
_Result$ = -8						; size = 4
_count$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDrainLife, COMDAT
; _this$ = ecx

; 4946 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 4947 : 	if(OBJMAX_RANGE(aTargetIndex) == false) //season4 add-on

  00003	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  00006	33 d2		 xor	 edx, edx
  00008	83 ec 0c	 sub	 esp, 12			; 0000000cH
  0000b	3b ca		 cmp	 ecx, edx
  0000d	7c 0f		 jl	 SHORT $LN25@SkillDrain
  0000f	33 c0		 xor	 eax, eax
  00011	81 f9 97 3a 00
	00		 cmp	 ecx, 14999		; 00003a97H
  00017	0f 9e c0	 setle	 al
  0001a	3b c2		 cmp	 eax, edx
  0001c	75 08		 jne	 SHORT $LN16@SkillDrain
$LN25@SkillDrain:

; 4948 : 	{
; 4949 : 		return 0;

  0001e	33 c0		 xor	 eax, eax

; 5020 : }

  00020	8b e5		 mov	 esp, ebp
  00022	5d		 pop	 ebp
  00023	c2 0c 00	 ret	 12			; 0000000cH
$LN16@SkillDrain:

; 4950 : 	}
; 4951 : 
; 4952 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2 ebp-8
; 4953 : 	int Result = 0; //loc3 ebp-c
; 4954 : 	int tObjNum; //loc4 ebp-10
; 4955 : 
; 4956 : 	int fangle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 -> ebp-14
; 4957 : 
; 4958 : 	int count = 0; //loc6 ebp-18
; 4959 : 
; 4960 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00026	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00029	53		 push	 ebx
  0002a	56		 push	 esi
  0002b	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0002e	57		 push	 edi
  0002f	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00035	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0003b	6a 01		 push	 1
  0003d	51		 push	 ecx
  0003e	0f b7 48 08	 movzx	 ecx, WORD PTR [eax+8]
  00042	51		 push	 ecx
  00043	56		 push	 esi
  00044	89 55 f8	 mov	 DWORD PTR _Result$[ebp], edx
  00047	89 55 fc	 mov	 DWORD PTR _count$[ebp], edx
  0004a	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 4961 : 
; 4962 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8 -> ebp-1c

  0004f	8b 96 b8 0e 00
	00		 mov	 edx, DWORD PTR [esi+3768]
  00055	89 55 f4	 mov	 DWORD PTR _DuelIndex$[ebp], edx
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0005e	83 c4 10	 add	 esp, 16			; 00000010H
  00061	8d 9e ae 08 00
	00		 lea	 ebx, DWORD PTR [esi+2222]
  00067	eb 07 8d a4 24
	00 00 00 00	 npad	 9
$LL15@SkillDrain:

; 4963 : 	int EnableAttack; //loc9 -> ebp-20
; 4964 : 
; 4965 : 	while ( true )
; 4966 : 	{
; 4967 : 		if(lpObj->VpPlayer2[count].state != 0)

  00070	80 7b fe 00	 cmp	 BYTE PTR [ebx-2], 0
  00074	0f 84 97 00 00
	00		 je	 $LN30@SkillDrain

; 4968 : 		{
; 4969 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0007a	0f bf 3b	 movsx	 edi, WORD PTR [ebx]

; 4970 : 
; 4971 : 			if(tObjNum >= 0)

  0007d	85 ff		 test	 edi, edi
  0007f	0f 88 8c 00 00
	00		 js	 $LN30@SkillDrain

; 4972 : 			{
; 4973 : 				EnableAttack = 0;
; 4974 : 
; 4975 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00085	80 7b 02 02	 cmp	 BYTE PTR [ebx+2], 2
  00089	75 12		 jne	 SHORT $LN11@SkillDrain
  0008b	8b c7		 mov	 eax, edi
  0008d	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00093	83 bc 10 50 04
	00 00 00	 cmp	 DWORD PTR [eax+edx+1104], 0

; 4976 : 				{
; 4977 : 					EnableAttack = 1;

  0009b	7c 4e		 jl	 SHORT $LN29@SkillDrain
$LN11@SkillDrain:

; 4978 : 				}
; 4979 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0009d	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000a0	74 4e		 je	 SHORT $LN27@SkillDrain
  000a2	39 7d f4	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  000a5	74 44		 je	 SHORT $LN29@SkillDrain

; 4980 : 				{
; 4981 : 					EnableAttack = 1;
; 4982 : 				}
; 4983 : 				else
; 4984 : 				{
; 4985 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000a7	8b cf		 mov	 ecx, edi
  000a9	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 4986 : 
; 4987 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000af	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  000b5	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  000b8	75 14		 jne	 SHORT $LN6@SkillDrain
  000ba	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000c1	85 c9		 test	 ecx, ecx
  000c3	78 09		 js	 SHORT $LN6@SkillDrain

; 4988 : 					{
; 4989 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000c5	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000cb	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN6@SkillDrain:

; 4990 : 					}
; 4991 : 
; 4992 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000ce	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000d4	03 c2		 add	 eax, edx
  000d6	50		 push	 eax
  000d7	56		 push	 esi
  000d8	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000dd	83 c4 08	 add	 esp, 8
  000e0	83 f8 01	 cmp	 eax, 1
  000e3	75 26		 jne	 SHORT $LN28@SkillDrain
  000e5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN29@SkillDrain:

; 4993 : 					{
; 4994 : 						EnableAttack = 1;
; 4995 : 					}
; 4996 : 				}
; 4997 : 
; 4998 : 				if(EnableAttack != 0)
; 4999 : 				{
; 5000 : 					if(tObjNum == aTargetIndex)

  000eb	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000ee	75 21		 jne	 SHORT $LN30@SkillDrain
$LN27@SkillDrain:

; 5001 : 					{
; 5002 : 						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  000f0	8b 55 10	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  000f3	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000f6	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  000f9	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  000fc	50		 push	 eax
  000fd	51		 push	 ecx
  000fe	52		 push	 edx
  000ff	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  00104	83 c4 0c	 add	 esp, 12			; 0000000cH
  00107	85 c0		 test	 eax, eax
  00109	75 25		 jne	 SHORT $LN23@SkillDrain
$LN28@SkillDrain:
  0010b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN30@SkillDrain:

; 5006 : 							break;
; 5007 : 						}
; 5008 : 					}
; 5009 : 				}
; 5010 : 			}
; 5011 : 		}
; 5012 : 
; 5013 : 		count++;

  00111	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00114	40		 inc	 eax
  00115	83 c3 0c	 add	 ebx, 12			; 0000000cH
  00118	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax

; 5014 : 		if(count > MAX_VIEWPORT -1)

  0011b	83 f8 4a	 cmp	 eax, 74			; 0000004aH
  0011e	0f 8e 4c ff ff
	ff		 jle	 $LL15@SkillDrain

; 5015 : 		{
; 5016 : 			break;
; 5017 : 		}
; 5018 : 	}
; 5019 : 	return Result;

  00124	8b 45 f8	 mov	 eax, DWORD PTR _Result$[ebp]
  00127	5f		 pop	 edi
  00128	5e		 pop	 esi
  00129	5b		 pop	 ebx

; 5020 : }

  0012a	8b e5		 mov	 esp, ebp
  0012c	5d		 pop	 ebp
  0012d	c2 0c 00	 ret	 12			; 0000000cH
$LN23@SkillDrain:

; 5003 : 						{
; 5004 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  00130	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00133	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00136	6a 00		 push	 0
  00138	51		 push	 ecx
  00139	68 bc 02 00 00	 push	 700			; 000002bcH
  0013e	57		 push	 edi
  0013f	6a 32		 push	 50			; 00000032H
  00141	56		 push	 esi
  00142	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00147	83 c4 18	 add	 esp, 24			; 00000018H
  0014a	5f		 pop	 edi

; 5005 : 							Result = 1;

  0014b	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _Result$[ebp], 1

; 5015 : 		{
; 5016 : 			break;
; 5017 : 		}
; 5018 : 	}
; 5019 : 	return Result;

  00152	8b 45 f8	 mov	 eax, DWORD PTR _Result$[ebp]
  00155	5e		 pop	 esi
  00156	5b		 pop	 ebx

; 5020 : }

  00157	8b e5		 mov	 esp, ebp
  00159	5d		 pop	 ebp
  0015a	c2 0c 00	 ret	 12			; 0000000cH
?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDrainLife
_TEXT	ENDS
PUBLIC	_lpMagic$GSCopy$
PUBLIC	_aTargetIndex$GSCopy$
PUBLIC	_aIndex$GSCopy$
PUBLIC	__$ArrayPad$
PUBLIC	?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillChainLightning
EXTRN	?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z:PROC	; MsgSendV2
; Function compile flags: /Ogtp
;	COMDAT ?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -308					; size = 4
tv708 = -304						; size = 4
_count$ = -300						; size = 4
_aIndex$GSCopy$ = -296					; size = 4
_lpMagic$GSCopy$ = -292					; size = 4
_aTargetIndex$GSCopy$ = -288				; size = 4
_pMsg$ = -284						; size = 10
_Target$ = -272						; size = 12
_cBUFF$ = -260						; size = 256
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillChainLightning, COMDAT
; _this$ = ecx

; 5197 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 34 01 00
	00		 sub	 esp, 308		; 00000134H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 5198 : 	LPOBJ lpObj = &gObj[aIndex];

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00018	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0001b	53		 push	 ebx
  0001c	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0001f	56		 push	 esi
  00020	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00023	57		 push	 edi

; 5199 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 5200 : 
; 5201 : 	int bSuccess = TRUE;
; 5202 : 	int tObjNum;
; 5203 : 	int count = 0;

  00024	89 b5 d8 fe ff
	ff		 mov	 DWORD PTR _aIndex$GSCopy$[ebp], esi
  0002a	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00030	8b fb		 mov	 edi, ebx
  00032	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00038	03 f0		 add	 esi, eax
  0003a	03 f8		 add	 edi, eax

; 5204 : 
; 5205 : 	int Target[3];
; 5206 : 
; 5207 : 	Target[0] = -1;

  0003c	83 c8 ff	 or	 eax, -1
  0003f	89 85 f0 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp], eax

; 5208 : 	Target[1] = -1;

  00045	89 85 f4 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp+4], eax

; 5209 : 	Target[2] = -1;

  0004b	89 85 f8 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp+8], eax

; 5210 : 
; 5211 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00051	0f b7 41 08	 movzx	 eax, WORD PTR [ecx+8]
  00055	6a 01		 push	 1
  00057	53		 push	 ebx
  00058	50		 push	 eax
  00059	56		 push	 esi
  0005a	89 9d e0 fe ff
	ff		 mov	 DWORD PTR _aTargetIndex$GSCopy$[ebp], ebx

; 5333 : 	{
; 5334 : 		gObjAddAttackProcMsgSendDelay(lpObj,50,Target[i],200 + 200*i,lpMagic->m_Skill,i+1);

  00060	89 8d dc fe ff
	ff		 mov	 DWORD PTR _lpMagic$GSCopy$[ebp], ecx
  00066	c7 85 d4 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _count$[ebp], 0
  00070	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00075	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _lpMagic$GSCopy$[ebp]
  0007b	8b 8e b8 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3768]
  00081	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00084	50		 push	 eax
  00085	89 8d cc fe ff
	ff		 mov	 DWORD PTR _DuelIndex$[ebp], ecx
  0008b	8b 8d d8 fe ff
	ff		 mov	 ecx, DWORD PTR _aIndex$GSCopy$[ebp]
  00091	53		 push	 ebx
  00092	51		 push	 ecx
  00093	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  00098	83 c4 1c	 add	 esp, 28			; 0000001cH
  0009b	85 c0		 test	 eax, eax
  0009d	75 13		 jne	 SHORT $LN28@SkillChain
  0009f	5f		 pop	 edi
  000a0	5e		 pop	 esi
  000a1	5b		 pop	 ebx

; 5335 : 	}
; 5336 : 
; 5337 : 	return bSuccess;
; 5338 : }

  000a2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a5	33 cd		 xor	 ecx, ebp
  000a7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000ac	8b e5		 mov	 esp, ebp
  000ae	5d		 pop	 ebp
  000af	c2 0c 00	 ret	 12			; 0000000cH
$LN28@SkillChain:

; 5212 : 
; 5213 : 	int DuelIndex = lpObj->m_iDuelUser;
; 5214 : 	int EnableAttack;
; 5215 : 
; 5216 : 	if( gCheckSkillDistance(aIndex,aTargetIndex,lpMagic->m_Skill) == FALSE )
; 5217 : 	{
; 5218 : 		return FALSE;
; 5219 : 	}
; 5220 : 
; 5221 : 	Target[0] = aTargetIndex;

  000b2	8d 86 ae 08 00
	00		 lea	 eax, DWORD PTR [esi+2222]
  000b8	89 9d f0 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp], ebx
  000be	89 85 d0 fe ff
	ff		 mov	 DWORD PTR tv708[ebp], eax
$LL27@SkillChain:

; 5222 : 
; 5223 : 	while( TRUE )
; 5224 : 	{
; 5225 : 		if(lpObj->VpPlayer2[count].state != 0)

  000c4	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  000c8	0f 84 41 01 00
	00		 je	 $LN45@SkillChain

; 5226 : 		{
; 5227 : 			tObjNum = lpObj->VpPlayer2[count].number;

  000ce	0f bf 18	 movsx	 ebx, WORD PTR [eax]

; 5228 : 
; 5229 : 			if( tObjNum >= 0 )

  000d1	85 db		 test	 ebx, ebx
  000d3	0f 88 36 01 00
	00		 js	 $LN45@SkillChain

; 5230 : 			{
; 5231 : 				EnableAttack = 0;
; 5232 : 
; 5233 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  000d9	80 78 02 02	 cmp	 BYTE PTR [eax+2], 2
  000dd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000e3	75 12		 jne	 SHORT $LN23@SkillChain
  000e5	8b c3		 mov	 eax, ebx
  000e7	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ed	83 bc 10 50 04
	00 00 00	 cmp	 DWORD PTR [eax+edx+1104], 0

; 5234 : 				{
; 5235 : 					EnableAttack = 1;

  000f5	7c 52		 jl	 SHORT $LN20@SkillChain
$LN23@SkillChain:

; 5236 : 				}
; 5237 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  000f7	3b 9d e0 fe ff
	ff		 cmp	 ebx, DWORD PTR _aTargetIndex$GSCopy$[ebp]
  000fd	74 4a		 je	 SHORT $LN20@SkillChain
  000ff	39 9d cc fe ff
	ff		 cmp	 DWORD PTR _DuelIndex$[ebp], ebx
  00105	74 42		 je	 SHORT $LN20@SkillChain

; 5238 : 				{
; 5239 : 					EnableAttack = 1;
; 5240 : 				}
; 5241 : 				else
; 5242 : 				{
; 5243 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  00107	8b cb		 mov	 ecx, ebx
  00109	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 5244 : 
; 5245 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0010f	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  00115	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  00118	75 14		 jne	 SHORT $LN18@SkillChain
  0011a	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  00121	85 c9		 test	 ecx, ecx
  00123	78 09		 js	 SHORT $LN18@SkillChain

; 5246 : 					{
; 5247 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  00125	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0012b	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN18@SkillChain:

; 5248 : 					}
; 5249 : 
; 5250 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  0012e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00134	03 c2		 add	 eax, edx
  00136	50		 push	 eax
  00137	56		 push	 esi
  00138	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0013d	83 c4 08	 add	 esp, 8
  00140	83 f8 01	 cmp	 eax, 1
  00143	0f 85 c6 00 00
	00		 jne	 $LN45@SkillChain
$LN20@SkillChain:

; 5251 : 					{
; 5252 : 						EnableAttack = 1;
; 5253 : 					}
; 5254 : 				}
; 5255 : 
; 5256 : 				if( EnableAttack != 0 )
; 5257 : 				{
; 5258 : 					if( gObj[tObjNum].X >= (lpTargetObj->X -1) &&
; 5259 : 						gObj[tObjNum].X <= (lpTargetObj->X +1) &&
; 5260 : 						gObj[tObjNum].Y >= (lpTargetObj->Y -1) &&
; 5261 : 						gObj[tObjNum].Y <= (lpTargetObj->Y +1) &&
; 5262 : 						gObj[tObjNum].Type == OBJ_MONSTER )

  00149	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0014e	8b d3		 mov	 edx, ebx
  00150	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00156	0f bf 8c 10 44
	01 00 00	 movsx	 ecx, WORD PTR [eax+edx+324]
  0015e	03 c2		 add	 eax, edx
  00160	0f bf 97 44 01
	00 00		 movsx	 edx, WORD PTR [edi+324]
  00167	4a		 dec	 edx
  00168	3b ca		 cmp	 ecx, edx
  0016a	7c 47		 jl	 SHORT $LN15@SkillChain
  0016c	0f bf 97 44 01
	00 00		 movsx	 edx, WORD PTR [edi+324]
  00173	42		 inc	 edx
  00174	3b ca		 cmp	 ecx, edx
  00176	7f 3b		 jg	 SHORT $LN15@SkillChain
  00178	0f bf 97 46 01
	00 00		 movsx	 edx, WORD PTR [edi+326]
  0017f	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00186	4a		 dec	 edx
  00187	3b ca		 cmp	 ecx, edx
  00189	7c 28		 jl	 SHORT $LN15@SkillChain
  0018b	0f bf 97 46 01
	00 00		 movsx	 edx, WORD PTR [edi+326]
  00192	42		 inc	 edx
  00193	3b ca		 cmp	 ecx, edx
  00195	7f 1c		 jg	 SHORT $LN15@SkillChain
  00197	66 83 78 68 02	 cmp	 WORD PTR [eax+104], 2
  0019c	75 15		 jne	 SHORT $LN15@SkillChain

; 5263 : 					{
; 5264 : 						Target[1] = tObjNum;
; 5265 : 
; 5266 : 						if(Target[2] != -1)

  0019e	83 bd f8 fe ff
	ff ff		 cmp	 DWORD PTR _Target$[ebp+8], -1
  001a5	89 9d f4 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp+4], ebx
  001ab	0f 85 98 00 00
	00		 jne	 $LN51@SkillChain

; 5267 : 							break;
; 5268 : 					}
; 5269 : 					else if( gObj[tObjNum].X >= (lpTargetObj->X -2) &&

  001b1	eb 5c		 jmp	 SHORT $LN45@SkillChain
$LN15@SkillChain:

; 5270 : 						gObj[tObjNum].X <= (lpTargetObj->X +2) &&
; 5271 : 						gObj[tObjNum].Y >= (lpTargetObj->Y -2) &&
; 5272 : 						gObj[tObjNum].Y <= (lpTargetObj->Y +2) &&
; 5273 : 						gObj[tObjNum].Type == OBJ_MONSTER )

  001b3	0f bf 97 44 01
	00 00		 movsx	 edx, WORD PTR [edi+324]
  001ba	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  001c1	83 c2 fe	 add	 edx, -2			; fffffffeH
  001c4	3b ca		 cmp	 ecx, edx
  001c6	7c 47		 jl	 SHORT $LN45@SkillChain
  001c8	0f bf 97 44 01
	00 00		 movsx	 edx, WORD PTR [edi+324]
  001cf	83 c2 02	 add	 edx, 2
  001d2	3b ca		 cmp	 ecx, edx
  001d4	7f 39		 jg	 SHORT $LN45@SkillChain
  001d6	0f bf 97 46 01
	00 00		 movsx	 edx, WORD PTR [edi+326]
  001dd	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  001e4	83 c2 fe	 add	 edx, -2			; fffffffeH
  001e7	3b ca		 cmp	 ecx, edx
  001e9	7c 24		 jl	 SHORT $LN45@SkillChain
  001eb	0f bf 97 46 01
	00 00		 movsx	 edx, WORD PTR [edi+326]
  001f2	83 c2 02	 add	 edx, 2
  001f5	3b ca		 cmp	 ecx, edx
  001f7	7f 16		 jg	 SHORT $LN45@SkillChain
  001f9	66 83 78 68 02	 cmp	 WORD PTR [eax+104], 2
  001fe	75 0f		 jne	 SHORT $LN45@SkillChain

; 5274 : 					{
; 5275 : 						Target[2] = tObjNum;
; 5276 : 	
; 5277 : 						if(Target[1] != -1)

  00200	83 bd f4 fe ff
	ff ff		 cmp	 DWORD PTR _Target$[ebp+4], -1
  00207	89 9d f8 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp+8], ebx
  0020d	75 25		 jne	 SHORT $LN50@SkillChain
$LN45@SkillChain:

; 5278 : 							break;
; 5279 : 					}
; 5280 : 				}
; 5281 : 			}
; 5282 : 		}
; 5283 : 
; 5284 : 		count++;

  0020f	8b 8d d4 fe ff
	ff		 mov	 ecx, DWORD PTR _count$[ebp]
  00215	8b 85 d0 fe ff
	ff		 mov	 eax, DWORD PTR tv708[ebp]
  0021b	41		 inc	 ecx
  0021c	83 c0 0c	 add	 eax, 12			; 0000000cH
  0021f	89 8d d4 fe ff
	ff		 mov	 DWORD PTR _count$[ebp], ecx
  00225	89 85 d0 fe ff
	ff		 mov	 DWORD PTR tv708[ebp], eax

; 5285 : 
; 5286 : 		if( count > MAX_VIEWPORT -1)

  0022b	83 f9 4a	 cmp	 ecx, 74			; 0000004aH
  0022e	0f 8e 90 fe ff
	ff		 jle	 $LL27@SkillChain
$LN50@SkillChain:

; 5287 : 		{
; 5288 : 			break;
; 5289 : 		}
; 5290 : 	}
; 5291 : 
; 5292 : 	if( Target[2] == -1 )

  00234	83 bd f8 fe ff
	ff ff		 cmp	 DWORD PTR _Target$[ebp+8], -1
  0023b	75 0c		 jne	 SHORT $LN51@SkillChain

; 5293 : 	{
; 5294 : 		Target[2] = Target[1];

  0023d	8b 85 f4 fe ff
	ff		 mov	 eax, DWORD PTR _Target$[ebp+4]
  00243	89 85 f8 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp+8], eax
$LN51@SkillChain:

; 5295 : 	}
; 5296 : 
; 5297 : 	if( Target[1] == -1 )

  00249	83 bd f4 fe ff
	ff ff		 cmp	 DWORD PTR _Target$[ebp+4], -1

; 5298 : 	{
; 5299 : 		Target[1] = Target[0];

  00250	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _aTargetIndex$GSCopy$[ebp]
  00256	75 0c		 jne	 SHORT $LN8@SkillChain
  00258	89 8d f4 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp+4], ecx

; 5300 : 		Target[2] = Target[1];

  0025e	89 8d f8 fe ff
	ff		 mov	 DWORD PTR _Target$[ebp+8], ecx
$LN8@SkillChain:

; 5301 : 	}
; 5302 : 
; 5303 : 	int lOfs = 0;
; 5304 : 	BYTE cBUFF[256];
; 5305 : 	PMSG_SKILL_TARGET_COUNT pMsg;
; 5306 : 
; 5307 : 	pMsg.MagicNumberH = SET_NUMBERH(lpMagic->m_Skill);

  00264	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _lpMagic$GSCopy$[ebp]
  0026a	8b 50 08	 mov	 edx, DWORD PTR [eax+8]

; 5308 : 	pMsg.MagicNumberL = SET_NUMBERL(lpMagic->m_Skill);

  0026d	8a 40 08	 mov	 al, BYTE PTR [eax+8]
  00270	c1 ea 08	 shr	 edx, 8
  00273	88 95 e8 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+4], dl

; 5309 : 	pMsg.Index = aIndex;

  00279	0f b7 95 d8 fe
	ff ff		 movzx	 edx, WORD PTR _aIndex$GSCopy$[ebp]

; 5310 : 	pMsg.Count = 3;
; 5311 : 
; 5312 : 	lOfs += sizeof(pMsg);
; 5313 : 
; 5314 : 	int i;
; 5315 : 	for(i = 0; i < 3; i++)
; 5316 : 	{
; 5317 : 		WORD wIndex = Target[i];
; 5318 : 		memcpy(&cBUFF[lOfs],&wIndex,2);
; 5319 : 		lOfs+= 2;
; 5320 : 	}
; 5321 : 
; 5322 : 	PHeadSubSetB((LPBYTE)&pMsg,0xBF,10,lOfs);

  00280	6a 10		 push	 16			; 00000010H
  00282	6a 0a		 push	 10			; 0000000aH
  00284	66 89 95 ea fe
	ff ff		 mov	 WORD PTR _pMsg$[ebp+6], dx
  0028b	88 85 e9 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+5], al
  00291	66 8b 85 f4 fe
	ff ff		 mov	 ax, WORD PTR _Target$[ebp+4]
  00298	66 89 8d 06 ff
	ff ff		 mov	 WORD PTR _cBUFF$[ebp+10], cx
  0029f	66 8b 8d f8 fe
	ff ff		 mov	 cx, WORD PTR _Target$[ebp+8]
  002a6	8d 95 e4 fe ff
	ff		 lea	 edx, DWORD PTR _pMsg$[ebp]
  002ac	68 bf 00 00 00	 push	 191			; 000000bfH
  002b1	52		 push	 edx
  002b2	c6 85 ec fe ff
	ff 03		 mov	 BYTE PTR _pMsg$[ebp+8], 3
  002b9	66 89 85 08 ff
	ff ff		 mov	 WORD PTR _cBUFF$[ebp+12], ax
  002c0	66 89 8d 0a ff
	ff ff		 mov	 WORD PTR _cBUFF$[ebp+14], cx
  002c7	e8 00 00 00 00	 call	 ?PHeadSubSetB@@YAXPAEEEH@Z ; PHeadSubSetB

; 5323 : 	memcpy(&cBUFF[0],&pMsg,sizeof(pMsg));

  002cc	0f b7 95 ec fe
	ff ff		 movzx	 edx, WORD PTR _pMsg$[ebp+8]
  002d3	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _pMsg$[ebp]
  002d9	8b 8d e8 fe ff
	ff		 mov	 ecx, DWORD PTR _pMsg$[ebp+4]
  002df	83 c4 10	 add	 esp, 16			; 00000010H
  002e2	89 85 fc fe ff
	ff		 mov	 DWORD PTR _cBUFF$[ebp], eax
  002e8	89 8d 00 ff ff
	ff		 mov	 DWORD PTR _cBUFF$[ebp+4], ecx
  002ee	66 89 95 04 ff
	ff ff		 mov	 WORD PTR _cBUFF$[ebp+8], dx

; 5324 : 
; 5325 : 	if( lpObj->Type == OBJ_USER )

  002f5	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  002fa	75 1a		 jne	 SHORT $LN4@SkillChain

; 5326 : 	{
; 5327 : 		DataSend(lpObj->m_Index,(LPBYTE)&cBUFF[0],pMsg.h.size);

  002fc	0f b6 85 e5 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00303	8b 16		 mov	 edx, DWORD PTR [esi]
  00305	50		 push	 eax
  00306	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _cBUFF$[ebp]
  0030c	51		 push	 ecx
  0030d	52		 push	 edx
  0030e	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00313	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@SkillChain:

; 5328 : 	}
; 5329 : 
; 5330 : 	MsgSendV2(lpObj,(LPBYTE)&cBUFF[0],pMsg.h.size);

  00316	0f b6 85 e5 fe
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  0031d	50		 push	 eax
  0031e	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR _cBUFF$[ebp]
  00324	51		 push	 ecx
  00325	56		 push	 esi
  00326	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2
  0032b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 5331 : 
; 5332 : 	for(i = 0; i < 3; i++)

  0032e	33 c0		 xor	 eax, eax
  00330	bf c8 00 00 00	 mov	 edi, 200		; 000000c8H
  00335	eb 09 8d a4 24
	00 00 00 00 8b
	ff		 npad	 11
$LL3@SkillChain:

; 5333 : 	{
; 5334 : 		gObjAddAttackProcMsgSendDelay(lpObj,50,Target[i],200 + 200*i,lpMagic->m_Skill,i+1);

  00340	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _lpMagic$GSCopy$[ebp]
  00346	8b 4a 08	 mov	 ecx, DWORD PTR [edx+8]
  00349	8b 94 85 f0 fe
	ff ff		 mov	 edx, DWORD PTR _Target$[ebp+eax*4]
  00350	8d 58 01	 lea	 ebx, DWORD PTR [eax+1]
  00353	53		 push	 ebx
  00354	51		 push	 ecx
  00355	57		 push	 edi
  00356	52		 push	 edx
  00357	6a 32		 push	 50			; 00000032H
  00359	56		 push	 esi
  0035a	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0035f	81 c7 c8 00 00
	00		 add	 edi, 200		; 000000c8H
  00365	83 c4 18	 add	 esp, 24			; 00000018H
  00368	8b c3		 mov	 eax, ebx
  0036a	81 ff 20 03 00
	00		 cmp	 edi, 800		; 00000320H
  00370	7c ce		 jl	 SHORT $LL3@SkillChain

; 5335 : 	}
; 5336 : 
; 5337 : 	return bSuccess;
; 5338 : }

  00372	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00375	5f		 pop	 edi
  00376	5e		 pop	 esi
  00377	33 cd		 xor	 ecx, ebp
  00379	b8 01 00 00 00	 mov	 eax, 1
  0037e	5b		 pop	 ebx
  0037f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00384	8b e5		 mov	 esp, ebp
  00386	5d		 pop	 ebp
  00387	c2 0c 00	 ret	 12			; 0000000cH
?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillChainLightning
_TEXT	ENDS
PUBLIC	?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDamageReflection
; Function compile flags: /Ogtp
;	COMDAT ?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -16					; size = 4
tv468 = -12						; size = 4
_count$ = -8						; size = 4
_result$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillDamageReflection, COMDAT
; _this$ = ecx

; 5422 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H

; 5423 : 	//LPOBJ lpObj = &gObj[aIndex]; //loc2
; 5424 : 	//LPOBJ lpTargetObj = &gObj[aTargetIndex]; //loc3
; 5425 : 
; 5426 : 	//if(lpTargetObj->Type != OBJ_USER || lpObj->Class != CLASS_SUMMONER)
; 5427 : 	//{
; 5428 : 	//	return FALSE;
; 5429 : 	//}
; 5430 : 
; 5431 : 	//int result = 0; //loc4 ebp10
; 5432 : 
; 5433 : 	//int tObjNum; //loc5 -> ebp-14
; 5434 : 
; 5435 : 	//int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc6 ebp18
; 5436 : 
; 5437 : 	//int count = 0; //loc7 ebp1c
; 5438 : 
; 5439 : 	//int DuelIndex; //loc8 ebp20
; 5440 : 
; 5441 : 	//BOOL bEnableAttack; //loc9 ebp24
; 5442 : 
; 5443 : 	//GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);
; 5444 : 
; 5445 : 	//DuelIndex = lpObj->m_iDuelUser;
; 5446 : 	////
; 5447 : 	////int ExRefStartPower = GetPrivateProfileInt("Summoner","RefStartPower",30,"..\\Data\\ZtData\\Skills.ini");
; 5448 : 	////int ExRefEnergy = GetPrivateProfileInt("Summoner","RefEnergy",42,"..\\Data\\ZtData\\Skills.ini");
; 5449 : 	////int ExRefMaxPower = GetPrivateProfileInt("Summoner","RefMaxPower",50,"..\\Data\\ZtData\\Skills.ini");
; 5450 : 	////int ExRefStartTime = GetPrivateProfileInt("Summoner","RefStartTime",30,"..\\Data\\ZtData\\Skills.ini");
; 5451 : 	////int ExRefEneTime = GetPrivateProfileInt("Summoner","RefEneTime",25,"..\\Data\\ZtData\\Skills.ini");
; 5452 : 
; 5453 : 	//if(aIndex == aTargetIndex)
; 5454 : 	//{	
; 5455 : 	//	/*
; 5456 : 	//	int iValue = 30 + (lpObj->Energy / 42);
; 5457 : 	//	int iTimer = 30 + (lpObj->Energy / 25);
; 5458 : 	//	*/
; 5459 : 	//	int iValue = ZtConfig.Skills.ExRefStartPower + (lpObj->Energy / ZtConfig.Skills.ExRefEnergy);
; 5460 : 	//	if(iValue > ZtConfig.Skills.ExRefMaxPower)
; 5461 : 	//		iValue = ZtConfig.Skills.ExRefMaxPower;
; 5462 : 	//	int iTimer = ZtConfig.Skills.ExRefStartTime + (lpObj->Energy / ZtConfig.Skills.ExRefEneTime);
; 5463 : 
; 5464 : 	//	if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)
; 5465 : 	//	{
; 5466 : 	//		GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);
; 5467 : 	//		return FALSE;
; 5468 : 	//	}
; 5469 : 
; 5470 : 	//	gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);
; 5471 : 	//	result = 1;
; 5472 : 	//}
; 5473 : 	//else
; 5474 : 	//{
; 5475 : 	//	while( true )
; 5476 : 	//	{
; 5477 : 	//		if(CC_MAP_RANGE(lpObj->MapNumber) != FALSE)
; 5478 : 	//		{
; 5479 : 	//			break;
; 5480 : 	//		}
; 5481 : 
; 5482 : 	//		if(lpObj->VpPlayer2[count].state != 0)
; 5483 : 	//		{
; 5484 : 	//			tObjNum = lpObj->VpPlayer2[count].number;
; 5485 : 
; 5486 : 	//			if(tObjNum >= 0)
; 5487 : 	//			{
; 5488 : 	//				bEnableAttack = FALSE; //ebp24
; 5489 : 
; 5490 : 	//				if(lpObj->VpPlayer2[count].type == OBJ_USER)
; 5491 : 	//				{
; 5492 : 	//					bEnableAttack = TRUE;
; 5493 : 	//				}
; 5494 : 	//				else if(tObjNum == aTargetIndex || DuelIndex != tObjNum)
; 5495 : 	//				{
; 5496 : 	//					bEnableAttack = TRUE;
; 5497 : 	//				}
; 5498 : 
; 5499 : 	//				if(bEnableAttack != FALSE)
; 5500 : 	//				{
; 5501 : 	//					if(tObjNum == aTargetIndex)
; 5502 : 	//					{
; 5503 : 	//						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)
; 5504 : 	//						{
; 5505 : 	//							lpTargetObj->lpAttackObj = lpObj;
; 5506 : 
; 5507 : 	//								int iValue = ZtConfig.Skills.ExRefStartPower + (lpObj->Energy / ZtConfig.Skills.ExRefEnergy);
; 5508 : 	//								if(iValue > ZtConfig.Skills.ExRefMaxPower)
; 5509 : 	//									iValue = ZtConfig.Skills.ExRefMaxPower;
; 5510 : 	//								int iTimer = ZtConfig.Skills.ExRefStartTime + (lpObj->Energy / ZtConfig.Skills.ExRefEneTime);
; 5511 : 	//		
; 5512 : 	//							if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)
; 5513 : 	//							{
; 5514 : 	//								GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);
; 5515 : 	//								return FALSE;
; 5516 : 	//							}
; 5517 : 
; 5518 : 	//							gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);
; 5519 : 	//							result = 1;
; 5520 : 	//							break;
; 5521 : 	//						}
; 5522 : 	//					}
; 5523 : 	//				}
; 5524 : 	//			}
; 5525 : 	//		}
; 5526 : 
; 5527 : 	//		count++;
; 5528 : 	//		
; 5529 : 	//		if(count > MAX_VIEWPORT -1)
; 5530 : 	//		{
; 5531 : 	//			break;
; 5532 : 	//		}
; 5533 : 	//	}
; 5534 : 	//}
; 5535 : 
; 5536 : 	//return result;
; 5537 : 
; 5538 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000b	53		 push	 ebx

; 5539 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex]; //loc3

  0000c	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0000f	56		 push	 esi
  00010	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00013	57		 push	 edi
  00014	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001a	8b fb		 mov	 edi, ebx
  0001c	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00022	03 f8		 add	 edi, eax
  00024	03 f0		 add	 esi, eax

; 5540 : 
; 5541 : 	if(lpTargetObj->Type != OBJ_USER || lpObj->Class != CLASS_SUMMONER)

  00026	66 83 7f 68 01	 cmp	 WORD PTR [edi+104], 1
  0002b	89 7d 0c	 mov	 DWORD PTR _lpTargetObj$[ebp], edi
  0002e	0f 85 bc 00 00
	00		 jne	 $LN22@SkillDamag
  00034	66 83 be b8 00
	00 00 05	 cmp	 WORD PTR [esi+184], 5
  0003c	0f 85 ae 00 00
	00		 jne	 $LN22@SkillDamag

; 5544 : 	}
; 5545 : 
; 5546 : 	int result = 0; //loc4 ebp10

  00042	33 c0		 xor	 eax, eax
  00044	89 45 fc	 mov	 DWORD PTR _result$[ebp], eax

; 5547 : 
; 5548 : 	int tObjNum; //loc5 -> ebp-14
; 5549 : 
; 5550 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc6 ebp18
; 5551 : 
; 5552 : 	int count = 0; //loc7 ebp1c

  00047	89 45 f8	 mov	 DWORD PTR _count$[ebp], eax

; 5553 : 
; 5554 : 	int DuelIndex; //loc8 ebp20
; 5555 : 
; 5556 : 	BOOL bEnableAttack; //loc9 ebp24
; 5557 : 
; 5558 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  0004a	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0004d	0f b7 48 08	 movzx	 ecx, WORD PTR [eax+8]
  00051	6a 01		 push	 1
  00053	53		 push	 ebx
  00054	51		 push	 ecx
  00055	56		 push	 esi
  00056	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 5559 : 
; 5560 : 	DuelIndex = lpObj->m_iDuelUser;

  0005b	8b 96 b8 0e 00
	00		 mov	 edx, DWORD PTR [esi+3768]
  00061	83 c4 10	 add	 esp, 16			; 00000010H
  00064	89 55 f0	 mov	 DWORD PTR _DuelIndex$[ebp], edx

; 5561 : 
; 5562 : 	if(aIndex == aTargetIndex)

  00067	39 5d 08	 cmp	 DWORD PTR _aIndex$[ebp], ebx
  0006a	0f 85 8b 00 00
	00		 jne	 $LN36@SkillDamag
$LN49@SkillDamag:

; 5563 : 	{
; 5564 : 		int iValue = g_SkillAdditionInfo.ReflectEffectStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectEffectDiv);

  00070	0f b7 8e fa 00
	00 00		 movzx	 ecx, WORD PTR [esi+250]
  00077	0f b7 3d be 0b
	00 00		 movzx	 edi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3006
  0007e	8b c1		 mov	 eax, ecx
  00080	99		 cdq
  00081	f7 ff		 idiv	 edi
  00083	8b f8		 mov	 edi, eax
  00085	0f b7 05 bc 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3004
  0008c	03 f8		 add	 edi, eax

; 5565 : 
; 5566 : 		if( g_SkillAdditionInfo.ReflectEffectMax > 0 && iValue > g_SkillAdditionInfo.ReflectEffectMax )

  0008e	a1 c0 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3008
  00093	85 c0		 test	 eax, eax
  00095	74 06		 je	 SHORT $LN20@SkillDamag
  00097	3b f8		 cmp	 edi, eax
  00099	76 02		 jbe	 SHORT $LN20@SkillDamag

; 5567 : 		{
; 5568 : 			iValue = g_SkillAdditionInfo.ReflectEffectMax;

  0009b	8b f8		 mov	 edi, eax
$LN20@SkillDamag:

; 5569 : 		}
; 5570 : 
; 5571 : 		int iTimer = g_SkillAdditionInfo.ReflectTimeStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectTimeDiv);

  0009d	0f b7 1d c6 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3014
  000a4	8b c1		 mov	 eax, ecx
  000a6	99		 cdq
  000a7	f7 fb		 idiv	 ebx
  000a9	0f b7 1d c4 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3012
  000b0	03 d8		 add	 ebx, eax

; 5572 : 
; 5573 : 		if( g_SkillAdditionInfo.ReflectTimeMax > 0 && iTimer > g_SkillAdditionInfo.ReflectTimeMax )

  000b2	a1 c8 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3016
  000b7	85 c0		 test	 eax, eax
  000b9	74 06		 je	 SHORT $LN19@SkillDamag
  000bb	3b d8		 cmp	 ebx, eax
  000bd	76 02		 jbe	 SHORT $LN19@SkillDamag

; 5574 : 		{
; 5575 : 			iTimer = g_SkillAdditionInfo.ReflectTimeMax;

  000bf	8b d8		 mov	 ebx, eax
$LN19@SkillDamag:

; 5576 : 		}
; 5577 : 
; 5578 : 		if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)

  000c1	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  000c4	6a 00		 push	 0
  000c6	57		 push	 edi
  000c7	6a 47		 push	 71			; 00000047H
  000c9	52		 push	 edx
  000ca	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  000cf	83 c4 10	 add	 esp, 16			; 00000010H
  000d2	3c 01		 cmp	 al, 1
  000d4	0f 85 ba 00 00
	00		 jne	 $LN2@SkillDamag

; 5579 : 		{
; 5580 : 			GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);

  000da	8b 45 0c	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  000dd	8b 08		 mov	 ecx, DWORD PTR [eax]
  000df	6a 00		 push	 0
  000e1	51		 push	 ecx
  000e2	68 d9 00 00 00	 push	 217			; 000000d9H
  000e7	56		 push	 esi
  000e8	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000ed	83 c4 10	 add	 esp, 16			; 00000010H
$LN22@SkillDamag:

; 5542 : 	{
; 5543 : 		return FALSE;

  000f0	5f		 pop	 edi
  000f1	5e		 pop	 esi
  000f2	33 c0		 xor	 eax, eax
  000f4	5b		 pop	 ebx

; 5660 : }

  000f5	8b e5		 mov	 esp, ebp
  000f7	5d		 pop	 ebp
  000f8	c2 0c 00	 ret	 12			; 0000000cH
$LN36@SkillDamag:

; 5643 : 								break;
; 5644 : 							}
; 5645 : 						}
; 5646 : 					}
; 5647 : 				}
; 5648 : 			}
; 5649 : 
; 5650 : 			count++;

  000fb	8d 8e ae 08 00
	00		 lea	 ecx, DWORD PTR [esi+2222]
  00101	89 4d f4	 mov	 DWORD PTR tv468[ebp], ecx
  00104	eb 0a 8d a4 24
	00 00 00 00 8d
	49 00		 npad	 12
$LL16@SkillDamag:

; 5581 : 			return FALSE;
; 5582 : 		}
; 5583 : 
; 5584 : 		gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);
; 5585 : 		result = 1;
; 5586 : 	}
; 5587 : 	else
; 5588 : 	{
; 5589 : 		while( true )
; 5590 : 		{
; 5591 : 			if(CC_MAP_RANGE(lpObj->MapNumber) != FALSE)

  00110	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00117	3c 35		 cmp	 al, 53			; 00000035H
  00119	0f 84 92 00 00
	00		 je	 $LN40@SkillDamag
  0011f	3c 12		 cmp	 al, 18			; 00000012H
  00121	72 0d		 jb	 SHORT $LN39@SkillDamag
  00123	b2 17		 mov	 dl, 23			; 00000017H
  00125	3a d0		 cmp	 dl, al
  00127	1b c0		 sbb	 eax, eax
  00129	40		 inc	 eax
  0012a	0f 85 81 00 00
	00		 jne	 $LN40@SkillDamag
$LN39@SkillDamag:

; 5592 : 			{
; 5593 : 				break;
; 5594 : 			}
; 5595 : 
; 5596 : 			if(lpObj->VpPlayer2[count].state != 0)

  00130	80 79 fe 00	 cmp	 BYTE PTR [ecx-2], 0
  00134	74 35		 je	 SHORT $LN42@SkillDamag

; 5597 : 			{
; 5598 : 				tObjNum = lpObj->VpPlayer2[count].number;

  00136	0f bf 01	 movsx	 eax, WORD PTR [ecx]

; 5599 : 
; 5600 : 				if(tObjNum >= 0)

  00139	85 c0		 test	 eax, eax
  0013b	78 2e		 js	 SHORT $LN42@SkillDamag

; 5601 : 				{
; 5602 : 					bEnableAttack = FALSE; //ebp24
; 5603 : 
; 5604 : 					if(lpObj->VpPlayer2[count].type == OBJ_USER)

  0013d	80 79 02 01	 cmp	 BYTE PTR [ecx+2], 1

; 5605 : 					{
; 5606 : 						bEnableAttack = TRUE;

  00141	74 09		 je	 SHORT $LN8@SkillDamag

; 5607 : 					}
; 5608 : 					else if(tObjNum == aTargetIndex || DuelIndex != tObjNum)

  00143	3b c3		 cmp	 eax, ebx
  00145	74 09		 je	 SHORT $LN38@SkillDamag
  00147	39 45 f0	 cmp	 DWORD PTR _DuelIndex$[ebp], eax
  0014a	74 1f		 je	 SHORT $LN42@SkillDamag
$LN8@SkillDamag:

; 5609 : 					{
; 5610 : 						bEnableAttack = TRUE;
; 5611 : 					}
; 5612 : 
; 5613 : 					if(bEnableAttack != FALSE)
; 5614 : 					{
; 5615 : 						if(tObjNum == aTargetIndex)

  0014c	3b c3		 cmp	 eax, ebx
  0014e	75 1b		 jne	 SHORT $LN42@SkillDamag
$LN38@SkillDamag:

; 5616 : 						{
; 5617 : 							if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  00150	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00153	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00156	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00159	51		 push	 ecx
  0015a	53		 push	 ebx
  0015b	52		 push	 edx
  0015c	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  00161	83 c4 0c	 add	 esp, 12			; 0000000cH
  00164	85 c0		 test	 eax, eax
  00166	75 21		 jne	 SHORT $LN32@SkillDamag
  00168	8b 4d f4	 mov	 ecx, DWORD PTR tv468[ebp]
$LN42@SkillDamag:

; 5643 : 								break;
; 5644 : 							}
; 5645 : 						}
; 5646 : 					}
; 5647 : 				}
; 5648 : 			}
; 5649 : 
; 5650 : 			count++;

  0016b	8b 45 f8	 mov	 eax, DWORD PTR _count$[ebp]
  0016e	40		 inc	 eax
  0016f	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00172	89 45 f8	 mov	 DWORD PTR _count$[ebp], eax
  00175	89 4d f4	 mov	 DWORD PTR tv468[ebp], ecx

; 5651 : 
; 5652 : 			if(count > MAX_VIEWPORT -1)

  00178	83 f8 4a	 cmp	 eax, 74			; 0000004aH
  0017b	7e 93		 jle	 SHORT $LL16@SkillDamag

; 5653 : 			{
; 5654 : 				break;
; 5655 : 			}
; 5656 : 		}
; 5657 : 	}
; 5658 : 
; 5659 : 	return result;

  0017d	8b 45 fc	 mov	 eax, DWORD PTR _result$[ebp]
  00180	5f		 pop	 edi
  00181	5e		 pop	 esi
  00182	5b		 pop	 ebx

; 5660 : }

  00183	8b e5		 mov	 esp, ebp
  00185	5d		 pop	 ebp
  00186	c2 0c 00	 ret	 12			; 0000000cH
$LN32@SkillDamag:

; 5618 : 							{
; 5619 : 								lpTargetObj->lpAttackObj = lpObj;

  00189	89 b7 d4 03 00
	00		 mov	 DWORD PTR [edi+980], esi

; 5620 : 
; 5621 : 								int iValue = g_SkillAdditionInfo.ReflectEffectStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectEffectDiv);
; 5622 : 
; 5623 : 								if( g_SkillAdditionInfo.ReflectEffectMax > 0 && iValue > g_SkillAdditionInfo.ReflectEffectMax )
; 5624 : 								{
; 5625 : 									iValue = g_SkillAdditionInfo.ReflectEffectMax;
; 5626 : 								}
; 5627 : 
; 5628 : 								int iTimer = g_SkillAdditionInfo.ReflectTimeStart + (lpObj->Energy / g_SkillAdditionInfo.ReflectTimeDiv);
; 5629 : 
; 5630 : 								if( g_SkillAdditionInfo.ReflectTimeMax > 0 && iTimer > g_SkillAdditionInfo.ReflectTimeMax )
; 5631 : 								{
; 5632 : 									iTimer = g_SkillAdditionInfo.ReflectTimeMax;
; 5633 : 								}
; 5634 : 
; 5635 : 								if(gObjCheckBuffEffectValue(lpTargetObj, AT_DAMAGE_REFLECTION, iValue, 0) == 1)
; 5636 : 								{
; 5637 : 									GCMagicAttackNumberSend(lpObj,217,lpTargetObj->m_Index,0);
; 5638 : 									return FALSE;

  0018f	e9 dc fe ff ff	 jmp	 $LN49@SkillDamag
$LN2@SkillDamag:

; 5639 : 								}
; 5640 : 
; 5641 : 								gObjApplyBuffEffectDuration(lpTargetObj, AT_DAMAGE_REFLECTION, 24, iValue, 0, 0, iTimer);

  00194	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  00197	53		 push	 ebx
  00198	6a 00		 push	 0
  0019a	6a 00		 push	 0
  0019c	57		 push	 edi
  0019d	6a 18		 push	 24			; 00000018H
  0019f	6a 47		 push	 71			; 00000047H
  001a1	52		 push	 edx
  001a2	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 5642 : 								result = 1;

  001a7	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1
  001ae	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN40@SkillDamag:

; 5653 : 			{
; 5654 : 				break;
; 5655 : 			}
; 5656 : 		}
; 5657 : 	}
; 5658 : 
; 5659 : 	return result;

  001b1	8b 45 fc	 mov	 eax, DWORD PTR _result$[ebp]
  001b4	5f		 pop	 edi
  001b5	5e		 pop	 esi
  001b6	5b		 pop	 ebx

; 5660 : }

  001b7	8b e5		 mov	 esp, ebp
  001b9	5d		 pop	 ebp
  001ba	c2 0c 00	 ret	 12			; 0000000cH
?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillDamageReflection
_TEXT	ENDS
PUBLIC	?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSleep
; Function compile flags: /Ogtp
;	COMDAT ?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelRoom$ = -12					; size = 4
tv425 = -8						; size = 4
_count$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillSleep, COMDAT
; _this$ = ecx

; 5663 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 5664 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 5665 : 
; 5666 : 	int result = 0; //loc3 ebpC
; 5667 : 
; 5668 : 	int tObjNum; //loc4 -> ebp-10
; 5669 : 
; 5670 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 ebp14
; 5671 : 
; 5672 : 	int count = 0; //loc6 ebp18
; 5673 : 
; 5674 : 	//int DuelIndex; //loc7 ebp1c
; 5675 : 
; 5676 : 	BOOL bEnableAttack; //loc8 ebp20
; 5677 : 
; 5678 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00006	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00009	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0000c	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00015	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001b	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00021	57		 push	 edi
  00022	6a 01		 push	 1
  00024	50		 push	 eax
  00025	52		 push	 edx
  00026	56		 push	 esi
  00027	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _count$[ebp], 0
  0002e	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 5679 : 
; 5680 : 	//DuelIndex = lpObj->m_iDuelUser;
; 5681 : 
; 5682 : 	int DuelRoom = lpObj->m_iDuelRoom;

  00033	8b 86 b4 21 00
	00		 mov	 eax, DWORD PTR [esi+8628]
  00039	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0003f	89 45 f4	 mov	 DWORD PTR _DuelRoom$[ebp], eax
  00042	8d 86 b0 08 00
	00		 lea	 eax, DWORD PTR [esi+2224]
  00048	83 c4 10	 add	 esp, 16			; 00000010H
  0004b	89 45 f8	 mov	 DWORD PTR tv425[ebp], eax
  0004e	8b ff		 npad	 2
$LL19@SkillSleep:

; 5683 : 
; 5684 : 	while( true )
; 5685 : 	{
; 5686 : 		if(lpObj->VpPlayer2[count].state != 0)

  00050	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  00054	0f 84 e8 00 00
	00		 je	 $LN41@SkillSleep

; 5687 : 		{
; 5688 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0005a	0f bf 78 fe	 movsx	 edi, WORD PTR [eax-2]

; 5689 : 
; 5690 : 			if(tObjNum >= 0)

  0005e	85 ff		 test	 edi, edi
  00060	0f 88 dc 00 00
	00		 js	 $LN41@SkillSleep

; 5691 : 			{
; 5692 : 				bEnableAttack = FALSE; //ebp20
; 5693 : 
; 5694 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00066	8a 18		 mov	 bl, BYTE PTR [eax]
  00068	80 fb 02	 cmp	 bl, 2
  0006b	75 16		 jne	 SHORT $LN39@SkillSleep
  0006d	8b cf		 mov	 ecx, edi
  0006f	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00075	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 5695 : 				{
; 5696 : 					bEnableAttack = TRUE;

  0007d	0f 8c 99 00 00
	00		 jl	 $LN40@SkillSleep
$LN39@SkillSleep:

; 5697 : 				}
; 5698 : 				else if(DuelRoom >= 0) //fix

  00083	83 7d f4 00	 cmp	 DWORD PTR _DuelRoom$[ebp], 0

; 5699 : 				{
; 5700 : 					bEnableAttack = TRUE;

  00087	0f 8d 8f 00 00
	00		 jge	 $LN40@SkillSleep

; 5701 : 				}
; 5702 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  0008d	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00093	3c 35		 cmp	 al, 53			; 00000035H
  00095	0f 84 81 00 00
	00		 je	 $LN40@SkillSleep
  0009b	3c 12		 cmp	 al, 18			; 00000012H
  0009d	72 0c		 jb	 SHORT $LN35@SkillSleep
  0009f	b9 17 00 00 00	 mov	 ecx, 23			; 00000017H
  000a4	3a c8		 cmp	 cl, al
  000a6	1b c9		 sbb	 ecx, ecx
  000a8	41		 inc	 ecx
  000a9	75 71		 jne	 SHORT $LN40@SkillSleep
$LN35@SkillSleep:
  000ab	3c 2d		 cmp	 al, 45			; 0000002dH
  000ad	72 09		 jb	 SHORT $LN36@SkillSleep
  000af	b1 32		 mov	 cl, 50			; 00000032H
  000b1	3a c8		 cmp	 cl, al
  000b3	1b c0		 sbb	 eax, eax
  000b5	40		 inc	 eax
  000b6	75 64		 jne	 SHORT $LN40@SkillSleep
$LN36@SkillSleep:

; 5703 : 				{
; 5704 : 					bEnableAttack = TRUE;
; 5705 : 				}
; 5706 : //#if(GS_CASTLE==1)
; 5707 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 
; 5708 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 5709 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000b8	80 fb 03	 cmp	 bl, 3
  000bb	74 1b		 je	 SHORT $LN8@SkillSleep
  000bd	8b c7		 mov	 eax, edi
  000bf	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000c5	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  000cd	75 09		 jne	 SHORT $LN8@SkillSleep
  000cf	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 5710 : 				{
; 5711 : 					bEnableAttack = TRUE;
; 5712 : 				}
; 5713 : //#endif
; 5714 : 				else

  000d6	74 44		 je	 SHORT $LN40@SkillSleep
$LN8@SkillSleep:

; 5715 : 				{
; 5716 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000d8	8b cf		 mov	 ecx, edi
  000da	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 5717 : 
; 5718 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000e0	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  000e6	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  000e9	75 14		 jne	 SHORT $LN6@SkillSleep
  000eb	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000f2	85 c9		 test	 ecx, ecx
  000f4	78 09		 js	 SHORT $LN6@SkillSleep

; 5719 : 					{
; 5720 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000f6	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000fc	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN6@SkillSleep:

; 5721 : 					}
; 5722 : 
; 5723 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  000ff	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00105	03 c2		 add	 eax, edx
  00107	50		 push	 eax
  00108	56		 push	 esi
  00109	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  0010e	83 c4 08	 add	 esp, 8
  00111	83 f8 01	 cmp	 eax, 1
  00114	75 26		 jne	 SHORT $LN38@SkillSleep
  00116	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN40@SkillSleep:

; 5724 : 					{
; 5725 : 						bEnableAttack = TRUE;
; 5726 : 					}
; 5727 : 				}
; 5728 : 
; 5729 : 				if(bEnableAttack != FALSE)
; 5730 : 				{
; 5731 : 					if(tObjNum == aTargetIndex)

  0011c	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  0011f	75 21		 jne	 SHORT $LN41@SkillSleep

; 5732 : 					{
; 5733 : 						if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  00121	8b 5d 10	 mov	 ebx, DWORD PTR _lpMagic$[ebp]
  00124	8b 53 08	 mov	 edx, DWORD PTR [ebx+8]
  00127	8b 7d 0c	 mov	 edi, DWORD PTR _aTargetIndex$[ebp]
  0012a	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0012d	52		 push	 edx
  0012e	57		 push	 edi
  0012f	50		 push	 eax
  00130	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  00135	83 c4 0c	 add	 esp, 12			; 0000000cH
  00138	85 c0		 test	 eax, eax
  0013a	75 2a		 jne	 SHORT $LN32@SkillSleep
$LN38@SkillSleep:
  0013c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN41@SkillSleep:

; 5737 : 							break;
; 5738 : 						}
; 5739 : 					}
; 5740 : 				}
; 5741 : 			}
; 5742 : 		}
; 5743 : 
; 5744 : 		count++;

  00142	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  00145	8b 45 f8	 mov	 eax, DWORD PTR tv425[ebp]
  00148	41		 inc	 ecx
  00149	83 c0 0c	 add	 eax, 12			; 0000000cH
  0014c	89 4d fc	 mov	 DWORD PTR _count$[ebp], ecx
  0014f	89 45 f8	 mov	 DWORD PTR tv425[ebp], eax

; 5745 : 			
; 5746 : 		if(count > MAX_VIEWPORT -1)

  00152	83 f9 4a	 cmp	 ecx, 74			; 0000004aH
  00155	0f 8e f5 fe ff
	ff		 jle	 $LL19@SkillSleep

; 5747 : 		{
; 5748 : 			break;
; 5749 : 		}
; 5750 : 	}
; 5751 : 
; 5752 : 	return result;

  0015b	5f		 pop	 edi
  0015c	5e		 pop	 esi
  0015d	33 c0		 xor	 eax, eax
  0015f	5b		 pop	 ebx

; 5753 : }

  00160	8b e5		 mov	 esp, ebp
  00162	5d		 pop	 ebp
  00163	c2 0c 00	 ret	 12			; 0000000cH
$LN32@SkillSleep:

; 5734 : 						{
; 5735 : 							gObjAttack(lpObj,&gObj[aTargetIndex],lpMagic,1,0,0,0,0,0);

  00166	6a 00		 push	 0
  00168	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0016e	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00174	6a 00		 push	 0
  00176	6a 00		 push	 0
  00178	6a 00		 push	 0
  0017a	6a 00		 push	 0
  0017c	6a 01		 push	 1
  0017e	53		 push	 ebx
  0017f	57		 push	 edi
  00180	56		 push	 esi
  00181	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00186	83 c4 24	 add	 esp, 36			; 00000024H
  00189	5f		 pop	 edi
  0018a	5e		 pop	 esi

; 5736 : 							result = 1;

  0018b	b8 01 00 00 00	 mov	 eax, 1
  00190	5b		 pop	 ebx

; 5753 : }

  00191	8b e5		 mov	 esp, ebp
  00193	5d		 pop	 ebp
  00194	c2 0c 00	 ret	 12			; 0000000cH
?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillSleep
_TEXT	ENDS
PUBLIC	?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBlind
EXTRN	?GCDamageSend@@YAXHHHHHH@Z:PROC			; GCDamageSend
; Function compile flags: /Ogtp
;	COMDAT ?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -20					; size = 4
_result$ = -16						; size = 4
tv360 = -12						; size = 4
tv579 = -8						; size = 4
_count$ = -4						; size = 4
tv480 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_iValue1$223868 = 16					; size = 4
_lpMagic$ = 16						; size = 4
?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillBlind, COMDAT
; _this$ = ecx

; 5756 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	53		 push	 ebx

; 5757 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 5758 : 
; 5759 : 	int result = 0; //loc3 ebpC
; 5760 : 
; 5761 : 	int tObjNum; //loc4 -> ebp-10
; 5762 : 
; 5763 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y); //loc5 ebp14
; 5764 : 
; 5765 : 	int count = 0; //loc6 ebp18
; 5766 : 
; 5767 : 	int DuelIndex; //loc7 ebp1c
; 5768 : 
; 5769 : 	int loc8; //ebp20
; 5770 : 	int loc9; //ebp24
; 5771 : 
; 5772 : 	BOOL bEnableAttack; //loc10 ebp28
; 5773 : 
; 5774 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00007	8b 5d 0c	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0000a	56		 push	 esi
  0000b	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000e	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00014	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001a	33 c0		 xor	 eax, eax
  0001c	57		 push	 edi
  0001d	89 45 f0	 mov	 DWORD PTR _result$[ebp], eax
  00020	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
  00023	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00026	0f b7 48 08	 movzx	 ecx, WORD PTR [eax+8]
  0002a	6a 01		 push	 1
  0002c	53		 push	 ebx
  0002d	51		 push	 ecx
  0002e	56		 push	 esi
  0002f	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 5775 : 
; 5776 : 	DuelIndex = lpObj->m_iDuelUser;
; 5777 : 
; 5778 : 	loc8 = 0;
; 5779 : 
; 5780 : 	if(gObj[aTargetIndex].Type == OBJ_MONSTER)

  00034	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  0003a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0003f	8b 96 b8 0e 00
	00		 mov	 edx, DWORD PTR [esi+3768]
  00045	83 c4 10	 add	 esp, 16			; 00000010H
  00048	66 83 7c 03 68
	02		 cmp	 WORD PTR [ebx+eax+104], 2
  0004e	89 55 ec	 mov	 DWORD PTR _DuelIndex$[ebp], edx
  00051	89 5d f4	 mov	 DWORD PTR tv360[ebp], ebx
  00054	75 2a		 jne	 SHORT $LN27@SkillBlind

; 5781 : 	{
; 5782 : 		loc8 = lpObj->m_AttackRating * (lpObj->Energy / 50 + 20) / 100;

  00056	0f b7 8e fa 00
	00 00		 movzx	 ecx, WORD PTR [esi+250]
  0005d	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  00062	f7 e9		 imul	 ecx
  00064	c1 fa 04	 sar	 edx, 4
  00067	8b ca		 mov	 ecx, edx
  00069	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  0006c	8d 54 0a 14	 lea	 edx, DWORD PTR [edx+ecx+20]
  00070	0f af 96 88 04
	00 00		 imul	 edx, DWORD PTR [esi+1160]
  00077	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  0007c	f7 ea		 imul	 edx

; 5783 : 	}
; 5784 : 	else

  0007e	eb 4b		 jmp	 SHORT $LN50@SkillBlind
$LN27@SkillBlind:

; 5785 : 	{
; 5786 : 		loc9 = lpObj->Level*3 + (lpObj->Dexterity * 35)/10;
; 5787 : 		loc8 = loc9 * (lpObj->Energy / 50 + 20) / 100;

  00080	0f b7 8e f6 00
	00 00		 movzx	 ecx, WORD PTR [esi+246]
  00087	6b c9 23	 imul	 ecx, 35			; 00000023H
  0008a	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  0008f	f7 e9		 imul	 ecx
  00091	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  00098	c1 fa 02	 sar	 edx, 2
  0009b	8b ca		 mov	 ecx, edx
  0009d	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  000a0	03 ca		 add	 ecx, edx
  000a2	8d 14 40	 lea	 edx, DWORD PTR [eax+eax*2]
  000a5	03 ca		 add	 ecx, edx
  000a7	0f b7 96 fa 00
	00 00		 movzx	 edx, WORD PTR [esi+250]
  000ae	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  000b3	f7 ea		 imul	 edx
  000b5	c1 fa 04	 sar	 edx, 4
  000b8	8b c2		 mov	 eax, edx
  000ba	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  000bd	8d 54 02 14	 lea	 edx, DWORD PTR [edx+eax+20]
  000c1	0f af ca	 imul	 ecx, edx
  000c4	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  000c9	f7 e9		 imul	 ecx
$LN50@SkillBlind:
  000cb	c1 fa 05	 sar	 edx, 5
  000ce	8b fa		 mov	 edi, edx
  000d0	c1 ef 1f	 shr	 edi, 31			; 0000001fH
  000d3	03 fa		 add	 edi, edx

; 5788 : 	}
; 5789 : 
; 5790 : 	if(loc8 < rand()%100)

  000d5	e8 00 00 00 00	 call	 _rand
  000da	99		 cdq
  000db	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  000e0	f7 f9		 idiv	 ecx
  000e2	3b fa		 cmp	 edi, edx

; 5791 : 	{
; 5792 : 		GCDamageSend(lpObj->m_Index, gObj[aTargetIndex].m_Index, 0, 0, 0, 0);

  000e4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ea	7d 22		 jge	 SHORT $LN45@SkillBlind
  000ec	8b 04 13	 mov	 eax, DWORD PTR [ebx+edx]
  000ef	8b 0e		 mov	 ecx, DWORD PTR [esi]
  000f1	6a 00		 push	 0
  000f3	6a 00		 push	 0
  000f5	6a 00		 push	 0
  000f7	6a 00		 push	 0
  000f9	50		 push	 eax
  000fa	51		 push	 ecx
  000fb	e8 00 00 00 00	 call	 ?GCDamageSend@@YAXHHHHHH@Z ; GCDamageSend
  00100	83 c4 18	 add	 esp, 24			; 00000018H
  00103	5f		 pop	 edi
  00104	5e		 pop	 esi

; 5793 : 		return FALSE;

  00105	33 c0		 xor	 eax, eax
  00107	5b		 pop	 ebx

; 5884 : }

  00108	8b e5		 mov	 esp, ebp
  0010a	5d		 pop	 ebp
  0010b	c2 0c 00	 ret	 12			; 0000000cH
$LN45@SkillBlind:

; 5794 : 	}
; 5795 : 	else
; 5796 : 	{
; 5797 : 		while( true )
; 5798 : 		{
; 5799 : 			if(lpObj->VpPlayer2[count].state != 0)

  0010e	8d 8e b0 08 00
	00		 lea	 ecx, DWORD PTR [esi+2224]
  00114	89 4d f8	 mov	 DWORD PTR tv579[ebp], ecx
  00117	eb 07 8d a4 24
	00 00 00 00	 npad	 9
$LL23@SkillBlind:
  00120	80 79 fc 00	 cmp	 BYTE PTR [ecx-4], 0
  00124	0f 84 ec 00 00
	00		 je	 $LN49@SkillBlind

; 5800 : 			{
; 5801 : 				tObjNum = lpObj->VpPlayer2[count].number;

  0012a	0f bf 79 fe	 movsx	 edi, WORD PTR [ecx-2]

; 5802 : 
; 5803 : 				if(tObjNum >= 0)

  0012e	85 ff		 test	 edi, edi
  00130	0f 88 e0 00 00
	00		 js	 $LN49@SkillBlind

; 5804 : 				{
; 5805 : 					bEnableAttack = FALSE;
; 5806 : 
; 5807 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00136	8a 19		 mov	 bl, BYTE PTR [ecx]
  00138	80 fb 02	 cmp	 bl, 2
  0013b	75 16		 jne	 SHORT $LN19@SkillBlind
  0013d	8b c7		 mov	 eax, edi
  0013f	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00145	83 bc 10 50 04
	00 00 00	 cmp	 DWORD PTR [eax+edx+1104], 0

; 5808 : 					{
; 5809 : 						bEnableAttack = TRUE;

  0014d	0f 8c 9d 00 00
	00		 jl	 $LN47@SkillBlind
$LN19@SkillBlind:

; 5810 : 					}
; 5811 : 					else if(tObjNum == aTargetIndex && DuelIndex == tObjNum)

  00153	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  00156	75 09		 jne	 SHORT $LN17@SkillBlind
  00158	39 7d ec	 cmp	 DWORD PTR _DuelIndex$[ebp], edi

; 5812 : 					{
; 5813 : 						bEnableAttack = TRUE;

  0015b	0f 84 8f 00 00
	00		 je	 $LN47@SkillBlind
$LN17@SkillBlind:

; 5814 : 					}
; 5815 : 					else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  00161	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00167	3c 35		 cmp	 al, 53			; 00000035H
  00169	0f 84 81 00 00
	00		 je	 $LN47@SkillBlind
  0016f	3c 12		 cmp	 al, 18			; 00000012H
  00171	72 0c		 jb	 SHORT $LN43@SkillBlind
  00173	b9 17 00 00 00	 mov	 ecx, 23			; 00000017H
  00178	3a c8		 cmp	 cl, al
  0017a	1b c9		 sbb	 ecx, ecx
  0017c	41		 inc	 ecx
  0017d	75 71		 jne	 SHORT $LN47@SkillBlind
$LN43@SkillBlind:
  0017f	3c 2d		 cmp	 al, 45			; 0000002dH
  00181	72 09		 jb	 SHORT $LN44@SkillBlind
  00183	b1 32		 mov	 cl, 50			; 00000032H
  00185	3a c8		 cmp	 cl, al
  00187	1b c0		 sbb	 eax, eax
  00189	40		 inc	 eax
  0018a	75 64		 jne	 SHORT $LN47@SkillBlind
$LN44@SkillBlind:

; 5816 : 					{
; 5817 : 						bEnableAttack = TRUE;
; 5818 : 					}
; 5819 : //#if(GS_CASTLE==1)
; 5820 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 
; 5821 : 						gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 5822 : 						g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  0018c	80 fb 03	 cmp	 bl, 3
  0018f	74 1b		 je	 SHORT $LN12@SkillBlind
  00191	8b c7		 mov	 eax, edi
  00193	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00199	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  001a1	75 09		 jne	 SHORT $LN12@SkillBlind
  001a3	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 5823 : 					{
; 5824 : 						bEnableAttack = TRUE;
; 5825 : 					}
; 5826 : //#endif
; 5827 : 					else

  001aa	74 44		 je	 SHORT $LN47@SkillBlind
$LN12@SkillBlind:

; 5828 : 					{
; 5829 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  001ac	8b cf		 mov	 ecx, edi
  001ae	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 5830 : 
; 5831 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  001b4	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  001ba	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  001bd	75 14		 jne	 SHORT $LN10@SkillBlind
  001bf	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  001c6	85 c9		 test	 ecx, ecx
  001c8	78 09		 js	 SHORT $LN10@SkillBlind

; 5832 : 						{
; 5833 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  001ca	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  001d0	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN10@SkillBlind:

; 5834 : 						}
; 5835 : 
; 5836 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  001d3	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  001d9	03 c2		 add	 eax, edx
  001db	50		 push	 eax
  001dc	56		 push	 esi
  001dd	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  001e2	83 c4 08	 add	 esp, 8
  001e5	83 f8 01	 cmp	 eax, 1
  001e8	75 26		 jne	 SHORT $LN46@SkillBlind
  001ea	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN47@SkillBlind:

; 5837 : 						{
; 5838 : 							bEnableAttack = TRUE;
; 5839 : 						}
; 5840 : 					}
; 5841 : 
; 5842 : 					if(bEnableAttack != FALSE)
; 5843 : 					{
; 5844 : 						if(tObjNum == aTargetIndex)

  001f0	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  001f3	75 21		 jne	 SHORT $LN49@SkillBlind

; 5845 : 						{
; 5846 : 							if(gCheckSkillDistance(aIndex, aTargetIndex, lpMagic->m_Skill) != FALSE)

  001f5	8b 55 10	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  001f8	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  001fb	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  001fe	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00201	50		 push	 eax
  00202	51		 push	 ecx
  00203	52		 push	 edx
  00204	e8 00 00 00 00	 call	 ?gCheckSkillDistance@@YAHHHH@Z ; gCheckSkillDistance
  00209	83 c4 0c	 add	 esp, 12			; 0000000cH
  0020c	85 c0		 test	 eax, eax
  0020e	75 2b		 jne	 SHORT $LN40@SkillBlind
$LN46@SkillBlind:
  00210	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN49@SkillBlind:

; 5868 : 								break;
; 5869 : 							}
; 5870 : 						}
; 5871 : 					}
; 5872 : 				}
; 5873 : 			}
; 5874 : 
; 5875 : 			count++;

  00216	8b 45 fc	 mov	 eax, DWORD PTR _count$[ebp]
  00219	8b 4d f8	 mov	 ecx, DWORD PTR tv579[ebp]
  0021c	40		 inc	 eax
  0021d	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00220	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
  00223	89 4d f8	 mov	 DWORD PTR tv579[ebp], ecx

; 5876 : 				
; 5877 : 			if(count > MAX_VIEWPORT -1)

  00226	83 f8 4a	 cmp	 eax, 74			; 0000004aH
  00229	0f 8e f1 fe ff
	ff		 jle	 $LL23@SkillBlind

; 5878 : 			{
; 5879 : 				break;
; 5880 : 			}
; 5881 : 		}
; 5882 : 	}
; 5883 : 	return result;

  0022f	8b 45 f0	 mov	 eax, DWORD PTR _result$[ebp]
  00232	5f		 pop	 edi
  00233	5e		 pop	 esi
  00234	5b		 pop	 ebx

; 5884 : }

  00235	8b e5		 mov	 esp, ebp
  00237	5d		 pop	 ebp
  00238	c2 0c 00	 ret	 12			; 0000000cH
$LN40@SkillBlind:

; 5847 : 							{
; 5848 : 								int iValue1 = 20 + lpObj->Energy / 50;

  0023b	0f b7 8e fa 00
	00 00		 movzx	 ecx, WORD PTR [esi+250]

; 5849 : 								int iValue2 = 0;
; 5850 : 
; 5851 : 								if(gObj[aTargetIndex].Type == OBJ_MONSTER)

  00242	8b 5d f4	 mov	 ebx, DWORD PTR tv360[ebp]
  00245	03 1d 00 00 00
	00		 add	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0024b	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  00250	f7 e9		 imul	 ecx
  00252	c1 fa 04	 sar	 edx, 4
  00255	8b c2		 mov	 eax, edx
  00257	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0025a	8d 54 02 14	 lea	 edx, DWORD PTR [edx+eax+20]
  0025e	0f b7 43 68	 movzx	 eax, WORD PTR [ebx+104]
  00262	33 ff		 xor	 edi, edi
  00264	89 55 10	 mov	 DWORD PTR _iValue1$223868[ebp], edx
  00267	83 f8 02	 cmp	 eax, 2
  0026a	75 38		 jne	 SHORT $LN5@SkillBlind

; 5852 : 								{
; 5853 : 									iValue2 = 9 + lpObj->Energy / 70 - gObj[aTargetIndex].Level / 15;

  0026c	0f bf bb be 00
	00 00		 movsx	 edi, WORD PTR [ebx+190]
  00273	b8 89 88 88 88	 mov	 eax, -2004318071	; 88888889H
  00278	f7 ef		 imul	 edi
  0027a	03 d7		 add	 edx, edi
  0027c	c1 fa 03	 sar	 edx, 3
  0027f	8b c2		 mov	 eax, edx
  00281	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00284	03 c2		 add	 eax, edx
  00286	89 45 08	 mov	 DWORD PTR tv480[ebp], eax
  00289	b8 eb a0 0e ea	 mov	 eax, -368140053		; ea0ea0ebH
  0028e	f7 e9		 imul	 ecx
  00290	03 d1		 add	 edx, ecx
  00292	c1 fa 06	 sar	 edx, 6
  00295	8b fa		 mov	 edi, edx
  00297	c1 ef 1f	 shr	 edi, 31			; 0000001fH
  0029a	03 fa		 add	 edi, edx
  0029c	2b 7d 08	 sub	 edi, DWORD PTR tv480[ebp]
  0029f	83 c7 09	 add	 edi, 9
  002a2	eb 1a		 jmp	 SHORT $LN3@SkillBlind
$LN5@SkillBlind:

; 5854 : 								}
; 5855 : 								else if(gObj[aTargetIndex].Type == OBJ_USER)

  002a4	83 f8 01	 cmp	 eax, 1
  002a7	75 15		 jne	 SHORT $LN3@SkillBlind

; 5856 : 								{
; 5857 : 									iValue2 = ( ( lpObj->Energy / 210 ) + ( ( gObj[aTargetIndex].Level - gObj[aTargetIndex].Level ) / 100 ) + 3 );

  002a9	b8 9d c0 09 9c	 mov	 eax, -1677082467	; 9c09c09dH
  002ae	f7 e9		 imul	 ecx
  002b0	03 d1		 add	 edx, ecx
  002b2	c1 fa 07	 sar	 edx, 7
  002b5	8b c2		 mov	 eax, edx
  002b7	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  002ba	8d 7c 02 03	 lea	 edi, DWORD PTR [edx+eax+3]
$LN3@SkillBlind:

; 5858 : 								}
; 5859 : 
; 5860 : 								if(gObjCheckBuffEffectValue(&gObj[aTargetIndex], AT_BLIND, iValue1, 0) == 1)

  002be	8b 4d 10	 mov	 ecx, DWORD PTR _iValue1$223868[ebp]
  002c1	6a 00		 push	 0
  002c3	51		 push	 ecx
  002c4	6a 49		 push	 73			; 00000049H
  002c6	53		 push	 ebx
  002c7	e8 00 00 00 00	 call	 ?gObjCheckBuffEffectValue@@YAEPAUOBJECTSTRUCT@@HHH@Z ; gObjCheckBuffEffectValue
  002cc	83 c4 10	 add	 esp, 16			; 00000010H
  002cf	3c 01		 cmp	 al, 1
  002d1	75 1f		 jne	 SHORT $LN2@SkillBlind

; 5861 : 								{
; 5862 : 									GCMagicAttackNumberSend(lpObj,220,aTargetIndex,0);

  002d3	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  002d6	6a 00		 push	 0
  002d8	52		 push	 edx
  002d9	68 dc 00 00 00	 push	 220			; 000000dcH
  002de	56		 push	 esi
  002df	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  002e4	83 c4 10	 add	 esp, 16			; 00000010H
  002e7	5f		 pop	 edi
  002e8	5e		 pop	 esi

; 5863 : 									return FALSE;

  002e9	33 c0		 xor	 eax, eax
  002eb	5b		 pop	 ebx

; 5884 : }

  002ec	8b e5		 mov	 esp, ebp
  002ee	5d		 pop	 ebp
  002ef	c2 0c 00	 ret	 12			; 0000000cH
$LN2@SkillBlind:

; 5864 : 								}
; 5865 : 
; 5866 : 								gObjApplyBuffEffectDuration(&gObj[aTargetIndex], AT_BLIND, 26, iValue1, 0, 0, iValue2);

  002f2	8b 45 10	 mov	 eax, DWORD PTR _iValue1$223868[ebp]
  002f5	8b 55 f4	 mov	 edx, DWORD PTR tv360[ebp]
  002f8	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002fe	57		 push	 edi
  002ff	6a 00		 push	 0
  00301	6a 00		 push	 0
  00303	50		 push	 eax
  00304	6a 1a		 push	 26			; 0000001aH
  00306	6a 49		 push	 73			; 00000049H
  00308	52		 push	 edx
  00309	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0030e	83 c4 1c	 add	 esp, 28			; 0000001cH
  00311	5f		 pop	 edi

; 5867 : 								result = 1;

  00312	c7 45 f0 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1

; 5878 : 			{
; 5879 : 				break;
; 5880 : 			}
; 5881 : 		}
; 5882 : 	}
; 5883 : 	return result;

  00319	8b 45 f0	 mov	 eax, DWORD PTR _result$[ebp]
  0031c	5e		 pop	 esi
  0031d	5b		 pop	 ebx

; 5884 : }

  0031e	8b e5		 mov	 esp, ebp
  00320	5d		 pop	 ebp
  00321	c2 0c 00	 ret	 12			; 0000000cH
?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillBlind
_TEXT	ENDS
PUBLIC	?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillWeakness
; Function compile flags: /Ogtp
;	COMDAT ?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z
_TEXT	SEGMENT
_DuelRoom$ = -8						; size = 4
_count$ = -4						; size = 4
_maxhit$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
tv424 = 24						; size = 4
_aTargetIndex$ = 24					; size = 4
?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillWeakness, COMDAT
; _this$ = ecx

; 5887 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 5888 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 5889 : 
; 5890 : 	int result = 0; //loc3 ebpC
; 5891 : 
; 5892 : 	int tObjNum; //loc4 -> ebp-10
; 5893 : 
; 5894 : 	int count = 0; //loc5 ebp14
; 5895 : 
; 5896 : 	int maxhit = 0; //loc6 ebp18
; 5897 : 
; 5898 : 	//int DuelIndex = lpObj->m_iDuelUser; //loc7 ebp1c
; 5899 : 
; 5900 : 	int DuelRoom = lpObj->m_iDuelRoom;
; 5901 : 
; 5902 : 	BOOL bEnableAttack; //loc8 ebp20
; 5903 : 
; 5904 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00006	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00009	8b 4d 18	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0000c	53		 push	 ebx
  0000d	56		 push	 esi
  0000e	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00011	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00017	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001d	33 c0		 xor	 eax, eax
  0001f	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
  00022	89 45 08	 mov	 DWORD PTR _maxhit$[ebp], eax
  00025	8b 86 b4 21 00
	00		 mov	 eax, DWORD PTR [esi+8628]
  0002b	57		 push	 edi
  0002c	89 45 f8	 mov	 DWORD PTR _DuelRoom$[ebp], eax
  0002f	0f b7 42 08	 movzx	 eax, WORD PTR [edx+8]
  00033	6a 01		 push	 1
  00035	51		 push	 ecx
  00036	50		 push	 eax
  00037	56		 push	 esi
  00038	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0003d	8d 86 b0 08 00
	00		 lea	 eax, DWORD PTR [esi+2224]
  00043	83 c4 10	 add	 esp, 16			; 00000010H
  00046	89 45 18	 mov	 DWORD PTR tv424[ebp], eax
  00049	8d a4 24 00 00
	00 00		 npad	 7
$LL19@SkillWeakn:

; 5905 : 
; 5906 : 	while( true )
; 5907 : 	{
; 5908 : 		if(lpObj->VpPlayer2[count].state != 0)

  00050	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  00054	0f 84 0a 01 00
	00		 je	 $LN2@SkillWeakn

; 5909 : 		{
; 5910 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0005a	0f bf 78 fe	 movsx	 edi, WORD PTR [eax-2]

; 5911 : 
; 5912 : 			if(tObjNum >= 0)

  0005e	85 ff		 test	 edi, edi
  00060	0f 88 fe 00 00
	00		 js	 $LN2@SkillWeakn

; 5913 : 			{
; 5914 : 				bEnableAttack = FALSE;
; 5915 : 
; 5916 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00066	8a 18		 mov	 bl, BYTE PTR [eax]
  00068	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006e	80 fb 02	 cmp	 bl, 2
  00071	75 16		 jne	 SHORT $LN38@SkillWeakn
  00073	8b cf		 mov	 ecx, edi
  00075	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0007b	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 5917 : 				{
; 5918 : 					bEnableAttack = TRUE;

  00083	0f 8c 99 00 00
	00		 jl	 $LN10@SkillWeakn
$LN38@SkillWeakn:

; 5919 : 				}
; 5920 : 				else if(DuelRoom >= 0)

  00089	83 7d f8 00	 cmp	 DWORD PTR _DuelRoom$[ebp], 0

; 5921 : 				{
; 5922 : 					bEnableAttack = TRUE;

  0008d	0f 8d 8f 00 00
	00		 jge	 $LN10@SkillWeakn

; 5923 : 				}
; 5924 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  00093	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00099	3c 35		 cmp	 al, 53			; 00000035H
  0009b	0f 84 81 00 00
	00		 je	 $LN10@SkillWeakn
  000a1	3c 12		 cmp	 al, 18			; 00000012H
  000a3	72 0c		 jb	 SHORT $LN35@SkillWeakn
  000a5	b9 17 00 00 00	 mov	 ecx, 23			; 00000017H
  000aa	3a c8		 cmp	 cl, al
  000ac	1b c9		 sbb	 ecx, ecx
  000ae	41		 inc	 ecx
  000af	75 71		 jne	 SHORT $LN10@SkillWeakn
$LN35@SkillWeakn:
  000b1	3c 2d		 cmp	 al, 45			; 0000002dH
  000b3	72 09		 jb	 SHORT $LN36@SkillWeakn
  000b5	b1 32		 mov	 cl, 50			; 00000032H
  000b7	3a c8		 cmp	 cl, al
  000b9	1b c0		 sbb	 eax, eax
  000bb	40		 inc	 eax
  000bc	75 64		 jne	 SHORT $LN10@SkillWeakn
$LN36@SkillWeakn:

; 5925 : 				{
; 5926 : 					bEnableAttack = TRUE;
; 5927 : 				}
; 5928 : //#if(GS_CASTLE==1)
; 5929 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 
; 5930 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 5931 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000be	80 fb 03	 cmp	 bl, 3
  000c1	74 1b		 je	 SHORT $LN8@SkillWeakn
  000c3	8b c7		 mov	 eax, edi
  000c5	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000cb	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  000d3	75 09		 jne	 SHORT $LN8@SkillWeakn
  000d5	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 5932 : 				{
; 5933 : 					bEnableAttack = TRUE;
; 5934 : 				}
; 5935 : //#endif
; 5936 : 				else

  000dc	74 44		 je	 SHORT $LN10@SkillWeakn
$LN8@SkillWeakn:

; 5937 : 				{
; 5938 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000de	8b cf		 mov	 ecx, edi
  000e0	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 5939 : 
; 5940 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000e6	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  000ec	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  000ef	75 14		 jne	 SHORT $LN6@SkillWeakn
  000f1	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000f8	85 c9		 test	 ecx, ecx
  000fa	78 09		 js	 SHORT $LN6@SkillWeakn

; 5941 : 					{
; 5942 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000fc	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00102	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN6@SkillWeakn:

; 5943 : 					}
; 5944 : 
; 5945 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  00105	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0010b	03 c2		 add	 eax, edx
  0010d	50		 push	 eax
  0010e	56		 push	 esi
  0010f	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00114	83 c4 08	 add	 esp, 8
  00117	83 f8 01	 cmp	 eax, 1
  0011a	75 45		 jne	 SHORT $LN39@SkillWeakn
  0011c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN10@SkillWeakn:

; 5946 : 					{
; 5947 : 						bEnableAttack = TRUE;
; 5948 : 					}
; 5949 : 				}
; 5950 : 
; 5951 : 				if(bEnableAttack != FALSE)
; 5952 : 				{
; 5953 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  00122	8b c7		 mov	 eax, edi
  00124	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0012a	03 c2		 add	 eax, edx
  0012c	50		 push	 eax
  0012d	56		 push	 esi
  0012e	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00133	83 c4 08	 add	 esp, 8
  00136	83 f8 05	 cmp	 eax, 5
  00139	7d 26		 jge	 SHORT $LN39@SkillWeakn

; 5954 : 					{
; 5955 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  0013b	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0013e	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00141	6a 00		 push	 0
  00143	52		 push	 edx
  00144	68 bc 02 00 00	 push	 700			; 000002bcH
  00149	57		 push	 edi
  0014a	6a 32		 push	 50			; 00000032H
  0014c	56		 push	 esi
  0014d	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay

; 5956 : 						maxhit++;

  00152	8b 45 08	 mov	 eax, DWORD PTR _maxhit$[ebp]
  00155	40		 inc	 eax
  00156	83 c4 18	 add	 esp, 24			; 00000018H
  00159	89 45 08	 mov	 DWORD PTR _maxhit$[ebp], eax

; 5957 : 
; 5958 : 						if(maxhit >= 5)

  0015c	83 f8 05	 cmp	 eax, 5
  0015f	7d 19		 jge	 SHORT $LN37@SkillWeakn
$LN39@SkillWeakn:
  00161	8b 45 18	 mov	 eax, DWORD PTR tv424[ebp]
$LN2@SkillWeakn:

; 5959 : 						{
; 5960 : 							break;
; 5961 : 						}
; 5962 : 					}
; 5963 : 				}
; 5964 : 			}
; 5965 : 		}
; 5966 : 
; 5967 : 		count++;

  00164	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  00167	41		 inc	 ecx
  00168	83 c0 0c	 add	 eax, 12			; 0000000cH
  0016b	89 4d fc	 mov	 DWORD PTR _count$[ebp], ecx
  0016e	89 45 18	 mov	 DWORD PTR tv424[ebp], eax

; 5968 : 			
; 5969 : 		if(count > MAX_VIEWPORT -1)

  00171	83 f9 4a	 cmp	 ecx, 74			; 0000004aH
  00174	0f 8e d6 fe ff
	ff		 jle	 $LL19@SkillWeakn
$LN37@SkillWeakn:
  0017a	5f		 pop	 edi
  0017b	5e		 pop	 esi

; 5970 : 		{
; 5971 : 			break;
; 5972 : 		}
; 5973 : 	}
; 5974 : 
; 5975 : 	return result;

  0017c	33 c0		 xor	 eax, eax
  0017e	5b		 pop	 ebx

; 5976 : }

  0017f	8b e5		 mov	 esp, ebp
  00181	5d		 pop	 ebp
  00182	c2 14 00	 ret	 20			; 00000014H
?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillWeakness
_TEXT	ENDS
PUBLIC	?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillInnovation
; Function compile flags: /Ogtp
;	COMDAT ?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z
_TEXT	SEGMENT
_DuelRoom$ = -8						; size = 4
_count$ = -4						; size = 4
_maxhit$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
tv424 = 24						; size = 4
_aTargetIndex$ = 24					; size = 4
?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillInnovation, COMDAT
; _this$ = ecx

; 5979 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 5980 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 5981 : 
; 5982 : 	int result = 0; //loc3 ebpC
; 5983 : 
; 5984 : 	int tObjNum; //loc4 -> ebp-10
; 5985 : 
; 5986 : 	int count = 0; //loc5 ebp14
; 5987 : 
; 5988 : 	int maxhit = 0; //loc6 ebp18
; 5989 : 
; 5990 : 	//int DuelIndex = lpObj->m_iDuelUser; //loc7 ebp1c
; 5991 : 
; 5992 : 	int DuelRoom = lpObj->m_iDuelRoom;
; 5993 : 
; 5994 : 	BOOL bEnableAttack; //loc8 ebp20
; 5995 : 
; 5996 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00006	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00009	8b 4d 18	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0000c	53		 push	 ebx
  0000d	56		 push	 esi
  0000e	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00011	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00017	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001d	33 c0		 xor	 eax, eax
  0001f	89 45 fc	 mov	 DWORD PTR _count$[ebp], eax
  00022	89 45 08	 mov	 DWORD PTR _maxhit$[ebp], eax
  00025	8b 86 b4 21 00
	00		 mov	 eax, DWORD PTR [esi+8628]
  0002b	57		 push	 edi
  0002c	89 45 f8	 mov	 DWORD PTR _DuelRoom$[ebp], eax
  0002f	0f b7 42 08	 movzx	 eax, WORD PTR [edx+8]
  00033	6a 01		 push	 1
  00035	51		 push	 ecx
  00036	50		 push	 eax
  00037	56		 push	 esi
  00038	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0003d	8d 86 b0 08 00
	00		 lea	 eax, DWORD PTR [esi+2224]
  00043	83 c4 10	 add	 esp, 16			; 00000010H
  00046	89 45 18	 mov	 DWORD PTR tv424[ebp], eax
  00049	8d a4 24 00 00
	00 00		 npad	 7
$LL19@SkillInnov:

; 5997 : 
; 5998 : 	while( true )
; 5999 : 	{
; 6000 : 		if(lpObj->VpPlayer2[count].state != 0)

  00050	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  00054	0f 84 0a 01 00
	00		 je	 $LN2@SkillInnov

; 6001 : 		{
; 6002 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0005a	0f bf 78 fe	 movsx	 edi, WORD PTR [eax-2]

; 6003 : 
; 6004 : 			if(tObjNum >= 0)

  0005e	85 ff		 test	 edi, edi
  00060	0f 88 fe 00 00
	00		 js	 $LN2@SkillInnov

; 6005 : 			{
; 6006 : 				bEnableAttack = FALSE;
; 6007 : 
; 6008 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00066	8a 18		 mov	 bl, BYTE PTR [eax]
  00068	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006e	80 fb 02	 cmp	 bl, 2
  00071	75 16		 jne	 SHORT $LN38@SkillInnov
  00073	8b cf		 mov	 ecx, edi
  00075	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0007b	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 6009 : 				{
; 6010 : 					bEnableAttack = TRUE;

  00083	0f 8c 99 00 00
	00		 jl	 $LN10@SkillInnov
$LN38@SkillInnov:

; 6011 : 				}
; 6012 : 				else if(DuelRoom >= 0) //fix

  00089	83 7d f8 00	 cmp	 DWORD PTR _DuelRoom$[ebp], 0

; 6013 : 				{
; 6014 : 					bEnableAttack = TRUE;

  0008d	0f 8d 8f 00 00
	00		 jge	 $LN10@SkillInnov

; 6015 : 				}
; 6016 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  00093	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00099	3c 35		 cmp	 al, 53			; 00000035H
  0009b	0f 84 81 00 00
	00		 je	 $LN10@SkillInnov
  000a1	3c 12		 cmp	 al, 18			; 00000012H
  000a3	72 0c		 jb	 SHORT $LN35@SkillInnov
  000a5	b9 17 00 00 00	 mov	 ecx, 23			; 00000017H
  000aa	3a c8		 cmp	 cl, al
  000ac	1b c9		 sbb	 ecx, ecx
  000ae	41		 inc	 ecx
  000af	75 71		 jne	 SHORT $LN10@SkillInnov
$LN35@SkillInnov:
  000b1	3c 2d		 cmp	 al, 45			; 0000002dH
  000b3	72 09		 jb	 SHORT $LN36@SkillInnov
  000b5	b1 32		 mov	 cl, 50			; 00000032H
  000b7	3a c8		 cmp	 cl, al
  000b9	1b c0		 sbb	 eax, eax
  000bb	40		 inc	 eax
  000bc	75 64		 jne	 SHORT $LN10@SkillInnov
$LN36@SkillInnov:

; 6017 : 				{
; 6018 : 					bEnableAttack = TRUE;
; 6019 : 				}
; 6020 : //#if(GS_CASTLE==1)
; 6021 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 
; 6022 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6023 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000be	80 fb 03	 cmp	 bl, 3
  000c1	74 1b		 je	 SHORT $LN8@SkillInnov
  000c3	8b c7		 mov	 eax, edi
  000c5	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000cb	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  000d3	75 09		 jne	 SHORT $LN8@SkillInnov
  000d5	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 6024 : 				{
; 6025 : 					bEnableAttack = TRUE;
; 6026 : 				}
; 6027 : //#endif
; 6028 : 				else

  000dc	74 44		 je	 SHORT $LN10@SkillInnov
$LN8@SkillInnov:

; 6029 : 				{
; 6030 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000de	8b cf		 mov	 ecx, edi
  000e0	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 6031 : 
; 6032 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000e6	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  000ec	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  000ef	75 14		 jne	 SHORT $LN6@SkillInnov
  000f1	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000f8	85 c9		 test	 ecx, ecx
  000fa	78 09		 js	 SHORT $LN6@SkillInnov

; 6033 : 					{
; 6034 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000fc	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00102	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN6@SkillInnov:

; 6035 : 					}
; 6036 : 
; 6037 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  00105	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0010b	03 c2		 add	 eax, edx
  0010d	50		 push	 eax
  0010e	56		 push	 esi
  0010f	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00114	83 c4 08	 add	 esp, 8
  00117	83 f8 01	 cmp	 eax, 1
  0011a	75 45		 jne	 SHORT $LN39@SkillInnov
  0011c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN10@SkillInnov:

; 6038 : 					{
; 6039 : 						bEnableAttack = TRUE;
; 6040 : 					}
; 6041 : 				}
; 6042 : 
; 6043 : 				if(bEnableAttack != FALSE)
; 6044 : 				{
; 6045 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)

  00122	8b c7		 mov	 eax, edi
  00124	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0012a	03 c2		 add	 eax, edx
  0012c	50		 push	 eax
  0012d	56		 push	 esi
  0012e	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00133	83 c4 08	 add	 esp, 8
  00136	83 f8 05	 cmp	 eax, 5
  00139	7d 26		 jge	 SHORT $LN39@SkillInnov

; 6046 : 					{
; 6047 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,700,lpMagic->m_Skill,0);

  0013b	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0013e	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00141	6a 00		 push	 0
  00143	52		 push	 edx
  00144	68 bc 02 00 00	 push	 700			; 000002bcH
  00149	57		 push	 edi
  0014a	6a 32		 push	 50			; 00000032H
  0014c	56		 push	 esi
  0014d	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay

; 6048 : 						maxhit++;

  00152	8b 45 08	 mov	 eax, DWORD PTR _maxhit$[ebp]
  00155	40		 inc	 eax
  00156	83 c4 18	 add	 esp, 24			; 00000018H
  00159	89 45 08	 mov	 DWORD PTR _maxhit$[ebp], eax

; 6049 : 
; 6050 : 						if(maxhit >= 5)

  0015c	83 f8 05	 cmp	 eax, 5
  0015f	7d 19		 jge	 SHORT $LN37@SkillInnov
$LN39@SkillInnov:
  00161	8b 45 18	 mov	 eax, DWORD PTR tv424[ebp]
$LN2@SkillInnov:

; 6051 : 						{
; 6052 : 							break;
; 6053 : 						}
; 6054 : 					}
; 6055 : 				}
; 6056 : 			}
; 6057 : 		}
; 6058 : 
; 6059 : 		count++;

  00164	8b 4d fc	 mov	 ecx, DWORD PTR _count$[ebp]
  00167	41		 inc	 ecx
  00168	83 c0 0c	 add	 eax, 12			; 0000000cH
  0016b	89 4d fc	 mov	 DWORD PTR _count$[ebp], ecx
  0016e	89 45 18	 mov	 DWORD PTR tv424[ebp], eax

; 6060 : 			
; 6061 : 		if(count > MAX_VIEWPORT -1)

  00171	83 f9 4a	 cmp	 ecx, 74			; 0000004aH
  00174	0f 8e d6 fe ff
	ff		 jle	 $LL19@SkillInnov
$LN37@SkillInnov:
  0017a	5f		 pop	 edi
  0017b	5e		 pop	 esi

; 6062 : 		{
; 6063 : 			break;
; 6064 : 		}
; 6065 : 	}
; 6066 : 
; 6067 : 	return result;

  0017c	33 c0		 xor	 eax, eax
  0017e	5b		 pop	 ebx

; 6068 : }

  0017f	8b e5		 mov	 esp, ebp
  00181	5d		 pop	 ebp
  00182	c2 14 00	 ret	 20			; 00000014H
?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillInnovation
_TEXT	ENDS
PUBLIC	?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillLightningShock
; Function compile flags: /Ogtp
;	COMDAT ?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -16					; size = 4
tv371 = -12						; size = 4
tv436 = -8						; size = 4
_maxhit$ = -4						; size = 4
_bAttack$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillLightningShock, COMDAT
; _this$ = ecx

; 6072 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H

; 6073 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 6074 : 	int loc3 = 0; //loc3
; 6075 : 	BOOL bAttack = FALSE; //loc4
; 6076 : 	int tObjNum; //loc5
; 6077 : 	int count = 0; //loc6
; 6078 : 	int loc7 = 0; //loc7
; 6079 : 	int loc8 = 7; //loc8
; 6080 : 	int maxhit = 0; //loc9
; 6081 : 
; 6082 : 	BOOL bEnableAttack; //loc10
; 6083 : 
; 6084 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00006	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00009	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  0000d	53		 push	 ebx
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00012	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00018	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001e	33 c0		 xor	 eax, eax
  00020	57		 push	 edi
  00021	89 45 08	 mov	 DWORD PTR _bAttack$[ebp], eax
  00024	89 45 fc	 mov	 DWORD PTR _maxhit$[ebp], eax
  00027	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0002a	6a 01		 push	 1
  0002c	50		 push	 eax
  0002d	52		 push	 edx
  0002e	56		 push	 esi
  0002f	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 6085 : 
; 6086 : 	int loc11 = 1;
; 6087 : 
; 6088 : 	int DuelIndex = lpObj->m_iDuelUser; //loc12

  00034	8b 86 b8 0e 00
	00		 mov	 eax, DWORD PTR [esi+3768]
  0003a	89 45 f0	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  0003d	8d 86 b0 08 00
	00		 lea	 eax, DWORD PTR [esi+2224]
  00043	83 c4 10	 add	 esp, 16			; 00000010H
  00046	89 45 f8	 mov	 DWORD PTR tv436[ebp], eax
  00049	c7 45 f4 4b 00
	00 00		 mov	 DWORD PTR tv371[ebp], 75 ; 0000004bH
$LL25@SkillLight:

; 6089 : 
; 6090 : 	while( true )
; 6091 : 	{
; 6092 : 		if(lpObj->VpPlayer2[count].state != 0)

  00050	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  00054	0f 84 35 01 00
	00		 je	 $LN45@SkillLight

; 6093 : 		{
; 6094 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0005a	0f bf 78 fe	 movsx	 edi, WORD PTR [eax-2]

; 6095 : 
; 6096 : 			if(tObjNum >= 0)

  0005e	85 ff		 test	 edi, edi
  00060	0f 88 29 01 00
	00		 js	 $LN45@SkillLight

; 6097 : 			{
; 6098 : 				bEnableAttack = FALSE;
; 6099 : 
; 6100 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00066	8a 18		 mov	 bl, BYTE PTR [eax]
  00068	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006e	80 fb 02	 cmp	 bl, 2
  00071	75 16		 jne	 SHORT $LN21@SkillLight
  00073	8b cf		 mov	 ecx, edi
  00075	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0007b	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 6101 : 				{
; 6102 : 					bEnableAttack = TRUE;

  00083	0f 8c 99 00 00
	00		 jl	 $LN43@SkillLight
$LN21@SkillLight:

; 6103 : 				}
; 6104 : 				else if (CC_MAP_RANGE(lpObj->MapNumber) != FALSE || IT_MAP_RANGE(lpObj->MapNumber) != FALSE)

  00089	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  0008f	3c 35		 cmp	 al, 53			; 00000035H
  00091	0f 84 8b 00 00
	00		 je	 $LN43@SkillLight
  00097	3c 12		 cmp	 al, 18			; 00000012H
  00099	72 0c		 jb	 SHORT $LN40@SkillLight
  0009b	b9 17 00 00 00	 mov	 ecx, 23			; 00000017H
  000a0	3a c8		 cmp	 cl, al
  000a2	1b c9		 sbb	 ecx, ecx
  000a4	41		 inc	 ecx
  000a5	75 7b		 jne	 SHORT $LN43@SkillLight
$LN40@SkillLight:
  000a7	3c 2d		 cmp	 al, 45			; 0000002dH
  000a9	72 09		 jb	 SHORT $LN41@SkillLight
  000ab	b1 32		 mov	 cl, 50			; 00000032H
  000ad	3a c8		 cmp	 cl, al
  000af	1b c0		 sbb	 eax, eax
  000b1	40		 inc	 eax
  000b2	75 6e		 jne	 SHORT $LN43@SkillLight
$LN41@SkillLight:

; 6105 : 				{
; 6106 : 					bEnableAttack = TRUE;
; 6107 : 				}
; 6108 : 				else if(tObjNum == aTargetIndex && loc11 == 1 || DuelIndex == tObjNum )

  000b4	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000b7	74 69		 je	 SHORT $LN43@SkillLight
  000b9	39 7d f0	 cmp	 DWORD PTR _DuelIndex$[ebp], edi

; 6109 : 				{
; 6110 : 					bEnableAttack = TRUE;
; 6111 : 				}
; 6112 : //#if(GS_CASTLE==1)
; 6113 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  000bc	74 64		 je	 SHORT $LN43@SkillLight

; 6114 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6115 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000be	80 fb 03	 cmp	 bl, 3
  000c1	74 1b		 je	 SHORT $LN42@SkillLight
  000c3	8b c7		 mov	 eax, edi
  000c5	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000cb	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  000d3	75 09		 jne	 SHORT $LN42@SkillLight
  000d5	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 6116 : 				{
; 6117 : 					bEnableAttack = 1;
; 6118 : 				}
; 6119 : //#endif
; 6120 : 				else

  000dc	74 44		 je	 SHORT $LN43@SkillLight
$LN42@SkillLight:

; 6121 : 				{
; 6122 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000de	8b cf		 mov	 ecx, edi
  000e0	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 6123 : 
; 6124 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000e6	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  000ec	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  000ef	75 14		 jne	 SHORT $LN10@SkillLight
  000f1	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000f8	85 c9		 test	 ecx, ecx
  000fa	78 09		 js	 SHORT $LN10@SkillLight

; 6125 : 					{
; 6126 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000fc	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00102	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN10@SkillLight:

; 6127 : 					}
; 6128 : 
; 6129 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  00105	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0010b	03 c2		 add	 eax, edx
  0010d	50		 push	 eax
  0010e	56		 push	 esi
  0010f	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00114	83 c4 08	 add	 esp, 8
  00117	83 f8 01	 cmp	 eax, 1
  0011a	75 73		 jne	 SHORT $LN45@SkillLight
  0011c	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN43@SkillLight:

; 6130 : 					{
; 6131 : 						bEnableAttack = TRUE;
; 6132 : 					}
; 6133 : 				}
; 6134 : 
; 6135 : 				if(bEnableAttack != FALSE)
; 6136 : 				{
; 6137 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 7)

  00122	8b c7		 mov	 eax, edi
  00124	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0012a	03 c2		 add	 eax, edx
  0012c	50		 push	 eax
  0012d	56		 push	 esi
  0012e	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00133	83 c4 08	 add	 esp, 8
  00136	83 f8 07	 cmp	 eax, 7
  00139	7d 54		 jge	 SHORT $LN45@SkillLight

; 6138 : 					{
; 6139 : 						maxhit++;

  0013b	8b 5d fc	 mov	 ebx, DWORD PTR _maxhit$[ebp]
  0013e	43		 inc	 ebx
  0013f	89 5d fc	 mov	 DWORD PTR _maxhit$[ebp], ebx

; 6140 : 
; 6141 : 						if(maxhit > 5)

  00142	83 fb 05	 cmp	 ebx, 5
  00145	7e 13		 jle	 SHORT $LN6@SkillLight

; 6142 : 						{
; 6143 : 							if(rand()%2 != 0)

  00147	e8 00 00 00 00	 call	 _rand
  0014c	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00151	79 05		 jns	 SHORT $LN50@SkillLight
  00153	48		 dec	 eax
  00154	83 c8 fe	 or	 eax, -2			; fffffffeH
  00157	40		 inc	 eax
$LN50@SkillLight:
  00158	74 07		 je	 SHORT $LN44@SkillLight
$LN6@SkillLight:

; 6144 : 							{
; 6145 : 								bAttack = TRUE;
; 6146 : 							}
; 6147 : 						}
; 6148 : 						else
; 6149 : 						{
; 6150 : 							bAttack = TRUE;

  0015a	c7 45 08 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN44@SkillLight:

; 6151 : 						}
; 6152 : 
; 6153 : 						if(maxhit > 12)

  00161	83 fb 0c	 cmp	 ebx, 12			; 0000000cH
  00164	7e 09		 jle	 SHORT $LN3@SkillLight

; 6154 : 						{
; 6155 : 							bAttack = FALSE;

  00166	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6156 : 						}
; 6157 : 
; 6158 : 						if(bAttack == TRUE)

  0016d	eb 20		 jmp	 SHORT $LN45@SkillLight
$LN3@SkillLight:
  0016f	83 7d 08 01	 cmp	 DWORD PTR _bAttack$[ebp], 1
  00173	75 1a		 jne	 SHORT $LN45@SkillLight

; 6159 : 						{
; 6160 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,250,lpMagic->m_Skill,0);

  00175	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00178	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0017b	6a 00		 push	 0
  0017d	52		 push	 edx
  0017e	68 fa 00 00 00	 push	 250			; 000000faH
  00183	57		 push	 edi
  00184	6a 32		 push	 50			; 00000032H
  00186	56		 push	 esi
  00187	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0018c	83 c4 18	 add	 esp, 24			; 00000018H
$LN45@SkillLight:

; 6161 : 						}						
; 6162 : 					}
; 6163 : 				}
; 6164 : 			}
; 6165 : 		}
; 6166 : 
; 6167 : 		count++;

  0018f	8b 45 f8	 mov	 eax, DWORD PTR tv436[ebp]
  00192	83 c0 0c	 add	 eax, 12			; 0000000cH

; 6168 : 			
; 6169 : 		if(count > MAX_VIEWPORT -1)

  00195	ff 4d f4	 dec	 DWORD PTR tv371[ebp]
  00198	89 45 f8	 mov	 DWORD PTR tv436[ebp], eax
  0019b	0f 85 af fe ff
	ff		 jne	 $LL25@SkillLight

; 6170 : 		{
; 6171 : 			break;
; 6172 : 		}
; 6173 : 	}
; 6174 : 
; 6175 : 	return true;

  001a1	5f		 pop	 edi
  001a2	5e		 pop	 esi
  001a3	b8 01 00 00 00	 mov	 eax, 1
  001a8	5b		 pop	 ebx

; 6176 : }

  001a9	8b e5		 mov	 esp, ebp
  001ab	5d		 pop	 ebp
  001ac	c2 0c 00	 ret	 12			; 0000000cH
?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillLightningShock
_TEXT	ENDS
PUBLIC	?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBerserker
; Function compile flags: /Ogtp
;	COMDAT ?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillBerserker, COMDAT
; _this$ = ecx

; 6179 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 6180 : 	//if(OBJMAX_RANGE(aIndex) == false)
; 6181 : 	//{
; 6182 : 	//	return false;
; 6183 : 	//}
; 6184 : 
; 6185 : 	//LPOBJ lpObj = &gObj[aIndex];
; 6186 : 
; 6187 : 
; 6188 : 	////int ExBerserkerStartTime = GetPrivateProfileInt("Summoner","BerserkerStartTime",30,"..\\Data\\ZtData\\Skills.ini");
; 6189 : 	////int ExBerserkerEnergyTime = GetPrivateProfileInt("Summoner","BerserkerEnergyTime",20,"..\\Data\\ZtData\\Skills.ini");
; 6190 : 	////int ExBerserkerMaxTime = GetPrivateProfileInt("Summoner","BerserkerMaxTime",0,"..\\Data\\ZtData\\Skills.ini");
; 6191 : 
; 6192 : 	////int ExBerserkerEneIncMana = GetPrivateProfileInt("Summoner","BerserkerEneIncMana",30,"..\\Data\\ZtData\\Skills.ini");
; 6193 : 	////int ExBerserkerEneDecLife = GetPrivateProfileInt("Summoner","BerserkerEneDecLife",60,"..\\Data\\ZtData\\Skills.ini");
; 6194 : 	///*
; 6195 : 	//int iDuration = lpObj->Energy / 20 + 30;
; 6196 : 
; 6197 : 	//int iIncMana = lpObj->Energy / 30;
; 6198 : 	//int iDecLife = lpObj->Energy / 60;
; 6199 : 	//*/
; 6200 : 	//int iDuration = lpObj->Energy / ZtConfig.Skills.ExBerserkerEnergyTime + ZtConfig.Skills.ExBerserkerStartTime;
; 6201 : 	//int iIncMana  = lpObj->Energy / ZtConfig.Skills.ExBerserkerEneIncMana;
; 6202 : 	//int iDecLife  = lpObj->Energy / ZtConfig.Skills.ExBerserkerEneDecLife;
; 6203 : 	//
; 6204 : 	//if(ZtConfig.Skills.ExBerserkerMaxTime != 0)
; 6205 : 	//{
; 6206 : 	//	if(iDuration > ZtConfig.Skills.ExBerserkerMaxTime)
; 6207 : 	//		iDuration = ZtConfig.Skills.ExBerserkerMaxTime;
; 6208 : 	//}
; 6209 : 
; 6210 : 	//gObjApplyBuffEffectDuration(lpObj, AT_BERSERKER, 31, iIncMana, 32, iDecLife, iDuration);
; 6211 : 
; 6212 : 	//GCMagicAttackNumberSend(lpObj,218,lpObj->m_Index,1);
; 6213 : 	//return true;
; 6214 : 
; 6215 : 	if(OBJMAX_RANGE(aIndex) == false)

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN9@SkillBerse
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN4@SkillBerse
$LN9@SkillBerse:

; 6216 : 	{
; 6217 : 		return FALSE;

  00018	33 c0		 xor	 eax, eax

; 6248 : }

  0001a	5d		 pop	 ebp
  0001b	c2 08 00	 ret	 8
$LN4@SkillBerse:

; 6218 : 	}
; 6219 : 
; 6220 : 	LPOBJ lpObj = &gObj[aIndex];
; 6221 : 
; 6222 : 	int iDuration	= lpObj->Energy / g_SkillAdditionInfo.BerserkerTimeDiv + g_SkillAdditionInfo.BerserkerTimeStart;

  0001e	0f b7 0d b2 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2994
  00025	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0002b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00031	53		 push	 ebx
  00032	56		 push	 esi
  00033	8b f0		 mov	 esi, eax
  00035	57		 push	 edi
  00036	0f b7 be fa 00
	00 00		 movzx	 edi, WORD PTR [esi+250]
  0003d	8b c7		 mov	 eax, edi
  0003f	99		 cdq
  00040	f7 f9		 idiv	 ecx
  00042	0f b7 0d b0 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2992
  00049	03 c8		 add	 ecx, eax

; 6223 : 
; 6224 : 	if( g_SkillAdditionInfo.BerserkerTimeMax > 0 && iDuration > g_SkillAdditionInfo.BerserkerTimeMax )

  0004b	a1 b4 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2996
  00050	85 c0		 test	 eax, eax
  00052	74 06		 je	 SHORT $LN3@SkillBerse
  00054	3b c8		 cmp	 ecx, eax
  00056	76 02		 jbe	 SHORT $LN3@SkillBerse

; 6225 : 	{
; 6226 : 		iDuration = g_SkillAdditionInfo.BerserkerTimeMax;

  00058	8b c8		 mov	 ecx, eax
$LN3@SkillBerse:

; 6227 : 	}
; 6228 : 	
; 6229 : #ifdef FIX_BERSERK_SUM
; 6230 : 	int iIncMana;
; 6231 : 	if (!ZtConfig.Character.BerserkAddMana)

  0005a	83 3d c0 02 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+704, 0
  00061	75 04		 jne	 SHORT $LN2@SkillBerse

; 6232 : 	{
; 6233 : 		iIncMana	= 0;

  00063	33 db		 xor	 ebx, ebx

; 6234 : 	}
; 6235 : 	else

  00065	eb 0e		 jmp	 SHORT $LN1@SkillBerse
$LN2@SkillBerse:

; 6236 : 	{
; 6237 : 		iIncMana	= lpObj->Energy / g_SkillAdditionInfo.BerserkerManaIncDiv;

  00067	0f b7 1d ac 0b
	00 00		 movzx	 ebx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2988
  0006e	8b c7		 mov	 eax, edi
  00070	99		 cdq
  00071	f7 fb		 idiv	 ebx
  00073	8b d8		 mov	 ebx, eax
$LN1@SkillBerse:

; 6238 : 	}
; 6239 : #else
; 6240 : 	int iIncMana	= lpObj->Energy / g_SkillAdditionInfo.BerserkerManaIncDiv;
; 6241 : #endif
; 6242 : 	int iDecLife	= lpObj->Energy / g_SkillAdditionInfo.BerserkerLifeDecDiv;
; 6243 : 
; 6244 : 	gObjApplyBuffEffectDuration(lpObj, AT_BERSERKER, 31, iIncMana, 32, iDecLife, iDuration); // ->

  00075	51		 push	 ecx
  00076	0f b7 0d ae 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2990
  0007d	8b c7		 mov	 eax, edi
  0007f	99		 cdq
  00080	f7 f9		 idiv	 ecx
  00082	50		 push	 eax
  00083	6a 20		 push	 32			; 00000020H
  00085	53		 push	 ebx
  00086	6a 1f		 push	 31			; 0000001fH
  00088	6a 51		 push	 81			; 00000051H
  0008a	56		 push	 esi
  0008b	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 6245 : 	GCMagicAttackNumberSend(lpObj,218,lpObj->m_Index,1);

  00090	8b 16		 mov	 edx, DWORD PTR [esi]
  00092	6a 01		 push	 1
  00094	52		 push	 edx
  00095	68 da 00 00 00	 push	 218			; 000000daH
  0009a	56		 push	 esi
  0009b	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000a0	83 c4 2c	 add	 esp, 44			; 0000002cH
  000a3	5f		 pop	 edi
  000a4	5e		 pop	 esi

; 6246 : 
; 6247 : 	return TRUE;

  000a5	b8 01 00 00 00	 mov	 eax, 1
  000aa	5b		 pop	 ebx

; 6248 : }

  000ab	5d		 pop	 ebp
  000ac	c2 08 00	 ret	 8
?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillBerserker
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z	; CObjUseSkill::SkillFrustrum3
; Function compile flags: /Ogtp
;	COMDAT ?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z
_TEXT	SEGMENT
_lpObj$ = -168						; size = 4
tv311 = -164						; size = 4
tv293 = -164						; size = 4
_Matrix$ = -160						; size = 48
_vFrustrum$ = -112					; size = 48
_p$ = -64						; size = 48
_Angle$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_fangle$ = 12						; size = 1
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
_arg5$ = 24						; size = 4
_arg6$ = 28						; size = 4
?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z PROC		; CObjUseSkill::SkillFrustrum3, COMDAT
; _this$ = ecx

; 6408 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a8 00 00
	00		 sub	 esp, 168		; 000000a8H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 6413 : 	Vector( tx , ty, 0.f,p[1]);
; 6414 : 	Vector( arg5, arg6, 0.f,p[2]);
; 6415 : 	Vector(-arg5, arg6, 0.f,p[3]);
; 6416 : 
; 6417 : 	//vec3_t Angle;
; 6418 : 	vec3_t Angle;
; 6419 : 
; 6420 : 	//Vector(0.f,0.f,fangle*360/(BYTE)255,Angle);
; 6421 : 	Vector(0.f,0.f,(float)((BYTE)fangle*360/(BYTE)255),Angle);

  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi

; 6409 : 	LPOBJ lpObj = &gObj[aIndex];
; 6410 : 
; 6411 : 	vec3_t p[4];
; 6412 : 	Vector(-tx , ty, 0.f,p[0]);

  00016	d9 45 10	 fld	 DWORD PTR _tx$[ebp]

; 6413 : 	Vector( tx , ty, 0.f,p[1]);
; 6414 : 	Vector( arg5, arg6, 0.f,p[2]);
; 6415 : 	Vector(-arg5, arg6, 0.f,p[3]);
; 6416 : 
; 6417 : 	//vec3_t Angle;
; 6418 : 	vec3_t Angle;
; 6419 : 
; 6420 : 	//Vector(0.f,0.f,fangle*360/(BYTE)255,Angle);
; 6421 : 	Vector(0.f,0.f,(float)((BYTE)fangle*360/(BYTE)255),Angle);

  00019	0f b6 4d 0c	 movzx	 ecx, BYTE PTR _fangle$[ebp]
  0001d	d9 c0		 fld	 ST(0)
  0001f	69 c9 68 01 00
	00		 imul	 ecx, 360		; 00000168H
  00025	d9 e0		 fchs
  00027	d9 5d c0	 fstp	 DWORD PTR _p$[ebp]
  0002a	d9 45 14	 fld	 DWORD PTR _ty$[ebp]
  0002d	d9 55 c4	 fst	 DWORD PTR _p$[ebp+4]
  00030	d9 ee		 fldz
  00032	d9 55 c8	 fst	 DWORD PTR _p$[ebp+8]
  00035	d9 55 d4	 fst	 DWORD PTR _p$[ebp+20]
  00038	d9 ca		 fxch	 ST(2)
  0003a	d9 5d cc	 fstp	 DWORD PTR _p$[ebp+12]
  0003d	b8 81 80 80 80	 mov	 eax, -2139062143	; 80808081H
  00042	f7 e9		 imul	 ecx
  00044	d9 5d d0	 fstp	 DWORD PTR _p$[ebp+16]
  00047	d9 45 18	 fld	 DWORD PTR _arg5$[ebp]
  0004a	d9 55 d8	 fst	 DWORD PTR _p$[ebp+24]
  0004d	d9 45 1c	 fld	 DWORD PTR _arg6$[ebp]
  00050	d9 55 dc	 fst	 DWORD PTR _p$[ebp+28]
  00053	d9 ca		 fxch	 ST(2)
  00055	d9 55 e0	 fst	 DWORD PTR _p$[ebp+32]
  00058	d9 c9		 fxch	 ST(1)
  0005a	d9 e0		 fchs
  0005c	d9 5d e4	 fstp	 DWORD PTR _p$[ebp+36]
  0005f	d9 c9		 fxch	 ST(1)
  00061	d9 5d e8	 fstp	 DWORD PTR _p$[ebp+40]
  00064	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00067	03 d1		 add	 edx, ecx
  00069	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0006f	d9 55 ec	 fst	 DWORD PTR _p$[ebp+44]
  00072	d9 55 f0	 fst	 DWORD PTR _Angle$[ebp]
  00075	d9 5d f4	 fstp	 DWORD PTR _Angle$[ebp+4]
  00078	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0007e	c1 fa 07	 sar	 edx, 7
  00081	8b c2		 mov	 eax, edx
  00083	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  00086	03 c2		 add	 eax, edx
  00088	89 85 5c ff ff
	ff		 mov	 DWORD PTR tv311[ebp], eax

; 6422 : 
; 6423 : 	float Matrix[3][4];
; 6424 : 	vec3_t vFrustrum[4];
; 6425 : 	
; 6426 : 	AngleMatrix(Angle,Matrix);

  0008e	8d 8d 60 ff ff
	ff		 lea	 ecx, DWORD PTR _Matrix$[ebp]
  00094	51		 push	 ecx
  00095	db 85 5c ff ff
	ff		 fild	 DWORD PTR tv311[ebp]
  0009b	8d 55 f0	 lea	 edx, DWORD PTR _Angle$[ebp]
  0009e	52		 push	 edx
  0009f	89 bd 58 ff ff
	ff		 mov	 DWORD PTR _lpObj$[ebp], edi
  000a5	d9 5d f8	 fstp	 DWORD PTR _Angle$[ebp+8]
  000a8	e8 00 00 00 00	 call	 _AngleMatrix
  000ad	83 c4 08	 add	 esp, 8

; 6431 : 
; 6432 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  000b0	81 c7 04 11 00
	00		 add	 edi, 4356		; 00001104H
  000b6	33 f6		 xor	 esi, esi
  000b8	eb 06 8d 9b 00
	00 00 00	 npad	 8
$LL3@SkillFrust@3:

; 6427 : 
; 6428 : 	for(int i = 0; i < 4; i++)
; 6429 : 	{
; 6430 : 		VectorRotate(p[i],Matrix,vFrustrum[i]);

  000c0	8d 5c 35 90	 lea	 ebx, DWORD PTR _vFrustrum$[ebp+esi]
  000c4	53		 push	 ebx
  000c5	8d 85 60 ff ff
	ff		 lea	 eax, DWORD PTR _Matrix$[ebp]
  000cb	50		 push	 eax
  000cc	8d 4c 35 c0	 lea	 ecx, DWORD PTR _p$[ebp+esi]
  000d0	51		 push	 ecx
  000d1	e8 00 00 00 00	 call	 _VectorRotate

; 6431 : 
; 6432 : 		lpObj->fSkillFrustrumX[i] = (int)vFrustrum[i][0] + lpObj->X;

  000d6	d9 03		 fld	 DWORD PTR [ebx]
  000d8	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _lpObj$[ebp]
  000de	0f bf 82 44 01
	00 00		 movsx	 eax, WORD PTR [edx+324]
  000e5	83 c4 0c	 add	 esp, 12			; 0000000cH
  000e8	89 85 5c ff ff
	ff		 mov	 DWORD PTR tv293[ebp], eax
  000ee	e8 00 00 00 00	 call	 __ftol2_sse
  000f3	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR tv293[ebp]
  000f9	03 c8		 add	 ecx, eax
  000fb	89 4f f0	 mov	 DWORD PTR [edi-16], ecx

; 6433 : 		lpObj->fSkillFrustrumY[i] = (int)vFrustrum[i][1] + lpObj->Y;

  000fe	d9 44 35 94	 fld	 DWORD PTR _vFrustrum$[ebp+esi+4]
  00102	e8 00 00 00 00	 call	 __ftol2_sse
  00107	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0010d	0f bf 91 46 01
	00 00		 movsx	 edx, WORD PTR [ecx+326]
  00114	03 c2		 add	 eax, edx
  00116	89 07		 mov	 DWORD PTR [edi], eax
  00118	83 c6 0c	 add	 esi, 12			; 0000000cH
  0011b	83 c7 04	 add	 edi, 4
  0011e	83 fe 30	 cmp	 esi, 48			; 00000030H
  00121	7c 9d		 jl	 SHORT $LL3@SkillFrust@3

; 6434 : 	}
; 6435 : }

  00123	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00126	5f		 pop	 edi
  00127	5e		 pop	 esi
  00128	33 cd		 xor	 ecx, ebp
  0012a	5b		 pop	 ebx
  0012b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00130	8b e5		 mov	 esp, ebp
  00132	5d		 pop	 ebp
  00133	c2 18 00	 ret	 24			; 00000018H
?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ENDP		; CObjUseSkill::SkillFrustrum3
_TEXT	ENDS
PUBLIC	__real@40000000
PUBLIC	__real@40800000
PUBLIC	__real@40a00000
PUBLIC	?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillFlameStrike
;	COMDAT __real@40000000
; File e:\work\tranet_version\gs\gameserver\castlesiege.h
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@40800000
CONST	SEGMENT
__real@40800000 DD 040800000r			; 4
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\objuseskill.cpp
CONST	ENDS
;	COMDAT ?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z
_TEXT	SEGMENT
_DuelIndex$ = -8					; size = 4
tv233 = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_TargetPos$ = 16					; size = 1
_HitCount$ = 16						; size = 4
_aTargetIndex$ = 20					; size = 4
?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z PROC ; CObjUseSkill::SkillFlameStrike, COMDAT
; _this$ = ecx

; 6438 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 6439 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  00006	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]

; 6440 : 	int skillsuccess = 1;
; 6441 : 
; 6442 : 	this->SkillFrustrum3(aIndex, TargetPos, 2.0f, 4.0f, 5.0f, 0);

  00009	d9 ee		 fldz
  0000b	8b 55 10	 mov	 edx, DWORD PTR _TargetPos$[ebp]
  0000e	53		 push	 ebx
  0000f	56		 push	 esi
  00010	57		 push	 edi
  00011	83 ec 10	 sub	 esp, 16			; 00000010H
  00014	d9 5c 24 0c	 fstp	 DWORD PTR [esp+12]
  00018	8b f8		 mov	 edi, eax
  0001a	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40a00000
  00020	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00026	d9 5c 24 08	 fstp	 DWORD PTR [esp+8]
  0002a	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40800000
  00030	d9 5c 24 04	 fstp	 DWORD PTR [esp+4]
  00034	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40000000
  0003a	d9 1c 24	 fstp	 DWORD PTR [esp]
  0003d	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00043	52		 push	 edx
  00044	50		 push	 eax
  00045	e8 00 00 00 00	 call	 ?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ; CObjUseSkill::SkillFrustrum3

; 6443 : 	
; 6444 : 	int tObjNum; //loc4
; 6445 : 	int count = 0; //loc5
; 6446 : 	int HitCount = 0; //loc6
; 6447 : 
; 6448 : 	BOOL bAttack; //loc7
; 6449 : 
; 6450 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8

  0004a	8b 87 b8 0e 00
	00		 mov	 eax, DWORD PTR [edi+3768]
  00050	c7 45 10 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0
  00057	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  0005a	8d 9f b0 08 00
	00		 lea	 ebx, DWORD PTR [edi+2224]
  00060	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv233[ebp], 75 ; 0000004bH
  00067	eb 07 8d a4 24
	00 00 00 00	 npad	 9
$LL20@SkillFlame:

; 6451 : 
; 6452 : 	BOOL bEnableAttack; //loc9
; 6453 : 
; 6454 : 	while( true )
; 6455 : 	{
; 6456 : 		if(lpObj->VpPlayer2[count].state != 0)

  00070	80 7b fc 00	 cmp	 BYTE PTR [ebx-4], 0
  00074	0f 84 1f 01 00
	00		 je	 $LN30@SkillFlame

; 6457 : 		{
; 6458 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0007a	0f bf 73 fe	 movsx	 esi, WORD PTR [ebx-2]

; 6459 : 
; 6460 : 			if(tObjNum >= 0)

  0007e	85 f6		 test	 esi, esi
  00080	0f 88 13 01 00
	00		 js	 $LN30@SkillFlame

; 6461 : 			{
; 6462 : 				bEnableAttack = FALSE;
; 6463 : 
; 6464 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00086	8a 03		 mov	 al, BYTE PTR [ebx]
  00088	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008e	3c 02		 cmp	 al, 2
  00090	75 12		 jne	 SHORT $LN16@SkillFlame
  00092	8b d6		 mov	 edx, esi
  00094	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  0009a	83 bc 0a 50 04
	00 00 00	 cmp	 DWORD PTR [edx+ecx+1104], 0

; 6465 : 				{
; 6466 : 					bEnableAttack = TRUE;

  000a2	7c 71		 jl	 SHORT $LN13@SkillFlame
$LN16@SkillFlame:

; 6467 : 				}
; 6468 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum )

  000a4	3b 75 14	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  000a7	74 6c		 je	 SHORT $LN13@SkillFlame
  000a9	39 75 f8	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  000ac	74 67		 je	 SHORT $LN13@SkillFlame

; 6469 : 				{
; 6470 : 					bEnableAttack = TRUE;
; 6471 : 				}
; 6472 : //#if(GS_CASTLE==1)
; 6473 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 
; 6474 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6475 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000ae	3c 03		 cmp	 al, 3
  000b0	74 1b		 je	 SHORT $LN11@SkillFlame
  000b2	8b c6		 mov	 eax, esi
  000b4	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ba	80 bc 08 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+ecx+329], 30 ; 0000001eH
  000c2	75 09		 jne	 SHORT $LN11@SkillFlame
  000c4	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 6476 : 				{
; 6477 : 					bEnableAttack = TRUE;
; 6478 : 				}
; 6479 : //#endif
; 6480 : 				else

  000cb	74 48		 je	 SHORT $LN13@SkillFlame
$LN11@SkillFlame:

; 6481 : 				{
; 6482 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000cd	8b d6		 mov	 edx, esi
  000cf	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 6483 : 
; 6484 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000d5	66 83 7c 0a 68
	02		 cmp	 WORD PTR [edx+ecx+104], 2
  000db	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
  000de	75 14		 jne	 SHORT $LN9@SkillFlame
  000e0	8b 94 0a 50 04
	00 00		 mov	 edx, DWORD PTR [edx+ecx+1104]
  000e7	85 d2		 test	 edx, edx
  000e9	78 09		 js	 SHORT $LN9@SkillFlame

; 6485 : 					{
; 6486 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000eb	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000f1	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
$LN9@SkillFlame:

; 6487 : 					}
; 6488 : 
; 6489 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  000f4	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000fa	03 c1		 add	 eax, ecx
  000fc	50		 push	 eax
  000fd	57		 push	 edi
  000fe	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00103	83 c4 08	 add	 esp, 8
  00106	83 f8 01	 cmp	 eax, 1
  00109	0f 85 8a 00 00
	00		 jne	 $LN30@SkillFlame
  0010f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN13@SkillFlame:

; 6490 : 					{
; 6491 : 						bEnableAttack = TRUE;
; 6492 : 					}
; 6493 : 				}
; 6494 : 
; 6495 : 				if(bEnableAttack != FALSE)
; 6496 : 				{
; 6497 : 					if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  00115	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00118	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0011e	0f bf 94 0e 46
	01 00 00	 movsx	 edx, WORD PTR [esi+ecx+326]
  00126	50		 push	 eax
  00127	0f bf 84 0e 44
	01 00 00	 movsx	 eax, WORD PTR [esi+ecx+324]
  0012f	52		 push	 edx
  00130	50		 push	 eax
  00131	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  00136	83 c4 0c	 add	 esp, 12			; 0000000cH
  00139	85 c0		 test	 eax, eax
  0013b	74 5c		 je	 SHORT $LN30@SkillFlame

; 6498 : 					{
; 6499 : 						bAttack = FALSE;
; 6500 : 
; 6501 : 						if(HitCount >= 8)

  0013d	83 7d 10 08	 cmp	 DWORD PTR _HitCount$[ebp], 8
  00141	7c 13		 jl	 SHORT $LN5@SkillFlame

; 6502 : 						{
; 6503 : 							if(rand()%2)

  00143	e8 00 00 00 00	 call	 _rand
  00148	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0014d	79 05		 jns	 SHORT $LN34@SkillFlame
  0014f	48		 dec	 eax
  00150	83 c8 fe	 or	 eax, -2			; fffffffeH
  00153	40		 inc	 eax
$LN34@SkillFlame:
  00154	74 40		 je	 SHORT $LN2@SkillFlame
$LN5@SkillFlame:

; 6504 : 							{
; 6505 : 								bAttack = TRUE;
; 6506 : 							}
; 6507 : 						}
; 6508 : 						else
; 6509 : 						{
; 6510 : 							bAttack = TRUE;
; 6511 : 						}
; 6512 : 
; 6513 : 						if(bAttack != FALSE)
; 6514 : 						{
; 6515 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  00156	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00159	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0015f	6a 00		 push	 0
  00161	6a 00		 push	 0
  00163	6a 00		 push	 0
  00165	6a 00		 push	 0
  00167	6a 00		 push	 0
  00169	6a 01		 push	 1
  0016b	51		 push	 ecx
  0016c	8d 04 16	 lea	 eax, DWORD PTR [esi+edx]
  0016f	50		 push	 eax
  00170	57		 push	 edi
  00171	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack

; 6516 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  00176	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00179	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0017f	6a 00		 push	 0
  00181	6a 00		 push	 0
  00183	6a 00		 push	 0
  00185	6a 00		 push	 0
  00187	6a 00		 push	 0
  00189	6a 01		 push	 1
  0018b	51		 push	 ecx
  0018c	56		 push	 esi
  0018d	57		 push	 edi
  0018e	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00193	83 c4 48	 add	 esp, 72			; 00000048H
$LN2@SkillFlame:

; 6517 : 						}
; 6518 : 
; 6519 : 						HitCount++;

  00196	ff 45 10	 inc	 DWORD PTR _HitCount$[ebp]
$LN30@SkillFlame:

; 6520 : 					}
; 6521 : 				}
; 6522 : 			}
; 6523 : 		}
; 6524 : 
; 6525 : 		count++;

  00199	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 6526 : 			
; 6527 : 		if(count > MAX_VIEWPORT -1)

  0019c	ff 4d fc	 dec	 DWORD PTR tv233[ebp]
  0019f	0f 85 cb fe ff
	ff		 jne	 $LL20@SkillFlame
  001a5	5f		 pop	 edi
  001a6	5e		 pop	 esi
  001a7	5b		 pop	 ebx

; 6528 : 		{
; 6529 : 			break;
; 6530 : 		}
; 6531 : 	}
; 6532 : }

  001a8	8b e5		 mov	 esp, ebp
  001aa	5d		 pop	 ebp
  001ab	c2 10 00	 ret	 16			; 00000010H
?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ENDP ; CObjUseSkill::SkillFlameStrike
_TEXT	ENDS
PUBLIC	__real@43a00000
PUBLIC	__real@43aa0000
PUBLIC	__real@41a00000
PUBLIC	__real@42200000
PUBLIC	_lpMagic$GSCopy$
PUBLIC	_aIndex$GSCopy$
PUBLIC	__real@40c00000
PUBLIC	__real@40e00000
PUBLIC	__$ArrayPad$
PUBLIC	?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillMultiShot
;	COMDAT __real@43a00000
; File e:\work\tranet_version\gs\gameserver\castlesiege.h
CONST	SEGMENT
__real@43a00000 DD 043a00000r			; 320
CONST	ENDS
;	COMDAT __real@43aa0000
CONST	SEGMENT
__real@43aa0000 DD 043aa0000r			; 340
CONST	ENDS
;	COMDAT __real@41a00000
CONST	SEGMENT
__real@41a00000 DD 041a00000r			; 20
CONST	ENDS
;	COMDAT __real@42200000
CONST	SEGMENT
__real@42200000 DD 042200000r			; 40
CONST	ENDS
;	COMDAT __real@40c00000
CONST	SEGMENT
__real@40c00000 DD 040c00000r			; 6
CONST	ENDS
;	COMDAT __real@40e00000
CONST	SEGMENT
__real@40e00000 DD 040e00000r			; 7
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\objuseskill.cpp
CONST	ENDS
;	COMDAT ?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z
_TEXT	SEGMENT
tv490 = -324						; size = 4
_DuelIndex$ = -320					; size = 4
_aIndex$GSCopy$ = -316					; size = 4
_lpMagic$GSCopy$ = -312					; size = 4
tv472 = -308						; size = 4
tv438 = -304						; size = 4
tv777 = -300						; size = 4
tv752 = -296						; size = 4
tv371 = -296						; size = 4
_vFrustrum2$ = -292					; size = 60
_Value2$ = -232						; size = 20
_Value1$ = -192						; size = 20
_vFrustrum$ = -172					; size = 60
_Matrix$ = -112						; size = 48
_p$ = -64						; size = 48
_Angle$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_TargetPos$ = 16					; size = 1
_aTargetIndex$ = 20					; size = 4
?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z PROC ; CObjUseSkill::SkillMultiShot, COMDAT
; _this$ = ecx

; 6544 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 44 01 00
	00		 sub	 esp, 324		; 00000144H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]

; 6545 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 6546 : 
; 6547 : 	this->SkillFrustrum3(aIndex, TargetPos, 6.0f, 7.0f, 1.0f, 0); //S4 New Skill Frustrum OK :)

  00016	d9 ee		 fldz
  00018	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  0001b	53		 push	 ebx
  0001c	8b 5d 10	 mov	 ebx, DWORD PTR _TargetPos$[ebp]
  0001f	56		 push	 esi
  00020	57		 push	 edi
  00021	83 ec 10	 sub	 esp, 16			; 00000010H
  00024	d9 5c 24 0c	 fstp	 DWORD PTR [esp+12]
  00028	8b f0		 mov	 esi, eax
  0002a	d9 e8		 fld1
  0002c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00032	d9 5c 24 08	 fstp	 DWORD PTR [esp+8]
  00036	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40e00000
  0003c	d9 5c 24 04	 fstp	 DWORD PTR [esp+4]
  00040	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  00046	d9 1c 24	 fstp	 DWORD PTR [esp]
  00049	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0004f	53		 push	 ebx
  00050	50		 push	 eax

; 6638 : 					{
; 6639 : 						bEnableAttack = TRUE;
; 6640 : 					}
; 6641 : 				}
; 6642 : 
; 6643 : 				if(bEnableAttack != FALSE)
; 6644 : 				{
; 6645 : 					int Value3[5];
; 6646 : 
; 6647 : 					for(int j = 0; j < 5; j++)

  00051	89 85 c4 fe ff
	ff		 mov	 DWORD PTR _aIndex$GSCopy$[ebp], eax
  00057	89 95 c8 fe ff
	ff		 mov	 DWORD PTR _lpMagic$GSCopy$[ebp], edx
  0005d	e8 00 00 00 00	 call	 ?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ; CObjUseSkill::SkillFrustrum3
  00062	8d 45 90	 lea	 eax, DWORD PTR _Matrix$[ebp]
  00065	d9 ee		 fldz
  00067	50		 push	 eax
  00068	d9 55 f0	 fst	 DWORD PTR _Angle$[ebp]
  0006b	8d 4d c0	 lea	 ecx, DWORD PTR _p$[ebp]
  0006e	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  00074	51		 push	 ecx
  00075	d9 5d f4	 fstp	 DWORD PTR _Angle$[ebp+4]
  00078	d9 55 f8	 fst	 DWORD PTR _Angle$[ebp+8]
  0007b	d9 55 c0	 fst	 DWORD PTR _p$[ebp]
  0007e	d9 55 c4	 fst	 DWORD PTR _p$[ebp+4]
  00081	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@42200000
  00087	d9 5d c8	 fstp	 DWORD PTR _p$[ebp+8]
  0008a	d9 55 cc	 fst	 DWORD PTR _p$[ebp+12]
  0008d	d9 55 d0	 fst	 DWORD PTR _p$[ebp+16]
  00090	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@41a00000
  00096	d9 5d d4	 fstp	 DWORD PTR _p$[ebp+20]
  00099	d9 55 d8	 fst	 DWORD PTR _p$[ebp+24]
  0009c	d9 55 dc	 fst	 DWORD PTR _p$[ebp+28]
  0009f	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@43aa0000
  000a5	d9 5d e0	 fstp	 DWORD PTR _p$[ebp+32]
  000a8	d9 55 e4	 fst	 DWORD PTR _p$[ebp+36]
  000ab	d9 5d e8	 fstp	 DWORD PTR _p$[ebp+40]
  000ae	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@43a00000
  000b4	d9 5d ec	 fstp	 DWORD PTR _p$[ebp+44]
  000b7	e8 00 00 00 00	 call	 _AngleMatrix
  000bc	8d 95 54 ff ff
	ff		 lea	 edx, DWORD PTR _vFrustrum$[ebp]
  000c2	52		 push	 edx
  000c3	8d 45 90	 lea	 eax, DWORD PTR _Matrix$[ebp]
  000c6	50		 push	 eax
  000c7	8d 4d f0	 lea	 ecx, DWORD PTR _Angle$[ebp]
  000ca	51		 push	 ecx
  000cb	e8 00 00 00 00	 call	 _VectorRotate
  000d0	8d 55 90	 lea	 edx, DWORD PTR _Matrix$[ebp]
  000d3	52		 push	 edx
  000d4	8d 45 cc	 lea	 eax, DWORD PTR _p$[ebp+12]
  000d7	50		 push	 eax
  000d8	e8 00 00 00 00	 call	 _AngleMatrix
  000dd	8d 8d 60 ff ff
	ff		 lea	 ecx, DWORD PTR _vFrustrum$[ebp+12]
  000e3	51		 push	 ecx
  000e4	8d 55 90	 lea	 edx, DWORD PTR _Matrix$[ebp]
  000e7	52		 push	 edx
  000e8	8d 45 f0	 lea	 eax, DWORD PTR _Angle$[ebp]
  000eb	50		 push	 eax
  000ec	e8 00 00 00 00	 call	 _VectorRotate
  000f1	d9 ee		 fldz
  000f3	d9 95 6c ff ff
	ff		 fst	 DWORD PTR _vFrustrum$[ebp+24]
  000f9	8d 4d 90	 lea	 ecx, DWORD PTR _Matrix$[ebp]
  000fc	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  00102	51		 push	 ecx
  00103	d9 9d 70 ff ff
	ff		 fstp	 DWORD PTR _vFrustrum$[ebp+28]
  00109	8d 55 d8	 lea	 edx, DWORD PTR _p$[ebp+24]
  0010c	52		 push	 edx
  0010d	d9 9d 74 ff ff
	ff		 fstp	 DWORD PTR _vFrustrum$[ebp+32]
  00113	e8 00 00 00 00	 call	 _AngleMatrix
  00118	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _vFrustrum$[ebp+36]
  0011e	50		 push	 eax
  0011f	8d 4d 90	 lea	 ecx, DWORD PTR _Matrix$[ebp]

; 6548 : 
; 6549 : 	vec3_t Angle; //Good
; 6550 : 	Vector(0.f, 6.0f, 0.f, Angle); //3,4,5 Good
; 6551 : 
; 6552 : 	vec3_t p[4]; //Good size OK
; 6553 : 
; 6554 : 	Vector(0.f, 0.f, 40.0f, p[0]); //Good
; 6555 : 	Vector(0.f, 0.f, 20.0f, p[1]); //Good
; 6556 : 	Vector(0.f, 0.f, 340.0f, p[2]); //Good
; 6557 : 	Vector(0.f, 0.f, 320.0f, p[3]); //Good
; 6558 : 
; 6559 : 	float Matrix[3][4]; //Good
; 6560 : 
; 6561 : 	vec3_t vFrustrum[5]; //Good
; 6562 : 
; 6563 : 	AngleMatrix(p[0],Matrix); //Good
; 6564 : 	VectorRotate(Angle,Matrix,vFrustrum[0]); //loc44 Good
; 6565 : 	
; 6566 : 	AngleMatrix(p[1],Matrix); //Good
; 6567 : 	VectorRotate(Angle,Matrix,vFrustrum[1]); //loc41 Good
; 6568 : 
; 6569 : 	Vector(0.f, 6.0f, 0.f, vFrustrum[2]);//36,37,38
; 6570 : 
; 6571 : 	AngleMatrix(p[2],Matrix); //Good
; 6572 : 	VectorRotate(Angle,Matrix,vFrustrum[3]); //loc35 Good

  00122	51		 push	 ecx
  00123	8d 55 f0	 lea	 edx, DWORD PTR _Angle$[ebp]
  00126	52		 push	 edx
  00127	e8 00 00 00 00	 call	 _VectorRotate

; 6573 : 
; 6574 : 	AngleMatrix(p[3],Matrix); //Good

  0012c	8d 45 90	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0012f	50		 push	 eax
  00130	8d 4d e4	 lea	 ecx, DWORD PTR _p$[ebp+36]
  00133	51		 push	 ecx
  00134	e8 00 00 00 00	 call	 _AngleMatrix
  00139	83 c4 44	 add	 esp, 68			; 00000044H

; 6575 : 	VectorRotate(Angle,Matrix,vFrustrum[4]); //loc32 Good

  0013c	8d 55 84	 lea	 edx, DWORD PTR _vFrustrum$[ebp+48]
  0013f	52		 push	 edx
  00140	8d 45 90	 lea	 eax, DWORD PTR _Matrix$[ebp]
  00143	50		 push	 eax
  00144	8d 4d f0	 lea	 ecx, DWORD PTR _Angle$[ebp]
  00147	51		 push	 ecx
  00148	e8 00 00 00 00	 call	 _VectorRotate

; 6576 : 
; 6577 : 	Vector(0.f, 0.f, (float)(TargetPos*360/(BYTE)255), p[0]); //15, 16, 17 Good

  0014d	d9 ee		 fldz
  0014f	0f b6 cb	 movzx	 ecx, bl
  00152	d9 55 c0	 fst	 DWORD PTR _p$[ebp]
  00155	69 c9 68 01 00
	00		 imul	 ecx, 360		; 00000168H
  0015b	d9 5d c4	 fstp	 DWORD PTR _p$[ebp+4]
  0015e	b8 81 80 80 80	 mov	 eax, -2139062143	; 80808081H
  00163	f7 e9		 imul	 ecx
  00165	03 d1		 add	 edx, ecx
  00167	c1 fa 07	 sar	 edx, 7
  0016a	8b c2		 mov	 eax, edx
  0016c	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0016f	03 c2		 add	 eax, edx
  00171	89 85 d8 fe ff
	ff		 mov	 DWORD PTR tv752[ebp], eax

; 6578 : 
; 6579 : 	AngleMatrix((float*)p,Matrix); //Good

  00177	8d 4d 90	 lea	 ecx, DWORD PTR _Matrix$[ebp]
  0017a	51		 push	 ecx
  0017b	db 85 d8 fe ff
	ff		 fild	 DWORD PTR tv752[ebp]
  00181	8d 55 c0	 lea	 edx, DWORD PTR _p$[ebp]
  00184	52		 push	 edx
  00185	d9 5d c8	 fstp	 DWORD PTR _p$[ebp+8]
  00188	e8 00 00 00 00	 call	 _AngleMatrix
  0018d	83 c4 14	 add	 esp, 20			; 00000014H

; 6580 : 
; 6581 : ///////////////////////////////////////////////////////////////////////////////////////////////////
; 6582 : 	int Value1[5];
; 6583 : 	int Value2[5];
; 6584 : 
; 6585 : 	vec3_t vFrustrum2[5];
; 6586 : 
; 6587 : 	for(int i = 0; i < 5; i++) //loc70 Good

  00190	33 ff		 xor	 edi, edi
  00192	33 db		 xor	 ebx, ebx
$LL23@SkillMulti:

; 6588 : 	{
; 6589 : 		VectorRotate(vFrustrum[i],Matrix,vFrustrum2[i]);

  00194	8d 84 3d dc fe
	ff ff		 lea	 eax, DWORD PTR _vFrustrum2$[ebp+edi]
  0019b	50		 push	 eax
  0019c	8d 45 90	 lea	 eax, DWORD PTR _Matrix$[ebp]
  0019f	50		 push	 eax
  001a0	8d 8c 3d 54 ff
	ff ff		 lea	 ecx, DWORD PTR _vFrustrum$[ebp+edi]
  001a7	51		 push	 ecx
  001a8	e8 00 00 00 00	 call	 _VectorRotate

; 6590 : 
; 6591 : 		Value1[i] = (int)vFrustrum2[i][0] + lpObj->X;

  001ad	d9 84 3d dc fe
	ff ff		 fld	 DWORD PTR _vFrustrum2$[ebp+edi]
  001b4	83 c4 0c	 add	 esp, 12			; 0000000cH
  001b7	e8 00 00 00 00	 call	 __ftol2_sse

; 6592 : 		Value2[i] = (int)vFrustrum2[i][1] + lpObj->Y;

  001bc	d9 84 3d e0 fe
	ff ff		 fld	 DWORD PTR _vFrustrum2$[ebp+edi+4]
  001c3	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  001ca	03 c2		 add	 eax, edx
  001cc	89 84 1d 40 ff
	ff ff		 mov	 DWORD PTR _Value1$[ebp+ebx], eax
  001d3	e8 00 00 00 00	 call	 __ftol2_sse
  001d8	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  001df	03 c1		 add	 eax, ecx
  001e1	89 84 1d 18 ff
	ff ff		 mov	 DWORD PTR _Value2$[ebp+ebx], eax
  001e8	83 c7 0c	 add	 edi, 12			; 0000000cH
  001eb	83 c3 04	 add	 ebx, 4
  001ee	83 ff 3c	 cmp	 edi, 60			; 0000003cH
  001f1	7c a1		 jl	 SHORT $LL23@SkillMulti

; 6593 : 	}
; 6594 : ///////////////////////////////////////////////////////////////////////////////////////////////////
; 6595 : 
; 6596 : 	int tObjNum; //loc71
; 6597 : 	int count = 0; //loc72
; 6598 : 	int loc73 = 0; //loc73
; 6599 : 	int DuelIndex = lpObj->m_iDuelUser; //loc74

  001f3	8b 96 b8 0e 00
	00		 mov	 edx, DWORD PTR [esi+3768]
  001f9	8d be b0 08 00
	00		 lea	 edi, DWORD PTR [esi+2224]
  001ff	89 95 c0 fe ff
	ff		 mov	 DWORD PTR _DuelIndex$[ebp], edx
  00205	89 bd d4 fe ff
	ff		 mov	 DWORD PTR tv777[ebp], edi
  0020b	c7 85 d8 fe ff
	ff 4b 00 00 00	 mov	 DWORD PTR tv371[ebp], 75 ; 0000004bH
$LL20@SkillMulti:

; 6600 : 	BOOL bEnableAttack; //loc75
; 6601 : 
; 6602 : 	while( true )
; 6603 : 	{
; 6604 : 		if(lpObj->VpPlayer2[count].state != 0)

  00215	80 7f fc 00	 cmp	 BYTE PTR [edi-4], 0
  00219	0f 84 77 01 00
	00		 je	 $LN38@SkillMulti

; 6605 : 		{
; 6606 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0021f	0f bf 5f fe	 movsx	 ebx, WORD PTR [edi-2]

; 6607 : 
; 6608 : 			if(tObjNum >= 0)

  00223	85 db		 test	 ebx, ebx
  00225	0f 88 6b 01 00
	00		 js	 $LN38@SkillMulti

; 6609 : 			{
; 6610 : 				bEnableAttack = FALSE;
; 6611 : 
; 6612 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0022b	8a 07		 mov	 al, BYTE PTR [edi]
  0022d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00233	3c 02		 cmp	 al, 2
  00235	75 12		 jne	 SHORT $LN16@SkillMulti
  00237	8b cb		 mov	 ecx, ebx
  00239	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0023f	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 6613 : 				{
; 6614 : 					bEnableAttack = TRUE;

  00247	7c 74		 jl	 SHORT $LN13@SkillMulti
$LN16@SkillMulti:

; 6615 : 				}
; 6616 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum )

  00249	3b 5d 14	 cmp	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0024c	74 6f		 je	 SHORT $LN13@SkillMulti
  0024e	39 9d c0 fe ff
	ff		 cmp	 DWORD PTR _DuelIndex$[ebp], ebx
  00254	74 67		 je	 SHORT $LN13@SkillMulti

; 6617 : 				{
; 6618 : 					bEnableAttack = TRUE;
; 6619 : 				}
; 6620 : //#if(GS_CASTLE==1)
; 6621 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 
; 6622 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6623 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00256	3c 03		 cmp	 al, 3
  00258	74 1b		 je	 SHORT $LN11@SkillMulti
  0025a	8b c3		 mov	 eax, ebx
  0025c	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00262	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  0026a	75 09		 jne	 SHORT $LN11@SkillMulti
  0026c	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 6624 : 				{
; 6625 : 					bEnableAttack = TRUE;
; 6626 : 				}
; 6627 : //#endif
; 6628 : 				else

  00273	74 48		 je	 SHORT $LN13@SkillMulti
$LN11@SkillMulti:

; 6629 : 				{
; 6630 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  00275	8b cb		 mov	 ecx, ebx
  00277	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 6631 : 
; 6632 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0027d	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  00283	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  00286	75 14		 jne	 SHORT $LN9@SkillMulti
  00288	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  0028f	85 c9		 test	 ecx, ecx
  00291	78 09		 js	 SHORT $LN9@SkillMulti

; 6633 : 					{
; 6634 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  00293	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00299	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN9@SkillMulti:

; 6635 : 					}
; 6636 : 
; 6637 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  0029c	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  002a2	03 c2		 add	 eax, edx
  002a4	50		 push	 eax
  002a5	56		 push	 esi
  002a6	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  002ab	83 c4 08	 add	 esp, 8
  002ae	83 f8 01	 cmp	 eax, 1
  002b1	0f 85 df 00 00
	00		 jne	 $LN38@SkillMulti
  002b7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN13@SkillMulti:
  002bd	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H

; 6593 : 	}
; 6594 : ///////////////////////////////////////////////////////////////////////////////////////////////////
; 6595 : 
; 6596 : 	int tObjNum; //loc71
; 6597 : 	int count = 0; //loc72
; 6598 : 	int loc73 = 0; //loc73
; 6599 : 	int DuelIndex = lpObj->m_iDuelUser; //loc74

  002c3	89 9d d0 fe ff
	ff		 mov	 DWORD PTR tv438[ebp], ebx

; 6638 : 					{
; 6639 : 						bEnableAttack = TRUE;
; 6640 : 					}
; 6641 : 				}
; 6642 : 
; 6643 : 				if(bEnableAttack != FALSE)
; 6644 : 				{
; 6645 : 					int Value3[5];
; 6646 : 
; 6647 : 					for(int j = 0; j < 5; j++)

  002c9	33 ff		 xor	 edi, edi
  002cb	eb 09		 jmp	 SHORT $LN6@SkillMulti
  002cd	8d 49 00	 npad	 3
$LL36@SkillMulti:
  002d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN6@SkillMulti:

; 6648 : 					{
; 6649 : 						Value3[j] = (((int)Value1[j] - lpObj->X) * (gObj[tObjNum].Y - lpObj->Y)) - (((int)Value2[j] - lpObj->Y) * (gObj[tObjNum].X - lpObj->X));

  002d6	0f bf 84 13 44
	01 00 00	 movsx	 eax, WORD PTR [ebx+edx+324]
  002de	0f bf 94 13 46
	01 00 00	 movsx	 edx, WORD PTR [ebx+edx+326]
  002e6	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  002ed	8b 9c 3d 40 ff
	ff ff		 mov	 ebx, DWORD PTR _Value1$[ebp+edi]
  002f4	89 85 cc fe ff
	ff		 mov	 DWORD PTR tv472[ebp], eax
  002fa	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  00301	89 95 bc fe ff
	ff		 mov	 DWORD PTR tv490[ebp], edx
  00307	2b d1		 sub	 edx, ecx
  00309	2b d8		 sub	 ebx, eax
  0030b	0f af da	 imul	 ebx, edx
  0030e	8b 94 3d 18 ff
	ff ff		 mov	 edx, DWORD PTR _Value2$[ebp+edi]
  00315	2b d1		 sub	 edx, ecx
  00317	8b 8d cc fe ff
	ff		 mov	 ecx, DWORD PTR tv472[ebp]
  0031d	2b c8		 sub	 ecx, eax

; 6650 : 						
; 6651 : 						if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  0031f	8b 85 bc fe ff
	ff		 mov	 eax, DWORD PTR tv490[ebp]
  00325	0f af d1	 imul	 edx, ecx
  00328	8b 8d cc fe ff
	ff		 mov	 ecx, DWORD PTR tv472[ebp]
  0032e	2b da		 sub	 ebx, edx
  00330	8b 95 c4 fe ff
	ff		 mov	 edx, DWORD PTR _aIndex$GSCopy$[ebp]
  00336	52		 push	 edx
  00337	50		 push	 eax
  00338	51		 push	 ecx
  00339	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  0033e	83 c4 0c	 add	 esp, 12			; 0000000cH
  00341	85 c0		 test	 eax, eax
  00343	74 39		 je	 SHORT $LN37@SkillMulti

; 6652 : 						{
; 6653 : 							if(Value3[j] > -5 && Value3[j] < 5)

  00345	8b c3		 mov	 eax, ebx
  00347	83 f8 fb	 cmp	 eax, -5			; fffffffbH
  0034a	7e 32		 jle	 SHORT $LN37@SkillMulti
  0034c	83 f8 05	 cmp	 eax, 5
  0034f	7d 2d		 jge	 SHORT $LN37@SkillMulti

; 6654 : 							{
; 6655 : 								gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  00351	8b 95 c8 fe ff
	ff		 mov	 edx, DWORD PTR _lpMagic$GSCopy$[ebp]
  00357	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0035c	8b 9d d0 fe ff
	ff		 mov	 ebx, DWORD PTR tv438[ebp]
  00362	6a 00		 push	 0
  00364	6a 00		 push	 0
  00366	6a 00		 push	 0
  00368	6a 00		 push	 0
  0036a	6a 00		 push	 0
  0036c	6a 01		 push	 1
  0036e	52		 push	 edx
  0036f	8d 0c 03	 lea	 ecx, DWORD PTR [ebx+eax]
  00372	51		 push	 ecx
  00373	56		 push	 esi
  00374	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00379	83 c4 24	 add	 esp, 36			; 00000024H
  0037c	eb 06		 jmp	 SHORT $LN5@SkillMulti
$LN37@SkillMulti:
  0037e	8b 9d d0 fe ff
	ff		 mov	 ebx, DWORD PTR tv438[ebp]
$LN5@SkillMulti:

; 6638 : 					{
; 6639 : 						bEnableAttack = TRUE;
; 6640 : 					}
; 6641 : 				}
; 6642 : 
; 6643 : 				if(bEnableAttack != FALSE)
; 6644 : 				{
; 6645 : 					int Value3[5];
; 6646 : 
; 6647 : 					for(int j = 0; j < 5; j++)

  00384	83 c7 04	 add	 edi, 4
  00387	83 ff 14	 cmp	 edi, 20			; 00000014H
  0038a	0f 8c 40 ff ff
	ff		 jl	 $LL36@SkillMulti
  00390	8b bd d4 fe ff
	ff		 mov	 edi, DWORD PTR tv777[ebp]
$LN38@SkillMulti:

; 6656 : 							}
; 6657 : 						}
; 6658 : 					}
; 6659 : 				}
; 6660 : 			}
; 6661 : 		}
; 6662 : 
; 6663 : 		count++;

  00396	83 c7 0c	 add	 edi, 12			; 0000000cH

; 6664 : 			
; 6665 : 		if(count > MAX_VIEWPORT -1)

  00399	ff 8d d8 fe ff
	ff		 dec	 DWORD PTR tv371[ebp]
  0039f	89 bd d4 fe ff
	ff		 mov	 DWORD PTR tv777[ebp], edi
  003a5	0f 85 6a fe ff
	ff		 jne	 $LL20@SkillMulti

; 6666 : 		{
; 6667 : 			break;
; 6668 : 		}
; 6669 : 	}
; 6670 : }

  003ab	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003ae	5f		 pop	 edi
  003af	5e		 pop	 esi
  003b0	33 cd		 xor	 ecx, ebp
  003b2	5b		 pop	 ebx
  003b3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003b8	8b e5		 mov	 esp, ebp
  003ba	5d		 pop	 ebp
  003bb	c2 10 00	 ret	 16			; 00000010H
?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ENDP ; CObjUseSkill::SkillMultiShot
_TEXT	ENDS
PUBLIC	?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSDRecovery
EXTRN	?gObjDuelCheck@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjDuelCheck
; Function compile flags: /Ogtp
;	COMDAT ?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv502 = 8						; size = 4
tv350 = 8						; size = 4
tv232 = 8						; size = 4
_aIndex$ = 8						; size = 4
tv319 = 12						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillSDRecovery, COMDAT
; _this$ = ecx

; 6673 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 6674 : 	int skillSuccess = true;
; 6675 : 	LPOBJ lpObj = &gObj[aIndex];

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00008	53		 push	 ebx
  00009	56		 push	 esi

; 6676 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  0000a	8b 75 0c	 mov	 esi, DWORD PTR _aTargetIndex$[ebp]
  0000d	57		 push	 edi
  0000e	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00014	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00017	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0001d	03 f0		 add	 esi, eax

; 6677 : 
; 6678 : 	if(lpTargetObj->Type != OBJ_USER && lpTargetObj->m_RecallMon == -1)

  0001f	bb 01 00 00 00	 mov	 ebx, 1
  00024	03 f8		 add	 edi, eax
  00026	66 39 5e 68	 cmp	 WORD PTR [esi+104], bx
  0002a	74 0d		 je	 SHORT $LN12@SkillSDRec
  0002c	83 be 50 04 00
	00 ff		 cmp	 DWORD PTR [esi+1104], -1
  00033	0f 84 6f 01 00
	00		 je	 $LN3@SkillSDRec
$LN12@SkillSDRec:

; 6679 : 	{
; 6680 : 		return;
; 6681 : 	}
; 6682 : 
; 6683 : 	if(lpObj->Class != CLASS_ELF)

  00039	66 83 bf b8 00
	00 00 02	 cmp	 WORD PTR [edi+184], 2
  00041	0f 85 61 01 00
	00		 jne	 $LN3@SkillSDRec

; 6684 : 	{
; 6685 : 		return;
; 6686 : 	}
; 6687 : 
; 6688 : 	if(CC_MAP_RANGE(lpObj->MapNumber) != FALSE && lpObj->m_Index != lpTargetObj->m_Index)

  00047	0f b6 87 49 01
	00 00		 movzx	 eax, BYTE PTR [edi+329]
  0004e	3c 35		 cmp	 al, 53			; 00000035H
  00050	74 0d		 je	 SHORT $LN22@SkillSDRec
  00052	3c 12		 cmp	 al, 18			; 00000012H
  00054	72 13		 jb	 SHORT $LN23@SkillSDRec
  00056	b1 17		 mov	 cl, 23			; 00000017H
  00058	3a c8		 cmp	 cl, al
  0005a	1b c0		 sbb	 eax, eax
  0005c	40		 inc	 eax
  0005d	74 0a		 je	 SHORT $LN23@SkillSDRec
$LN22@SkillSDRec:
  0005f	8b 17		 mov	 edx, DWORD PTR [edi]
  00061	3b 16		 cmp	 edx, DWORD PTR [esi]
  00063	0f 85 3f 01 00
	00		 jne	 $LN3@SkillSDRec
$LN23@SkillSDRec:

; 6689 : 	{
; 6690 : 		return;
; 6691 : 	}
; 6692 : 
; 6693 : 	if(gObjDuelCheck(lpTargetObj) != 0) //nice trick

  00069	56		 push	 esi
  0006a	e8 00 00 00 00	 call	 ?gObjDuelCheck@@YAHPAUOBJECTSTRUCT@@@Z ; gObjDuelCheck
  0006f	83 c4 04	 add	 esp, 4
  00072	85 c0		 test	 eax, eax
  00074	74 02		 je	 SHORT $LN9@SkillSDRec

; 6694 : 	{
; 6695 : 		lpTargetObj = lpObj;

  00076	8b f7		 mov	 esi, edi
$LN9@SkillSDRec:

; 6696 : 	}
; 6697 : 
; 6698 : 	if(lpTargetObj->iShield >= (lpTargetObj->iMaxShield + lpTargetObj->iAddShield + lpTargetObj->m_MPSkillOpt.MpsMaxSD))

  00078	8b 86 5c 01 00
	00		 mov	 eax, DWORD PTR [esi+348]
  0007e	03 86 58 01 00
	00		 add	 eax, DWORD PTR [esi+344]
  00084	8b 8e 54 01 00
	00		 mov	 ecx, DWORD PTR [esi+340]
  0008a	89 45 08	 mov	 DWORD PTR tv502[ebp], eax
  0008d	db 45 08	 fild	 DWORD PTR tv502[ebp]
  00090	89 4d 0c	 mov	 DWORD PTR tv319[ebp], ecx
  00093	d8 86 50 27 00
	00		 fadd	 DWORD PTR [esi+10064]
  00099	db 45 0c	 fild	 DWORD PTR tv319[ebp]
  0009c	d8 d9		 fcomp	 ST(1)
  0009e	df e0		 fnstsw	 ax
  000a0	f6 c4 01	 test	 ah, 1
  000a3	75 1c		 jne	 SHORT $LN8@SkillSDRec

; 6699 : 	{
; 6700 : 		GCMagicAttackNumberSend(lpObj,234,lpTargetObj->m_Index,0);

  000a5	8b 0e		 mov	 ecx, DWORD PTR [esi]
  000a7	dd d8		 fstp	 ST(0)
  000a9	6a 00		 push	 0
  000ab	51		 push	 ecx
  000ac	68 ea 00 00 00	 push	 234			; 000000eaH
  000b1	57		 push	 edi
  000b2	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000b7	83 c4 10	 add	 esp, 16			; 00000010H
  000ba	5f		 pop	 edi
  000bb	5e		 pop	 esi
  000bc	5b		 pop	 ebx

; 6724 : 				}
; 6725 : 			}
; 6726 : 		}
; 6727 : 	}
; 6728 : }

  000bd	5d		 pop	 ebp
  000be	c2 0c 00	 ret	 12			; 0000000cH
$LN8@SkillSDRec:

; 6701 : 		return;
; 6702 : 	}
; 6703 : 
; 6704 : 	lpTargetObj->iShield += (lpObj->Energy/4) + lpObj->Level;

  000c1	0f b7 97 fa 00
	00 00		 movzx	 edx, WORD PTR [edi+250]
  000c8	0f bf 87 be 00
	00 00		 movsx	 eax, WORD PTR [edi+190]
  000cf	c1 ea 02	 shr	 edx, 2
  000d2	03 d1		 add	 edx, ecx
  000d4	03 c2		 add	 eax, edx
  000d6	89 45 08	 mov	 DWORD PTR tv350[ebp], eax
  000d9	89 86 54 01 00
	00		 mov	 DWORD PTR [esi+340], eax

; 6705 : 
; 6706 : 	if(lpTargetObj->iShield > (lpTargetObj->iMaxShield + lpTargetObj->iAddShield + lpTargetObj->m_MPSkillOpt.MpsMaxSD))

  000df	db 45 08	 fild	 DWORD PTR tv350[ebp]
  000e2	d8 d9		 fcomp	 ST(1)
  000e4	df e0		 fnstsw	 ax
  000e6	f6 c4 41	 test	 ah, 65			; 00000041H
  000e9	75 0d		 jne	 SHORT $LN28@SkillSDRec

; 6707 : 	{
; 6708 : 		lpTargetObj->iShield = (lpTargetObj->iMaxShield + lpTargetObj->iAddShield + lpTargetObj->m_MPSkillOpt.MpsMaxSD);

  000eb	e8 00 00 00 00	 call	 __ftol2_sse
  000f0	89 86 54 01 00
	00		 mov	 DWORD PTR [esi+340], eax
  000f6	eb 02		 jmp	 SHORT $LN7@SkillSDRec
$LN28@SkillSDRec:
  000f8	dd d8		 fstp	 ST(0)
$LN7@SkillSDRec:

; 6709 : 	}
; 6710 : 
; 6711 : 	if(lpTargetObj->Type == OBJ_USER)

  000fa	66 39 5e 68	 cmp	 WORD PTR [esi+104], bx
  000fe	0f 85 a4 00 00
	00		 jne	 $LN3@SkillSDRec

; 6712 : 	{
; 6713 : 		GCReFillSend(lpTargetObj->m_Index, lpTargetObj->Life, 0xFF, 0, lpTargetObj->iShield);

  00104	8b 8e 54 01 00
	00		 mov	 ecx, DWORD PTR [esi+340]
  0010a	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  00110	51		 push	 ecx
  00111	6a 00		 push	 0
  00113	68 ff 00 00 00	 push	 255			; 000000ffH
  00118	e8 00 00 00 00	 call	 __ftol2_sse
  0011d	8b 16		 mov	 edx, DWORD PTR [esi]
  0011f	50		 push	 eax
  00120	52		 push	 edx
  00121	e8 00 00 00 00	 call	 ?GCReFillSend@@YAXHHEEH@Z ; GCReFillSend

; 6714 : 		GCMagicAttackNumberSend(lpObj,234,lpTargetObj->m_Index,(BYTE)skillSuccess);

  00126	8b 06		 mov	 eax, DWORD PTR [esi]
  00128	53		 push	 ebx
  00129	50		 push	 eax
  0012a	68 ea 00 00 00	 push	 234			; 000000eaH
  0012f	57		 push	 edi
  00130	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00135	83 c4 24	 add	 esp, 36			; 00000024H
  00138	8d 9f ac 08 00
	00		 lea	 ebx, DWORD PTR [edi+2220]
  0013e	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv232[ebp], 75 ; 0000004bH
$LL5@SkillSDRec:

; 6717 : 		{
; 6718 : 			if(lpObj->VpPlayer2[n].type == OBJ_MONSTER && lpObj->VpPlayer2[n].state != 0)

  00145	80 7b 04 02	 cmp	 BYTE PTR [ebx+4], 2
  00149	75 55		 jne	 SHORT $LN4@SkillSDRec
  0014b	80 3b 00	 cmp	 BYTE PTR [ebx], 0
  0014e	74 50		 je	 SHORT $LN4@SkillSDRec

; 6719 : 			{
; 6720 : 				LPOBJ lpMonster = &gObj[lpObj->VpPlayer2[n].number];

  00150	0f bf 73 02	 movsx	 esi, WORD PTR [ebx+2]
  00154	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0015a	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 6721 : 				if(lpMonster->m_iCurrentAI != 0)

  00160	83 be 78 1c 00
	00 00		 cmp	 DWORD PTR [esi+7288], 0
  00167	74 37		 je	 SHORT $LN4@SkillSDRec

; 6722 : 				{
; 6723 : 					lpMonster->m_Agro.IncAgro(lpObj->m_Index,int(lpObj->Energy/5)/40);

  00169	0f b7 8f fa 00
	00 00		 movzx	 ecx, WORD PTR [edi+250]
  00170	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00175	f7 e9		 imul	 ecx
  00177	d1 fa		 sar	 edx, 1
  00179	8b ca		 mov	 ecx, edx
  0017b	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  0017e	03 ca		 add	 ecx, edx
  00180	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00185	f7 e9		 imul	 ecx
  00187	c1 fa 04	 sar	 edx, 4
  0018a	8b ca		 mov	 ecx, edx
  0018c	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  0018f	03 ca		 add	 ecx, edx
  00191	8b 17		 mov	 edx, DWORD PTR [edi]
  00193	51		 push	 ecx
  00194	52		 push	 edx
  00195	8d 8e 94 1c 00
	00		 lea	 ecx, DWORD PTR [esi+7316]
  0019b	e8 00 00 00 00	 call	 ?IncAgro@TMonsterAIAgro@@QAEHHH@Z ; TMonsterAIAgro::IncAgro
$LN4@SkillSDRec:

; 6715 : 
; 6716 : 		for(int n = 0; n < MAX_VIEWPORT; n++)

  001a0	83 c3 0c	 add	 ebx, 12			; 0000000cH
  001a3	ff 4d 08	 dec	 DWORD PTR tv232[ebp]
  001a6	75 9d		 jne	 SHORT $LL5@SkillSDRec
$LN3@SkillSDRec:
  001a8	5f		 pop	 edi
  001a9	5e		 pop	 esi
  001aa	5b		 pop	 ebx

; 6724 : 				}
; 6725 : 			}
; 6726 : 		}
; 6727 : 	}
; 6728 : }

  001ab	5d		 pop	 ebp
  001ac	c2 0c 00	 ret	 12			; 0000000cH
?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillSDRecovery
_TEXT	ENDS
PUBLIC	?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillExpansionWizardry
; Function compile flags: /Ogtp
;	COMDAT ?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv185 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillExpansionWizardry, COMDAT
; _this$ = ecx

; 6731 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 6732 : 	//LPOBJ lpObj = &gObj[aIndex];
; 6733 : 
; 6734 : 	//if(lpObj->Type != OBJ_USER)
; 6735 : 	//{
; 6736 : 	//	return false;
; 6737 : 	//}
; 6738 : 
; 6739 : 	//if(lpObj->Class != CLASS_WIZARD)
; 6740 : 	//{
; 6741 : 	//	return false;
; 6742 : 	//}
; 6743 : 
; 6744 : 	//if(lpObj->m_Index != aTargetIndex)
; 6745 : 	//{
; 6746 : 	//	return false;
; 6747 : 	//}
; 6748 : 
; 6749 : 	//if(gObjSearchActiveEffect(lpObj, AT_EXPANSION_WIZARDRY) == 1)
; 6750 : 	//{
; 6751 : 	//	return false;
; 6752 : 	//}
; 6753 : 	////ExTest
; 6754 : 	////int ExWizardryPowerMax = GetPrivateProfileInt("DarkWizard","WizardryPowerMax",20,"..\\Data\\ZtData\\Skills.ini");
; 6755 : 	//int iWizardryDamage = (int)((float)(lpObj->m_MagicDamageMax * ZtConfig.Skills.ExWizardryPowerMax) / 100 );
; 6756 : 	////int iWizardryDamage = (float)(lpObj->Energy/9) * (float)0.f; m_MagicDamageMax
; 6757 : 
; 6758 : 	//gObjApplyBuffEffectDuration(lpObj,AT_EXPANSION_WIZARDRY,ADD_OPTION_MAGICDAMAGEMIN,iWizardryDamage,ADD_OPTION_MAGICDAMAGEMAX,iWizardryDamage,1800);
; 6759 : 	////gObjApplyBuffEffectDuration(lpObj, AT_EXPANSION_WIZARDRY, 33, iWizardryDamage, 0, 0, 1800);
; 6760 : 
; 6761 : 	//GCMagicAttackNumberSend(lpObj,233,lpObj->m_Index,1);
; 6762 : 	//return true;
; 6763 : 
; 6764 : 	LPOBJ lpObj = &gObj[aIndex];

  00004	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00007	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0000d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 6765 : 
; 6766 : 	if(lpObj->Type != OBJ_USER)

  00013	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1

; 6767 : 	{
; 6768 : 		return FALSE;

  00018	0f 85 b5 00 00
	00		 jne	 $LN2@SkillExpan

; 6769 : 	}
; 6770 : 
; 6771 : 	if(lpObj->Class != CLASS_WIZARD)

  0001e	66 83 be b8 00
	00 00 00	 cmp	 WORD PTR [esi+184], 0

; 6772 : 	{
; 6773 : 		return FALSE;

  00026	0f 85 a7 00 00
	00		 jne	 $LN2@SkillExpan

; 6774 : 	}
; 6775 : 
; 6776 : 	if(lpObj->m_Index != aTargetIndex)

  0002c	8b 06		 mov	 eax, DWORD PTR [esi]
  0002e	3b 45 0c	 cmp	 eax, DWORD PTR _aTargetIndex$[ebp]

; 6777 : 	{
; 6778 : 		return FALSE;

  00031	0f 85 9c 00 00
	00		 jne	 $LN2@SkillExpan

; 6779 : 	}
; 6780 : 
; 6781 : 	if(		gObjSearchActiveEffect(lpObj, AT_EXPANSION_WIZARDRY) 
; 6782 : 		||	gObjSearchActiveEffect(lpObj, 138) 
; 6783 : 		||	gObjSearchActiveEffect(lpObj, 139) )

  00037	6a 52		 push	 82			; 00000052H
  00039	56		 push	 esi
  0003a	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0003f	83 c4 08	 add	 esp, 8
  00042	84 c0		 test	 al, al
  00044	0f 85 89 00 00
	00		 jne	 $LN2@SkillExpan
  0004a	68 8a 00 00 00	 push	 138			; 0000008aH
  0004f	56		 push	 esi
  00050	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00055	83 c4 08	 add	 esp, 8
  00058	84 c0		 test	 al, al
  0005a	75 77		 jne	 SHORT $LN2@SkillExpan
  0005c	68 8b 00 00 00	 push	 139			; 0000008bH
  00061	56		 push	 esi
  00062	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00067	83 c4 08	 add	 esp, 8
  0006a	84 c0		 test	 al, al
  0006c	75 65		 jne	 SHORT $LN2@SkillExpan

; 6786 : 	}
; 6787 : 
; 6788 : 	int iWizardryDamage = (float)(lpObj->Energy / g_SkillAdditionInfo.WizardryEnchantDamageDiv) * (float)g_SkillAdditionInfo.WizardryEnchantDamageFact;

  0006e	0f b7 86 fa 00
	00 00		 movzx	 eax, WORD PTR [esi+250]
  00075	0f b7 0d 60 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2912
  0007c	99		 cdq
  0007d	f7 f9		 idiv	 ecx
  0007f	89 45 08	 mov	 DWORD PTR tv185[ebp], eax
  00082	db 45 08	 fild	 DWORD PTR tv185[ebp]
  00085	d8 0d 64 0b 00
	00		 fmul	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2916
  0008b	e8 00 00 00 00	 call	 __ftol2_sse

; 6789 : 
; 6790 : 	if( g_SkillAdditionInfo.WizardryEnchantDamageMax > 0 && iWizardryDamage > g_SkillAdditionInfo.WizardryEnchantDamageMax )

  00090	8b 0d 68 0b 00
	00		 mov	 ecx, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2920
  00096	85 c9		 test	 ecx, ecx
  00098	74 06		 je	 SHORT $LN1@SkillExpan
  0009a	3b c1		 cmp	 eax, ecx
  0009c	76 02		 jbe	 SHORT $LN1@SkillExpan

; 6791 : 	{
; 6792 : 		iWizardryDamage = g_SkillAdditionInfo.WizardryEnchantDamageMax;

  0009e	8b c1		 mov	 eax, ecx
$LN1@SkillExpan:

; 6793 : 	}
; 6794 : 
; 6795 : 	gObjApplyBuffEffectDuration(lpObj, AT_EXPANSION_WIZARDRY, 33, iWizardryDamage, 0, 0, g_SkillAdditionInfo.WizardryEnchantTime);

  000a0	8b 15 6c 0b 00
	00		 mov	 edx, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+2924
  000a6	52		 push	 edx
  000a7	6a 00		 push	 0
  000a9	6a 00		 push	 0
  000ab	50		 push	 eax
  000ac	6a 21		 push	 33			; 00000021H
  000ae	6a 52		 push	 82			; 00000052H
  000b0	56		 push	 esi
  000b1	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 6796 : 	GCMagicAttackNumberSend(lpObj,233,lpObj->m_Index,1);

  000b6	8b 06		 mov	 eax, DWORD PTR [esi]
  000b8	6a 01		 push	 1
  000ba	50		 push	 eax
  000bb	68 e9 00 00 00	 push	 233			; 000000e9H
  000c0	56		 push	 esi
  000c1	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000c6	83 c4 2c	 add	 esp, 44			; 0000002cH

; 6797 : 	return TRUE;

  000c9	b8 01 00 00 00	 mov	 eax, 1
  000ce	5e		 pop	 esi

; 6798 : }

  000cf	5d		 pop	 ebp
  000d0	c2 0c 00	 ret	 12			; 0000000cH
$LN2@SkillExpan:

; 6784 : 	{
; 6785 : 		return FALSE;

  000d3	33 c0		 xor	 eax, eax
  000d5	5e		 pop	 esi

; 6798 : }

  000d6	5d		 pop	 ebp
  000d7	c2 0c 00	 ret	 12			; 0000000cH
?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillExpansionWizardry
_TEXT	ENDS
PUBLIC	??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@ ; `string'
PUBLIC	__real@3fc00000
PUBLIC	?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillChaoticDiseier
;	COMDAT ??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@
; File e:\work\tranet_version\gs\gameserver\castlesiege.h
CONST	SEGMENT
??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@ DB '2'
	DB	'HIT!!!!!! ERROR   aTargetIndex : %d , tObjNum : %d', 00H ; `string'
CONST	ENDS
;	COMDAT __real@3fc00000
CONST	SEGMENT
__real@3fc00000 DD 03fc00000r			; 1.5
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\objuseskill.cpp
CONST	ENDS
;	COMDAT ?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z
_TEXT	SEGMENT
_DuelIndex$ = -12					; size = 4
tv141 = -8						; size = 4
tv502 = -4						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_TargetPos$ = 16					; size = 1
_HitCount$ = 16						; size = 4
_aTargetIndex$ = 20					; size = 4
?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z PROC ; CObjUseSkill::SkillChaoticDiseier, COMDAT
; _this$ = ecx

; 6801 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 6802 : 	LPOBJ lpObj = &gObj[aIndex];

  00006	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]

; 6803 : 
; 6804 : 	int skillSuccess = true;
; 6805 : 	
; 6806 : 	this->SkillFrustrum3(aIndex, TargetPos, 1.5f, 6.0f, 1.5f, 0); //S4 New Skill Frustrum OK :)

  00009	d9 ee		 fldz
  0000b	8b 55 10	 mov	 edx, DWORD PTR _TargetPos$[ebp]
  0000e	53		 push	 ebx
  0000f	56		 push	 esi
  00010	57		 push	 edi
  00011	83 ec 10	 sub	 esp, 16			; 00000010H
  00014	d9 5c 24 0c	 fstp	 DWORD PTR [esp+12]
  00018	8b d8		 mov	 ebx, eax
  0001a	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@3fc00000
  00020	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00026	d9 54 24 08	 fst	 DWORD PTR [esp+8]
  0002a	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40c00000
  00030	d9 5c 24 04	 fstp	 DWORD PTR [esp+4]
  00034	d9 1c 24	 fstp	 DWORD PTR [esp]
  00037	03 1d 00 00 00
	00		 add	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0003d	52		 push	 edx
  0003e	50		 push	 eax
  0003f	e8 00 00 00 00	 call	 ?SkillFrustrum3@CObjUseSkill@@QAEXHEMMMM@Z ; CObjUseSkill::SkillFrustrum3

; 6807 : 
; 6808 : 	int tObjNum; //loc4
; 6809 : 	int count = 0; //loc5
; 6810 : 	int HitCount = 0; //loc6
; 6811 : 
; 6812 : 	BOOL bAttack; //loc7
; 6813 : 
; 6814 : 	int DuelIndex = lpObj->m_iDuelUser; //loc8

  00044	8b 83 b8 0e 00
	00		 mov	 eax, DWORD PTR [ebx+3768]
  0004a	8d bb b0 08 00
	00		 lea	 edi, DWORD PTR [ebx+2224]
  00050	c7 45 10 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0
  00057	89 45 f4	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  0005a	89 7d fc	 mov	 DWORD PTR tv502[ebp], edi
  0005d	c7 45 f8 4b 00
	00 00		 mov	 DWORD PTR tv141[ebp], 75 ; 0000004bH
$LL28@SkillChaot:

; 6815 : 
; 6816 : 	BOOL bEnableAttack; //loc9
; 6817 : 
; 6818 : 	while( true )
; 6819 : 	{
; 6820 : 		if(lpObj->VpPlayer2[count].state != 0)

  00064	80 7f fc 00	 cmp	 BYTE PTR [edi-4], 0
  00068	0f 84 7f 02 00
	00		 je	 $LN41@SkillChaot

; 6821 : 		{
; 6822 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0006e	0f bf 77 fe	 movsx	 esi, WORD PTR [edi-2]

; 6823 : 
; 6824 : 			if(tObjNum >= 0)

  00072	85 f6		 test	 esi, esi
  00074	0f 88 73 02 00
	00		 js	 $LN41@SkillChaot

; 6825 : 			{
; 6826 : 				bEnableAttack = FALSE;
; 6827 : 
; 6828 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  0007a	8a 07		 mov	 al, BYTE PTR [edi]
  0007c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00082	3c 02		 cmp	 al, 2
  00084	75 12		 jne	 SHORT $LN24@SkillChaot
  00086	8b d6		 mov	 edx, esi
  00088	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  0008e	83 bc 0a 50 04
	00 00 00	 cmp	 DWORD PTR [edx+ecx+1104], 0

; 6829 : 				{
; 6830 : 					bEnableAttack = TRUE;

  00096	7c 71		 jl	 SHORT $LN21@SkillChaot
$LN24@SkillChaot:

; 6831 : 				}
; 6832 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum )

  00098	3b 75 14	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  0009b	74 6c		 je	 SHORT $LN21@SkillChaot
  0009d	39 75 f4	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  000a0	74 67		 je	 SHORT $LN21@SkillChaot

; 6833 : 				{
; 6834 : 					bEnableAttack = TRUE;
; 6835 : 				}
; 6836 : //#if(GS_CASTLE==1)
; 6837 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 
; 6838 : 					gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6839 : 					g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000a2	3c 03		 cmp	 al, 3
  000a4	74 1b		 je	 SHORT $LN19@SkillChaot
  000a6	8b c6		 mov	 eax, esi
  000a8	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ae	80 bc 08 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+ecx+329], 30 ; 0000001eH
  000b6	75 09		 jne	 SHORT $LN19@SkillChaot
  000b8	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 6840 : 				{
; 6841 : 					bEnableAttack = TRUE;
; 6842 : 				}
; 6843 : //#endif
; 6844 : 				else

  000bf	74 48		 je	 SHORT $LN21@SkillChaot
$LN19@SkillChaot:

; 6845 : 				{
; 6846 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000c1	8b d6		 mov	 edx, esi
  000c3	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 6847 : 
; 6848 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000c9	66 83 7c 0a 68
	02		 cmp	 WORD PTR [edx+ecx+104], 2
  000cf	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
  000d2	75 14		 jne	 SHORT $LN17@SkillChaot
  000d4	8b 94 0a 50 04
	00 00		 mov	 edx, DWORD PTR [edx+ecx+1104]
  000db	85 d2		 test	 edx, edx
  000dd	78 09		 js	 SHORT $LN17@SkillChaot

; 6849 : 					{
; 6850 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000df	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000e5	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
$LN17@SkillChaot:

; 6851 : 					}
; 6852 : 
; 6853 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  000e8	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ee	03 c1		 add	 eax, ecx
  000f0	50		 push	 eax
  000f1	53		 push	 ebx
  000f2	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000f7	83 c4 08	 add	 esp, 8
  000fa	83 f8 01	 cmp	 eax, 1
  000fd	0f 85 ea 01 00
	00		 jne	 $LN41@SkillChaot
  00103	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN21@SkillChaot:

; 6854 : 					{
; 6855 : 						bEnableAttack = TRUE;
; 6856 : 					}
; 6857 : 				}
; 6858 : 
; 6859 : 				if(bEnableAttack != FALSE)
; 6860 : 				{
; 6861 : 					if(SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  00109	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0010c	8b fe		 mov	 edi, esi
  0010e	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00114	0f bf 94 0f 46
	01 00 00	 movsx	 edx, WORD PTR [edi+ecx+326]
  0011c	50		 push	 eax
  0011d	0f bf 84 0f 44
	01 00 00	 movsx	 eax, WORD PTR [edi+ecx+324]
  00125	52		 push	 edx
  00126	50		 push	 eax
  00127	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  0012c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0012f	85 c0		 test	 eax, eax
  00131	0f 84 b3 01 00
	00		 je	 $LN40@SkillChaot

; 6862 : 					{
; 6863 : 						bAttack = FALSE;
; 6864 : 
; 6865 : 						if(HitCount >= 8)

  00137	83 7d 10 08	 cmp	 DWORD PTR _HitCount$[ebp], 8
  0013b	7c 17		 jl	 SHORT $LN13@SkillChaot

; 6866 : 						{
; 6867 : 							if(rand()%2)

  0013d	e8 00 00 00 00	 call	 _rand
  00142	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00147	79 05		 jns	 SHORT $LN44@SkillChaot
  00149	48		 dec	 eax
  0014a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0014d	40		 inc	 eax
$LN44@SkillChaot:
  0014e	0f 84 af 00 00
	00		 je	 $LN7@SkillChaot
$LN13@SkillChaot:

; 6868 : 							{
; 6869 : 								bAttack = TRUE;
; 6870 : 							}
; 6871 : 						}
; 6872 : 						else
; 6873 : 						{
; 6874 : 							bAttack = TRUE;
; 6875 : 						}
; 6876 : 
; 6877 : 						if(bAttack != FALSE)
; 6878 : 						{
; 6879 : #if(EVOMU_DLSKILLCHANGE==TRUE)
; 6880 : 							if(	g_ZtLicense.CheckUser(eZtUB::Gredy)			|| 
; 6881 : 								g_ZtLicense.CheckUser(eZtUB::GredyLocal)	|| 
; 6882 : 								g_ZtLicense.CheckUser(eZtUB::Gredy2)		||
; 6883 : 								g_ZtLicense.CheckUser(eZtUB::SILVER1)		||
; 6884 : 								g_ZtLicense.CheckUser(eZtUB::SILVER2)		||
; 6885 : 								g_ZtLicense.CheckUser(eZtUB::SILVER_Local)	||
; 6886 : 								g_ZtLicense.CheckUser(eZtUB::MuPrime) )

  00154	6a 20		 push	 32			; 00000020H
  00156	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0015b	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00160	84 c0		 test	 al, al
  00162	75 7c		 jne	 SHORT $LN8@SkillChaot
  00164	6a 21		 push	 33			; 00000021H
  00166	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0016b	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00170	84 c0		 test	 al, al
  00172	75 6c		 jne	 SHORT $LN8@SkillChaot
  00174	6a 22		 push	 34			; 00000022H
  00176	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0017b	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00180	84 c0		 test	 al, al
  00182	75 5c		 jne	 SHORT $LN8@SkillChaot
  00184	6a 07		 push	 7
  00186	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0018b	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00190	84 c0		 test	 al, al
  00192	75 4c		 jne	 SHORT $LN8@SkillChaot
  00194	6a 08		 push	 8
  00196	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0019b	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  001a0	84 c0		 test	 al, al
  001a2	75 3c		 jne	 SHORT $LN8@SkillChaot
  001a4	6a 2b		 push	 43			; 0000002bH
  001a6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  001ab	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  001b0	84 c0		 test	 al, al
  001b2	75 2c		 jne	 SHORT $LN8@SkillChaot
  001b4	6a 5a		 push	 90			; 0000005aH
  001b6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  001bb	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  001c0	84 c0		 test	 al, al
  001c2	75 1c		 jne	 SHORT $LN8@SkillChaot

; 6889 : 							}
; 6890 : 							else
; 6891 : 							{
; 6892 : 								gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 200, lpMagic->m_Skill, 0);

  001c4	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  001c7	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001ca	6a 00		 push	 0
  001cc	52		 push	 edx
  001cd	68 c8 00 00 00	 push	 200			; 000000c8H
  001d2	56		 push	 esi
  001d3	6a 32		 push	 50			; 00000032H
  001d5	53		 push	 ebx
  001d6	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  001db	83 c4 18	 add	 esp, 24			; 00000018H
  001de	eb 23		 jmp	 SHORT $LN7@SkillChaot
$LN8@SkillChaot:

; 6887 : 							{
; 6888 : 								gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  001e0	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  001e3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001e9	6a 00		 push	 0
  001eb	6a 00		 push	 0
  001ed	6a 00		 push	 0
  001ef	6a 00		 push	 0
  001f1	6a 00		 push	 0
  001f3	6a 01		 push	 1
  001f5	50		 push	 eax
  001f6	8d 14 0f	 lea	 edx, DWORD PTR [edi+ecx]
  001f9	52		 push	 edx
  001fa	53		 push	 ebx
  001fb	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00200	83 c4 24	 add	 esp, 36			; 00000024H
$LN7@SkillChaot:

; 6893 : 							}
; 6894 : #else
; 6895 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 200, lpMagic->m_Skill, 0);
; 6896 : #endif
; 6897 : 						}
; 6898 : 
; 6899 : 						if(OBJMAX_RANGE(aTargetIndex) != false && tObjNum == aTargetIndex)

  00203	8b 45 14	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00206	85 c0		 test	 eax, eax
  00208	0f 88 c9 00 00
	00		 js	 $LN6@SkillChaot
  0020e	33 c9		 xor	 ecx, ecx
  00210	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00215	0f 9e c1	 setle	 cl
  00218	85 c9		 test	 ecx, ecx
  0021a	0f 84 b7 00 00
	00		 je	 $LN6@SkillChaot
  00220	3b f0		 cmp	 esi, eax
  00222	0f 85 af 00 00
	00		 jne	 $LN6@SkillChaot

; 6900 : 						{
; 6901 : #if(EVOMU_DLSKILLCHANGE==TRUE)
; 6902 : 							if(	g_ZtLicense.CheckUser(eZtUB::Gredy)			|| 
; 6903 : 								g_ZtLicense.CheckUser(eZtUB::GredyLocal)	|| 
; 6904 : 								g_ZtLicense.CheckUser(eZtUB::Gredy2)		||
; 6905 : 								g_ZtLicense.CheckUser(eZtUB::SILVER1)		||
; 6906 : 								g_ZtLicense.CheckUser(eZtUB::SILVER2)		||
; 6907 : 								g_ZtLicense.CheckUser(eZtUB::SILVER_Local)	||
; 6908 : 								g_ZtLicense.CheckUser(eZtUB::MuPrime) )

  00228	6a 20		 push	 32			; 00000020H
  0022a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0022f	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00234	84 c0		 test	 al, al
  00236	75 7c		 jne	 SHORT $LN4@SkillChaot
  00238	6a 21		 push	 33			; 00000021H
  0023a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0023f	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00244	84 c0		 test	 al, al
  00246	75 6c		 jne	 SHORT $LN4@SkillChaot
  00248	6a 22		 push	 34			; 00000022H
  0024a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0024f	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00254	84 c0		 test	 al, al
  00256	75 5c		 jne	 SHORT $LN4@SkillChaot
  00258	6a 07		 push	 7
  0025a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0025f	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00264	84 c0		 test	 al, al
  00266	75 4c		 jne	 SHORT $LN4@SkillChaot
  00268	6a 08		 push	 8
  0026a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0026f	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00274	84 c0		 test	 al, al
  00276	75 3c		 jne	 SHORT $LN4@SkillChaot
  00278	6a 2b		 push	 43			; 0000002bH
  0027a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0027f	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00284	84 c0		 test	 al, al
  00286	75 2c		 jne	 SHORT $LN4@SkillChaot
  00288	6a 5a		 push	 90			; 0000005aH
  0028a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0028f	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00294	84 c0		 test	 al, al
  00296	75 1c		 jne	 SHORT $LN4@SkillChaot

; 6911 : 							}
; 6912 : 							else
; 6913 : 							{
; 6914 : 								gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 200, lpMagic->m_Skill, 0);

  00298	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0029b	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0029e	6a 00		 push	 0
  002a0	51		 push	 ecx
  002a1	68 c8 00 00 00	 push	 200			; 000000c8H
  002a6	56		 push	 esi
  002a7	6a 32		 push	 50			; 00000032H
  002a9	53		 push	 ebx
  002aa	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  002af	83 c4 18	 add	 esp, 24			; 00000018H
  002b2	eb 33		 jmp	 SHORT $LN2@SkillChaot
$LN4@SkillChaot:

; 6909 : 							{
; 6910 : 								gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  002b4	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  002b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002bc	6a 00		 push	 0
  002be	6a 00		 push	 0
  002c0	6a 00		 push	 0
  002c2	6a 00		 push	 0
  002c4	6a 00		 push	 0
  002c6	6a 01		 push	 1
  002c8	52		 push	 edx
  002c9	03 f8		 add	 edi, eax
  002cb	57		 push	 edi
  002cc	53		 push	 ebx
  002cd	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  002d2	83 c4 24	 add	 esp, 36			; 00000024H

; 6915 : 							}
; 6916 : #else
; 6917 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 300, lpMagic->m_Skill, 0);
; 6918 : 							LogAddTD("2HIT!!!!!! SUCCESS aTargetIndex : %d , tObjNum : %d", aTargetIndex, tObjNum);
; 6919 : #endif
; 6920 : 						}
; 6921 : 						else

  002d5	eb 10		 jmp	 SHORT $LN2@SkillChaot
$LN6@SkillChaot:

; 6922 : 						{
; 6923 : 							LogAddTD("2HIT!!!!!! ERROR   aTargetIndex : %d , tObjNum : %d", aTargetIndex, tObjNum);

  002d7	56		 push	 esi
  002d8	50		 push	 eax
  002d9	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@BHNKBPJH@2HIT?$CB?$CB?$CB?$CB?$CB?$CB?5ERROR?5?5?5aTargetIndex?5@
  002de	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  002e4	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@SkillChaot:

; 6924 : 						}
; 6925 : 
; 6926 : 						HitCount++;						

  002e7	ff 45 10	 inc	 DWORD PTR _HitCount$[ebp]
$LN40@SkillChaot:
  002ea	8b 7d fc	 mov	 edi, DWORD PTR tv502[ebp]
$LN41@SkillChaot:

; 6927 : 					}					
; 6928 : 				}
; 6929 : 			}
; 6930 : 		}
; 6931 : 
; 6932 : 		count++;

  002ed	83 c7 0c	 add	 edi, 12			; 0000000cH

; 6933 : 			
; 6934 : 		if(count > MAX_VIEWPORT -1)

  002f0	ff 4d f8	 dec	 DWORD PTR tv141[ebp]
  002f3	89 7d fc	 mov	 DWORD PTR tv502[ebp], edi
  002f6	0f 85 68 fd ff
	ff		 jne	 $LL28@SkillChaot
  002fc	5f		 pop	 edi
  002fd	5e		 pop	 esi
  002fe	5b		 pop	 ebx

; 6935 : 		{
; 6936 : 			break;
; 6937 : 		}
; 6938 : 	}
; 6939 : }

  002ff	8b e5		 mov	 esp, ebp
  00301	5d		 pop	 ebp
  00302	c2 10 00	 ret	 16			; 00000010H
?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ENDP ; CObjUseSkill::SkillChaoticDiseier
_TEXT	ENDS
PUBLIC	?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEvilMonster
EXTRN	?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z:PROC	; retResistance
; Function compile flags: /Ogtp
;	COMDAT ?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv347 = -8						; size = 4
tv313 = -4						; size = 4
_HitCount$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillEvilMonster, COMDAT
; _this$ = ecx

; 6942 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx

; 6943 : 	LPOBJ lpObj		= &gObj[aIndex];

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  0000a	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00010	03 1d 00 00 00
	00		 add	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00016	56		 push	 esi
  00017	8d 8b ae 08 00
	00		 lea	 ecx, DWORD PTR [ebx+2222]
  0001d	57		 push	 edi

; 6944 : 	int tObjNum;
; 6945 : 	int count		= 0;
; 6946 : 	int HitCount	= 0;

  0001e	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _HitCount$[ebp], 0
  00025	89 4d fc	 mov	 DWORD PTR tv313[ebp], ecx
  00028	c7 45 f8 4b 00
	00 00		 mov	 DWORD PTR tv347[ebp], 75 ; 0000004bH
  0002f	90		 npad	 1
$LL16@SkillEvilM:

; 6947 : 	int bAttack;
; 6948 : 	int DuelIndex	= lpObj->m_iDuelUser;
; 6949 : 	// ----
; 6950 : 	while(true)
; 6951 : 	{
; 6952 : 		if( lpObj->VpPlayer2[count].state )

  00030	80 79 fe 00	 cmp	 BYTE PTR [ecx-2], 0
  00034	0f 84 b8 00 00
	00		 je	 $LN26@SkillEvilM

; 6953 : 		{
; 6954 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0003a	0f bf 31	 movsx	 esi, WORD PTR [ecx]

; 6955 : 			// ----
; 6956 : 			if( tObjNum >= 0 )

  0003d	85 f6		 test	 esi, esi
  0003f	0f 88 ad 00 00
	00		 js	 $LN26@SkillEvilM

; 6957 : 			{
; 6958 : 				int EnableAttack = false;
; 6959 : 				// ----
; 6960 : 				if( lpObj->VpPlayer2[count].type == 1 )

  00045	80 79 02 01	 cmp	 BYTE PTR [ecx+2], 1
  00049	0f 85 a3 00 00
	00		 jne	 $LN26@SkillEvilM

; 6961 : 				{
; 6962 : 					EnableAttack = true;
; 6963 : 					// ----
; 6964 : 					if( gObj[tObjNum].m_RecallMon >= 0 )

  0004f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00054	8b fe		 mov	 edi, esi
  00056	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0005c	03 c7		 add	 eax, edi
  0005e	83 b8 50 04 00
	00 00		 cmp	 DWORD PTR [eax+1104], 0
  00065	7c 09		 jl	 SHORT $LN22@SkillEvilM

; 6965 : 					{
; 6966 : 						if( tObjNum != aTargetIndex )

  00067	3b 75 0c	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]

; 6967 : 						{
; 6968 : 							EnableAttack = false;
; 6969 : 						}
; 6970 : 					}
; 6971 : 				}
; 6972 : 				// ----
; 6973 : 				if( EnableAttack )

  0006a	0f 85 82 00 00
	00		 jne	 $LN26@SkillEvilM
$LN22@SkillEvilM:

; 6974 : 				{
; 6975 : 					if( gObjCalDistance(lpObj, &gObj[tObjNum]) < 6 )

  00070	50		 push	 eax
  00071	53		 push	 ebx
  00072	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00077	83 c4 08	 add	 esp, 8
  0007a	83 f8 06	 cmp	 eax, 6
  0007d	7d 70		 jge	 SHORT $LN25@SkillEvilM

; 6976 : 					{
; 6977 : 						bAttack = false;
; 6978 : 						// ----
; 6979 : 						if( HitCount >= 5 )

  0007f	33 c0		 xor	 eax, eax
  00081	83 7d 08 05	 cmp	 DWORD PTR _HitCount$[ebp], 5
  00085	0f 9c c0	 setl	 al

; 6980 : 						{
; 6981 : 							bAttack = false;
; 6982 : 						}
; 6983 : 						else
; 6984 : 						{
; 6985 : 							bAttack = true;
; 6986 : 						}
; 6987 : 						// ----
; 6988 : 						if( tObjNum == aTargetIndex )

  00088	3b 75 0c	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]

; 6989 : 						{
; 6990 : 							bAttack = true;
; 6991 : 						}
; 6992 : 						// ----
; 6993 : 						if( bAttack )

  0008b	74 04		 je	 SHORT $LN23@SkillEvilM
  0008d	85 c0		 test	 eax, eax
  0008f	74 5e		 je	 SHORT $LN25@SkillEvilM
$LN23@SkillEvilM:

; 6994 : 						{
; 6995 : 							int delay = rand() % 2000;

  00091	e8 00 00 00 00	 call	 _rand

; 6996 : 							// ----
; 6997 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 300, lpMagic->m_Skill, 0);

  00096	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00099	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0009c	6a 00		 push	 0
  0009e	52		 push	 edx
  0009f	68 2c 01 00 00	 push	 300			; 0000012cH
  000a4	56		 push	 esi
  000a5	6a 32		 push	 50			; 00000032H
  000a7	53		 push	 ebx
  000a8	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay

; 6998 : 							HitCount++;
; 6999 : 							// ----
; 7000 : 							LPOBJ lpTargetObj = &gObj[tObjNum];

  000ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000b2	ff 45 08	 inc	 DWORD PTR _HitCount$[ebp]
  000b5	8d 34 07	 lea	 esi, DWORD PTR [edi+eax]

; 7001 : 							// ----
; 7002 : 							if( !gObjSearchActiveEffect(lpTargetObj, 55) )

  000b8	6a 37		 push	 55			; 00000037H
  000ba	56		 push	 esi
  000bb	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  000c0	83 c4 20	 add	 esp, 32			; 00000020H
  000c3	84 c0		 test	 al, al
  000c5	75 28		 jne	 SHORT $LN25@SkillEvilM

; 7003 : 							{
; 7004 : 								if( !retResistance(lpTargetObj, 1) )

  000c7	6a 01		 push	 1
  000c9	56		 push	 esi
  000ca	e8 00 00 00 00	 call	 ?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retResistance
  000cf	83 c4 08	 add	 esp, 8
  000d2	85 c0		 test	 eax, eax
  000d4	75 19		 jne	 SHORT $LN25@SkillEvilM

; 7005 : 								{
; 7006 : 									lpTargetObj->lpAttackObj = lpObj;
; 7007 : 									gObjApplyBuffEffectDuration(lpTargetObj, 55, 19, 3, 0, 0, 20);

  000d6	6a 14		 push	 20			; 00000014H
  000d8	50		 push	 eax
  000d9	50		 push	 eax
  000da	6a 03		 push	 3
  000dc	6a 13		 push	 19			; 00000013H
  000de	6a 37		 push	 55			; 00000037H
  000e0	56		 push	 esi
  000e1	89 9e d4 03 00
	00		 mov	 DWORD PTR [esi+980], ebx
  000e7	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  000ec	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN25@SkillEvilM:
  000ef	8b 4d fc	 mov	 ecx, DWORD PTR tv313[ebp]
$LN26@SkillEvilM:

; 7008 : 								}
; 7009 : 							}
; 7010 : 						}
; 7011 : 					}
; 7012 : 				}
; 7013 : 			}
; 7014 : 		}
; 7015 : 		// ----
; 7016 : 		count++;

  000f2	83 c1 0c	 add	 ecx, 12			; 0000000cH

; 7017 : 		// ----
; 7018 : 		if( count > MAX_VIEWPORT-1 )

  000f5	ff 4d f8	 dec	 DWORD PTR tv347[ebp]
  000f8	89 4d fc	 mov	 DWORD PTR tv313[ebp], ecx
  000fb	0f 85 2f ff ff
	ff		 jne	 $LL16@SkillEvilM

; 7019 : 		{
; 7020 : 			break;
; 7021 : 		}
; 7022 : 	}
; 7023 : 	// ----
; 7024 : 	return true;

  00101	5f		 pop	 edi
  00102	5e		 pop	 esi
  00103	b8 01 00 00 00	 mov	 eax, 1
  00108	5b		 pop	 ebx

; 7025 : }

  00109	8b e5		 mov	 esp, ebp
  0010b	5d		 pop	 ebp
  0010c	c2 0c 00	 ret	 12			; 0000000cH
?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillEvilMonster
_TEXT	ENDS
PUBLIC	?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuff
; Function compile flags: /Ogtp
;	COMDAT ?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv229 = 8						; size = 4
tv227 = 8						; size = 4
tv226 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::SkillMonkBuff, COMDAT
; _this$ = ecx

; 7105 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 7106 : 	//LPOBJ lpObj = &gObj[aIndex];;
; 7107 : 	//// ----
; 7108 : 	//if( lpObj->Type != 1 )
; 7109 : 	//{
; 7110 : 	//	return false;
; 7111 : 	//}
; 7112 : 	//// ----
; 7113 : 	//if( lpObj->Class != CLASS_MONK )
; 7114 : 	//{
; 7115 : 	//	return false;
; 7116 : 	//}
; 7117 : 	//// ----
; 7118 : 	//if( !lpMagic || lpMagic->m_Skill != 266 )
; 7119 : 	//{
; 7120 : 	//	return false;
; 7121 : 	//}
; 7122 : 	//// ----
; 7123 : 	//int nEffectValue = 3 + (lpObj->Energy + lpObj->AddEnergy - 404) / (float)100;
; 7124 : 
; 7125 : 	//if(nEffectValue > 10)
; 7126 : 	//{
; 7127 : 	//	nEffectValue = 10;
; 7128 : 
; 7129 : 	//}
; 7130 : 	//
; 7131 : 	////if( g_SkillAdditionInfo.m_IgnoreDefenseEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.m_IgnoreDefenseEffectMax )
; 7132 : 	////{
; 7133 : 	////	nEffectValue = g_SkillAdditionInfo.m_IgnoreDefenseEffectMax;
; 7134 : 	////}
; 7135 : 
; 7136 : 	//int Time = lpObj->Energy / 5 + 60;
; 7137 : 	//
; 7138 : 	////if( g_SkillAdditionInfo.m_IgnoreDefenseTimeMax > 0 && Time > g_SkillAdditionInfo.m_IgnoreDefenseTimeMax )
; 7139 : 	////{
; 7140 : 	////	Time = g_SkillAdditionInfo.m_IgnoreDefenseTimeMax;
; 7141 : 	////}
; 7142 : 
; 7143 : 	//gObjApplyBuffEffectDuration(lpObj, 129, 72, nEffectValue, 0, 0, lpObj->Energy / 5 + 60);
; 7144 : 	//GCMagicAttackNumberSend(lpObj, 266, lpObj->m_Index, 1);
; 7145 : 	//// ----
; 7146 : 	//return true;
; 7147 : 
; 7148 : 	LPOBJ lpObj = &gObj[aIndex];;

  00004	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00007	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0000d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 7149 : 	// ----
; 7150 : 	if( lpObj->Type != 1 )

  00013	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1

; 7151 : 	{
; 7152 : 		return false;

  00018	0f 85 bd 00 00
	00		 jne	 $LN3@SkillMonkB

; 7153 : 	}
; 7154 : 	// ----
; 7155 : 	if( lpObj->Class != CLASS_MONK )

  0001e	66 83 be b8 00
	00 00 06	 cmp	 WORD PTR [esi+184], 6

; 7156 : 	{
; 7157 : 		return false;

  00026	0f 85 af 00 00
	00		 jne	 $LN3@SkillMonkB

; 7158 : 	}
; 7159 : 	// ----
; 7160 : 	if( !lpMagic || lpMagic->m_Skill != 266 )

  0002c	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0002f	85 c0		 test	 eax, eax
  00031	0f 84 a4 00 00
	00		 je	 $LN3@SkillMonkB
  00037	81 78 08 0a 01
	00 00		 cmp	 DWORD PTR [eax+8], 266	; 0000010aH
  0003e	0f 85 97 00 00
	00		 jne	 $LN3@SkillMonkB

; 7163 : 	}
; 7164 : 	// ----
; 7165 : 	int nEffectValue = g_SkillAdditionInfo.IgnoreDefenseEffectStart + (lpObj->Energy + lpObj->AddEnergy - g_SkillAdditionInfo.IgnoreDefenseEffectSub) / (float)g_SkillAdditionInfo.IgnoreDefenseEffectDiv;

  00044	0f b7 0d ce 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3022
  0004b	0f bf 86 26 01
	00 00		 movsx	 eax, WORD PTR [esi+294]
  00052	0f b7 15 d0 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3024
  00059	57		 push	 edi
  0005a	0f b7 be fa 00
	00 00		 movzx	 edi, WORD PTR [esi+250]
  00061	2b c1		 sub	 eax, ecx
  00063	03 c7		 add	 eax, edi
  00065	89 45 08	 mov	 DWORD PTR tv229[ebp], eax
  00068	0f b7 05 cc 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3020
  0006f	db 45 08	 fild	 DWORD PTR tv229[ebp]
  00072	89 55 08	 mov	 DWORD PTR tv227[ebp], edx
  00075	db 45 08	 fild	 DWORD PTR tv227[ebp]
  00078	89 45 08	 mov	 DWORD PTR tv226[ebp], eax
  0007b	de f9		 fdivp	 ST(1), ST(0)
  0007d	db 45 08	 fild	 DWORD PTR tv226[ebp]
  00080	de c1		 faddp	 ST(1), ST(0)
  00082	e8 00 00 00 00	 call	 __ftol2_sse
  00087	8b c8		 mov	 ecx, eax

; 7166 : 
; 7167 : 	if( g_SkillAdditionInfo.IgnoreDefenseEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.IgnoreDefenseEffectMax )

  00089	a1 d4 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3028
  0008e	85 c0		 test	 eax, eax
  00090	74 06		 je	 SHORT $LN2@SkillMonkB
  00092	3b c8		 cmp	 ecx, eax
  00094	76 02		 jbe	 SHORT $LN2@SkillMonkB

; 7168 : 	{
; 7169 : 		nEffectValue = g_SkillAdditionInfo.IgnoreDefenseEffectMax;

  00096	8b c8		 mov	 ecx, eax
$LN2@SkillMonkB:

; 7170 : 	}
; 7171 : 
; 7172 : 	int Time = lpObj->Energy / g_SkillAdditionInfo.IgnoreDefenseTimeDiv + g_SkillAdditionInfo.IgnoreDefenseTimeStart;
; 7173 : 
; 7174 : 	if( g_SkillAdditionInfo.IgnoreDefenseTimeMax > 0 && Time > g_SkillAdditionInfo.IgnoreDefenseTimeMax )
; 7175 : 	{
; 7176 : 		Time = g_SkillAdditionInfo.IgnoreDefenseTimeMax;
; 7177 : 	}
; 7178 : 
; 7179 : 	gObjApplyBuffEffectDuration(lpObj, 129, ADD_OPTION_IGNOREDEFENSE, nEffectValue, 0, 0, lpObj->Energy / 5 + 60);

  00098	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  0009d	f7 ef		 imul	 edi
  0009f	d1 fa		 sar	 edx, 1
  000a1	8b c2		 mov	 eax, edx
  000a3	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  000a6	8d 54 02 3c	 lea	 edx, DWORD PTR [edx+eax+60]
  000aa	52		 push	 edx
  000ab	6a 00		 push	 0
  000ad	6a 00		 push	 0
  000af	51		 push	 ecx
  000b0	6a 48		 push	 72			; 00000048H
  000b2	68 81 00 00 00	 push	 129			; 00000081H
  000b7	56		 push	 esi
  000b8	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 7180 : 	GCMagicAttackNumberSend(lpObj, 266, lpObj->m_Index, 1);

  000bd	8b 06		 mov	 eax, DWORD PTR [esi]
  000bf	6a 01		 push	 1
  000c1	50		 push	 eax
  000c2	68 0a 01 00 00	 push	 266			; 0000010aH
  000c7	56		 push	 esi
  000c8	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  000cd	83 c4 2c	 add	 esp, 44			; 0000002cH
  000d0	5f		 pop	 edi

; 7181 : 	// ----
; 7182 : 	return true;

  000d1	b8 01 00 00 00	 mov	 eax, 1
  000d6	5e		 pop	 esi

; 7183 : }

  000d7	5d		 pop	 ebp
  000d8	c2 08 00	 ret	 8
$LN3@SkillMonkB:

; 7161 : 	{
; 7162 : 		return false;

  000db	33 c0		 xor	 eax, eax
  000dd	5e		 pop	 esi

; 7183 : }

  000de	5d		 pop	 ebp
  000df	c2 08 00	 ret	 8
?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::SkillMonkBuff
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuffApplyParty
; Function compile flags: /Ogtp
;	COMDAT ?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv365 = -56						; size = 4
_partynum$ = -52					; size = 4
tv543 = -48						; size = 4
tv541 = -48						; size = 4
_n$224411 = -48						; size = 4
_n$224390 = -48						; size = 4
_ApplyPartyIndex$ = -44					; size = 40
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillMonkBuffApplyParty, COMDAT
; _this$ = ecx

; 7188 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 38	 sub	 esp, 56			; 00000038H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]

; 7189 : 	//int skillSuccess = TRUE;
; 7190 : 	//LPOBJ lpObj = &gObj[aIndex];
; 7191 : 	//int number;
; 7192 : 
; 7193 : 	//if( lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1 )
; 7194 : 	//	return FALSE;
; 7195 : 
; 7196 : 	//if( lpObj->Class != CLASS_MONK )
; 7197 : 	//	return FALSE;
; 7198 : 
; 7199 : 	//int partynum = 0;
; 7200 : 	//int partycount;
; 7201 : 	//int dis;
; 7202 : 	//int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 7203 : 	//int nEffectValue;
; 7204 : 	//memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));
; 7205 : 	//LPOBJ lpPartyObj;
; 7206 : 
; 7207 : 	//partynum = lpObj->PartyNumber;
; 7208 : 
; 7209 : 	//if( partynum != -1 )
; 7210 : 	//{
; 7211 : 	//	partycount = gParty.m_PartyS[partynum].Count;
; 7212 : 
; 7213 : 	//	for(int n = 0; n < MAX_USER_IN_PARTY; n++)
; 7214 : 	//	{
; 7215 : 	//		number = gParty.m_PartyS[partynum].Number[n];
; 7216 : 
; 7217 : 	//		if( number >= 0 )
; 7218 : 	//		{
; 7219 : 	//			lpPartyObj = &gObj[number];
; 7220 : 
; 7221 : 
; 7222 : 	//			if( lpPartyObj->MapNumber == lpObj->MapNumber )
; 7223 : 	//			{
; 7224 : 	//				dis = gObjCalDistance(lpObj,&gObj[number]);
; 7225 : 	//				if( dis < 4 )
; 7226 : 	//				{
; 7227 : 	//					ApplyPartyIndex[n] = lpPartyObj->m_Index;
; 7228 : 	//				}
; 7229 : 	//			}
; 7230 : 	//		}
; 7231 : 	//	}
; 7232 : 	//}
; 7233 : 
; 7234 : 	//int Time = 0;
; 7235 : 
; 7236 : 	//if( lpMagic->m_Skill == 267 )
; 7237 : 	//{
; 7238 : 	//	nEffectValue = 30 + (lpObj->Energy+lpObj->AddEnergy-132)/10;
; 7239 : 
; 7240 : 	//	if( 200 > 0 && nEffectValue > 200 )
; 7241 : 	//	{
; 7242 : 	//		nEffectValue = 200;
; 7243 : 	//	}
; 7244 : 
; 7245 : 	//	Time = 60+lpObj->Energy/5;
; 7246 : 	//	
; 7247 : 	//	//if( g_SkillAdditionInfo.m_IncreaseHealthTimeMax > 0 && Time > g_SkillAdditionInfo.m_IncreaseHealthTimeMax )
; 7248 : 	//	//{
; 7249 : 	//	//	Time = g_SkillAdditionInfo.m_IncreaseHealthTimeMax;
; 7250 : 	//	//}
; 7251 : 	//}
; 7252 : 	//else if( lpMagic->m_Skill == 268 )
; 7253 : 	//{
; 7254 : 	//	nEffectValue = 10 + (lpObj->Energy+lpObj->AddEnergy-80)/10;
; 7255 : 
; 7256 : 	//	if( 100 > 0 && nEffectValue > 100 )
; 7257 : 	//	{
; 7258 : 	//		nEffectValue = 100;
; 7259 : 	//	}
; 7260 : 
; 7261 : 	//	Time = 60+lpObj->Energy/5;
; 7262 : 	//	
; 7263 : 	//	//if( g_SkillAdditionInfo.m_IncreaseBlockTimeMax > 0 && Time > g_SkillAdditionInfo.m_IncreaseBlockTimeMax )
; 7264 : 	//	//{
; 7265 : 	//	//	Time = g_SkillAdditionInfo.m_IncreaseBlockTimeMax;
; 7266 : 	//	//}
; 7267 : 	//}
; 7268 : 	//else
; 7269 : 	//{
; 7270 : 	//	return FALSE;
; 7271 : 	//}
; 7272 : 
; 7273 : 	//if( partynum == -1 )
; 7274 : 	//{
; 7275 : 	//	if( lpMagic->m_Skill == 267 )
; 7276 : 	//	{
; 7277 : 	//		gObjApplyBuffEffectDuration(lpObj,130,11,nEffectValue,0,0,Time);
; 7278 : 	//		GCMagicAttackNumberSend(lpObj,267,lpObj->m_Index,TRUE);
; 7279 : 	//		gObjCalCharacter(lpObj->m_Index);
; 7280 : 	//	}
; 7281 : 	//	else if( lpMagic->m_Skill == 268 )
; 7282 : 	//	{
; 7283 : 	//		gObjApplyBuffEffectDuration(lpObj,131,74,nEffectValue,0,0,Time);
; 7284 : 	//		GCMagicAttackNumberSend(lpObj,268,lpObj->m_Index,TRUE);
; 7285 : 	//	}
; 7286 : 	//}
; 7287 : 	//else
; 7288 : 	//{
; 7289 : 	//	for(int n = 0; n < MAX_USER_IN_PARTY; n++)
; 7290 : 	//	{
; 7291 : 	//		if( ApplyPartyIndex[n] != -1 )
; 7292 : 	//		{
; 7293 : 	//			lpPartyObj = &gObj[ApplyPartyIndex[n]];
; 7294 : 	//			if( lpMagic->m_Skill == 267 )
; 7295 : 	//			{
; 7296 : 	//				gObjApplyBuffEffectDuration(lpPartyObj,130,11,nEffectValue,0,0,Time);
; 7297 : 	//				GCMagicAttackNumberSend(lpPartyObj,267,lpPartyObj->m_Index,TRUE);
; 7298 : 	//				gObjCalCharacter(lpPartyObj->m_Index);
; 7299 : 	//			}
; 7300 : 	//			else if( lpMagic->m_Skill == 268 )
; 7301 : 	//			{
; 7302 : 	//				//71, but why?
; 7303 : 	//				gObjApplyBuffEffectDuration(lpPartyObj,131,74,nEffectValue,0,0,Time);
; 7304 : 	//				GCMagicAttackNumberSend(lpPartyObj,268,lpPartyObj->m_Index,TRUE);
; 7305 : 	//			}
; 7306 : 	//		}
; 7307 : 	//	}
; 7308 : 	//}
; 7309 : 	//return TRUE;
; 7310 : 
; 7311 : 
; 7312 : 	int skillSuccess = TRUE;
; 7313 : 	LPOBJ lpObj = &gObj[aIndex];

  00014	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001a	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 7314 : 	int number;
; 7315 : 
; 7316 : 	if( lpObj->Type != OBJ_USER && lpObj->m_RecallMon == -1 )

  00020	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  00025	74 1c		 je	 SHORT $LN37@SkillMonkB@2
  00027	83 be 50 04 00
	00 ff		 cmp	 DWORD PTR [esi+1104], -1
  0002e	75 13		 jne	 SHORT $LN37@SkillMonkB@2
$LN50@SkillMonkB@2:

; 7317 : 		return FALSE;

  00030	33 c0		 xor	 eax, eax
  00032	5e		 pop	 esi

; 7433 : }

  00033	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00036	33 cd		 xor	 ecx, ebp
  00038	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0003d	8b e5		 mov	 esp, ebp
  0003f	5d		 pop	 ebp
  00040	c2 08 00	 ret	 8
$LN37@SkillMonkB@2:

; 7318 : 
; 7319 : 	if( lpObj->Class != CLASS_MONK )

  00043	66 83 be b8 00
	00 00 06	 cmp	 WORD PTR [esi+184], 6

; 7320 : 		return FALSE;

  0004b	75 e3		 jne	 SHORT $LN50@SkillMonkB@2

; 7321 : 
; 7322 : 	int partynum = 0;
; 7323 : 	int partycount;
; 7324 : 	int dis;
; 7325 : 	int ApplyPartyIndex[MAX_USER_IN_PARTY];
; 7326 : 	int nEffectValue;
; 7327 : 	memset(ApplyPartyIndex,-1,sizeof(ApplyPartyIndex));

  0004d	83 c8 ff	 or	 eax, -1
  00050	53		 push	 ebx

; 7328 : 	LPOBJ lpPartyObj;
; 7329 : 
; 7330 : 	partynum = lpObj->PartyNumber;

  00051	8b 9e 2c 04 00
	00		 mov	 ebx, DWORD PTR [esi+1068]
  00057	57		 push	 edi
  00058	89 45 d4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp], eax
  0005b	89 45 d8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+4], eax
  0005e	89 45 dc	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+8], eax
  00061	89 45 e0	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+12], eax
  00064	89 45 e4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+16], eax
  00067	89 45 e8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+20], eax
  0006a	89 45 ec	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+24], eax
  0006d	89 45 f0	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+28], eax
  00070	89 45 f4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+32], eax
  00073	89 45 f8	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+36], eax
  00076	89 5d cc	 mov	 DWORD PTR _partynum$[ebp], ebx

; 7331 : 
; 7332 : 	if( partynum != -1 )

  00079	3b d8		 cmp	 ebx, eax
  0007b	74 5e		 je	 SHORT $LN38@SkillMonkB@2

; 7333 : 	{
; 7334 : 		partycount = gParty.m_PartyS[partynum].Count;
; 7335 : 
; 7336 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  0007d	6b db 68	 imul	 ebx, 104		; 00000068H
  00080	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _n$224390[ebp], 0
  00087	81 c3 0c 00 00
	00		 add	 ebx, OFFSET ?gParty@@3VPartyClass@@A+12
  0008d	8d 49 00	 npad	 3
$LL43@SkillMonkB@2:

; 7337 : 		{
; 7338 : 			number = gParty.m_PartyS[partynum].Number[n];

  00090	8b 03		 mov	 eax, DWORD PTR [ebx]

; 7339 : 
; 7340 : 			if( number >= 0 )

  00092	85 c0		 test	 eax, eax
  00094	78 36		 js	 SHORT $LN25@SkillMonkB@2

; 7341 : 			{
; 7342 : 				lpPartyObj = &gObj[number];

  00096	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009c	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H

; 7343 : 
; 7344 : 
; 7345 : 				if( lpPartyObj->MapNumber == lpObj->MapNumber )

  000a2	8a 94 08 49 01
	00 00		 mov	 dl, BYTE PTR [eax+ecx+329]
  000a9	8d 3c 08	 lea	 edi, DWORD PTR [eax+ecx]
  000ac	3a 96 49 01 00
	00		 cmp	 dl, BYTE PTR [esi+329]
  000b2	75 18		 jne	 SHORT $LN25@SkillMonkB@2

; 7346 : 				{
; 7347 : 					dis = gObjCalDistance(lpObj,&gObj[number]);

  000b4	57		 push	 edi
  000b5	56		 push	 esi
  000b6	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000bb	83 c4 08	 add	 esp, 8

; 7348 : 					if( dis < 4 )

  000be	83 f8 04	 cmp	 eax, 4
  000c1	7d 09		 jge	 SHORT $LN25@SkillMonkB@2

; 7349 : 					{
; 7350 : 						ApplyPartyIndex[n] = lpPartyObj->m_Index;

  000c3	8b 07		 mov	 eax, DWORD PTR [edi]
  000c5	8b 4d d0	 mov	 ecx, DWORD PTR _n$224390[ebp]
  000c8	89 44 8d d4	 mov	 DWORD PTR _ApplyPartyIndex$[ebp+ecx*4], eax
$LN25@SkillMonkB@2:

; 7333 : 	{
; 7334 : 		partycount = gParty.m_PartyS[partynum].Count;
; 7335 : 
; 7336 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  000cc	8b 45 d0	 mov	 eax, DWORD PTR _n$224390[ebp]
  000cf	40		 inc	 eax
  000d0	83 c3 04	 add	 ebx, 4
  000d3	89 45 d0	 mov	 DWORD PTR _n$224390[ebp], eax
  000d6	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  000d9	7c b5		 jl	 SHORT $LL43@SkillMonkB@2
$LN38@SkillMonkB@2:

; 7351 : 					}
; 7352 : 				}
; 7353 : 			}
; 7354 : 		}
; 7355 : 	}
; 7356 : 
; 7357 : 	int Time = 0;
; 7358 : 
; 7359 : 	if( lpMagic->m_Skill == 267 )

  000db	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  000de	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000e1	89 45 c8	 mov	 DWORD PTR tv365[ebp], eax
  000e4	3d 0b 01 00 00	 cmp	 eax, 267		; 0000010bH
  000e9	75 66		 jne	 SHORT $LN20@SkillMonkB@2

; 7360 : 	{
; 7361 : 		nEffectValue = g_SkillAdditionInfo.IncreaseHealthEffectStart + (lpObj->Energy+lpObj->AddEnergy-g_SkillAdditionInfo.IncreaseHealthEffectSub)/g_SkillAdditionInfo.IncreaseHealthEffectDiv;

  000eb	0f b7 0d e2 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3042
  000f2	0f bf 86 26 01
	00 00		 movsx	 eax, WORD PTR [esi+294]
  000f9	0f b7 be fa 00
	00 00		 movzx	 edi, WORD PTR [esi+250]
  00100	0f b7 15 e0 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3040
  00107	2b c1		 sub	 eax, ecx
  00109	03 c7		 add	 eax, edi
  0010b	89 45 d0	 mov	 DWORD PTR tv543[ebp], eax
  0010e	db 45 d0	 fild	 DWORD PTR tv543[ebp]
  00111	89 55 d0	 mov	 DWORD PTR tv541[ebp], edx
  00114	d8 35 e4 0b 00
	00		 fdiv	 DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3044
  0011a	db 45 d0	 fild	 DWORD PTR tv541[ebp]
  0011d	de c1		 faddp	 ST(1), ST(0)
  0011f	e8 00 00 00 00	 call	 __ftol2_sse
  00124	8b d8		 mov	 ebx, eax

; 7362 : 
; 7363 : 		if( g_SkillAdditionInfo.IncreaseHealthEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.IncreaseHealthEffectMax )

  00126	a1 e8 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3048
  0012b	85 c0		 test	 eax, eax
  0012d	74 06		 je	 SHORT $LN19@SkillMonkB@2
  0012f	3b d8		 cmp	 ebx, eax
  00131	76 02		 jbe	 SHORT $LN19@SkillMonkB@2

; 7364 : 		{
; 7365 : 			nEffectValue = g_SkillAdditionInfo.IncreaseHealthEffectMax;

  00133	8b d8		 mov	 ebx, eax
$LN19@SkillMonkB@2:

; 7366 : 		}
; 7367 : 
; 7368 : 		Time = g_SkillAdditionInfo.IncreaseHealthTimeStart+lpObj->Energy/g_SkillAdditionInfo.IncreaseHealthTimeDiv;

  00135	0f b7 0d ee 0b
	00 00		 movzx	 ecx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3054
  0013c	8b c7		 mov	 eax, edi
  0013e	99		 cdq
  0013f	f7 f9		 idiv	 ecx
  00141	0f b7 3d ec 0b
	00 00		 movzx	 edi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3052
  00148	03 f8		 add	 edi, eax

; 7369 : 
; 7370 : 		if( g_SkillAdditionInfo.IncreaseHealthTimeMax > 0 && Time > g_SkillAdditionInfo.IncreaseHealthTimeMax )

  0014a	a1 f0 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3056

; 7371 : 		{
; 7372 : 			Time = g_SkillAdditionInfo.IncreaseHealthTimeMax;
; 7373 : 		}
; 7374 : 	}

  0014f	eb 62		 jmp	 SHORT $LN49@SkillMonkB@2
$LN20@SkillMonkB@2:

; 7375 : 	else if( lpMagic->m_Skill == 268 )

  00151	3d 0c 01 00 00	 cmp	 eax, 268		; 0000010cH
  00156	0f 85 b0 01 00
	00		 jne	 $LN16@SkillMonkB@2

; 7376 : 	{
; 7377 : 		nEffectValue = g_SkillAdditionInfo.IncreaseBlockEffectStart + (lpObj->Energy+lpObj->AddEnergy-g_SkillAdditionInfo.IncreaseBlockEffectSub)/g_SkillAdditionInfo.IncreaseBlockEffectDiv;

  0015c	0f b7 15 f6 0b
	00 00		 movzx	 edx, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3062
  00163	0f bf 86 26 01
	00 00		 movsx	 eax, WORD PTR [esi+294]
  0016a	0f b7 8e fa 00
	00 00		 movzx	 ecx, WORD PTR [esi+250]
  00171	0f b7 3d f8 0b
	00 00		 movzx	 edi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3064
  00178	2b c2		 sub	 eax, edx
  0017a	03 c1		 add	 eax, ecx
  0017c	99		 cdq
  0017d	f7 ff		 idiv	 edi
  0017f	8b d8		 mov	 ebx, eax
  00181	0f b7 05 f4 0b
	00 00		 movzx	 eax, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3060
  00188	03 d8		 add	 ebx, eax

; 7378 : 
; 7379 : 		if( g_SkillAdditionInfo.IncreaseBlockEffectMax > 0 && nEffectValue > g_SkillAdditionInfo.IncreaseBlockEffectMax )

  0018a	a1 fc 0b 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3068
  0018f	85 c0		 test	 eax, eax
  00191	74 06		 je	 SHORT $LN15@SkillMonkB@2
  00193	3b d8		 cmp	 ebx, eax
  00195	76 02		 jbe	 SHORT $LN15@SkillMonkB@2

; 7380 : 		{
; 7381 : 			nEffectValue = g_SkillAdditionInfo.IncreaseBlockEffectMax;

  00197	8b d8		 mov	 ebx, eax
$LN15@SkillMonkB@2:

; 7382 : 		}
; 7383 : 
; 7384 : 		Time = g_SkillAdditionInfo.IncreaseBlockTimeStart+lpObj->Energy/g_SkillAdditionInfo.IncreaseBlockTimeDiv;

  00199	0f b7 3d 02 0c
	00 00		 movzx	 edi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3074
  001a0	8b c1		 mov	 eax, ecx
  001a2	99		 cdq
  001a3	f7 ff		 idiv	 edi
  001a5	0f b7 3d 00 0c
	00 00		 movzx	 edi, WORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3072
  001ac	03 f8		 add	 edi, eax

; 7385 : 
; 7386 : 		if( g_SkillAdditionInfo.IncreaseBlockTimeMax > 0 && Time > g_SkillAdditionInfo.IncreaseBlockTimeMax )

  001ae	a1 04 0c 00 00	 mov	 eax, DWORD PTR ?g_SkillAdditionInfo@@3VCSkillAdditionInfo@@A+3076
$LN49@SkillMonkB@2:
  001b3	85 c0		 test	 eax, eax
  001b5	74 06		 je	 SHORT $LN39@SkillMonkB@2
  001b7	3b f8		 cmp	 edi, eax
  001b9	76 02		 jbe	 SHORT $LN39@SkillMonkB@2

; 7387 : 		{
; 7388 : 			Time = g_SkillAdditionInfo.IncreaseBlockTimeMax;

  001bb	8b f8		 mov	 edi, eax
$LN39@SkillMonkB@2:

; 7389 : 		}
; 7390 : 	}
; 7391 : 	else
; 7392 : 	{
; 7393 : 		return FALSE;
; 7394 : 	}
; 7395 : 
; 7396 : 	if( partynum == -1 )

  001bd	83 7d cc ff	 cmp	 DWORD PTR _partynum$[ebp], -1
  001c1	0f 85 99 00 00
	00		 jne	 $LN12@SkillMonkB@2

; 7397 : 	{
; 7398 : 		if( lpMagic->m_Skill == 267 )

  001c7	8b 45 c8	 mov	 eax, DWORD PTR tv365[ebp]
  001ca	3d 0b 01 00 00	 cmp	 eax, 267		; 0000010bH
  001cf	75 46		 jne	 SHORT $LN11@SkillMonkB@2

; 7399 : 		{
; 7400 : 			gObjApplyBuffEffectDuration(lpObj,130,ADD_OPTION_VITALITY_MONK,nEffectValue,0,0,Time);

  001d1	57		 push	 edi
  001d2	6a 00		 push	 0
  001d4	6a 00		 push	 0
  001d6	53		 push	 ebx
  001d7	6a 0b		 push	 11			; 0000000bH
  001d9	68 82 00 00 00	 push	 130			; 00000082H
  001de	56		 push	 esi
  001df	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 7401 : 			GCMagicAttackNumberSend(lpObj,267,lpObj->m_Index,TRUE);

  001e4	8b 16		 mov	 edx, DWORD PTR [esi]
  001e6	6a 01		 push	 1
  001e8	52		 push	 edx
  001e9	68 0b 01 00 00	 push	 267			; 0000010bH
  001ee	56		 push	 esi
  001ef	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 7402 : 			gObjCalCharacter(lpObj->m_Index);

  001f4	8b 06		 mov	 eax, DWORD PTR [esi]
  001f6	50		 push	 eax
  001f7	e8 00 00 00 00	 call	 ?gObjCalCharacter@@YAXH@Z ; gObjCalCharacter
  001fc	83 c4 30	 add	 esp, 48			; 00000030H
  001ff	5f		 pop	 edi
  00200	5b		 pop	 ebx

; 7428 : 				}
; 7429 : 			}
; 7430 : 		}
; 7431 : 	}
; 7432 : 	return TRUE;

  00201	b8 01 00 00 00	 mov	 eax, 1
  00206	5e		 pop	 esi

; 7433 : }

  00207	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0020a	33 cd		 xor	 ecx, ebp
  0020c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00211	8b e5		 mov	 esp, ebp
  00213	5d		 pop	 ebp
  00214	c2 08 00	 ret	 8
$LN11@SkillMonkB@2:

; 7403 : 		}
; 7404 : 		else if( lpMagic->m_Skill == 268 )

  00217	3d 0c 01 00 00	 cmp	 eax, 268		; 0000010cH
  0021c	0f 85 d2 00 00
	00		 jne	 $LN41@SkillMonkB@2

; 7405 : 		{
; 7406 : 			gObjApplyBuffEffectDuration(lpObj,131,ADD_OPTION_SUCCESSFULBLOCKING,nEffectValue,0,0,Time);

  00222	57		 push	 edi
  00223	6a 00		 push	 0
  00225	6a 00		 push	 0
  00227	53		 push	 ebx
  00228	6a 4a		 push	 74			; 0000004aH
  0022a	68 83 00 00 00	 push	 131			; 00000083H
  0022f	56		 push	 esi
  00230	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 7407 : 			GCMagicAttackNumberSend(lpObj,268,lpObj->m_Index,TRUE);

  00235	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00237	6a 01		 push	 1
  00239	51		 push	 ecx
  0023a	68 0c 01 00 00	 push	 268			; 0000010cH
  0023f	56		 push	 esi
  00240	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00245	83 c4 2c	 add	 esp, 44			; 0000002cH
  00248	5f		 pop	 edi
  00249	5b		 pop	 ebx

; 7428 : 				}
; 7429 : 			}
; 7430 : 		}
; 7431 : 	}
; 7432 : 	return TRUE;

  0024a	b8 01 00 00 00	 mov	 eax, 1
  0024f	5e		 pop	 esi

; 7433 : }

  00250	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00253	33 cd		 xor	 ecx, ebp
  00255	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0025a	8b e5		 mov	 esp, ebp
  0025c	5d		 pop	 ebp
  0025d	c2 08 00	 ret	 8
$LN12@SkillMonkB@2:

; 7408 : 		}
; 7409 : 	}
; 7410 : 	else
; 7411 : 	{
; 7412 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  00260	33 c0		 xor	 eax, eax
  00262	89 45 d0	 mov	 DWORD PTR _n$224411[ebp], eax
$LL44@SkillMonkB@2:

; 7413 : 		{
; 7414 : 			if( ApplyPartyIndex[n] != -1 )

  00265	8b 74 85 d4	 mov	 esi, DWORD PTR _ApplyPartyIndex$[ebp+eax*4]
  00269	83 fe ff	 cmp	 esi, -1
  0026c	74 76		 je	 SHORT $LN6@SkillMonkB@2

; 7415 : 			{
; 7416 : 				lpPartyObj = &gObj[ApplyPartyIndex[n]];
; 7417 : 				if( lpMagic->m_Skill == 267 )

  0026e	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00271	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00277	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0027a	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00280	3d 0b 01 00 00	 cmp	 eax, 267		; 0000010bH
  00285	75 30		 jne	 SHORT $LN3@SkillMonkB@2

; 7418 : 				{
; 7419 : 					gObjApplyBuffEffectDuration(lpPartyObj,130,ADD_OPTION_VITALITY_MONK,nEffectValue,0,0,Time);

  00287	57		 push	 edi
  00288	6a 00		 push	 0
  0028a	6a 00		 push	 0
  0028c	53		 push	 ebx
  0028d	6a 0b		 push	 11			; 0000000bH
  0028f	68 82 00 00 00	 push	 130			; 00000082H
  00294	56		 push	 esi
  00295	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 7420 : 					GCMagicAttackNumberSend(lpPartyObj,267,lpPartyObj->m_Index,TRUE);

  0029a	8b 06		 mov	 eax, DWORD PTR [esi]
  0029c	6a 01		 push	 1
  0029e	50		 push	 eax
  0029f	68 0b 01 00 00	 push	 267			; 0000010bH
  002a4	56		 push	 esi
  002a5	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 7421 : 					gObjCalCharacter(lpPartyObj->m_Index);

  002aa	8b 0e		 mov	 ecx, DWORD PTR [esi]
  002ac	51		 push	 ecx
  002ad	e8 00 00 00 00	 call	 ?gObjCalCharacter@@YAXH@Z ; gObjCalCharacter
  002b2	83 c4 30	 add	 esp, 48			; 00000030H
  002b5	eb 2d		 jmp	 SHORT $LN6@SkillMonkB@2
$LN3@SkillMonkB@2:

; 7422 : 				}
; 7423 : 				else if( lpMagic->m_Skill == 268 )

  002b7	3d 0c 01 00 00	 cmp	 eax, 268		; 0000010cH
  002bc	75 26		 jne	 SHORT $LN6@SkillMonkB@2

; 7424 : 				{
; 7425 : 					//71, but why?
; 7426 : 					gObjApplyBuffEffectDuration(lpPartyObj,131,ADD_OPTION_SUCCESSFULBLOCKING,nEffectValue,0,0,Time);

  002be	57		 push	 edi
  002bf	6a 00		 push	 0
  002c1	6a 00		 push	 0
  002c3	53		 push	 ebx
  002c4	6a 4a		 push	 74			; 0000004aH
  002c6	68 83 00 00 00	 push	 131			; 00000083H
  002cb	56		 push	 esi
  002cc	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration

; 7427 : 					GCMagicAttackNumberSend(lpPartyObj,268,lpPartyObj->m_Index,TRUE);

  002d1	8b 16		 mov	 edx, DWORD PTR [esi]
  002d3	6a 01		 push	 1
  002d5	52		 push	 edx
  002d6	68 0c 01 00 00	 push	 268			; 0000010cH
  002db	56		 push	 esi
  002dc	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  002e1	83 c4 2c	 add	 esp, 44			; 0000002cH
$LN6@SkillMonkB@2:

; 7408 : 		}
; 7409 : 	}
; 7410 : 	else
; 7411 : 	{
; 7412 : 		for(int n = 0; n < MAX_USER_IN_PARTY; n++)

  002e4	8b 45 d0	 mov	 eax, DWORD PTR _n$224411[ebp]
  002e7	40		 inc	 eax
  002e8	89 45 d0	 mov	 DWORD PTR _n$224411[ebp], eax
  002eb	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  002ee	0f 8c 71 ff ff
	ff		 jl	 $LL44@SkillMonkB@2
$LN41@SkillMonkB@2:
  002f4	5f		 pop	 edi
  002f5	5b		 pop	 ebx

; 7428 : 				}
; 7429 : 			}
; 7430 : 		}
; 7431 : 	}
; 7432 : 	return TRUE;

  002f6	b8 01 00 00 00	 mov	 eax, 1
  002fb	5e		 pop	 esi

; 7433 : }

  002fc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002ff	33 cd		 xor	 ecx, ebp
  00301	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00306	8b e5		 mov	 esp, ebp
  00308	5d		 pop	 ebp
  00309	c2 08 00	 ret	 8
$LN16@SkillMonkB@2:
  0030c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0030f	5f		 pop	 edi
  00310	5b		 pop	 ebx
  00311	33 cd		 xor	 ecx, ebp
  00313	33 c0		 xor	 eax, eax
  00315	5e		 pop	 esi
  00316	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0031b	8b e5		 mov	 esp, ebp
  0031d	5d		 pop	 ebp
  0031e	c2 08 00	 ret	 8
?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillMonkBuffApplyParty
_TEXT	ENDS
PUBLIC	?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillCharge
; Function compile flags: /Ogtp
;	COMDAT ?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_aTargetIndex$ = 16					; size = 4
?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z PROC	; CObjUseSkill::SkillCharge, COMDAT
; _this$ = ecx

; 7804 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 7805 : 	if( !OBJMAX_RANGE(aIndex) )

  00003	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	78 0e		 js	 SHORT $LN6@SkillCharg
  0000a	33 c9		 xor	 ecx, ecx
  0000c	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  00011	0f 9e c1	 setle	 cl
  00014	85 c9		 test	 ecx, ecx
  00016	75 06		 jne	 SHORT $LN1@SkillCharg
$LN6@SkillCharg:

; 7806 : 	{
; 7807 : 		return false;

  00018	33 c0		 xor	 eax, eax

; 7821 : }

  0001a	5d		 pop	 ebp
  0001b	c2 0c 00	 ret	 12			; 0000000cH
$LN1@SkillCharg:

; 7808 : 	}
; 7809 : 	// ----
; 7810 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00024	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002a	53		 push	 ebx

; 7811 : 	// ----
; 7812 : 	//if( lpObj->MapNumber != 30 && lpObj->MapNumber != 31 )	//Castle Siege?
; 7813 : 	//{
; 7814 : 	//	return false;
; 7815 : 	//}
; 7816 : 	// ----
; 7817 : 	GCMagicAttackNumberSend(lpObj, lpMagic->m_Skill, aTargetIndex, 1);

  0002b	8b 5d 0c	 mov	 ebx, DWORD PTR _lpMagic$[ebp]
  0002e	56		 push	 esi
  0002f	8b 75 10	 mov	 esi, DWORD PTR _aTargetIndex$[ebp]
  00032	57		 push	 edi
  00033	8b f8		 mov	 edi, eax
  00035	0f b7 43 08	 movzx	 eax, WORD PTR [ebx+8]
  00039	6a 01		 push	 1
  0003b	56		 push	 esi
  0003c	50		 push	 eax
  0003d	57		 push	 edi
  0003e	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 7818 : 	gObjAttack(lpObj, &gObj[aTargetIndex], lpMagic, 0, 1, 0, 0, 0, 0);

  00043	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00049	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0004f	6a 00		 push	 0
  00051	6a 00		 push	 0
  00053	6a 00		 push	 0
  00055	6a 00		 push	 0
  00057	6a 01		 push	 1
  00059	6a 00		 push	 0
  0005b	53		 push	 ebx
  0005c	56		 push	 esi
  0005d	57		 push	 edi
  0005e	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00063	83 c4 34	 add	 esp, 52			; 00000034H
  00066	5f		 pop	 edi
  00067	5e		 pop	 esi

; 7819 : 	// ----
; 7820 : 	return true;

  00068	b8 01 00 00 00	 mov	 eax, 1
  0006d	5b		 pop	 ebx

; 7821 : }

  0006e	5d		 pop	 ebp
  0006f	c2 0c 00	 ret	 12			; 0000000cH
?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z ENDP	; CObjUseSkill::SkillCharge
_TEXT	ENDS
PUBLIC	_sqrtf
EXTRN	__CIsqrt:PROC
; Function compile flags: /Ogtp
; File d:\program files (x86)\microsoft visual studio 10.0\vc\include\math.h
;	COMDAT _sqrtf
_TEXT	SEGMENT
tv69 = 8						; size = 4
__X$ = 8						; size = 4
_sqrtf	PROC						; COMDAT

; 434  :         {return ((float)sqrt((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00006	e8 00 00 00 00	 call	 __CIsqrt
  0000b	d9 5d 08	 fstp	 DWORD PTR tv69[ebp]
  0000e	d9 45 08	 fld	 DWORD PTR tv69[ebp]
  00011	5d		 pop	 ebp
  00012	c3		 ret	 0
_sqrtf	ENDP
_TEXT	ENDS
PUBLIC	?sqrt@@YAMM@Z					; sqrt
; Function compile flags: /Ogtp
;	COMDAT ?sqrt@@YAMM@Z
_TEXT	SEGMENT
tv73 = 8						; size = 4
__X$ = 8						; size = 4
?sqrt@@YAMM@Z PROC					; sqrt, COMDAT

; 542  :         {return (sqrtf(_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00006	e8 00 00 00 00	 call	 __CIsqrt
  0000b	d9 5d 08	 fstp	 DWORD PTR tv73[ebp]
  0000e	d9 45 08	 fld	 DWORD PTR tv73[ebp]
  00011	5d		 pop	 ebp
  00012	c3		 ret	 0
?sqrt@@YAMM@Z ENDP					; sqrt
_TEXT	ENDS
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Ogtp
;	COMDAT ??_GCObjUseSkill@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCObjUseSkill@@UAEPAXI@Z PROC			; CObjUseSkill::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CObjUseSkill@@UAE@XZ	; CObjUseSkill::~CObjUseSkill
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 09		 je	 SHORT $LN4@scalar
  00011	56		 push	 esi
  00012	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00017	83 c4 04	 add	 esp, 4
$LN4@scalar:
  0001a	8b c6		 mov	 eax, esi
  0001c	5e		 pop	 esi
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
??_GCObjUseSkill@@UAEPAXI@Z ENDP			; CObjUseSkill::`scalar deleting destructor'
_TEXT	ENDS
PUBLIC	?GetTargetLinePath@CObjUseSkill@@QAEHHHHHPAH0H@Z ; CObjUseSkill::GetTargetLinePath
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\objuseskill.cpp
;	COMDAT ?GetTargetLinePath@CObjUseSkill@@QAEHHHHHPAH0H@Z
_TEXT	SEGMENT
tv539 = -16						; size = 4
tv533 = -16						; size = 4
_incx$ = -12						; size = 4
_incy$ = -8						; size = 4
_error$ = -4						; size = 4
_delta_x$ = 8						; size = 4
_sx$ = 8						; size = 4
_delta_y$ = 12						; size = 4
_sy$ = 12						; size = 4
$T225989 = 16						; size = 4
_x$ = 16						; size = 4
_count$ = 16						; size = 4
_tx$ = 16						; size = 4
_ty$ = 20						; size = 4
tv384 = 24						; size = 4
_PathX$ = 24						; size = 4
_PathY$ = 28						; size = 4
_half$ = 32						; size = 4
_distance$ = 32						; size = 4
?GetTargetLinePath@CObjUseSkill@@QAEHHHHHPAH0H@Z PROC	; CObjUseSkill::GetTargetLinePath, COMDAT
; _this$ = ecx

; 46   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	53		 push	 ebx

; 47   : 	int x,y;
; 48   : 	int delta_x,delta_y;
; 49   : 	int half;
; 50   : 
; 51   : 	int error = 0;
; 52   : 
; 53   : 	int incx = 1,incy = 1;

  00007	b8 01 00 00 00	 mov	 eax, 1
  0000c	56		 push	 esi

; 54   : 	int dis;
; 55   : 	int count;
; 56   : 
; 57   : 	if(sx > tx)

  0000d	8b 75 08	 mov	 esi, DWORD PTR _sx$[ebp]
  00010	89 45 f4	 mov	 DWORD PTR _incx$[ebp], eax
  00013	89 45 f8	 mov	 DWORD PTR _incy$[ebp], eax
  00016	8b 45 10	 mov	 eax, DWORD PTR _tx$[ebp]
  00019	57		 push	 edi
  0001a	83 cf ff	 or	 edi, -1
  0001d	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _error$[ebp], 0
  00024	3b f0		 cmp	 esi, eax
  00026	7e 0c		 jle	 SHORT $LN26@GetTargetL

; 58   : 	{
; 59   : 		incx = -1;
; 60   : 		delta_x = sx - tx;

  00028	8b ce		 mov	 ecx, esi
  0002a	2b c8		 sub	 ecx, eax
  0002c	89 7d f4	 mov	 DWORD PTR _incx$[ebp], edi
  0002f	89 4d 08	 mov	 DWORD PTR _delta_x$[ebp], ecx

; 61   : 	}
; 62   : 	else

  00032	eb 07		 jmp	 SHORT $LN25@GetTargetL
$LN26@GetTargetL:

; 63   : 	{
; 64   : 		delta_x = tx - sx;

  00034	2b c6		 sub	 eax, esi
  00036	89 45 08	 mov	 DWORD PTR _delta_x$[ebp], eax
  00039	8b c8		 mov	 ecx, eax
$LN25@GetTargetL:

; 65   : 	}
; 66   : 
; 67   : 	if(sy > ty)

  0003b	8b 5d 0c	 mov	 ebx, DWORD PTR _sy$[ebp]
  0003e	8b 55 14	 mov	 edx, DWORD PTR _ty$[ebp]
  00041	3b da		 cmp	 ebx, edx
  00043	7e 09		 jle	 SHORT $LN24@GetTargetL

; 68   : 	{
; 69   : 		incy = -1;
; 70   : 		delta_y = sy - ty;

  00045	8b c3		 mov	 eax, ebx
  00047	89 7d f8	 mov	 DWORD PTR _incy$[ebp], edi
  0004a	2b c2		 sub	 eax, edx

; 71   : 	}
; 72   : 	else

  0004c	eb 04		 jmp	 SHORT $LN47@GetTargetL
$LN24@GetTargetL:

; 73   : 	{
; 74   : 		delta_y = ty - sy;

  0004e	8b c2		 mov	 eax, edx
  00050	2b c3		 sub	 eax, ebx
$LN47@GetTargetL:
  00052	89 45 0c	 mov	 DWORD PTR _delta_y$[ebp], eax

; 75   : 	}
; 76   : 
; 77   : 	dis = (int)(sqrt((float)(delta_x * delta_x + delta_y * delta_y)));

  00055	0f af c0	 imul	 eax, eax
  00058	0f af c9	 imul	 ecx, ecx
  0005b	03 c1		 add	 eax, ecx

; 78   : 	dis = distance - dis;

  0005d	89 45 f0	 mov	 DWORD PTR tv539[ebp], eax
  00060	db 45 f0	 fild	 DWORD PTR tv539[ebp]
  00063	e8 00 00 00 00	 call	 __CIsqrt
  00068	d9 5d f0	 fstp	 DWORD PTR tv533[ebp]
  0006b	d9 45 f0	 fld	 DWORD PTR tv533[ebp]
  0006e	e8 00 00 00 00	 call	 __ftol2_sse
  00073	8b 7d 20	 mov	 edi, DWORD PTR _distance$[ebp]

; 79   : 
; 80   : 	count = 0;
; 81   : 	PathX[count] = sx;
; 82   : 	PathY[count] = sy;

  00076	8b 4d 1c	 mov	 ecx, DWORD PTR _PathY$[ebp]
  00079	2b f8		 sub	 edi, eax
  0007b	8b 45 18	 mov	 eax, DWORD PTR _PathX$[ebp]
  0007e	89 30		 mov	 DWORD PTR [eax], esi

; 83   : 	count++;
; 84   : 
; 85   : 	if(delta_x > delta_y)

  00080	8b 45 0c	 mov	 eax, DWORD PTR _delta_y$[ebp]
  00083	89 19		 mov	 DWORD PTR [ecx], ebx
  00085	39 45 08	 cmp	 DWORD PTR _delta_x$[ebp], eax
  00088	0f 8e c4 00 00
	00		 jle	 $LN22@GetTargetL

; 86   : 	{
; 87   : 		y = sy;
; 88   : 		half = delta_x / 2;

  0008e	8b 45 08	 mov	 eax, DWORD PTR _delta_x$[ebp]
  00091	99		 cdq
  00092	2b c2		 sub	 eax, edx
  00094	d1 f8		 sar	 eax, 1

; 89   : 
; 90   : 		if(incx > 0)

  00096	83 7d f4 00	 cmp	 DWORD PTR _incx$[ebp], 0
  0009a	89 45 20	 mov	 DWORD PTR _half$[ebp], eax
  0009d	7e 4f		 jle	 SHORT $LN21@GetTargetL

; 91   : 		{
; 92   : 			for(x = (sx+1); x <= (tx + dis); x++)

  0009f	03 7d 10	 add	 edi, DWORD PTR _tx$[ebp]
  000a2	46		 inc	 esi
  000a3	89 7d 10	 mov	 DWORD PTR $T225989[ebp], edi
  000a6	3b f7		 cmp	 esi, edi
  000a8	0f 8f 58 01 00
	00		 jg	 $LN44@GetTargetL
  000ae	8b 45 10	 mov	 eax, DWORD PTR $T225989[ebp]
  000b1	8b 7d 18	 mov	 edi, DWORD PTR _PathX$[ebp]
  000b4	2b c6		 sub	 eax, esi
  000b6	2b f9		 sub	 edi, ecx
  000b8	8d 51 04	 lea	 edx, DWORD PTR [ecx+4]
  000bb	83 c0 02	 add	 eax, 2
  000be	8b ff		 npad	 2
$LL20@GetTargetL:

; 93   : 			{
; 94   : 				error += delta_y;

  000c0	8b 4d 0c	 mov	 ecx, DWORD PTR _delta_y$[ebp]
  000c3	01 4d fc	 add	 DWORD PTR _error$[ebp], ecx

; 95   : 
; 96   : 				if(error > half)

  000c6	8b 4d 20	 mov	 ecx, DWORD PTR _half$[ebp]
  000c9	39 4d fc	 cmp	 DWORD PTR _error$[ebp], ecx
  000cc	7e 09		 jle	 SHORT $LN17@GetTargetL

; 97   : 				{
; 98   : 					y += incy;
; 99   : 					error -= delta_x;

  000ce	8b 4d 08	 mov	 ecx, DWORD PTR _delta_x$[ebp]
  000d1	03 5d f8	 add	 ebx, DWORD PTR _incy$[ebp]
  000d4	29 4d fc	 sub	 DWORD PTR _error$[ebp], ecx
$LN17@GetTargetL:

; 100  : 				}
; 101  : 
; 102  : 				PathX[count] = x;

  000d7	89 34 17	 mov	 DWORD PTR [edi+edx], esi

; 103  : 				PathY[count] = y;

  000da	89 1a		 mov	 DWORD PTR [edx], ebx

; 104  : 
; 105  : 				count++;

  000dc	46		 inc	 esi
  000dd	83 c2 04	 add	 edx, 4
  000e0	3b 75 10	 cmp	 esi, DWORD PTR $T225989[ebp]
  000e3	7e db		 jle	 SHORT $LL20@GetTargetL
  000e5	5f		 pop	 edi
  000e6	5e		 pop	 esi
  000e7	5b		 pop	 ebx

; 168  : }

  000e8	8b e5		 mov	 esp, ebp
  000ea	5d		 pop	 ebp
  000eb	c2 1c 00	 ret	 28			; 0000001cH
$LN21@GetTargetL:

; 106  : 			}
; 107  : 		}
; 108  : 		else
; 109  : 		{
; 110  : 			for(x = (sx-1); x >= (tx - dis);x--)

  000ee	8b 45 10	 mov	 eax, DWORD PTR _tx$[ebp]
  000f1	2b c7		 sub	 eax, edi
  000f3	8d 56 ff	 lea	 edx, DWORD PTR [esi-1]
  000f6	8b f8		 mov	 edi, eax
  000f8	3b d7		 cmp	 edx, edi
  000fa	0f 8c 06 01 00
	00		 jl	 $LN44@GetTargetL
  00100	8b 45 18	 mov	 eax, DWORD PTR _PathX$[ebp]
  00103	2b c1		 sub	 eax, ecx
  00105	89 45 18	 mov	 DWORD PTR tv384[ebp], eax
  00108	8b c2		 mov	 eax, edx
  0010a	2b c7		 sub	 eax, edi
  0010c	83 c0 02	 add	 eax, 2
  0010f	8d 71 04	 lea	 esi, DWORD PTR [ecx+4]
  00112	8b 4d 20	 mov	 ecx, DWORD PTR _half$[ebp]
  00115	89 45 10	 mov	 DWORD PTR _count$[ebp], eax
  00118	eb 06 8d 9b 00
	00 00 00	 npad	 8
$LL15@GetTargetL:

; 111  : 			{
; 112  : 				error += delta_y;

  00120	8b 45 fc	 mov	 eax, DWORD PTR _error$[ebp]
  00123	03 45 0c	 add	 eax, DWORD PTR _delta_y$[ebp]
  00126	89 45 fc	 mov	 DWORD PTR _error$[ebp], eax

; 113  : 
; 114  : 				if(error > half)

  00129	3b c1		 cmp	 eax, ecx
  0012b	7e 09		 jle	 SHORT $LN12@GetTargetL

; 115  : 				{
; 116  : 					y += incy;

  0012d	03 5d f8	 add	 ebx, DWORD PTR _incy$[ebp]

; 117  : 					error -= delta_x;

  00130	2b 45 08	 sub	 eax, DWORD PTR _delta_x$[ebp]
  00133	89 45 fc	 mov	 DWORD PTR _error$[ebp], eax
$LN12@GetTargetL:

; 118  : 				}
; 119  : 
; 120  : 				PathX[count] = x;

  00136	8b 45 18	 mov	 eax, DWORD PTR tv384[ebp]
  00139	89 14 06	 mov	 DWORD PTR [esi+eax], edx

; 121  : 				PathY[count] = y;

  0013c	89 1e		 mov	 DWORD PTR [esi], ebx
  0013e	4a		 dec	 edx

; 122  : 
; 123  : 				count++;

  0013f	83 c6 04	 add	 esi, 4
  00142	3b d7		 cmp	 edx, edi
  00144	7d da		 jge	 SHORT $LL15@GetTargetL

; 164  : 			}
; 165  : 		}
; 166  : 	}
; 167  : 	return count;

  00146	8b 45 10	 mov	 eax, DWORD PTR _count$[ebp]
  00149	5f		 pop	 edi
  0014a	5e		 pop	 esi
  0014b	5b		 pop	 ebx

; 168  : }

  0014c	8b e5		 mov	 esp, ebp
  0014e	5d		 pop	 ebp
  0014f	c2 1c 00	 ret	 28			; 0000001cH
$LN22@GetTargetL:

; 124  : 			}
; 125  : 		}
; 126  : 	}
; 127  : 	else
; 128  : 	{
; 129  : 		x = sx;
; 130  : 		half = delta_y / 2;

  00152	99		 cdq
  00153	2b c2		 sub	 eax, edx
  00155	d1 f8		 sar	 eax, 1

; 131  : 
; 132  : 		if(incy > 0)

  00157	83 7d f8 00	 cmp	 DWORD PTR _incy$[ebp], 0
  0015b	89 75 10	 mov	 DWORD PTR _x$[ebp], esi
  0015e	89 45 20	 mov	 DWORD PTR _half$[ebp], eax
  00161	7e 53		 jle	 SHORT $LN10@GetTargetL

; 133  : 		{
; 134  : 			for(y = (sy+1); y <= (ty + dis);y++)

  00163	03 7d 14	 add	 edi, DWORD PTR _ty$[ebp]
  00166	8d 73 01	 lea	 esi, DWORD PTR [ebx+1]
  00169	3b f7		 cmp	 esi, edi
  0016b	0f 8f 95 00 00
	00		 jg	 $LN44@GetTargetL
  00171	8b 5d 18	 mov	 ebx, DWORD PTR _PathX$[ebp]
  00174	8d 51 04	 lea	 edx, DWORD PTR [ecx+4]
  00177	2b d9		 sub	 ebx, ecx
  00179	8b cf		 mov	 ecx, edi
  0017b	2b ce		 sub	 ecx, esi
  0017d	8d 49 00	 npad	 3
$LL9@GetTargetL:

; 135  : 			{
; 136  : 				error += delta_x;

  00180	8b 45 08	 mov	 eax, DWORD PTR _delta_x$[ebp]
  00183	01 45 fc	 add	 DWORD PTR _error$[ebp], eax

; 137  : 
; 138  : 				if(error > half)

  00186	8b 45 20	 mov	 eax, DWORD PTR _half$[ebp]
  00189	39 45 fc	 cmp	 DWORD PTR _error$[ebp], eax
  0018c	7e 0c		 jle	 SHORT $LN45@GetTargetL

; 139  : 				{
; 140  : 					x += incx;

  0018e	8b 45 f4	 mov	 eax, DWORD PTR _incx$[ebp]
  00191	01 45 10	 add	 DWORD PTR _x$[ebp], eax

; 141  : 					error -= delta_y;

  00194	8b 45 0c	 mov	 eax, DWORD PTR _delta_y$[ebp]
  00197	29 45 fc	 sub	 DWORD PTR _error$[ebp], eax
$LN45@GetTargetL:

; 142  : 				}
; 143  : 
; 144  : 				PathX[count] = x;

  0019a	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  0019d	89 04 1a	 mov	 DWORD PTR [edx+ebx], eax

; 145  : 				PathY[count] = y;

  001a0	89 32		 mov	 DWORD PTR [edx], esi

; 146  : 				count++;

  001a2	46		 inc	 esi
  001a3	83 c2 04	 add	 edx, 4
  001a6	3b f7		 cmp	 esi, edi
  001a8	7e d6		 jle	 SHORT $LL9@GetTargetL

; 164  : 			}
; 165  : 		}
; 166  : 	}
; 167  : 	return count;

  001aa	5f		 pop	 edi
  001ab	5e		 pop	 esi
  001ac	8d 41 02	 lea	 eax, DWORD PTR [ecx+2]
  001af	5b		 pop	 ebx

; 168  : }

  001b0	8b e5		 mov	 esp, ebp
  001b2	5d		 pop	 ebp
  001b3	c2 1c 00	 ret	 28			; 0000001cH
$LN10@GetTargetL:

; 147  : 			}
; 148  : 		}
; 149  : 		else
; 150  : 		{
; 151  : 			for(y = (sy-1);y >= (ty - dis);y--)

  001b6	8b 75 14	 mov	 esi, DWORD PTR _ty$[ebp]
  001b9	2b f7		 sub	 esi, edi
  001bb	8d 53 ff	 lea	 edx, DWORD PTR [ebx-1]
  001be	8b fe		 mov	 edi, esi
  001c0	3b d7		 cmp	 edx, edi
  001c2	7c 42		 jl	 SHORT $LN44@GetTargetL
  001c4	8b 5d 18	 mov	 ebx, DWORD PTR _PathX$[ebp]
  001c7	8d 71 04	 lea	 esi, DWORD PTR [ecx+4]
  001ca	2b d9		 sub	 ebx, ecx
  001cc	8b ca		 mov	 ecx, edx
  001ce	2b cf		 sub	 ecx, edi
$LL4@GetTargetL:

; 152  : 			{
; 153  : 				error += delta_x;

  001d0	8b 45 08	 mov	 eax, DWORD PTR _delta_x$[ebp]
  001d3	01 45 fc	 add	 DWORD PTR _error$[ebp], eax

; 154  : 
; 155  : 				if(error > half)

  001d6	8b 45 20	 mov	 eax, DWORD PTR _half$[ebp]
  001d9	39 45 fc	 cmp	 DWORD PTR _error$[ebp], eax
  001dc	7e 0c		 jle	 SHORT $LN46@GetTargetL

; 156  : 				{
; 157  : 					x += incx;

  001de	8b 45 f4	 mov	 eax, DWORD PTR _incx$[ebp]
  001e1	01 45 10	 add	 DWORD PTR _x$[ebp], eax

; 158  : 					error -= delta_y;

  001e4	8b 45 0c	 mov	 eax, DWORD PTR _delta_y$[ebp]
  001e7	29 45 fc	 sub	 DWORD PTR _error$[ebp], eax
$LN46@GetTargetL:

; 159  : 				}
; 160  : 
; 161  : 				PathX[count] = x;

  001ea	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  001ed	89 04 1e	 mov	 DWORD PTR [esi+ebx], eax

; 162  : 				PathY[count] = y;

  001f0	89 16		 mov	 DWORD PTR [esi], edx
  001f2	4a		 dec	 edx

; 163  : 				count++;

  001f3	83 c6 04	 add	 esi, 4
  001f6	3b d7		 cmp	 edx, edi
  001f8	7d d6		 jge	 SHORT $LL4@GetTargetL

; 164  : 			}
; 165  : 		}
; 166  : 	}
; 167  : 	return count;

  001fa	5f		 pop	 edi
  001fb	5e		 pop	 esi
  001fc	8d 41 02	 lea	 eax, DWORD PTR [ecx+2]
  001ff	5b		 pop	 ebx

; 168  : }

  00200	8b e5		 mov	 esp, ebp
  00202	5d		 pop	 ebp
  00203	c2 1c 00	 ret	 28			; 0000001cH
$LN44@GetTargetL:
  00206	5f		 pop	 edi
  00207	5e		 pop	 esi

; 164  : 			}
; 165  : 		}
; 166  : 	}
; 167  : 	return count;

  00208	b8 01 00 00 00	 mov	 eax, 1
  0020d	5b		 pop	 ebx

; 168  : }

  0020e	8b e5		 mov	 esp, ebp
  00210	5d		 pop	 ebp
  00211	c2 1c 00	 ret	 28			; 0000001cH
?GetTargetLinePath@CObjUseSkill@@QAEHHHHHPAH0H@Z ENDP	; CObjUseSkill::GetTargetLinePath
_TEXT	ENDS
PUBLIC	?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z	; CObjUseSkill::GetUseMana
EXTRN	?SkillGetMana@CMagicDamage@@QAEHH@Z:PROC	; CMagicDamage::SkillGetMana
; Function compile flags: /Ogtp
;	COMDAT ?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_mana$ = -4						; size = 4
tv187 = 8						; size = 4
tv164 = 8						; size = 4
_loc4$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::GetUseMana, COMDAT
; _this$ = ecx

; 435  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx
  00005	56		 push	 esi

; 436  : 	LPOBJ lpObj =&gObj[aIndex];

  00006	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00009	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0000f	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00015	8b d9		 mov	 ebx, ecx

; 437  : 	float mana = lpObj->Mana;
; 438  : 
; 439  : 	if ( lpObj->Type != OBJ_USER )

  00017	66 83 7e 68 01	 cmp	 WORD PTR [esi+104], 1
  0001c	d9 86 10 01 00
	00		 fld	 DWORD PTR [esi+272]
  00022	d9 5d fc	 fstp	 DWORD PTR _mana$[ebp]
  00025	74 0a		 je	 SHORT $LN4@GetUseMana

; 440  : 	{
; 441  : 		return 0;

  00027	5e		 pop	 esi
  00028	33 c0		 xor	 eax, eax
  0002a	5b		 pop	 ebx

; 467  : }

  0002b	8b e5		 mov	 esp, ebp
  0002d	5d		 pop	 ebp
  0002e	c2 08 00	 ret	 8
$LN4@GetUseMana:
  00031	57		 push	 edi

; 442  : 	}
; 443  : 
; 444  : 	if ( lpMagic == NULL )

  00032	8b 7d 0c	 mov	 edi, DWORD PTR _lpMagic$[ebp]
  00035	85 ff		 test	 edi, edi
  00037	75 0b		 jne	 SHORT $LN3@GetUseMana

; 445  : 	{
; 446  : 		return 0;

  00039	5f		 pop	 edi
  0003a	5e		 pop	 esi
  0003b	33 c0		 xor	 eax, eax
  0003d	5b		 pop	 ebx

; 467  : }

  0003e	8b e5		 mov	 esp, ebp
  00040	5d		 pop	 ebp
  00041	c2 08 00	 ret	 8
$LN3@GetUseMana:

; 447  : 	}
; 448  : 
; 449  : 	float loc4 = 0;
; 450  : 
; 451  : 	loc4 = (float)(MagicDamageC.SkillGetMana(lpMagic->m_Skill) + this->GetAddUseMana(lpObj,lpMagic));

  00044	8b 47 08	 mov	 eax, DWORD PTR [edi+8]
  00047	50		 push	 eax
  00048	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  0004d	e8 00 00 00 00	 call	 ?SkillGetMana@CMagicDamage@@QAEHH@Z ; CMagicDamage::SkillGetMana
  00052	57		 push	 edi
  00053	56		 push	 esi
  00054	8b cb		 mov	 ecx, ebx
  00056	89 45 08	 mov	 DWORD PTR tv164[ebp], eax
  00059	e8 00 00 00 00	 call	 ?GetAddUseMana@CObjUseSkill@@QAEHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ; CObjUseSkill::GetAddUseMana
  0005e	8b 4d 08	 mov	 ecx, DWORD PTR tv164[ebp]
  00061	03 c8		 add	 ecx, eax
  00063	89 4d 08	 mov	 DWORD PTR tv187[ebp], ecx
  00066	db 45 08	 fild	 DWORD PTR tv187[ebp]
  00069	d9 5d 08	 fstp	 DWORD PTR _loc4$[ebp]

; 452  : 
; 453  : 	loc4 -= lpObj->m_MPSkillOpt.MpsDecreaseMana * loc4 / 100.0f;

  0006c	d9 45 08	 fld	 DWORD PTR _loc4$[ebp]
  0006f	d9 86 60 27 00
	00		 fld	 DWORD PTR [esi+10080]
  00075	d8 c9		 fmul	 ST(0), ST(1)
  00077	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  0007d	de e9		 fsubp	 ST(1), ST(0)
  0007f	d9 5d 08	 fstp	 DWORD PTR _loc4$[ebp]

; 454  : 
; 455  : 	if(loc4 < 1.0f)

  00082	d9 e8		 fld1
  00084	d8 55 08	 fcom	 DWORD PTR _loc4$[ebp]
  00087	df e0		 fnstsw	 ax
  00089	f6 c4 41	 test	 ah, 65			; 00000041H
  0008c	75 05		 jne	 SHORT $LN9@GetUseMana

; 456  : 	{
; 457  : 		loc4 = 1.0f;

  0008e	d9 5d 08	 fstp	 DWORD PTR _loc4$[ebp]
  00091	eb 02		 jmp	 SHORT $LN2@GetUseMana
$LN9@GetUseMana:
  00093	dd d8		 fstp	 ST(0)
$LN2@GetUseMana:

; 458  : 	}
; 459  : 
; 460  : 	mana -= loc4;

  00095	d9 45 fc	 fld	 DWORD PTR _mana$[ebp]
  00098	d8 65 08	 fsub	 DWORD PTR _loc4$[ebp]
  0009b	d9 5d fc	 fstp	 DWORD PTR _mana$[ebp]

; 461  : 
; 462  : 	if(mana < 0.0f)

  0009e	d9 ee		 fldz
  000a0	d9 45 fc	 fld	 DWORD PTR _mana$[ebp]
  000a3	d8 d1		 fcom	 ST(1)
  000a5	df e0		 fnstsw	 ax
  000a7	dd d9		 fstp	 ST(1)
  000a9	f6 c4 05	 test	 ah, 5
  000ac	7a 0e		 jp	 SHORT $LN1@GetUseMana
  000ae	5f		 pop	 edi
  000af	dd d8		 fstp	 ST(0)
  000b1	5e		 pop	 esi

; 463  : 	{
; 464  : 		return -1;

  000b2	83 c8 ff	 or	 eax, -1
  000b5	5b		 pop	 ebx

; 467  : }

  000b6	8b e5		 mov	 esp, ebp
  000b8	5d		 pop	 ebp
  000b9	c2 08 00	 ret	 8
$LN1@GetUseMana:

; 465  : 	}
; 466  : 	return (int)mana;

  000bc	e8 00 00 00 00	 call	 __ftol2_sse
  000c1	5f		 pop	 edi
  000c2	5e		 pop	 esi
  000c3	5b		 pop	 ebx

; 467  : }

  000c4	8b e5		 mov	 esp, ebp
  000c6	5d		 pop	 ebp
  000c7	c2 08 00	 ret	 8
?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::GetUseMana
_TEXT	ENDS
PUBLIC	??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@ ; `string'
PUBLIC	?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2
;	COMDAT ??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@
; File e:\work\tranet_version\gs\gameserver\castlesiege.h
CONST	SEGMENT
??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@ DB '['
	DB	'%s][%s] ', 0c7H, 0efH, 0c6H, 0c4H, 0c0H, 0ccH, 0beH, 0eeH, '2'
	DB	' ', 0b9H, 0f6H, 0c6H, 0b0H, ' ', 0b4H, 0adH, 0b7H, 0afH, 0c1H
	DB	0f6H, 0c1H, 0f6H, 0b5H, 0b5H, ' ', 0beH, 0caH, 0beH, 0d2H, 0b4H
	DB	0c2H, 0b5H, 0a5H, ' ', 0bfH, 0cfH, 0b7H, 0e1H, 0b0H, 0a1H, ' ', 0b5H
	DB	0c7H, 0beH, 0faH, 0b4H, 0d9H, 00H		; `string'
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\objuseskill.cpp
CONST	ENDS
;	COMDAT ?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
_DuelIndex$ = -4					; size = 4
tv221 = 8						; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z PROC ; CObjUseSkill::SkillHellFire2, COMDAT
; _this$ = ecx

; 2729 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 2730 : 	if(aTargetIndex == 58)

  00004	83 7d 0c 3a	 cmp	 DWORD PTR _aTargetIndex$[ebp], 58 ; 0000003aH
  00008	75 13		 jne	 SHORT $LN18@SkillHellF@2

; 2731 : 	{
; 2732 : 		return this->SkillHellFire2Start(aIndex,lpMagic);

  0000a	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0000d	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00010	50		 push	 eax
  00011	52		 push	 edx
  00012	e8 00 00 00 00	 call	 ?SkillHellFire2Start@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2Start

; 2810 : }

  00017	8b e5		 mov	 esp, ebp
  00019	5d		 pop	 ebp
  0001a	c2 0c 00	 ret	 12			; 0000000cH
$LN18@SkillHellF@2:
  0001d	57		 push	 edi

; 2733 : 	}
; 2734 : 
; 2735 : 	LPOBJ lpObj = &gObj[aIndex];

  0001e	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  00021	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00027	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2736 : 	int tObjNum;
; 2737 : 
; 2738 : 	if(lpObj->SkillHellFire2State == 0)

  0002d	80 bf 14 11 00
	00 00		 cmp	 BYTE PTR [edi+4372], 0
  00034	75 1f		 jne	 SHORT $LN17@SkillHellF@2

; 2739 : 	{
; 2740 : 		LogAddTD("[%s][%s] 2     ",lpObj->AccountID,lpObj->Name); //HermeX Fix

  00036	8d 47 77	 lea	 eax, DWORD PTR [edi+119]
  00039	50		 push	 eax
  0003a	83 c7 6c	 add	 edi, 108		; 0000006cH
  0003d	57		 push	 edi
  0003e	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@KIDJIGH@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?G?o?F?D?$MA?L?$LO?n2?5?$LJ?v?F?$LA?5?$LE?$KN?$LH?$KP?A?v?A?v@
  00043	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00049	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2741 : 		return false;

  0004c	33 c0		 xor	 eax, eax
  0004e	5f		 pop	 edi

; 2810 : }

  0004f	8b e5		 mov	 esp, ebp
  00051	5d		 pop	 ebp
  00052	c2 0c 00	 ret	 12			; 0000000cH
$LN17@SkillHellF@2:

; 2742 : 	}
; 2743 : 
; 2744 : 	lpObj->SkillHellFire2State = 0;
; 2745 : 	int count = 0;
; 2746 : 	lpObj->SkillHellFire2Time = 0;
; 2747 : 
; 2748 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 2749 : 	int DuelIndex = lpObj->m_iDuelUser;

  00055	8b 8f b8 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3768]
  0005b	53		 push	 ebx
  0005c	56		 push	 esi
  0005d	c6 87 14 11 00
	00 00		 mov	 BYTE PTR [edi+4372], 0
  00064	c7 87 18 11 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+4376], 0
  0006e	89 4d fc	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
  00071	8d 9f b0 08 00
	00		 lea	 ebx, DWORD PTR [edi+2224]
  00077	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv221[ebp], 75 ; 0000004bH
  0007e	8b ff		 npad	 2
$LL16@SkillHellF@2:

; 2750 : 	int EnableAttack;
; 2751 : 
; 2752 : 	while ( true )
; 2753 : 	{
; 2754 : 		if(lpObj->VpPlayer2[count].state != 0)

  00080	80 7b fc 00	 cmp	 BYTE PTR [ebx-4], 0
  00084	0f 84 ca 00 00
	00		 je	 $LN27@SkillHellF@2

; 2755 : 		{
; 2756 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0008a	0f bf 73 fe	 movsx	 esi, WORD PTR [ebx-2]

; 2757 : 
; 2758 : 			if(tObjNum >= 0)

  0008e	85 f6		 test	 esi, esi
  00090	0f 88 be 00 00
	00		 js	 $LN27@SkillHellF@2

; 2759 : 			{
; 2760 : 				EnableAttack = 0;
; 2761 : 
; 2762 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00096	8a 03		 mov	 al, BYTE PTR [ebx]
  00098	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009e	3c 02		 cmp	 al, 2
  000a0	75 12		 jne	 SHORT $LN12@SkillHellF@2
  000a2	8b ce		 mov	 ecx, esi
  000a4	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000aa	83 bc 11 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edx+1104], 0

; 2763 : 				{
; 2764 : 					EnableAttack = 1;

  000b2	7c 6d		 jl	 SHORT $LN9@SkillHellF@2
$LN12@SkillHellF@2:

; 2765 : 				}
; 2766 : 				else if(aTargetIndex == tObjNum || DuelIndex == tObjNum)

  000b4	39 75 0c	 cmp	 DWORD PTR _aTargetIndex$[ebp], esi
  000b7	74 68		 je	 SHORT $LN9@SkillHellF@2
  000b9	39 75 fc	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  000bc	74 63		 je	 SHORT $LN9@SkillHellF@2

; 2767 : 				{
; 2768 : 					EnableAttack = 1;
; 2769 : 				}
; 2770 : //#if(GS_CASTLE==1)
; 2771 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000be	3c 03		 cmp	 al, 3
  000c0	74 1b		 je	 SHORT $LN7@SkillHellF@2
  000c2	8b c6		 mov	 eax, esi
  000c4	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ca	80 bc 10 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+edx+329], 30 ; 0000001eH
  000d2	75 09		 jne	 SHORT $LN7@SkillHellF@2
  000d4	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 2772 : 				{
; 2773 : 					EnableAttack = 1;
; 2774 : 				}
; 2775 : //#endif
; 2776 : 				else

  000db	74 44		 je	 SHORT $LN9@SkillHellF@2
$LN7@SkillHellF@2:

; 2777 : 				{
; 2778 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000dd	8b ce		 mov	 ecx, esi
  000df	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 2779 : 
; 2780 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000e5	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  000eb	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  000ee	75 14		 jne	 SHORT $LN5@SkillHellF@2
  000f0	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000f7	85 c9		 test	 ecx, ecx
  000f9	78 09		 js	 SHORT $LN5@SkillHellF@2

; 2781 : 					{
; 2782 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000fb	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00101	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN5@SkillHellF@2:

; 2783 : 					}
; 2784 : 
; 2785 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  00104	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0010a	03 c2		 add	 eax, edx
  0010c	50		 push	 eax
  0010d	57		 push	 edi
  0010e	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00113	83 c4 08	 add	 esp, 8
  00116	83 f8 01	 cmp	 eax, 1
  00119	75 39		 jne	 SHORT $LN27@SkillHellF@2
  0011b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN9@SkillHellF@2:

; 2786 : 					{
; 2787 : 						EnableAttack = 1;
; 2788 : 					}
; 2789 : 				}
; 2790 : 
; 2791 : 				if(EnableAttack != 0)
; 2792 : 				{
; 2793 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) <= 6)

  00121	8b c6		 mov	 eax, esi
  00123	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00129	03 c2		 add	 eax, edx
  0012b	50		 push	 eax
  0012c	57		 push	 edi
  0012d	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00132	83 c4 08	 add	 esp, 8
  00135	83 f8 06	 cmp	 eax, 6
  00138	7f 1a		 jg	 SHORT $LN27@SkillHellF@2

; 2794 : 					{
; 2795 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,600,lpMagic->m_Skill,0);

  0013a	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0013d	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00140	6a 00		 push	 0
  00142	52		 push	 edx
  00143	68 58 02 00 00	 push	 600			; 00000258H
  00148	56		 push	 esi
  00149	6a 32		 push	 50			; 00000032H
  0014b	57		 push	 edi
  0014c	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00151	83 c4 18	 add	 esp, 24			; 00000018H
$LN27@SkillHellF@2:

; 2796 : 					}
; 2797 : 				}
; 2798 : 			}
; 2799 : 		}
; 2800 : 
; 2801 : 		count++;

  00154	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 2802 : 		if(count > MAX_VIEWPORT -1)

  00157	ff 4d 08	 dec	 DWORD PTR tv221[ebp]
  0015a	0f 85 20 ff ff
	ff		 jne	 $LL16@SkillHellF@2

; 2803 : 		{
; 2804 : 			break;
; 2805 : 		}
; 2806 : 	}
; 2807 : 
; 2808 : 	GCMagicAttackNumberSend(lpObj,AT_SKILL_EXPHELL,lpObj->m_Index,1);

  00160	8b 07		 mov	 eax, DWORD PTR [edi]
  00162	6a 01		 push	 1
  00164	50		 push	 eax
  00165	6a 28		 push	 40			; 00000028H
  00167	57		 push	 edi
  00168	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  0016d	83 c4 10	 add	 esp, 16			; 00000010H
  00170	5e		 pop	 esi
  00171	5b		 pop	 ebx

; 2809 : 	return true;

  00172	b8 01 00 00 00	 mov	 eax, 1
  00177	5f		 pop	 edi

; 2810 : }

  00178	8b e5		 mov	 esp, ebp
  0017a	5d		 pop	 ebp
  0017b	c2 0c 00	 ret	 12			; 0000000cH
?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ENDP ; CObjUseSkill::SkillHellFire2
_TEXT	ENDS
PUBLIC	__real@40400000
PUBLIC	?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillKnightBlow
;	COMDAT __real@40400000
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z
_TEXT	SEGMENT
_DuelIndex$ = -8					; size = 4
tv343 = -4						; size = 4
_loopcount$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_isCombo$ = 20						; size = 4
?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z PROC ; CObjUseSkill::SkillKnightBlow, COMDAT
; _this$ = ecx

; 2831 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 2832 : 	LPOBJ lpObj = &gObj[aIndex];

  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2833 : 	int StartDis = 1;
; 2834 : 	int tObjNum;
; 2835 : 
; 2836 : 	float fangle = (float)this->GetAngle(lpObj->X,lpObj->Y,gObj[aTargetIndex].X,gObj[aTargetIndex].Y);
; 2837 : 
; 2838 : 	this->SkillFrustrum(aIndex,fangle,1.5f,3.0f);

  0000b	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40400000
  00011	53		 push	 ebx
  00012	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00015	56		 push	 esi
  00016	57		 push	 edi
  00017	8b f9		 mov	 edi, ecx
  00019	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0001c	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00022	0f bf 94 08 46
	01 00 00	 movsx	 edx, WORD PTR [eax+ecx+326]
  0002a	8b f3		 mov	 esi, ebx
  0002c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00032	83 ec 08	 sub	 esp, 8
  00035	03 f0		 add	 esi, eax
  00037	0f bf 84 08 44
	01 00 00	 movsx	 eax, WORD PTR [eax+ecx+324]
  0003f	d9 5c 24 04	 fstp	 DWORD PTR [esp+4]
  00043	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@3fc00000
  00049	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  00050	d9 1c 24	 fstp	 DWORD PTR [esp]
  00053	52		 push	 edx
  00054	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  0005b	50		 push	 eax
  0005c	51		 push	 ecx
  0005d	52		 push	 edx
  0005e	8b cf		 mov	 ecx, edi
  00060	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  00065	89 45 fc	 mov	 DWORD PTR tv343[ebp], eax
  00068	51		 push	 ecx
  00069	db 45 fc	 fild	 DWORD PTR tv343[ebp]
  0006c	8b cf		 mov	 ecx, edi
  0006e	d9 1c 24	 fstp	 DWORD PTR [esp]
  00071	53		 push	 ebx
  00072	e8 00 00 00 00	 call	 ?SkillFrustrum@CObjUseSkill@@QAEXHMMM@Z ; CObjUseSkill::SkillFrustrum

; 2839 : 
; 2840 : 	int count = 0;
; 2841 : 	int loopcount = 0;
; 2842 : 	int attackcheck;
; 2843 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);

  00077	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0007a	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0007d	0f b7 51 08	 movzx	 edx, WORD PTR [ecx+8]
  00081	6a 01		 push	 1
  00083	50		 push	 eax
  00084	52		 push	 edx
  00085	33 db		 xor	 ebx, ebx
  00087	56		 push	 esi
  00088	89 5d fc	 mov	 DWORD PTR _loopcount$[ebp], ebx
  0008b	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 2844 : 
; 2845 : 	int DuelIndex = lpObj->m_iDuelUser;

  00090	8b 86 b8 0e 00
	00		 mov	 eax, DWORD PTR [esi+3768]
  00096	83 c4 10	 add	 esp, 16			; 00000010H
  00099	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  0009c	8d 64 24 00	 npad	 4
$LL20@SkillKnigh@2:

; 2846 : 	int EnableAttack;
; 2847 : 
; 2848 : 	while ( true )
; 2849 : 	{
; 2850 : 		if(lpObj->VpPlayer2[count].state != 0)

  000a0	8d 8c 5b 2b 02
	00 00		 lea	 ecx, DWORD PTR [ebx+ebx*2+555]
  000a7	80 3c 8e 00	 cmp	 BYTE PTR [esi+ecx*4], 0
  000ab	0f 84 0f 01 00
	00		 je	 $LN29@SkillKnigh@2

; 2851 : 		{
; 2852 : 			tObjNum = lpObj->VpPlayer2[count].number;

  000b1	8d 14 5b	 lea	 edx, DWORD PTR [ebx+ebx*2]
  000b4	0f bf bc 96 ae
	08 00 00	 movsx	 edi, WORD PTR [esi+edx*4+2222]
  000bc	8d 04 96	 lea	 eax, DWORD PTR [esi+edx*4]

; 2853 : 
; 2854 : 			if(tObjNum >= 0)

  000bf	85 ff		 test	 edi, edi
  000c1	0f 88 f9 00 00
	00		 js	 $LN29@SkillKnigh@2

; 2855 : 			{
; 2856 : 				EnableAttack = 0;
; 2857 : 
; 2858 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  000c7	80 b8 b0 08 00
	00 02		 cmp	 BYTE PTR [eax+2224], 2
  000ce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d4	75 12		 jne	 SHORT $LN28@SkillKnigh@2
  000d6	8b c7		 mov	 eax, edi
  000d8	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000de	83 bc 08 50 04
	00 00 00	 cmp	 DWORD PTR [eax+ecx+1104], 0

; 2859 : 				{
; 2860 : 					EnableAttack = 1;

  000e6	7c 52		 jl	 SHORT $LN13@SkillKnigh@2
$LN28@SkillKnigh@2:

; 2861 : 				}
; 2862 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  000e8	3b 7d 0c	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000eb	74 4d		 je	 SHORT $LN13@SkillKnigh@2
  000ed	39 7d f8	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  000f0	74 48		 je	 SHORT $LN13@SkillKnigh@2

; 2863 : 				{
; 2864 : 					EnableAttack = 1;
; 2865 : 				}
; 2866 : 				else
; 2867 : 				{
; 2868 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000f2	8b d7		 mov	 edx, edi
  000f4	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 2869 : 
; 2870 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000fa	66 83 7c 0a 68
	02		 cmp	 WORD PTR [edx+ecx+104], 2
  00100	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
  00103	75 14		 jne	 SHORT $LN11@SkillKnigh@2
  00105	8b 94 0a 50 04
	00 00		 mov	 edx, DWORD PTR [edx+ecx+1104]
  0010c	85 d2		 test	 edx, edx
  0010e	78 09		 js	 SHORT $LN11@SkillKnigh@2

; 2871 : 					{
; 2872 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  00110	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00116	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
$LN11@SkillKnigh@2:

; 2873 : 					}
; 2874 : 
; 2875 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  00119	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0011f	03 c1		 add	 eax, ecx
  00121	50		 push	 eax
  00122	56		 push	 esi
  00123	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00128	83 c4 08	 add	 esp, 8
  0012b	83 f8 01	 cmp	 eax, 1
  0012e	0f 85 8c 00 00
	00		 jne	 $LN29@SkillKnigh@2
  00134	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN13@SkillKnigh@2:

; 2876 : 					{
; 2877 : 						EnableAttack = 1;
; 2878 : 					}
; 2879 : 				}
; 2880 : 
; 2881 : 				if(EnableAttack != 0)
; 2882 : 				{
; 2883 : 					attackcheck = 0;
; 2884 : 
; 2885 : 					if(loopcount == 0)

  0013a	83 7d fc 00	 cmp	 DWORD PTR _loopcount$[ebp], 0

; 2886 : 					{
; 2887 : 						attackcheck = 1;

  0013e	74 17		 je	 SHORT $LN27@SkillKnigh@2

; 2888 : 					}
; 2889 : 					else if(rand()%3==0)

  00140	e8 00 00 00 00	 call	 _rand
  00145	99		 cdq
  00146	b9 03 00 00 00	 mov	 ecx, 3
  0014b	f7 f9		 idiv	 ecx
  0014d	85 d2		 test	 edx, edx
  0014f	75 6f		 jne	 SHORT $LN29@SkillKnigh@2
  00151	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN27@SkillKnigh@2:

; 2890 : 					{
; 2891 : 						attackcheck = 1;
; 2892 : 					}
; 2893 : 
; 2894 : 					if(attackcheck != 0)
; 2895 : 					{
; 2896 : 						if(::SkillTestFrustrum(gObj[tObjNum].X,gObj[tObjNum].Y,aIndex))

  00157	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0015a	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00160	0f bf 84 0f 46
	01 00 00	 movsx	 eax, WORD PTR [edi+ecx+326]
  00168	0f bf 8c 0f 44
	01 00 00	 movsx	 ecx, WORD PTR [edi+ecx+324]
  00170	52		 push	 edx
  00171	50		 push	 eax
  00172	51		 push	 ecx
  00173	e8 00 00 00 00	 call	 ?SkillTestFrustrum@@YAHHHH@Z ; SkillTestFrustrum
  00178	83 c4 0c	 add	 esp, 12			; 0000000cH
  0017b	85 c0		 test	 eax, eax
  0017d	74 41		 je	 SHORT $LN29@SkillKnigh@2

; 2897 : 						{
; 2898 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,0,1,0,isCombo,0,0);

  0017f	8b 55 14	 mov	 edx, DWORD PTR _isCombo$[ebp]
  00182	8b 45 10	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00185	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0018b	6a 00		 push	 0
  0018d	6a 00		 push	 0
  0018f	52		 push	 edx
  00190	6a 00		 push	 0
  00192	6a 01		 push	 1
  00194	6a 00		 push	 0
  00196	50		 push	 eax
  00197	8d 14 0f	 lea	 edx, DWORD PTR [edi+ecx]
  0019a	52		 push	 edx
  0019b	56		 push	 esi
  0019c	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  001a1	83 c4 24	 add	 esp, 36			; 00000024H

; 2899 : 							if(isCombo != 0)

  001a4	83 7d 14 00	 cmp	 DWORD PTR _isCombo$[ebp], 0
  001a8	74 16		 je	 SHORT $LN29@SkillKnigh@2

; 2900 : 							{
; 2901 : 								GCMagicAttackNumberSend(lpObj,AT_SKILL_COMBO,gObj[tObjNum].m_Index,1);

  001aa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001af	8b 0c 07	 mov	 ecx, DWORD PTR [edi+eax]
  001b2	6a 01		 push	 1
  001b4	51		 push	 ecx
  001b5	6a 3b		 push	 59			; 0000003bH
  001b7	56		 push	 esi
  001b8	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  001bd	83 c4 10	 add	 esp, 16			; 00000010H
$LN29@SkillKnigh@2:

; 2902 : 							}
; 2903 : 						}
; 2904 : 					}
; 2905 : 				}
; 2906 : 			}
; 2907 : 		}
; 2908 : 
; 2909 : 		count++;

  001c0	43		 inc	 ebx

; 2910 : 		if(count > MAX_VIEWPORT -1)

  001c1	83 fb 4a	 cmp	 ebx, 74			; 0000004aH
  001c4	0f 8e d6 fe ff
	ff		 jle	 $LL20@SkillKnigh@2

; 2911 : 		{
; 2912 : 			loopcount++;

  001ca	8b 45 fc	 mov	 eax, DWORD PTR _loopcount$[ebp]
  001cd	40		 inc	 eax

; 2913 : 			count = 0;

  001ce	33 db		 xor	 ebx, ebx
  001d0	89 45 fc	 mov	 DWORD PTR _loopcount$[ebp], eax

; 2914 : 			if(loopcount >= 3)

  001d3	83 f8 03	 cmp	 eax, 3

; 2915 : 			{
; 2916 : 				break;
; 2917 : 			}
; 2918 : 		}
; 2919 : 	}

  001d6	0f 8c c4 fe ff
	ff		 jl	 $LL20@SkillKnigh@2

; 2920 : 	return true;

  001dc	5f		 pop	 edi
  001dd	5e		 pop	 esi
  001de	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  001e1	5b		 pop	 ebx

; 2921 : }

  001e2	8b e5		 mov	 esp, ebp
  001e4	5d		 pop	 ebp
  001e5	c2 10 00	 ret	 16			; 00000010H
?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ENDP ; CObjUseSkill::SkillKnightBlow
_TEXT	ENDS
PUBLIC	?CalDistance@CObjUseSkill@@QAEHHHHH@Z		; CObjUseSkill::CalDistance
; Function compile flags: /Ogtp
;	COMDAT ?CalDistance@CObjUseSkill@@QAEHHHHH@Z
_TEXT	SEGMENT
tv167 = 8						; size = 4
tv164 = 8						; size = 4
tv136 = 8						; size = 4
tv134 = 8						; size = 4
_ty$ = 8						; size = 4
_x$ = 8							; size = 4
_y$ = 12						; size = 4
_tx$ = 16						; size = 4
_x1$ = 16						; size = 4
_y1$ = 20						; size = 4
?CalDistance@CObjUseSkill@@QAEHHHHH@Z PROC		; CObjUseSkill::CalDistance, COMDAT
; _this$ = ecx

; 3000 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3001 : 	if(x == x1 && y == y1)

  00003	8b 45 08	 mov	 eax, DWORD PTR _x$[ebp]
  00006	8b 55 10	 mov	 edx, DWORD PTR _x1$[ebp]
  00009	8b 4d 0c	 mov	 ecx, DWORD PTR _y$[ebp]
  0000c	56		 push	 esi
  0000d	8b 75 14	 mov	 esi, DWORD PTR _y1$[ebp]
  00010	3b c2		 cmp	 eax, edx
  00012	75 0b		 jne	 SHORT $LN1@CalDistanc
  00014	3b ce		 cmp	 ecx, esi
  00016	75 07		 jne	 SHORT $LN1@CalDistanc

; 3002 : 	{
; 3003 : 		return 0;

  00018	33 c0		 xor	 eax, eax
  0001a	5e		 pop	 esi

; 3010 : }

  0001b	5d		 pop	 ebp
  0001c	c2 10 00	 ret	 16			; 00000010H
$LN1@CalDistanc:

; 3004 : 	}
; 3005 : 
; 3006 : 	float tx = (float)(x - x1);

  0001f	2b c2		 sub	 eax, edx
  00021	89 45 08	 mov	 DWORD PTR tv167[ebp], eax
  00024	db 45 08	 fild	 DWORD PTR tv167[ebp]

; 3007 : 	float ty = (float)(y - y1);

  00027	2b ce		 sub	 ecx, esi
  00029	89 4d 08	 mov	 DWORD PTR tv164[ebp], ecx
  0002c	d9 5d 10	 fstp	 DWORD PTR _tx$[ebp]
  0002f	db 45 08	 fild	 DWORD PTR tv164[ebp]
  00032	d9 5d 08	 fstp	 DWORD PTR _ty$[ebp]

; 3008 : 
; 3009 : 	return (int)(sqrt(tx*tx + ty*ty));

  00035	d9 45 08	 fld	 DWORD PTR _ty$[ebp]
  00038	d9 45 10	 fld	 DWORD PTR _tx$[ebp]
  0003b	dc c8		 fmul	 ST(0), ST(0)
  0003d	d9 c1		 fld	 ST(1)
  0003f	de ca		 fmulp	 ST(2), ST(0)
  00041	de c1		 faddp	 ST(1), ST(0)
  00043	d9 5d 08	 fstp	 DWORD PTR tv136[ebp]
  00046	d9 45 08	 fld	 DWORD PTR tv136[ebp]
  00049	e8 00 00 00 00	 call	 __CIsqrt
  0004e	d9 5d 08	 fstp	 DWORD PTR tv134[ebp]
  00051	d9 45 08	 fld	 DWORD PTR tv134[ebp]
  00054	e8 00 00 00 00	 call	 __ftol2_sse
  00059	5e		 pop	 esi

; 3010 : }

  0005a	5d		 pop	 ebp
  0005b	c2 10 00	 ret	 16			; 00000010H
?CalDistance@CObjUseSkill@@QAEHHHHH@Z ENDP		; CObjUseSkill::CalDistance
_TEXT	ENDS
PUBLIC	?SkillAreaCheck@CObjUseSkill@@QAEHHHHHHHH@Z	; CObjUseSkill::SkillAreaCheck
; Function compile flags: /Ogtp
;	COMDAT ?SkillAreaCheck@CObjUseSkill@@QAEHHHHHHHH@Z
_TEXT	SEGMENT
_maxangel$ = 8						; size = 4
_angel$ = 8						; size = 4
_x$ = 12						; size = 4
_y$ = 16						; size = 4
_tx$ = 20						; size = 4
_ty$ = 24						; size = 4
_dis$ = 28						; size = 4
_arc$ = 32						; size = 4
?SkillAreaCheck@CObjUseSkill@@QAEHHHHHHHH@Z PROC	; CObjUseSkill::SkillAreaCheck, COMDAT
; _this$ = ecx

; 3013 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 3014 : 	int minangel = angel - arc;

  00003	8b 45 08	 mov	 eax, DWORD PTR _angel$[ebp]

; 3015 : 	int maxangel = angel + arc;
; 3016 : 
; 3017 : 	if(this->CalDistance(x,y,tx,ty) > dis)

  00006	8b 55 0c	 mov	 edx, DWORD PTR _x$[ebp]
  00009	53		 push	 ebx
  0000a	8b 5d 18	 mov	 ebx, DWORD PTR _ty$[ebp]
  0000d	56		 push	 esi
  0000e	57		 push	 edi
  0000f	8b f9		 mov	 edi, ecx
  00011	8b 4d 20	 mov	 ecx, DWORD PTR _arc$[ebp]
  00014	8b f0		 mov	 esi, eax
  00016	03 c1		 add	 eax, ecx
  00018	53		 push	 ebx
  00019	89 45 08	 mov	 DWORD PTR _maxangel$[ebp], eax
  0001c	8b 45 14	 mov	 eax, DWORD PTR _tx$[ebp]
  0001f	2b f1		 sub	 esi, ecx
  00021	8b 4d 10	 mov	 ecx, DWORD PTR _y$[ebp]
  00024	50		 push	 eax
  00025	51		 push	 ecx
  00026	52		 push	 edx
  00027	8b cf		 mov	 ecx, edi
  00029	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0002e	3b 45 1c	 cmp	 eax, DWORD PTR _dis$[ebp]

; 3018 : 	{
; 3019 : 		return false;

  00031	7f 5c		 jg	 SHORT $LN21@SkillAreaC

; 3020 : 	}
; 3021 : 
; 3022 : 	int targetangle = this->GetAngle(x,y,tx,ty);

  00033	8b 45 14	 mov	 eax, DWORD PTR _tx$[ebp]
  00036	8b 4d 10	 mov	 ecx, DWORD PTR _y$[ebp]
  00039	8b 55 0c	 mov	 edx, DWORD PTR _x$[ebp]
  0003c	53		 push	 ebx
  0003d	50		 push	 eax
  0003e	51		 push	 ecx
  0003f	52		 push	 edx
  00040	8b cf		 mov	 ecx, edi
  00042	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle

; 3023 : 
; 3024 : 	if(minangel < 0)

  00047	85 f6		 test	 esi, esi
  00049	79 1b		 jns	 SHORT $LN17@SkillAreaC

; 3025 : 	{
; 3026 : 		if(targetangle > maxangel)

  0004b	3b 45 08	 cmp	 eax, DWORD PTR _maxangel$[ebp]
  0004e	7e 55		 jle	 SHORT $LN1@SkillAreaC

; 3027 : 		{
; 3028 : 			if(targetangle > minangel + 360)

  00050	81 c6 68 01 00
	00		 add	 esi, 360		; 00000168H
  00056	33 c9		 xor	 ecx, ecx
  00058	3b c6		 cmp	 eax, esi
  0005a	0f 9f c1	 setg	 cl
  0005d	5f		 pop	 edi
  0005e	5e		 pop	 esi
  0005f	5b		 pop	 ebx
  00060	8b c1		 mov	 eax, ecx

; 3069 : }

  00062	5d		 pop	 ebp
  00063	c2 1c 00	 ret	 28			; 0000001cH
$LN17@SkillAreaC:

; 3029 : 			{
; 3030 : 				return true;
; 3031 : 			}
; 3032 : 			else
; 3033 : 			{
; 3034 : 				return false;
; 3035 : 			}
; 3036 : 		}
; 3037 : 		else if(maxangel < targetangle)
; 3038 : 		{
; 3039 : 			return false;
; 3040 : 		}
; 3041 : 	}
; 3042 : 	else if(maxangel > 360)

  00066	8b 4d 08	 mov	 ecx, DWORD PTR _maxangel$[ebp]
  00069	81 f9 68 01 00
	00		 cmp	 ecx, 360		; 00000168H
  0006f	7e 27		 jle	 SHORT $LN10@SkillAreaC

; 3043 : 	{
; 3044 : 		if(targetangle < minangel)

  00071	3b c6		 cmp	 eax, esi
  00073	7d 16		 jge	 SHORT $LN9@SkillAreaC

; 3045 : 		{
; 3046 : 			if(targetangle < maxangel - 360)

  00075	33 d2		 xor	 edx, edx
  00077	81 c1 98 fe ff
	ff		 add	 ecx, -360		; fffffe98H
  0007d	3b c1		 cmp	 eax, ecx
  0007f	0f 9c c2	 setl	 dl
  00082	5f		 pop	 edi
  00083	5e		 pop	 esi
  00084	5b		 pop	 ebx
  00085	8b c2		 mov	 eax, edx

; 3069 : }

  00087	5d		 pop	 ebp
  00088	c2 1c 00	 ret	 28			; 0000001cH
$LN9@SkillAreaC:

; 3047 : 			{
; 3048 : 				return true;
; 3049 : 			}
; 3050 : 			else
; 3051 : 			{
; 3052 : 				return false;
; 3053 : 			}
; 3054 : 		}
; 3055 : 		else if(maxangel < targetangle)

  0008b	3b c8		 cmp	 ecx, eax
  0008d	7d 16		 jge	 SHORT $LN1@SkillAreaC
$LN21@SkillAreaC:
  0008f	5f		 pop	 edi
  00090	5e		 pop	 esi

; 3056 : 		{
; 3057 : 			return false;

  00091	33 c0		 xor	 eax, eax
  00093	5b		 pop	 ebx

; 3069 : }

  00094	5d		 pop	 ebp
  00095	c2 1c 00	 ret	 28			; 0000001cH
$LN10@SkillAreaC:

; 3058 : 		}
; 3059 : 	}
; 3060 : 	else if(minangel > targetangle)

  00098	3b f0		 cmp	 esi, eax
  0009a	7e ef		 jle	 SHORT $LN9@SkillAreaC

; 3056 : 		{
; 3057 : 			return false;

  0009c	5f		 pop	 edi
  0009d	5e		 pop	 esi
  0009e	33 c0		 xor	 eax, eax
  000a0	5b		 pop	 ebx

; 3069 : }

  000a1	5d		 pop	 ebp
  000a2	c2 1c 00	 ret	 28			; 0000001cH
$LN1@SkillAreaC:
  000a5	5f		 pop	 edi
  000a6	5e		 pop	 esi

; 3061 : 	{
; 3062 : 		return false;
; 3063 : 	}
; 3064 : 	else if(maxangel < targetangle)
; 3065 : 	{
; 3066 : 		return false;
; 3067 : 	}
; 3068 : 	return true;

  000a7	b8 01 00 00 00	 mov	 eax, 1
  000ac	5b		 pop	 ebx

; 3069 : }

  000ad	5d		 pop	 ebp
  000ae	c2 1c 00	 ret	 28			; 0000001cH
?SkillAreaCheck@CObjUseSkill@@QAEHHHHHHHH@Z ENDP	; CObjUseSkill::SkillAreaCheck
_TEXT	ENDS
PUBLIC	?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillElectricSpark
; Function compile flags: /Ogtp
;	COMDAT ?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z
_TEXT	SEGMENT
_iangle$ = -16						; size = 4
tv288 = -12						; size = 4
_DuelIndex$ = -8					; size = 4
_Hit$ = -4						; size = 4
_this$ = -4						; size = 4
tv67 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
tv467 = 28						; size = 4
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillElectricSpark, COMDAT
; _this$ = ecx

; 3714 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	53		 push	 ebx

; 3715 : 	LPOBJ lpObj = &gObj[aIndex];

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  0000a	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00010	56		 push	 esi
  00011	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 3716 : 
; 3717 : 	int TargePosx = lpObj->X - (8 - (TargetPos & 15));
; 3718 : 	int TargePosy = lpObj->Y - (8 - ((TargetPos & 240) >> 4));
; 3719 : 
; 3720 : 	int tObjNum;
; 3721 : 	int count = 0;
; 3722 : 	int DuelIndex = lpObj->m_iDuelUser;

  00017	8b 84 33 b8 0e
	00 00		 mov	 eax, DWORD PTR [ebx+esi+3768]
  0001e	0f bf 94 33 46
	01 00 00	 movsx	 edx, WORD PTR [ebx+esi+326]
  00026	89 5d f4	 mov	 DWORD PTR tv288[ebp], ebx
  00029	03 de		 add	 ebx, esi
  0002b	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  0002e	0f b6 45 1c	 movzx	 eax, BYTE PTR _TargetPos$[ebp]
  00032	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00035	57		 push	 edi
  00036	0f bf bb 44 01
	00 00		 movsx	 edi, WORD PTR [ebx+324]
  0003d	8b c8		 mov	 ecx, eax
  0003f	c1 e9 04	 shr	 ecx, 4

; 3723 : 	int iangle = this->GetAngle(lpObj->X,lpObj->Y,TargePosx,TargePosy);

  00042	8d 4c 11 f8	 lea	 ecx, DWORD PTR [ecx+edx-8]
  00046	51		 push	 ecx
  00047	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0004a	83 e0 0f	 and	 eax, 15			; 0000000fH
  0004d	8d 44 38 f8	 lea	 eax, DWORD PTR [eax+edi-8]
  00051	50		 push	 eax
  00052	52		 push	 edx
  00053	57		 push	 edi
  00054	e8 00 00 00 00	 call	 ?GetAngle@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::GetAngle
  00059	89 45 f0	 mov	 DWORD PTR _iangle$[ebp], eax
  0005c	8d 83 b0 08 00
	00		 lea	 eax, DWORD PTR [ebx+2224]

; 3724 : 	int delaytime;
; 3725 : 	int Hit = 0;

  00062	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _Hit$[ebp], 0
  00069	89 45 1c	 mov	 DWORD PTR tv467[ebp], eax
  0006c	c7 45 08 4b 00
	00 00		 mov	 DWORD PTR tv67[ebp], 75	; 0000004bH
$LL17@SkillElect:

; 3726 : 	int EnableAttack;
; 3727 : 
; 3728 : 	while ( true )
; 3729 : 	{
; 3730 : 		if(lpObj->VpPlayer2[count].state != 0)

  00073	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  00077	0f 84 fc 00 00
	00		 je	 $LN28@SkillElect

; 3731 : 		{
; 3732 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0007d	0f bf 78 fe	 movsx	 edi, WORD PTR [eax-2]

; 3733 : 
; 3734 : 			if(tObjNum >= 0)

  00081	85 ff		 test	 edi, edi
  00083	0f 88 f0 00 00
	00		 js	 $LN28@SkillElect

; 3735 : 			{
; 3736 : 				EnableAttack = 0;
; 3737 : 
; 3738 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00089	8a 00		 mov	 al, BYTE PTR [eax]
  0008b	3c 02		 cmp	 al, 2
  0008d	75 12		 jne	 SHORT $LN13@SkillElect
  0008f	8b cf		 mov	 ecx, edi
  00091	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00097	83 bc 31 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+esi+1104], 0

; 3739 : 				{
; 3740 : 					EnableAttack = 1;

  0009f	7c 6d		 jl	 SHORT $LN10@SkillElect
$LN13@SkillElect:

; 3741 : 				}
; 3742 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  000a1	3b 7d 20	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000a4	74 68		 je	 SHORT $LN10@SkillElect
  000a6	39 7d f8	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  000a9	74 63		 je	 SHORT $LN10@SkillElect

; 3743 : 				{
; 3744 : 					EnableAttack = 1;
; 3745 : 				}
; 3746 : //#if(GS_CASTLE==1)
; 3747 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000ab	3c 03		 cmp	 al, 3
  000ad	74 1b		 je	 SHORT $LN8@SkillElect
  000af	8b d7		 mov	 edx, edi
  000b1	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000b7	80 bc 32 49 01
	00 00 1e	 cmp	 BYTE PTR [edx+esi+329], 30 ; 0000001eH
  000bf	75 09		 jne	 SHORT $LN8@SkillElect
  000c1	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 3748 : 				{
; 3749 : 					EnableAttack = 1;
; 3750 : 				}
; 3751 : //#endif
; 3752 : 				else

  000c8	74 44		 je	 SHORT $LN10@SkillElect
$LN8@SkillElect:

; 3753 : 				{
; 3754 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  000ca	8b cf		 mov	 ecx, edi
  000cc	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 3755 : 
; 3756 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000d2	66 83 7c 31 68
	02		 cmp	 WORD PTR [ecx+esi+104], 2
  000d8	8b 04 31	 mov	 eax, DWORD PTR [ecx+esi]
  000db	75 14		 jne	 SHORT $LN6@SkillElect
  000dd	8b 8c 31 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+esi+1104]
  000e4	85 c9		 test	 ecx, ecx
  000e6	78 09		 js	 SHORT $LN6@SkillElect

; 3757 : 					{
; 3758 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000e8	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000ee	8b 04 31	 mov	 eax, DWORD PTR [ecx+esi]
$LN6@SkillElect:

; 3759 : 					}
; 3760 : 
; 3761 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000f1	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000f7	03 c6		 add	 eax, esi
  000f9	50		 push	 eax
  000fa	53		 push	 ebx
  000fb	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00100	83 c4 08	 add	 esp, 8
  00103	83 f8 01	 cmp	 eax, 1
  00106	75 68		 jne	 SHORT $LN27@SkillElect
  00108	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN10@SkillElect:

; 3762 : 					{
; 3763 : 						EnableAttack = 1;
; 3764 : 					}
; 3765 : 				}
; 3766 : 
; 3767 : 				if(EnableAttack != 0)
; 3768 : 				{
; 3769 : 					if(SkillElectricSparkHitBox.HitCheck(iangle,gObj[aIndex].X,gObj[aIndex].Y,gObj[tObjNum].X,gObj[tObjNum].Y))

  0010e	8b c7		 mov	 eax, edi
  00110	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00116	0f bf 94 30 46
	01 00 00	 movsx	 edx, WORD PTR [eax+esi+326]
  0011e	0f bf 84 30 44
	01 00 00	 movsx	 eax, WORD PTR [eax+esi+324]
  00126	52		 push	 edx
  00127	50		 push	 eax
  00128	8b 45 f4	 mov	 eax, DWORD PTR tv288[ebp]
  0012b	0f bf 8c 30 46
	01 00 00	 movsx	 ecx, WORD PTR [eax+esi+326]
  00133	0f bf 94 30 44
	01 00 00	 movsx	 edx, WORD PTR [eax+esi+324]
  0013b	8b 45 f0	 mov	 eax, DWORD PTR _iangle$[ebp]
  0013e	51		 push	 ecx
  0013f	52		 push	 edx
  00140	50		 push	 eax
  00141	b9 00 00 00 00	 mov	 ecx, OFFSET ?SkillElectricSparkHitBox@@3VCSkillHitBox@@A ; SkillElectricSparkHitBox
  00146	e8 00 00 00 00	 call	 ?HitCheck@CSkillHitBox@@QAEHHHHHH@Z ; CSkillHitBox::HitCheck
  0014b	85 c0		 test	 eax, eax
  0014d	74 21		 je	 SHORT $LN27@SkillElect

; 3770 : 					{
; 3771 : 						delaytime = 500;
; 3772 : 						Hit = 1;
; 3773 : 
; 3774 : 						gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,delaytime,lpMagic->m_Skill,0);

  0014f	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00152	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00155	6a 00		 push	 0
  00157	52		 push	 edx
  00158	68 f4 01 00 00	 push	 500			; 000001f4H
  0015d	57		 push	 edi
  0015e	6a 32		 push	 50			; 00000032H
  00160	53		 push	 ebx
  00161	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _Hit$[ebp], 1
  00168	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0016d	83 c4 18	 add	 esp, 24			; 00000018H
$LN27@SkillElect:
  00170	8b 45 1c	 mov	 eax, DWORD PTR tv467[ebp]
  00173	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN28@SkillElect:

; 3775 : 					}
; 3776 : 				}
; 3777 : 			}
; 3778 : 		}
; 3779 : 
; 3780 : 		count++;

  00179	83 c0 0c	 add	 eax, 12			; 0000000cH

; 3781 : 		if(count > MAX_VIEWPORT -1)

  0017c	ff 4d 08	 dec	 DWORD PTR tv67[ebp]
  0017f	89 45 1c	 mov	 DWORD PTR tv467[ebp], eax
  00182	0f 85 eb fe ff
	ff		 jne	 $LL17@SkillElect

; 3782 : 		{
; 3783 : 			break;
; 3784 : 		}
; 3785 : 	}
; 3786 : 
; 3787 : 	if(Hit != 0)

  00188	83 7d fc 00	 cmp	 DWORD PTR _Hit$[ebp], 0
  0018c	74 09		 je	 SHORT $LN1@SkillElect

; 3788 : 	{
; 3789 : 		DecPartyMemberHPandMP(lpObj);

  0018e	53		 push	 ebx
  0018f	e8 00 00 00 00	 call	 ?DecPartyMemberHPandMP@@YAHPAUOBJECTSTRUCT@@@Z ; DecPartyMemberHPandMP
  00194	83 c4 04	 add	 esp, 4
$LN1@SkillElect:
  00197	5f		 pop	 edi
  00198	5e		 pop	 esi
  00199	5b		 pop	 ebx

; 3790 : 	}
; 3791 : }

  0019a	8b e5		 mov	 esp, ebp
  0019c	5d		 pop	 ebp
  0019d	c2 1c 00	 ret	 28			; 0000001cH
?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillElectricSpark
_TEXT	ENDS
PUBLIC	?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillSummonerBook
EXTRN	?GetSkillDistance@CMagicDamage@@QAEHH@Z:PROC	; CMagicDamage::GetSkillDistance
; Function compile flags: /Ogtp
;	COMDAT ?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z
_TEXT	SEGMENT
_DuelIndex$ = -12					; size = 4
tv90 = -8						; size = 4
_result$ = -4						; size = 4
tv425 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillSummonerBook, COMDAT
; _this$ = ecx

; 5344 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	53		 push	 ebx

; 5346 : 
; 5347 : 	int result = 0; //loc3
; 5348 : 	int count = 0; //loc4
; 5349 : 
; 5350 : 	int tObjNum; //loc5 -> ebp-14
; 5351 : 
; 5352 : 	int DuelIndex = lpObj->m_iDuelUser; //loc6
; 5353 : 
; 5354 : 	int angle = this->GetAngle(lpObj->X,lpObj->Y,x,y); //loc7
; 5355 : 
; 5356 : 	GCMagicAttackNumberSend(lpObj,lpMagic->m_Skill,aTargetIndex,1);	

  00007	8b 5d 0c	 mov	 ebx, DWORD PTR _lpMagic$[ebp]
  0000a	0f b7 53 08	 movzx	 edx, WORD PTR [ebx+8]
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00012	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00018	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001e	57		 push	 edi
  0001f	8b 86 b8 0e 00
	00		 mov	 eax, DWORD PTR [esi+3768]
  00025	8b f9		 mov	 edi, ecx
  00027	8b 4d 18	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0002a	6a 01		 push	 1
  0002c	51		 push	 ecx
  0002d	52		 push	 edx
  0002e	56		 push	 esi
  0002f	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _result$[ebp], 0
  00036	89 45 f4	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00039	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend

; 5357 : 
; 5358 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc8

  0003e	8b 43 08	 mov	 eax, DWORD PTR [ebx+8]
  00041	83 c4 10	 add	 esp, 16			; 00000010H
  00044	50		 push	 eax
  00045	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  0004a	e8 00 00 00 00	 call	 ?GetSkillDistance@CMagicDamage@@QAEHH@Z ; CMagicDamage::GetSkillDistance

; 5359 : 
; 5360 : 	BOOL bEnableAttack;
; 5361 : 
; 5362 : 	if(this->CalDistance(lpObj->X,lpObj->Y,x,y) <= iSkillDistance)

  0004f	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  00053	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  0005a	8b d8		 mov	 ebx, eax
  0005c	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  00060	50		 push	 eax
  00061	51		 push	 ecx
  00062	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  00069	51		 push	 ecx
  0006a	52		 push	 edx
  0006b	8b cf		 mov	 ecx, edi
  0006d	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  00072	3b c3		 cmp	 eax, ebx
  00074	0f 8f 0d 01 00
	00		 jg	 $LN21@SkillSummo@2

; 5345 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2

  0007a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00080	8d 9e ae 08 00
	00		 lea	 ebx, DWORD PTR [esi+2222]
  00086	89 5d 08	 mov	 DWORD PTR tv425[ebp], ebx
  00089	c7 45 f8 4b 00
	00 00		 mov	 DWORD PTR tv90[ebp], 75	; 0000004bH
$LL14@SkillSummo@2:

; 5363 : 	{
; 5364 : 		while( true )
; 5365 : 		{
; 5366 : 			if(lpObj->VpPlayer2[count].state != 0)

  00090	80 7b fe 00	 cmp	 BYTE PTR [ebx-2], 0
  00094	0f 84 de 00 00
	00		 je	 $LN2@SkillSummo@2

; 5367 : 			{
; 5368 : 				tObjNum = lpObj->VpPlayer2[count].number;

  0009a	0f bf 3b	 movsx	 edi, WORD PTR [ebx]

; 5369 : 
; 5370 : 				if(tObjNum >= 0)

  0009d	85 ff		 test	 edi, edi
  0009f	0f 88 d3 00 00
	00		 js	 $LN2@SkillSummo@2

; 5371 : 				{
; 5372 : 					bEnableAttack = FALSE; //ebp24
; 5373 : 
; 5374 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  000a5	80 7b 02 02	 cmp	 BYTE PTR [ebx+2], 2
  000a9	75 12		 jne	 SHORT $LN10@SkillSummo@2
  000ab	8b c7		 mov	 eax, edi
  000ad	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000b3	83 bc 10 50 04
	00 00 00	 cmp	 DWORD PTR [eax+edx+1104], 0

; 5375 : 					{
; 5376 : 						bEnableAttack = TRUE;

  000bb	7c 4e		 jl	 SHORT $LN23@SkillSummo@2
$LN10@SkillSummo@2:

; 5377 : 					}
; 5378 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  000bd	3b 7d 18	 cmp	 edi, DWORD PTR _aTargetIndex$[ebp]
  000c0	74 49		 je	 SHORT $LN23@SkillSummo@2
  000c2	39 7d f4	 cmp	 DWORD PTR _DuelIndex$[ebp], edi
  000c5	74 44		 je	 SHORT $LN23@SkillSummo@2

; 5379 : 					{
; 5380 : 						bEnableAttack = TRUE;
; 5381 : 					}
; 5382 : 					else
; 5383 : 					{
; 5384 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  000c7	8b cf		 mov	 ecx, edi
  000c9	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 5385 : 
; 5386 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  000cf	66 83 7c 11 68
	02		 cmp	 WORD PTR [ecx+edx+104], 2
  000d5	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
  000d8	75 14		 jne	 SHORT $LN5@SkillSummo@2
  000da	8b 8c 11 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edx+1104]
  000e1	85 c9		 test	 ecx, ecx
  000e3	78 09		 js	 SHORT $LN5@SkillSummo@2

; 5387 : 						{
; 5388 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000e5	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000eb	8b 04 11	 mov	 eax, DWORD PTR [ecx+edx]
$LN5@SkillSummo@2:

; 5389 : 						}
; 5390 : 
; 5391 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  000ee	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000f4	03 c2		 add	 eax, edx
  000f6	50		 push	 eax
  000f7	56		 push	 esi
  000f8	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000fd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00103	83 c4 08	 add	 esp, 8
  00106	83 f8 01	 cmp	 eax, 1
  00109	75 6d		 jne	 SHORT $LN2@SkillSummo@2
$LN23@SkillSummo@2:

; 5392 : 						{
; 5393 : 							bEnableAttack = TRUE;
; 5394 : 						}
; 5395 : 					}
; 5396 : 
; 5397 : 					if(bEnableAttack != FALSE)
; 5398 : 					{
; 5399 : 						if(gObj[tObjNum].X >= x-2 && gObj[tObjNum].X <= x+2 && gObj[tObjNum].Y >= y-2 && gObj[tObjNum].Y <= y+2)

  0010b	8b c7		 mov	 eax, edi
  0010d	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00113	0f bf 8c 10 44
	01 00 00	 movsx	 ecx, WORD PTR [eax+edx+324]
  0011b	03 c2		 add	 eax, edx
  0011d	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  00121	8d 5a fe	 lea	 ebx, DWORD PTR [edx-2]
  00124	3b cb		 cmp	 ecx, ebx
  00126	7c 47		 jl	 SHORT $LN25@SkillSummo@2
  00128	83 c2 02	 add	 edx, 2
  0012b	3b ca		 cmp	 ecx, edx
  0012d	7f 40		 jg	 SHORT $LN25@SkillSummo@2
  0012f	0f b6 55 14	 movzx	 edx, BYTE PTR _y$[ebp]
  00133	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0013a	8d 5a fe	 lea	 ebx, DWORD PTR [edx-2]
  0013d	3b cb		 cmp	 ecx, ebx
  0013f	7c 2e		 jl	 SHORT $LN25@SkillSummo@2
  00141	83 c2 02	 add	 edx, 2
  00144	3b ca		 cmp	 ecx, edx
  00146	7f 27		 jg	 SHORT $LN25@SkillSummo@2

; 5400 : 						{
; 5401 : 							gObj[tObjNum].lpAttackObj = lpObj;
; 5402 : 							gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, 1000, lpMagic->m_Skill, 0);

  00148	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0014b	6a 00		 push	 0
  0014d	89 b0 d4 03 00
	00		 mov	 DWORD PTR [eax+980], esi
  00153	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00156	52		 push	 edx
  00157	68 e8 03 00 00	 push	 1000			; 000003e8H
  0015c	57		 push	 edi
  0015d	6a 32		 push	 50			; 00000032H
  0015f	56		 push	 esi
  00160	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00165	83 c4 18	 add	 esp, 24			; 00000018H

; 5403 : 							result = 1;

  00168	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _result$[ebp], 1
$LN25@SkillSummo@2:
  0016f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00175	8b 5d 08	 mov	 ebx, DWORD PTR tv425[ebp]
$LN2@SkillSummo@2:

; 5404 : 						}
; 5405 : 					}
; 5406 : 				}
; 5407 : 			}
; 5408 : 
; 5409 : 			count++;

  00178	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 5410 : 			if(count > MAX_VIEWPORT -1)

  0017b	ff 4d f8	 dec	 DWORD PTR tv90[ebp]
  0017e	89 5d 08	 mov	 DWORD PTR tv425[ebp], ebx
  00181	0f 85 09 ff ff
	ff		 jne	 $LL14@SkillSummo@2
$LN21@SkillSummo@2:

; 5411 : 			{
; 5412 : 				break;
; 5413 : 			}
; 5414 : 		}
; 5415 : 	}
; 5416 : 
; 5417 : 	return result;

  00187	8b 45 fc	 mov	 eax, DWORD PTR _result$[ebp]
  0018a	5f		 pop	 edi
  0018b	5e		 pop	 esi
  0018c	5b		 pop	 ebx

; 5418 : }

  0018d	8b e5		 mov	 esp, ebp
  0018f	5d		 pop	 ebp
  00190	c2 14 00	 ret	 20			; 00000014H
?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillSummonerBook
_TEXT	ENDS
PUBLIC	?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget
; Function compile flags: /Ogtp
;	COMDAT ?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z
_TEXT	SEGMENT
_tObjNum$ = -32						; size = 4
_DuelIndex$ = -28					; size = 4
tv77 = -24						; size = 4
_loc10$ = -20						; size = 4
_maxhit$ = -16						; size = 4
_hitcount$ = -12					; size = 4
_SkillResult$ = -8					; size = 4
tv490 = -4						; size = 4
_bAttack$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
_Dis$ = 28						; size = 4
_Flag$ = 32						; size = 4
_Delay$ = 36						; size = 4
?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z PROC ; CObjUseSkill::SkillWideAttackMultiTarget, COMDAT
; _this$ = ecx

; 6273 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H

; 6274 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 6275 : 
; 6276 : 	int SkillResult = 0; //loc3
; 6277 : 
; 6278 : 	int count = 0; //loc4
; 6279 : 	int tObjNum; //loc5
; 6280 : 
; 6281 : 	int DuelIndex = lpObj->m_iDuelUser; //loc6
; 6282 : 
; 6283 : 	int hitcount = 0; //loc7
; 6284 : 
; 6285 : 	BOOL bAttack = FALSE; //loc8
; 6286 : 
; 6287 : 	int maxhit = 4; //loc9
; 6288 : 
; 6289 : 	int loc10 = 8; //loc10
; 6290 : 
; 6291 : 	if(lpMagic->m_Skill == 237)

  00006	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  0000f	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00015	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001b	33 c0		 xor	 eax, eax
  0001d	8b f1		 mov	 esi, ecx
  0001f	8b 8f b8 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3768]
  00025	89 45 f8	 mov	 DWORD PTR _SkillResult$[ebp], eax
  00028	89 45 f4	 mov	 DWORD PTR _hitcount$[ebp], eax
  0002b	89 45 08	 mov	 DWORD PTR _bAttack$[ebp], eax
  0002e	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00031	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
  00034	b9 08 00 00 00	 mov	 ecx, 8
  00039	c7 45 f0 04 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 4
  00040	89 4d ec	 mov	 DWORD PTR _loc10$[ebp], ecx
  00043	3d ed 00 00 00	 cmp	 eax, 237		; 000000edH
  00048	75 0a		 jne	 SHORT $LN26@SkillWideA

; 6292 : 	{
; 6293 : 		maxhit = 8;

  0004a	89 4d f0	 mov	 DWORD PTR _maxhit$[ebp], ecx

; 6294 : 		loc10 = 12;

  0004d	c7 45 ec 0c 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 12 ; 0000000cH
$LN26@SkillWideA:

; 6295 : 	}
; 6296 : 
; 6297 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc11

  00054	50		 push	 eax
  00055	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  0005a	e8 00 00 00 00	 call	 ?GetSkillDistance@CMagicDamage@@QAEHH@Z ; CMagicDamage::GetSkillDistance

; 6298 : 
; 6299 : 	BOOL bEnableAttack; //loc12
; 6300 : 
; 6301 : 	if(this->CalDistance(lpObj->X,lpObj->Y,x,y) <= iSkillDistance)

  0005f	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  00063	8b d8		 mov	 ebx, eax
  00065	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  00069	50		 push	 eax
  0006a	0f bf 87 46 01
	00 00		 movsx	 eax, WORD PTR [edi+326]
  00071	51		 push	 ecx
  00072	0f bf 8f 44 01
	00 00		 movsx	 ecx, WORD PTR [edi+324]
  00079	50		 push	 eax
  0007a	51		 push	 ecx
  0007b	8b ce		 mov	 ecx, esi
  0007d	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  00082	3b c3		 cmp	 eax, ebx
  00084	0f 8f ab 01 00
	00		 jg	 $LN34@SkillWideA

; 6295 : 	}
; 6296 : 
; 6297 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc11

  0008a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00090	8d 9f b0 08 00
	00		 lea	 ebx, DWORD PTR [edi+2224]
  00096	89 5d fc	 mov	 DWORD PTR tv490[ebp], ebx
  00099	c7 45 e8 4b 00
	00 00		 mov	 DWORD PTR tv77[ebp], 75	; 0000004bH
$LL24@SkillWideA:

; 6302 : 	{
; 6303 : 		while( true )
; 6304 : 		{
; 6305 : 			if(lpObj->VpPlayer2[count].state != 0)

  000a0	80 7b fc 00	 cmp	 BYTE PTR [ebx-4], 0
  000a4	0f 84 7c 01 00
	00		 je	 $LN41@SkillWideA

; 6306 : 			{
; 6307 : 				tObjNum = lpObj->VpPlayer2[count].number;

  000aa	0f bf 73 fe	 movsx	 esi, WORD PTR [ebx-2]
  000ae	89 75 e0	 mov	 DWORD PTR _tObjNum$[ebp], esi

; 6308 : 
; 6309 : 				if(tObjNum >= 0)

  000b1	85 f6		 test	 esi, esi
  000b3	0f 88 6d 01 00
	00		 js	 $LN41@SkillWideA

; 6310 : 				{
; 6311 : 					bEnableAttack = FALSE;
; 6312 : 
; 6313 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  000b9	8a 03		 mov	 al, BYTE PTR [ebx]
  000bb	3c 02		 cmp	 al, 2
  000bd	75 12		 jne	 SHORT $LN20@SkillWideA
  000bf	8b d6		 mov	 edx, esi
  000c1	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000c7	83 bc 0a 50 04
	00 00 00	 cmp	 DWORD PTR [edx+ecx+1104], 0

; 6314 : 					{
; 6315 : 						bEnableAttack = TRUE;

  000cf	7c 77		 jl	 SHORT $LN33@SkillWideA
$LN20@SkillWideA:

; 6316 : 					}
; 6317 : 					else if(tObjNum == aTargetIndex && Flag == 1 || DuelIndex == tObjNum)

  000d1	3b 75 18	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  000d4	75 06		 jne	 SHORT $LN40@SkillWideA
  000d6	83 7d 20 01	 cmp	 DWORD PTR _Flag$[ebp], 1
  000da	74 6c		 je	 SHORT $LN33@SkillWideA
$LN40@SkillWideA:
  000dc	39 75 e4	 cmp	 DWORD PTR _DuelIndex$[ebp], esi

; 6318 : 					{
; 6319 : 						bEnableAttack = TRUE;
; 6320 : 					}
; 6321 : //#if(GS_CASTLE==1)
; 6322 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && 

  000df	74 67		 je	 SHORT $LN33@SkillWideA

; 6323 : 						gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && 
; 6324 : 						g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000e1	3c 03		 cmp	 al, 3
  000e3	74 1b		 je	 SHORT $LN14@SkillWideA
  000e5	8b c6		 mov	 eax, esi
  000e7	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ed	80 bc 08 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+ecx+329], 30 ; 0000001eH
  000f5	75 09		 jne	 SHORT $LN14@SkillWideA
  000f7	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 6325 : 					{
; 6326 : 						bEnableAttack = TRUE;
; 6327 : 					}
; 6328 : //#endif
; 6329 : 					else

  000fe	74 48		 je	 SHORT $LN33@SkillWideA
$LN14@SkillWideA:

; 6330 : 					{
; 6331 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  00100	8b d6		 mov	 edx, esi
  00102	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 6332 : 
; 6333 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  00108	66 83 7c 0a 68
	02		 cmp	 WORD PTR [edx+ecx+104], 2
  0010e	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
  00111	75 14		 jne	 SHORT $LN12@SkillWideA
  00113	8b 94 0a 50 04
	00 00		 mov	 edx, DWORD PTR [edx+ecx+1104]
  0011a	85 d2		 test	 edx, edx
  0011c	78 09		 js	 SHORT $LN12@SkillWideA

; 6334 : 						{
; 6335 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0011e	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00124	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
$LN12@SkillWideA:

; 6336 : 						}
; 6337 : 
; 6338 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  00127	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0012d	03 c1		 add	 eax, ecx
  0012f	50		 push	 eax
  00130	57		 push	 edi
  00131	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00136	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0013c	83 c4 08	 add	 esp, 8
  0013f	83 f8 01	 cmp	 eax, 1
  00142	0f 85 de 00 00
	00		 jne	 $LN41@SkillWideA
$LN33@SkillWideA:

; 6339 : 						{
; 6340 : 							bEnableAttack = TRUE;
; 6341 : 						}
; 6342 : 					}
; 6343 : 
; 6344 : 					if(bEnableAttack != FALSE)
; 6345 : 					{
; 6346 : 						if(gObj[tObjNum].X >= x-Dis && gObj[tObjNum].X <= x+Dis && gObj[tObjNum].Y >= y-Dis && gObj[tObjNum].Y <= y+Dis)

  00148	0f b6 5d 10	 movzx	 ebx, BYTE PTR _x$[ebp]
  0014c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00152	0f bf 84 0e 44
	01 00 00	 movsx	 eax, WORD PTR [esi+ecx+324]
  0015a	8b 55 1c	 mov	 edx, DWORD PTR _Dis$[ebp]
  0015d	2b da		 sub	 ebx, edx
  0015f	3b c3		 cmp	 eax, ebx
  00161	0f 8c bc 00 00
	00		 jl	 $LN39@SkillWideA
  00167	0f b6 5d 10	 movzx	 ebx, BYTE PTR _x$[ebp]
  0016b	03 da		 add	 ebx, edx
  0016d	3b c3		 cmp	 eax, ebx
  0016f	0f 8f ae 00 00
	00		 jg	 $LN39@SkillWideA
  00175	0f b6 55 14	 movzx	 edx, BYTE PTR _y$[ebp]
  00179	0f bf 84 0e 46
	01 00 00	 movsx	 eax, WORD PTR [esi+ecx+326]
  00181	8b da		 mov	 ebx, edx
  00183	2b 5d 1c	 sub	 ebx, DWORD PTR _Dis$[ebp]
  00186	3b c3		 cmp	 eax, ebx
  00188	0f 8c 95 00 00
	00		 jl	 $LN39@SkillWideA
  0018e	03 55 1c	 add	 edx, DWORD PTR _Dis$[ebp]
  00191	3b c2		 cmp	 eax, edx
  00193	0f 8f 8a 00 00
	00		 jg	 $LN39@SkillWideA

; 6347 : 						{
; 6348 : 							gObj[tObjNum].lpAttackObj = lpObj;
; 6349 : 							hitcount++;

  00199	8b 5d f4	 mov	 ebx, DWORD PTR _hitcount$[ebp]
  0019c	43		 inc	 ebx
  0019d	89 bc 0e d4 03
	00 00		 mov	 DWORD PTR [esi+ecx+980], edi
  001a4	89 5d f4	 mov	 DWORD PTR _hitcount$[ebp], ebx

; 6350 : 
; 6351 : 							if(hitcount > maxhit)

  001a7	3b 5d f0	 cmp	 ebx, DWORD PTR _maxhit$[ebp]
  001aa	7e 13		 jle	 SHORT $LN8@SkillWideA

; 6352 : 							{
; 6353 : 								if(rand()%2 != 0)

  001ac	e8 00 00 00 00	 call	 _rand
  001b1	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001b6	79 05		 jns	 SHORT $LN42@SkillWideA
  001b8	48		 dec	 eax
  001b9	83 c8 fe	 or	 eax, -2			; fffffffeH
  001bc	40		 inc	 eax
$LN42@SkillWideA:
  001bd	74 07		 je	 SHORT $LN36@SkillWideA
$LN8@SkillWideA:

; 6354 : 								{
; 6355 : 									bAttack = TRUE;
; 6356 : 								}
; 6357 : 							}
; 6358 : 							else
; 6359 : 							{
; 6360 : 								bAttack = TRUE;

  001bf	c7 45 08 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN36@SkillWideA:

; 6361 : 							}
; 6362 : 
; 6363 : 							if(hitcount > loc10)

  001c6	3b 5d ec	 cmp	 ebx, DWORD PTR _loc10$[ebp]
  001c9	7e 09		 jle	 SHORT $LN5@SkillWideA

; 6364 : 							{
; 6365 : 								bAttack = FALSE;

  001cb	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 6366 : 							}
; 6367 : 
; 6368 : 							if(bAttack == TRUE)

  001d2	eb 42		 jmp	 SHORT $LN37@SkillWideA
$LN5@SkillWideA:
  001d4	83 7d 08 01	 cmp	 DWORD PTR _bAttack$[ebp], 1
  001d8	75 3c		 jne	 SHORT $LN37@SkillWideA

; 6369 : 							{
; 6370 : 								if(Delay == FALSE)

  001da	8b 45 24	 mov	 eax, DWORD PTR _Delay$[ebp]

; 6371 : 								{
; 6372 : 									gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  001dd	6a 00		 push	 0
  001df	85 c0		 test	 eax, eax
  001e1	75 1c		 jne	 SHORT $LN3@SkillWideA
  001e3	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001e9	50		 push	 eax
  001ea	50		 push	 eax
  001eb	50		 push	 eax
  001ec	50		 push	 eax
  001ed	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  001f0	6a 01		 push	 1
  001f2	50		 push	 eax
  001f3	56		 push	 esi
  001f4	57		 push	 edi
  001f5	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  001fa	83 c4 24	 add	 esp, 36			; 00000024H

; 6373 : 								}
; 6374 : 								else

  001fd	eb 17		 jmp	 SHORT $LN37@SkillWideA
$LN3@SkillWideA:

; 6375 : 								{
; 6376 : 									gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, Delay, lpMagic->m_Skill, 0);

  001ff	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00202	8b 4a 08	 mov	 ecx, DWORD PTR [edx+8]
  00205	8b 55 e0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00208	51		 push	 ecx
  00209	50		 push	 eax
  0020a	52		 push	 edx
  0020b	6a 32		 push	 50			; 00000032H
  0020d	57		 push	 edi
  0020e	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00213	83 c4 18	 add	 esp, 24			; 00000018H
$LN37@SkillWideA:

; 6377 : 								}
; 6378 : 							}
; 6379 : 							
; 6380 : 							SkillResult = 1;

  00216	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0021c	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 1
$LN39@SkillWideA:
  00223	8b 5d fc	 mov	 ebx, DWORD PTR tv490[ebp]
$LN41@SkillWideA:

; 6381 : 						}
; 6382 : 					}
; 6383 : 				}
; 6384 : 			}
; 6385 : 
; 6386 : 			count++;

  00226	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 6387 : 
; 6388 : 			if(count > MAX_VIEWPORT -1)

  00229	ff 4d e8	 dec	 DWORD PTR tv77[ebp]
  0022c	89 5d fc	 mov	 DWORD PTR tv490[ebp], ebx
  0022f	0f 85 6b fe ff
	ff		 jne	 $LL24@SkillWideA
$LN34@SkillWideA:

; 6389 : 			{
; 6390 : 				break;
; 6391 : 			}
; 6392 : 		}
; 6393 : 	}
; 6394 : 
; 6395 : 	return SkillResult;

  00235	8b 45 f8	 mov	 eax, DWORD PTR _SkillResult$[ebp]
  00238	5f		 pop	 edi
  00239	5e		 pop	 esi
  0023a	5b		 pop	 ebx

; 6396 : }

  0023b	8b e5		 mov	 esp, ebp
  0023d	5d		 pop	 ebp
  0023e	c2 20 00	 ret	 32			; 00000020H
?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ENDP ; CObjUseSkill::SkillWideAttackMultiTarget
_TEXT	ENDS
PUBLIC	?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillStrikeOfDestructionStart
; Function compile flags: /Ogtp
;	COMDAT ?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillStrikeOfDestructionStart, COMDAT
; _this$ = ecx

; 6399 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 6400 : 	int SkillResult = 0; //loc2
; 6401 : 
; 6402 : 	SkillResult = this->SkillWideAttackMultiTarget(aIndex, lpMagic, x, y, aTargetIndex, 3, 1, 500);

  00003	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00006	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  00009	68 f4 01 00 00	 push	 500			; 000001f4H
  0000e	6a 01		 push	 1
  00010	6a 03		 push	 3
  00012	50		 push	 eax
  00013	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  00016	52		 push	 edx
  00017	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  0001a	50		 push	 eax
  0001b	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0001e	52		 push	 edx
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget

; 6403 : 
; 6404 : 	return SkillResult;
; 6405 : }

  00025	5d		 pop	 ebp
  00026	c2 14 00	 ret	 20			; 00000014H
?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillStrikeOfDestructionStart
_TEXT	ENDS
PUBLIC	?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillGiganticStormStart
; Function compile flags: /Ogtp
;	COMDAT ?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z
_TEXT	SEGMENT
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillGiganticStormStart, COMDAT
; _this$ = ecx

; 6535 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 6536 : 	int SkillResult = 0; //loc2
; 6537 : 
; 6538 : 	SkillResult = this->SkillWideAttackMultiTarget(aIndex, lpMagic, x, y, aTargetIndex, 6, 1, 400);

  00003	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00006	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  00009	68 90 01 00 00	 push	 400			; 00000190H
  0000e	6a 01		 push	 1
  00010	6a 06		 push	 6
  00012	50		 push	 eax
  00013	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  00016	52		 push	 edx
  00017	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  0001a	50		 push	 eax
  0001b	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0001e	52		 push	 edx
  0001f	50		 push	 eax
  00020	e8 00 00 00 00	 call	 ?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget

; 6539 : 
; 6540 : 	return SkillResult;
; 6541 : }

  00025	5d		 pop	 ebp
  00026	c2 14 00	 ret	 20			; 00000014H
?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillGiganticStormStart
_TEXT	ENDS
PUBLIC	??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@ ; `string'
PUBLIC	?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillDeathPoisonForMeDusa
;	COMDAT ??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@
CONST	SEGMENT
??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@ DB '[Invali'
	DB	'dTargetIndex][SkillDeathPoisonForMeDusa] Index :%d , AccountI'
	DB	'D : %s ', 00H				; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z
_TEXT	SEGMENT
_lpTargetObj$ = -12					; size = 4
_this$ = -8						; size = 4
tv219 = -4						; size = 4
tv225 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
tv366 = 24						; size = 4
_aTargetIndex$ = 24					; size = 4
?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z PROC ; CObjUseSkill::SkillDeathPoisonForMeDusa, COMDAT
; _this$ = ecx

; 7030 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 7031 : 	LPOBJ lpObj		= &gObj[aIndex];
; 7032 : 	int tObjNum;
; 7033 : 	int count		= 0;
; 7034 : 	int FirstHit	= 0;
; 7035 : 	int HitCount	= 0;
; 7036 : 	int DuelIndex	= lpObj->m_iDuelUser;
; 7037 : 	int EnableAttack;
; 7038 : 	// ----
; 7039 : 	if( !OBJMAX_RANGE(aTargetIndex) )

  00006	8b 45 18	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00009	56		 push	 esi
  0000a	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000d	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00010	8b ce		 mov	 ecx, esi
  00012	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00018	57		 push	 edi
  00019	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001f	03 cf		 add	 ecx, edi
  00021	89 4d 08	 mov	 DWORD PTR tv225[ebp], ecx
  00024	85 c0		 test	 eax, eax
  00026	78 0e		 js	 SHORT $LN21@SkillDeath
  00028	33 d2		 xor	 edx, edx
  0002a	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  0002f	0f 9e c2	 setle	 dl
  00032	85 d2		 test	 edx, edx
  00034	75 1d		 jne	 SHORT $LN13@SkillDeath
$LN21@SkillDeath:

; 7040 : 	{
; 7041 : 		LogAddTD("[InvalidTargetIndex][SkillDeathPoisonForMeDusa] Index :%d , AccountID : %s ",
; 7042 : 			aIndex, gObj[aIndex].AccountID);

  00036	83 c1 6c	 add	 ecx, 108		; 0000006cH
  00039	51		 push	 ecx
  0003a	56		 push	 esi
  0003b	68 00 00 00 00	 push	 OFFSET ??_C@_0EM@PCLLIACM@?$FLInvalidTargetIndex?$FN?$FLSkillDeathP@
  00040	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00046	83 c4 0c	 add	 esp, 12			; 0000000cH
  00049	5f		 pop	 edi

; 7043 : 		return 0;

  0004a	33 c0		 xor	 eax, eax
  0004c	5e		 pop	 esi

; 7100 : }

  0004d	8b e5		 mov	 esp, ebp
  0004f	5d		 pop	 ebp
  00050	c2 14 00	 ret	 20			; 00000014H
$LN13@SkillDeath:

; 7044 : 	}
; 7045 : 	// ----
; 7046 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00053	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00059	03 c7		 add	 eax, edi
  0005b	81 c1 ae 08 00
	00		 add	 ecx, 2222		; 000008aeH
  00061	53		 push	 ebx
  00062	89 45 f4	 mov	 DWORD PTR _lpTargetObj$[ebp], eax
  00065	89 4d 18	 mov	 DWORD PTR tv366[ebp], ecx
  00068	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv219[ebp], 75 ; 0000004bH
  0006f	eb 15		 jmp	 SHORT $LN12@SkillDeath
  00071	eb 0d 8d a4 24
	00 00 00 00 8d
	9b 00 00 00 00	 npad	 15
$LL28@SkillDeath:
  00080	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN12@SkillDeath:

; 7047 : 	// ----
; 7048 : 	while(true)
; 7049 : 	{
; 7050 : 		if( lpObj->VpPlayer2[count].state != 0 )

  00086	80 79 fe 00	 cmp	 BYTE PTR [ecx-2], 0
  0008a	0f 84 f0 00 00
	00		 je	 $LN24@SkillDeath

; 7051 : 		{
; 7052 : 			tObjNum = lpObj->VpPlayer2[count].number;

  00090	0f bf 19	 movsx	 ebx, WORD PTR [ecx]

; 7053 : 			// ----
; 7054 : 			if( tObjNum >= 0 )

  00093	85 db		 test	 ebx, ebx
  00095	0f 88 e5 00 00
	00		 js	 $LN24@SkillDeath

; 7055 : 			{
; 7056 : 				EnableAttack = 0;
; 7057 : 				// ----
; 7058 : 				if( lpObj->VpPlayer2[count].type == OBJ_USER && gObj[tObjNum].m_RecallMon < 0 )

  0009b	80 79 02 01	 cmp	 BYTE PTR [ecx+2], 1
  0009f	0f 85 db 00 00
	00		 jne	 $LN24@SkillDeath
  000a5	8b f3		 mov	 esi, ebx
  000a7	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000ad	03 fe		 add	 edi, esi
  000af	83 bf 50 04 00
	00 00		 cmp	 DWORD PTR [edi+1104], 0
  000b6	0f 8d c4 00 00
	00		 jge	 $LN24@SkillDeath

; 7059 : 				{
; 7060 : 					EnableAttack = 1;
; 7061 : 				}
; 7062 : 				// ----
; 7063 : 				if( EnableAttack )
; 7064 : 				{
; 7065 : 					if( this->CalDistance(x, y, gObj[tObjNum].X, gObj[tObjNum].Y) < 8 )

  000bc	0f bf 8f 46 01
	00 00		 movsx	 ecx, WORD PTR [edi+326]
  000c3	0f bf 97 44 01
	00 00		 movsx	 edx, WORD PTR [edi+324]
  000ca	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  000ce	51		 push	 ecx
  000cf	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  000d3	52		 push	 edx
  000d4	50		 push	 eax
  000d5	51		 push	 ecx
  000d6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d9	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  000de	83 f8 08	 cmp	 eax, 8
  000e1	0f 8d 99 00 00
	00		 jge	 $LN24@SkillDeath

; 7066 : 					{
; 7067 : 						if( lpObj->m_Index != gObj[tObjNum].m_Index )

  000e7	8b 55 08	 mov	 edx, DWORD PTR tv225[ebp]
  000ea	8b 02		 mov	 eax, DWORD PTR [edx]
  000ec	3b 07		 cmp	 eax, DWORD PTR [edi]
  000ee	0f 84 8c 00 00
	00		 je	 $LN24@SkillDeath

; 7068 : 						{
; 7069 : 							int iSkillDistance = gObjCalDistance(lpTargetObj, &gObj[tObjNum]);

  000f4	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  000f7	57		 push	 edi
  000f8	51		 push	 ecx
  000f9	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  000fe	83 c4 08	 add	 esp, 8

; 7070 : 							// ----
; 7071 : 							if( iSkillDistance <= 3 )

  00101	83 f8 03	 cmp	 eax, 3
  00104	7f 7a		 jg	 SHORT $LN24@SkillDeath

; 7072 : 							{
; 7073 : 								int delay = rand() % 500;

  00106	e8 00 00 00 00	 call	 _rand
  0010b	99		 cdq
  0010c	b9 f4 01 00 00	 mov	 ecx, 500		; 000001f4H
  00111	f7 f9		 idiv	 ecx

; 7074 : 								gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, delay, lpMagic->m_Skill, 0);

  00113	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00116	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00119	8b 7d 08	 mov	 edi, DWORD PTR tv225[ebp]
  0011c	6a 00		 push	 0
  0011e	51		 push	 ecx
  0011f	52		 push	 edx
  00120	53		 push	 ebx
  00121	6a 32		 push	 50			; 00000032H
  00123	57		 push	 edi
  00124	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay

; 7075 : 								// ----
; 7076 : 								if( gObjSearchActiveEffect(&gObj[tObjNum], 55) )

  00129	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0012f	8d 04 16	 lea	 eax, DWORD PTR [esi+edx]
  00132	6a 37		 push	 55			; 00000037H
  00134	50		 push	 eax
  00135	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0013a	83 c4 20	 add	 esp, 32			; 00000020H
  0013d	84 c0		 test	 al, al
  0013f	74 3f		 je	 SHORT $LN24@SkillDeath

; 7077 : 								{
; 7078 : 									if( !retResistance(&gObj[tObjNum], 1) )

  00141	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00147	8d 14 0e	 lea	 edx, DWORD PTR [esi+ecx]
  0014a	6a 01		 push	 1
  0014c	52		 push	 edx
  0014d	e8 00 00 00 00	 call	 ?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retResistance
  00152	83 c4 08	 add	 esp, 8
  00155	85 c0		 test	 eax, eax
  00157	75 27		 jne	 SHORT $LN24@SkillDeath

; 7079 : 									{
; 7080 : 										gObj[tObjNum].lpAttackObj = lpObj;

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 7081 : 										gObjApplyBuffEffectDuration(&gObj[tObjNum], 55, 19, 3, 0, 0, 20);

  0015e	6a 14		 push	 20			; 00000014H
  00160	6a 00		 push	 0
  00162	6a 00		 push	 0
  00164	6a 03		 push	 3
  00166	89 bc 06 d4 03
	00 00		 mov	 DWORD PTR [esi+eax+980], edi
  0016d	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00173	6a 13		 push	 19			; 00000013H
  00175	6a 37		 push	 55			; 00000037H
  00177	56		 push	 esi
  00178	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  0017d	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN24@SkillDeath:

; 7082 : 									}
; 7083 : 								}
; 7084 : 							}
; 7085 : 						}
; 7086 : 					}
; 7087 : 				}
; 7088 : 			}
; 7089 : 		}
; 7090 : 		// ----
; 7091 : 		count++;

  00180	8b 4d 18	 mov	 ecx, DWORD PTR tv366[ebp]
  00183	83 c1 0c	 add	 ecx, 12			; 0000000cH

; 7092 : 		// ----
; 7093 : 		if( count > MAX_VIEWPORT -1 )

  00186	ff 4d fc	 dec	 DWORD PTR tv219[ebp]
  00189	89 4d 18	 mov	 DWORD PTR tv366[ebp], ecx
  0018c	0f 85 ee fe ff
	ff		 jne	 $LL28@SkillDeath

; 7094 : 		{
; 7095 : 			break;
; 7096 : 		}
; 7097 : 	}
; 7098 : 	// ----
; 7099 : 	return 1;

  00192	5b		 pop	 ebx
  00193	5f		 pop	 edi
  00194	b8 01 00 00 00	 mov	 eax, 1
  00199	5e		 pop	 esi

; 7100 : }

  0019a	8b e5		 mov	 esp, ebp
  0019c	5d		 pop	 ebp
  0019d	c2 14 00	 ret	 20			; 00000014H
?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ENDP ; CObjUseSkill::SkillDeathPoisonForMeDusa
_TEXT	ENDS
PUBLIC	??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@ ; `string'
PUBLIC	?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillMonkBarrageJustOneTarget
;	COMDAT ??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@
CONST	SEGMENT
??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@ DB '[Invali'
	DB	'dTargetIndex][SkillMonkBarrageJustOneTarget] Index :%d , Acco'
	DB	'untID : %s ', 00H				; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
tv329 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_nMaxBarrageCount$224448 = 16				; size = 4
_aTargetIndex$ = 16					; size = 4
?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z PROC ; CObjUseSkill::SkillMonkBarrageJustOneTarget, COMDAT
; _this$ = ecx

; 7439 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 7440 : 	LPOBJ lpObj = &gObj[aIndex];

  00004	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000e	8b de		 mov	 ebx, esi
  00010	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00016	57		 push	 edi

; 7441 : 	int nTargetObjNum = 0;
; 7442 : 	int nViewPortObjectCount = 0;
; 7443 : 	int DuelIndex = lpObj->m_iDuelUser;
; 7444 : 
; 7445 : 	if( !OBJMAX_RANGE(aTargetIndex) )

  00017	8b 7d 10	 mov	 edi, DWORD PTR _aTargetIndex$[ebp]
  0001a	03 d8		 add	 ebx, eax
  0001c	33 d2		 xor	 edx, edx
  0001e	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00021	85 ff		 test	 edi, edi
  00023	78 0f		 js	 SHORT $LN47@SkillMonkB@3
  00025	33 c9		 xor	 ecx, ecx
  00027	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  0002d	0f 9e c1	 setle	 cl
  00030	85 c9		 test	 ecx, ecx
  00032	75 1c		 jne	 SHORT $LN36@SkillMonkB@3
$LN47@SkillMonkB@3:

; 7446 : 	{
; 7447 : 		LogAddTD("[InvalidTargetIndex][SkillMonkBarrageJustOneTarget] Index :%d , AccountID : %s ",
; 7448 : 			aIndex,gObj[aIndex].AccountID);

  00034	83 c3 6c	 add	 ebx, 108		; 0000006cH
  00037	53		 push	 ebx
  00038	56		 push	 esi
  00039	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@JGPGPLCI@?$FLInvalidTargetIndex?$FN?$FLSkillMonkBa@
  0003e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00044	83 c4 0c	 add	 esp, 12			; 0000000cH
  00047	5f		 pop	 edi
  00048	5e		 pop	 esi
  00049	5b		 pop	 ebx

; 7565 : 		{
; 7566 : 			break;
; 7567 : 		}
; 7568 : 	}
; 7569 : }

  0004a	8b e5		 mov	 esp, ebp
  0004c	5d		 pop	 ebp
  0004d	c2 0c 00	 ret	 12			; 0000000cH
$LN36@SkillMonkB@3:

; 7449 : 		return;
; 7450 : 	}
; 7451 : 
; 7452 : 	int EnableAttack;
; 7453 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00050	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00056	89 7d 08	 mov	 DWORD PTR tv329[ebp], edi
  00059	03 f8		 add	 edi, eax
  0005b	8d 8b ae 08 00
	00		 lea	 ecx, DWORD PTR [ebx+2222]
$LL35@SkillMonkB@3:

; 7454 : 
; 7455 : 	while( TRUE )
; 7456 : 	{
; 7457 : 		if( lpObj->VpPlayer2[nViewPortObjectCount].state != 0 )

  00061	80 79 fe 00	 cmp	 BYTE PTR [ecx-2], 0
  00065	74 0c		 je	 SHORT $LN32@SkillMonkB@3

; 7458 : 		{
; 7459 : 			nTargetObjNum = lpObj->VpPlayer2[nViewPortObjectCount].number;

  00067	0f bf 31	 movsx	 esi, WORD PTR [ecx]

; 7460 : 
; 7461 : 			if( nTargetObjNum >= 0 && nTargetObjNum == aTargetIndex )

  0006a	85 f6		 test	 esi, esi
  0006c	78 05		 js	 SHORT $LN32@SkillMonkB@3
  0006e	3b 75 10	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  00071	74 12		 je	 SHORT $LN44@SkillMonkB@3
$LN32@SkillMonkB@3:

; 7555 : 						}
; 7556 : 					}
; 7557 : 				}
; 7558 : 				break;
; 7559 : 			}
; 7560 : 		}
; 7561 : 
; 7562 : 		nViewPortObjectCount++;

  00073	42		 inc	 edx
  00074	83 c1 0c	 add	 ecx, 12			; 0000000cH

; 7563 : 
; 7564 : 		if(nViewPortObjectCount > MAX_VIEWPORT -1)

  00077	83 fa 4a	 cmp	 edx, 74			; 0000004aH
  0007a	7e e5		 jle	 SHORT $LL35@SkillMonkB@3
  0007c	5f		 pop	 edi
  0007d	5e		 pop	 esi
  0007e	5b		 pop	 ebx

; 7565 : 		{
; 7566 : 			break;
; 7567 : 		}
; 7568 : 	}
; 7569 : }

  0007f	8b e5		 mov	 esp, ebp
  00081	5d		 pop	 ebp
  00082	c2 0c 00	 ret	 12			; 0000000cH
$LN44@SkillMonkB@3:

; 7462 : 			{
; 7463 : 				EnableAttack = FALSE;
; 7464 : 
; 7465 : 				if(lpObj->VpPlayer2[nViewPortObjectCount].type == OBJ_USER )

  00085	8d 14 52	 lea	 edx, DWORD PTR [edx+edx*2]
  00088	80 bc 93 b0 08
	00 00 01	 cmp	 BYTE PTR [ebx+edx*4+2224], 1

; 7466 : 				{
; 7467 : 					EnableAttack = TRUE;

  00090	74 68		 je	 SHORT $LN50@SkillMonkB@3

; 7468 : 				}
; 7469 : 				else if( lpTargetObj->Type == OBJ_MONSTER && gObj[nTargetObjNum].m_RecallMon < 0 )

  00092	66 83 7f 68 02	 cmp	 WORD PTR [edi+104], 2
  00097	75 12		 jne	 SHORT $LN49@SkillMonkB@3
  00099	8b ce		 mov	 ecx, esi
  0009b	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000a1	83 bc 01 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1104], 0

; 7470 : 				{
; 7471 : 					EnableAttack = TRUE;

  000a9	7c 4f		 jl	 SHORT $LN50@SkillMonkB@3
$LN49@SkillMonkB@3:

; 7472 : 				}
; 7473 : 				else if( nTargetObjNum == DuelIndex )

  000ab	3b b3 b8 0e 00
	00		 cmp	 esi, DWORD PTR [ebx+3768]

; 7474 : 				{
; 7475 : 					EnableAttack = TRUE;
; 7476 : 				}
; 7477 : 				else

  000b1	74 47		 je	 SHORT $LN50@SkillMonkB@3

; 7478 : 				{
; 7479 : 					int CallMonIndex = gObj[nTargetObjNum].m_Index;

  000b3	8b d6		 mov	 edx, esi
  000b5	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 7480 : 
; 7481 : 					if(gObj[nTargetObjNum].Type == OBJ_MONSTER && gObj[nTargetObjNum].m_RecallMon >= 0)

  000bb	66 83 7c 02 68
	02		 cmp	 WORD PTR [edx+eax+104], 2
  000c1	8b 0c 02	 mov	 ecx, DWORD PTR [edx+eax]
  000c4	75 14		 jne	 SHORT $LN25@SkillMonkB@3
  000c6	8b 94 02 50 04
	00 00		 mov	 edx, DWORD PTR [edx+eax+1104]
  000cd	85 d2		 test	 edx, edx
  000cf	78 09		 js	 SHORT $LN25@SkillMonkB@3

; 7482 : 					{
; 7483 : 						CallMonIndex = gObj[gObj[nTargetObjNum].m_RecallMon].m_Index;

  000d1	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000d7	8b 0c 02	 mov	 ecx, DWORD PTR [edx+eax]
$LN25@SkillMonkB@3:

; 7484 : 					}
; 7485 : 
; 7486 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000da	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000e0	03 c8		 add	 ecx, eax
  000e2	51		 push	 ecx
  000e3	53		 push	 ebx
  000e4	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000e9	83 c4 08	 add	 esp, 8
  000ec	83 f8 01	 cmp	 eax, 1
  000ef	0f 85 82 01 00
	00		 jne	 $LN4@SkillMonkB@3
  000f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN50@SkillMonkB@3:

; 7487 : 					{
; 7488 : 						EnableAttack = TRUE;
; 7489 : 					}
; 7490 : 				}
; 7491 : 
; 7492 : 				if( EnableAttack != FALSE && CalDistance(gObj[aTargetIndex].X,gObj[aTargetIndex].Y,gObj[nTargetObjNum].X,gObj[nTargetObjNum].Y) < 4 )

  000fa	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00100	0f bf 8c 06 46
	01 00 00	 movsx	 ecx, WORD PTR [esi+eax+326]
  00108	0f bf 94 06 44
	01 00 00	 movsx	 edx, WORD PTR [esi+eax+324]
  00110	51		 push	 ecx
  00111	8b 4d 08	 mov	 ecx, DWORD PTR tv329[ebp]
  00114	52		 push	 edx
  00115	0f bf 94 01 46
	01 00 00	 movsx	 edx, WORD PTR [ecx+eax+326]
  0011d	0f bf 84 01 44
	01 00 00	 movsx	 eax, WORD PTR [ecx+eax+324]
  00125	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00128	52		 push	 edx
  00129	50		 push	 eax
  0012a	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  0012f	83 f8 04	 cmp	 eax, 4
  00132	0f 8d 3f 01 00
	00		 jge	 $LN4@SkillMonkB@3

; 7493 : 				{
; 7494 : 					int nMaxBarrageCount = 0;
; 7495 : 
; 7496 : 					if( lpMagic->m_Skill == 260 )

  00138	8b 75 0c	 mov	 esi, DWORD PTR _lpMagic$[ebp]
  0013b	8b 46 08	 mov	 eax, DWORD PTR [esi+8]
  0013e	3d 04 01 00 00	 cmp	 eax, 260		; 00000104H
  00143	75 09		 jne	 SHORT $LN22@SkillMonkB@3

; 7497 : 					{
; 7498 : 						nMaxBarrageCount = 5;

  00145	c7 45 10 05 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$224448[ebp], 5
  0014c	eb 31		 jmp	 SHORT $LN16@SkillMonkB@3
$LN22@SkillMonkB@3:

; 7499 : 					}
; 7500 : 					else if( lpMagic->m_Skill == 261 )

  0014e	3d 05 01 00 00	 cmp	 eax, 261		; 00000105H
  00153	75 09		 jne	 SHORT $LN20@SkillMonkB@3

; 7501 : 					{
; 7502 : 						nMaxBarrageCount = 3;

  00155	c7 45 10 03 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$224448[ebp], 3
  0015c	eb 21		 jmp	 SHORT $LN16@SkillMonkB@3
$LN20@SkillMonkB@3:

; 7503 : 					}
; 7504 : 					else if( lpMagic->m_Skill == 262 )

  0015e	3d 06 01 00 00	 cmp	 eax, 262		; 00000106H
  00163	75 09		 jne	 SHORT $LN18@SkillMonkB@3

; 7505 : 					{
; 7506 : 						nMaxBarrageCount = 5;

  00165	c7 45 10 05 00
	00 00		 mov	 DWORD PTR _nMaxBarrageCount$224448[ebp], 5
  0016c	eb 11		 jmp	 SHORT $LN16@SkillMonkB@3
$LN18@SkillMonkB@3:

; 7507 : 					}
; 7508 : 					else if( lpMagic->m_Skill == 263 )

  0016e	33 c9		 xor	 ecx, ecx
  00170	3d 07 01 00 00	 cmp	 eax, 263		; 00000107H
  00175	0f 95 c1	 setne	 cl
  00178	49		 dec	 ecx
  00179	83 e1 03	 and	 ecx, 3
  0017c	89 4d 10	 mov	 DWORD PTR _nMaxBarrageCount$224448[ebp], ecx
$LN16@SkillMonkB@3:

; 7509 : 					{
; 7510 : 						nMaxBarrageCount = 3;
; 7511 : 					}
; 7512 : 					else
; 7513 : 					{
; 7514 : 						nMaxBarrageCount = 0;
; 7515 : 					}
; 7516 : 
; 7517 : 					if( lpMagic->m_Skill == 260 && rand()%100 < 10 )

  0017f	3d 04 01 00 00	 cmp	 eax, 260		; 00000104H
  00184	75 16		 jne	 SHORT $LN14@SkillMonkB@3
  00186	e8 00 00 00 00	 call	 _rand
  0018b	99		 cdq
  0018c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00191	f7 f9		 idiv	 ecx
  00193	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  00196	0f 8c 9d 00 00
	00		 jl	 $LN7@SkillMonkB@3
$LN14@SkillMonkB@3:

; 7518 : 					{
; 7519 : 						//gObjApplyBuffEffectDuration(lpTargetObj, 76, 29, 5, 0, 0, 10);
; 7520 : 					}
; 7521 : 					else if( lpMagic->m_Skill == 261 && rand()%100 < 10 )

  0019c	81 7e 08 05 01
	00 00		 cmp	 DWORD PTR [esi+8], 261	; 00000105H
  001a3	75 20		 jne	 SHORT $LN52@SkillMonkB@3
  001a5	e8 00 00 00 00	 call	 _rand
  001aa	99		 cdq
  001ab	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  001b0	f7 f9		 idiv	 ecx
  001b2	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  001b5	7d 0e		 jge	 SHORT $LN52@SkillMonkB@3

; 7522 : 					{
; 7523 : 						gObjApplyBuffEffectDuration(lpTargetObj, 58, 23,10,0,0,10);

  001b7	6a 0a		 push	 10			; 0000000aH
  001b9	6a 00		 push	 0
  001bb	6a 00		 push	 0
  001bd	6a 0a		 push	 10			; 0000000aH
  001bf	6a 17		 push	 23			; 00000017H
  001c1	6a 3a		 push	 58			; 0000003aH
  001c3	eb 6b		 jmp	 SHORT $LN53@SkillMonkB@3
$LN52@SkillMonkB@3:

; 7524 : 					}
; 7525 : 					else if( lpMagic->m_Skill == 262 && rand()%100 < 40 )

  001c5	81 7e 08 06 01
	00 00		 cmp	 DWORD PTR [esi+8], 262	; 00000106H
  001cc	75 6b		 jne	 SHORT $LN7@SkillMonkB@3
  001ce	e8 00 00 00 00	 call	 _rand
  001d3	99		 cdq
  001d4	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  001d9	f7 f9		 idiv	 ecx
  001db	83 fa 28	 cmp	 edx, 40			; 00000028H
  001de	7d 59		 jge	 SHORT $LN7@SkillMonkB@3

; 7526 : 					{
; 7527 : 						if(gGENS)

  001e0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  001e7	74 24		 je	 SHORT $LN9@SkillMonkB@3

; 7528 : 						{
; 7529 : 							if(lpObj->m_GensInfluence != lpTargetObj->m_GensInfluence && gGensSystem.IsMapBattleZone(lpObj->MapNumber))

  001e9	8b 93 c4 22 00
	00		 mov	 edx, DWORD PTR [ebx+8900]
  001ef	3b 97 c4 22 00
	00		 cmp	 edx, DWORD PTR [edi+8900]
  001f5	74 42		 je	 SHORT $LN7@SkillMonkB@3
  001f7	0f b6 83 49 01
	00 00		 movzx	 eax, BYTE PTR [ebx+329]
  001fe	50		 push	 eax
  001ff	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  00204	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  00209	85 c0		 test	 eax, eax
  0020b	74 2c		 je	 SHORT $LN7@SkillMonkB@3
$LN9@SkillMonkB@3:

; 7530 : 							{
; 7531 : 								lpTargetObj->lpAttackObj = lpObj;
; 7532 : 								lpTargetObj->DelayActionTime = 1000;
; 7533 : 								lpTargetObj->DelayLevel = 1;
; 7534 : 								gObjApplyBuffEffectDuration(lpTargetObj,86,20,0,0,0,10);
; 7535 : 							}
; 7536 : 						}
; 7537 : 						else
; 7538 : 						{
; 7539 : 							lpTargetObj->lpAttackObj = lpObj;
; 7540 : 							lpTargetObj->DelayActionTime = 1000;
; 7541 : 							lpTargetObj->DelayLevel = 1;
; 7542 : 							gObjApplyBuffEffectDuration(lpTargetObj,86,20,0,0,0,10);

  0020d	6a 0a		 push	 10			; 0000000aH
  0020f	6a 00		 push	 0
  00211	6a 00		 push	 0
  00213	6a 00		 push	 0
  00215	6a 14		 push	 20			; 00000014H
  00217	6a 56		 push	 86			; 00000056H
  00219	c6 87 c4 03 00
	00 01		 mov	 BYTE PTR [edi+964], 1
  00220	c7 87 c0 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [edi+960], 1000 ; 000003e8H
  0022a	89 9f d4 03 00
	00		 mov	 DWORD PTR [edi+980], ebx
$LN53@SkillMonkB@3:
  00230	57		 push	 edi
  00231	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  00236	83 c4 1c	 add	 esp, 28			; 0000001cH
$LN7@SkillMonkB@3:

; 7543 : 						}
; 7544 : 					}
; 7545 : 
; 7546 : 					for(int i = 1; i < nMaxBarrageCount; i++)

  00239	be 01 00 00 00	 mov	 esi, 1
  0023e	39 75 10	 cmp	 DWORD PTR _nMaxBarrageCount$224448[ebp], esi
  00241	7e 34		 jle	 SHORT $LN4@SkillMonkB@3
$LL51@SkillMonkB@3:

; 7547 : 					{
; 7548 : 						if( i%(nMaxBarrageCount-1) == TRUE  )

  00243	8b 4d 10	 mov	 ecx, DWORD PTR _nMaxBarrageCount$224448[ebp]
  00246	8b c6		 mov	 eax, esi
  00248	99		 cdq
  00249	49		 dec	 ecx
  0024a	f7 f9		 idiv	 ecx

; 7549 : 						{
; 7550 : 							gObjAttack(lpObj,lpTargetObj,lpMagic,TRUE,TRUE,0,0,i,0);

  0024c	6a 00		 push	 0
  0024e	56		 push	 esi
  0024f	6a 00		 push	 0
  00251	6a 00		 push	 0
  00253	6a 01		 push	 1
  00255	83 fa 01	 cmp	 edx, 1
  00258	75 07		 jne	 SHORT $LN3@SkillMonkB@3
  0025a	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  0025d	52		 push	 edx
  0025e	51		 push	 ecx

; 7551 : 						}
; 7552 : 						else

  0025f	eb 06		 jmp	 SHORT $LN54@SkillMonkB@3
$LN3@SkillMonkB@3:

; 7553 : 						{
; 7554 : 							gObjAttack(lpObj,lpTargetObj,lpMagic,FALSE,TRUE,0,0,i,0);

  00261	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00264	6a 00		 push	 0
  00266	52		 push	 edx
$LN54@SkillMonkB@3:
  00267	57		 push	 edi
  00268	53		 push	 ebx
  00269	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0026e	46		 inc	 esi
  0026f	83 c4 24	 add	 esp, 36			; 00000024H
  00272	3b 75 10	 cmp	 esi, DWORD PTR _nMaxBarrageCount$224448[ebp]
  00275	7c cc		 jl	 SHORT $LL51@SkillMonkB@3
$LN4@SkillMonkB@3:
  00277	5f		 pop	 edi
  00278	5e		 pop	 esi
  00279	5b		 pop	 ebx

; 7565 : 		{
; 7566 : 			break;
; 7567 : 		}
; 7568 : 	}
; 7569 : }

  0027a	8b e5		 mov	 esp, ebp
  0027c	5d		 pop	 ebp
  0027d	c2 0c 00	 ret	 12			; 0000000cH
?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z ENDP ; CObjUseSkill::SkillMonkBarrageJustOneTarget
_TEXT	ENDS
PUBLIC	?SkillMonkDarkSideGetTargetIndex@CObjUseSkill@@QAEHHHPAVCMagicInf@@PAG@Z ; CObjUseSkill::SkillMonkDarkSideGetTargetIndex
EXTRN	?gObjAttackQ@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjAttackQ
EXTRN	?GetGensClass@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; GensSystem::GetGensClass
; Function compile flags: /Ogtp
;	COMDAT ?SkillMonkDarkSideGetTargetIndex@CObjUseSkill@@QAEHHHPAVCMagicInf@@PAG@Z
_TEXT	SEGMENT
_nTargetObjNum$ = -28					; size = 4
_DuelIndex$ = -24					; size = 4
_this$ = -20						; size = 4
tv627 = -16						; size = 4
tv527 = -16						; size = 4
_nHitTargetCount$ = -12					; size = 4
_lpTargetObj$224506 = -8				; size = 4
_nViewPortObjectCount$ = -4				; size = 4
_lpObj$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_EnableAttack$ = 12					; size = 4
_aTargetIndex$ = 12					; size = 4
_lpMagic$ = 16						; size = 4
_wTargetList$ = 20					; size = 4
?SkillMonkDarkSideGetTargetIndex@CObjUseSkill@@QAEHHHPAVCMagicInf@@PAG@Z PROC ; CObjUseSkill::SkillMonkDarkSideGetTargetIndex, COMDAT
; _this$ = ecx

; 7574 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	53		 push	 ebx
  00007	56		 push	 esi

; 7575 : 	LPOBJ lpObj = &gObj[aIndex];

  00008	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000b	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00011	57		 push	 edi
  00012	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 7576 : 	int nTargetObjNum = 0;
; 7577 : 	int nViewPortObjectCount = 0;
; 7578 : 	int nHitTargetCount = 0;
; 7579 : 	int DuelIndex = lpObj->m_iDuelUser;

  00018	8b 84 3e b8 0e
	00 00		 mov	 eax, DWORD PTR [esi+edi+3768]
  0001f	03 f7		 add	 esi, edi
  00021	33 db		 xor	 ebx, ebx
  00023	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx
  00026	89 75 08	 mov	 DWORD PTR _lpObj$[ebp], esi
  00029	89 5d fc	 mov	 DWORD PTR _nViewPortObjectCount$[ebp], ebx
  0002c	89 5d f4	 mov	 DWORD PTR _nHitTargetCount$[ebp], ebx
  0002f	89 45 e8	 mov	 DWORD PTR _DuelIndex$[ebp], eax

; 7580 : 	int EnableAttack = 0;
; 7581 : 
; 7582 : 	if( wTargetList == NULL)

  00032	39 5d 14	 cmp	 DWORD PTR _wTargetList$[ebp], ebx
  00035	75 0b		 jne	 SHORT $LN34@SkillMonkD
$LN64@SkillMonkD:
  00037	5f		 pop	 edi
  00038	5e		 pop	 esi

; 7583 : 	{
; 7584 : 		return false;

  00039	33 c0		 xor	 eax, eax
  0003b	5b		 pop	 ebx

; 7799 : }

  0003c	8b e5		 mov	 esp, ebp
  0003e	5d		 pop	 ebp
  0003f	c2 10 00	 ret	 16			; 00000010H
$LN34@SkillMonkD:

; 7585 : 	}
; 7586 : 
; 7587 : 	if( lpMagic->m_Skill != 263
; 7588 : 		&& g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) != 559 
; 7589 : 		)

  00042	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00045	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00048	3d 07 01 00 00	 cmp	 eax, 263		; 00000107H
  0004d	74 18		 je	 SHORT $LN50@SkillMonkD
  0004f	50		 push	 eax
  00050	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00055	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  0005a	3d 2f 02 00 00	 cmp	 eax, 559		; 0000022fH

; 7590 : 	{
; 7591 : 		return false;

  0005f	75 d6		 jne	 SHORT $LN64@SkillMonkD
  00061	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN50@SkillMonkD:

; 7592 : 	}
; 7593 : 	/*while ( true )
; 7594 : 	{
; 7595 : 		if(lpObj->VpPlayer2[count].state != 0)
; 7596 : 		{
; 7597 : 			tObjNum = lpObj->VpPlayer2[count].number;
; 7598 : 
; 7599 : 			if(tObjNum >= 0)
; 7600 : 			{
; 7601 : 				EnableAttack = 0;
; 7602 : 				if(gObj[tObjNum].Class < 100 || gObj[tObjNum].Class > 110)
; 7603 : 				{
; 7604 : 	
; 7605 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)
; 7606 : 					{
; 7607 : 						EnableAttack = 1;
; 7608 : 					}
; 7609 : 					else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)
; 7610 : 					{
; 7611 : 						EnableAttack = 1;
; 7612 : 					}
; 7613 : //#if(GS_CASTLE==1)
; 7614 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)
; 7615 : 					{
; 7616 : 						EnableAttack = 1;
; 7617 : 					}
; 7618 : //#endif
; 7619 : 					else
; 7620 : 					{
; 7621 : 						int CallMonIndex = gObj[tObjNum].m_Index;
; 7622 : 	
; 7623 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)
; 7624 : 						{
; 7625 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;
; 7626 : 						}
; 7627 : 	
; 7628 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)
; 7629 : 						{
; 7630 : 							EnableAttack = 1;
; 7631 : 						}
; 7632 : 					}
; 7633 : 				}
; 7634 : 	
; 7635 : 				if(EnableAttack != 0)
; 7636 : 				{
; 7637 : 					if(gObjCalDistance(lpObj,&gObj[tObjNum]) < 5)
; 7638 : 					{
; 7639 : 						bAttack = 0;
; 7640 : 	
; 7641 : 						if(HitCount > 15)
; 7642 : 						{
; 7643 : 							bAttack = 0;
; 7644 : 						}
; 7645 : 	
; 7646 : 						if(HitCount >= 10)
; 7647 : 						{
; 7648 : 							if(rand()%2)
; 7649 : 							{
; 7650 : 								bAttack = 1;
; 7651 : 							}
; 7652 : 						}
; 7653 : 						else
; 7654 : 						{
; 7655 : 							bAttack = 1;
; 7656 : 						}
; 7657 : 	
; 7658 : 						if(bAttack != 0)
; 7659 : 						{
; 7660 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,500,lpMagic->m_Skill,0);
; 7661 : 						}
; 7662 : 					}
; 7663 : 				}
; 7664 : 			}
; 7665 : 		}
; 7666 : 	
; 7667 : 		count++;
; 7668 : 		if(count > MAX_VIEWPORT -1)
; 7669 : 		{
; 7670 : 			break;
; 7671 : 		}
; 7672 : 	}*/
; 7673 : 	if( aTargetIndex != 0 )

  00067	39 5d 0c	 cmp	 DWORD PTR _aTargetIndex$[ebp], ebx
  0006a	0f 84 cf 00 00
	00		 je	 $LN53@SkillMonkD
  00070	8d 86 ae 08 00
	00		 lea	 eax, DWORD PTR [esi+2222]
  00076	89 45 f0	 mov	 DWORD PTR tv527[ebp], eax
  00079	8d a4 24 00 00
	00 00		 npad	 7
$LL31@SkillMonkD:

; 7674 : 	{
; 7675 : 		while(true)
; 7676 : 		{
; 7677 : 			if( lpObj->VpPlayer2[nViewPortObjectCount].state != 0 )

  00080	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  00084	0f 84 83 00 00
	00		 je	 $LN60@SkillMonkD

; 7678 : 			{
; 7679 : 				nTargetObjNum = lpObj->VpPlayer2[nViewPortObjectCount].number;

  0008a	0f bf 18	 movsx	 ebx, WORD PTR [eax]

; 7680 : 
; 7681 : 				if( nTargetObjNum >= 0 && nTargetObjNum < OBJMAX )

  0008d	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  00093	77 78		 ja	 SHORT $LN60@SkillMonkD

; 7682 : 				{
; 7683 : 					LPOBJ lpTargetObj = &gObj[nTargetObjNum];
; 7684 : 
; 7685 : 					if( lpObj->VpPlayer2[nViewPortObjectCount].type == OBJ_USER && nTargetObjNum == aTargetIndex )

  00095	80 78 02 01	 cmp	 BYTE PTR [eax+2], 1
  00099	75 72		 jne	 SHORT $LN60@SkillMonkD
  0009b	3b 5d 0c	 cmp	 ebx, DWORD PTR _aTargetIndex$[ebp]
  0009e	75 6d		 jne	 SHORT $LN60@SkillMonkD

; 7686 : 					{
; 7687 : 						int nAttackRange = 0;
; 7688 : 
; 7689 : 						if( lpMagic->m_Skill == 263
; 7690 : //#ifndef NO_WORK
; 7691 : 							|| g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) == 559 
; 7692 : //#endif
; 7693 : 							)

  000a0	8b 55 10	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  000a3	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000a6	3d 07 01 00 00	 cmp	 eax, 263		; 00000107H
  000ab	74 1c		 je	 SHORT $LN25@SkillMonkD
  000ad	50		 push	 eax
  000ae	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  000b3	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill

; 7695 : 						else
; 7696 : 							nAttackRange = 0;

  000b8	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000be	3d 2f 02 00 00	 cmp	 eax, 559		; 0000022fH
  000c3	74 04		 je	 SHORT $LN25@SkillMonkD
  000c5	33 f6		 xor	 esi, esi
  000c7	eb 05		 jmp	 SHORT $LN24@SkillMonkD
$LN25@SkillMonkD:

; 7694 : 							nAttackRange = 5;

  000c9	be 05 00 00 00	 mov	 esi, 5
$LN24@SkillMonkD:

; 7697 : 
; 7698 : 						if( CalDistance(lpObj->X,lpObj->Y,gObj[nTargetObjNum].X,gObj[nTargetObjNum].Y) < nAttackRange )

  000ce	8b c3		 mov	 eax, ebx
  000d0	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000d6	0f bf 8c 38 46
	01 00 00	 movsx	 ecx, WORD PTR [eax+edi+326]
  000de	0f bf 94 38 44
	01 00 00	 movsx	 edx, WORD PTR [eax+edi+324]
  000e6	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000e9	51		 push	 ecx
  000ea	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  000f1	52		 push	 edx
  000f2	0f bf 90 44 01
	00 00		 movsx	 edx, WORD PTR [eax+324]
  000f9	51		 push	 ecx
  000fa	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  000fd	52		 push	 edx
  000fe	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  00103	3b c6		 cmp	 eax, esi
  00105	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00108	7c 1b		 jl	 SHORT $LN40@SkillMonkD
  0010a	8b 45 f0	 mov	 eax, DWORD PTR tv527[ebp]
$LN60@SkillMonkD:

; 7702 : 							break;
; 7703 : 						}
; 7704 : 					}
; 7705 : 				}
; 7706 : 			}
; 7707 : 
; 7708 : 			nViewPortObjectCount++;

  0010d	8b 4d fc	 mov	 ecx, DWORD PTR _nViewPortObjectCount$[ebp]
  00110	41		 inc	 ecx
  00111	83 c0 0c	 add	 eax, 12			; 0000000cH
  00114	89 4d fc	 mov	 DWORD PTR _nViewPortObjectCount$[ebp], ecx
  00117	89 45 f0	 mov	 DWORD PTR tv527[ebp], eax

; 7709 : 
; 7710 : 			if( nViewPortObjectCount > MAX_VIEWPORT-1 )

  0011a	83 f9 4a	 cmp	 ecx, 74			; 0000004aH
  0011d	0f 8e 5d ff ff
	ff		 jle	 $LL31@SkillMonkD

; 7711 : 				break;
; 7712 : 		}

  00123	eb 13		 jmp	 SHORT $LN41@SkillMonkD
$LN40@SkillMonkD:

; 7699 : 						{
; 7700 : 							wTargetList[nHitTargetCount] = nTargetObjNum;

  00125	8b 45 14	 mov	 eax, DWORD PTR _wTargetList$[ebp]
  00128	66 89 18	 mov	 WORD PTR [eax], bx

; 7701 : 							nHitTargetCount++;

  0012b	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00131	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _nHitTargetCount$[ebp], 1
$LN41@SkillMonkD:

; 7713 : 
; 7714 : 		nViewPortObjectCount = 0;

  00138	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _nViewPortObjectCount$[ebp], 0
$LN53@SkillMonkD:

; 7787 : 							break;
; 7788 : 					}
; 7789 : 				}
; 7790 : 
; 7791 : 			}
; 7792 : 		}
; 7793 : 		nViewPortObjectCount++;

  0013f	8d 8e ae 08 00
	00		 lea	 ecx, DWORD PTR [esi+2222]
  00145	89 4d f0	 mov	 DWORD PTR tv627[ebp], ecx
  00148	eb 06 8d 9b 00
	00 00 00	 npad	 8
$LL21@SkillMonkD:

; 7715 : 	}
; 7716 : 
; 7717 : 	while(true)
; 7718 : 	{
; 7719 : 		if( lpObj->VpPlayer2[nViewPortObjectCount].state != 0 )

  00150	80 79 fe 00	 cmp	 BYTE PTR [ecx-2], 0
  00154	0f 84 85 01 00
	00		 je	 $LN61@SkillMonkD

; 7720 : 		{
; 7721 : 			nTargetObjNum = lpObj->VpPlayer2[nViewPortObjectCount].number;

  0015a	0f bf 19	 movsx	 ebx, WORD PTR [ecx]
  0015d	89 5d e4	 mov	 DWORD PTR _nTargetObjNum$[ebp], ebx

; 7722 : 
; 7723 : 			if( nTargetObjNum >= 0 && nTargetObjNum < OBJMAX )

  00160	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  00166	0f 87 73 01 00
	00		 ja	 $LN61@SkillMonkD

; 7724 : 			{
; 7725 : 				EnableAttack = FALSE;
; 7726 : 
; 7727 : 				LPOBJ lpTargetObj = &gObj[nTargetObjNum];

  0016c	8b f3		 mov	 esi, ebx
  0016e	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H

; 7728 : 
; 7729 : 				if( gGENS && lpObj->VpPlayer2[nViewPortObjectCount].type == OBJ_USER && gGensSystem.IsMapBattleZone(lpObj->MapNumber) )

  00174	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  0017b	8d 04 3e	 lea	 eax, DWORD PTR [esi+edi]
  0017e	c7 45 0c 00 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 0
  00185	89 45 f8	 mov	 DWORD PTR _lpTargetObj$224506[ebp], eax
  00188	74 28		 je	 SHORT $LN54@SkillMonkD
  0018a	80 79 02 01	 cmp	 BYTE PTR [ecx+2], 1
  0018e	75 22		 jne	 SHORT $LN54@SkillMonkD
  00190	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00193	0f b6 91 49 01
	00 00		 movzx	 edx, BYTE PTR [ecx+329]
  0019a	52		 push	 edx
  0019b	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  001a0	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  001a5	85 c0		 test	 eax, eax

; 7730 : 				{
; 7731 : 					EnableAttack = TRUE;

  001a7	75 5a		 jne	 SHORT $LN63@SkillMonkD
  001a9	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001af	8b 45 f8	 mov	 eax, DWORD PTR _lpTargetObj$224506[ebp]
$LN54@SkillMonkD:

; 7732 : 				}
; 7733 : 				else if( lpTargetObj->Type == OBJ_MONSTER && lpTargetObj->m_RecallMon < 0 )

  001b2	b9 02 00 00 00	 mov	 ecx, 2
  001b7	66 39 48 68	 cmp	 WORD PTR [eax+104], cx
  001bb	75 09		 jne	 SHORT $LN62@SkillMonkD
  001bd	83 b8 50 04 00
	00 00		 cmp	 DWORD PTR [eax+1104], 0

; 7734 : 				{
; 7735 : 					EnableAttack = TRUE;

  001c4	7c 3d		 jl	 SHORT $LN63@SkillMonkD
$LN62@SkillMonkD:

; 7736 : 				}
; 7737 : 				else if( DuelIndex == nTargetObjNum )

  001c6	39 5d e8	 cmp	 DWORD PTR _DuelIndex$[ebp], ebx

; 7738 : 				{
; 7739 : 					EnableAttack = TRUE;
; 7740 : 				}
; 7741 : 
; 7742 : 				else

  001c9	74 38		 je	 SHORT $LN63@SkillMonkD

; 7743 : 				{
; 7744 : 					int CallMonIndex = gObj[nTargetObjNum].m_Index;

  001cb	8b 04 3e	 mov	 eax, DWORD PTR [esi+edi]

; 7745 : 
; 7746 : 					if(gObj[nTargetObjNum].Type == OBJ_MONSTER && gObj[nTargetObjNum].m_RecallMon >= 0)

  001ce	66 39 4c 3e 68	 cmp	 WORD PTR [esi+edi+104], cx
  001d3	75 14		 jne	 SHORT $LN11@SkillMonkD
  001d5	8b 8c 3e 50 04
	00 00		 mov	 ecx, DWORD PTR [esi+edi+1104]
  001dc	85 c9		 test	 ecx, ecx
  001de	78 09		 js	 SHORT $LN11@SkillMonkD

; 7747 : 					{
; 7748 : 						CallMonIndex = gObj[gObj[nTargetObjNum].m_RecallMon].m_Index;

  001e0	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  001e6	8b 04 39	 mov	 eax, DWORD PTR [ecx+edi]
$LN11@SkillMonkD:

; 7749 : 					}
; 7750 : 
; 7751 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  001e9	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  001ef	03 c7		 add	 eax, edi
  001f1	50		 push	 eax
  001f2	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  001f5	50		 push	 eax
  001f6	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  001fb	83 c4 08	 add	 esp, 8
  001fe	83 f8 01	 cmp	 eax, 1
  00201	75 07		 jne	 SHORT $LN58@SkillMonkD
$LN63@SkillMonkD:

; 7752 : 					{
; 7753 : 						EnableAttack = TRUE;

  00203	c7 45 0c 01 00
	00 00		 mov	 DWORD PTR _EnableAttack$[ebp], 1
$LN58@SkillMonkD:

; 7754 : 					}
; 7755 : 				}
; 7756 : #ifdef _RF_GENS_MAP_DARK_SIDE_
; 7757 : 				if(gGensSystem.IsMapBattleZone(lpObj->MapNumber) && gGensSystem.GetGensClass(lpObj) == gGensSystem.GetGensClass(lpTargetObj))

  0020a	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]
  0020d	0f b6 8f 49 01
	00 00		 movzx	 ecx, BYTE PTR [edi+329]
  00214	51		 push	 ecx
  00215	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0021a	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  0021f	85 c0		 test	 eax, eax
  00221	74 23		 je	 SHORT $LN59@SkillMonkD
  00223	8b 55 f8	 mov	 edx, DWORD PTR _lpTargetObj$224506[ebp]
  00226	52		 push	 edx
  00227	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  0022c	e8 00 00 00 00	 call	 ?GetGensClass@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; GensSystem::GetGensClass
  00231	57		 push	 edi
  00232	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  00237	8b d8		 mov	 ebx, eax
  00239	e8 00 00 00 00	 call	 ?GetGensClass@GensSystem@@QAEHPAUOBJECTSTRUCT@@@Z ; GensSystem::GetGensClass
  0023e	3b c3		 cmp	 eax, ebx

; 7758 : 				{
; 7759 : 
; 7760 : 					EnableAttack = FALSE;
; 7761 : 				}
; 7762 : 
; 7763 : #endif
; 7764 : 
; 7765 : 				if( EnableAttack != FALSE && !gObjAttackQ(lpTargetObj) )

  00240	0f 84 90 00 00
	00		 je	 $LN56@SkillMonkD
$LN59@SkillMonkD:
  00246	83 7d 0c 00	 cmp	 DWORD PTR _EnableAttack$[ebp], 0
  0024a	0f 84 86 00 00
	00		 je	 $LN56@SkillMonkD
  00250	8b 45 f8	 mov	 eax, DWORD PTR _lpTargetObj$224506[ebp]
  00253	50		 push	 eax
  00254	e8 00 00 00 00	 call	 ?gObjAttackQ@@YAHPAUOBJECTSTRUCT@@@Z ; gObjAttackQ
  00259	83 c4 04	 add	 esp, 4
  0025c	85 c0		 test	 eax, eax

; 7766 : 				{
; 7767 : 					EnableAttack = FALSE;
; 7768 : 				}
; 7769 : 
; 7770 : 				if( EnableAttack != FALSE )

  0025e	74 76		 je	 SHORT $LN56@SkillMonkD

; 7771 : 				{
; 7772 : 					int nAttackRange = 0;
; 7773 : 
; 7774 : 					if( lpMagic->m_Skill == 263 
; 7775 : 						|| g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill) == 559
; 7776 : 						)

  00260	8b 4d 10	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00263	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00266	3d 07 01 00 00	 cmp	 eax, 263		; 00000107H
  0026b	74 16		 je	 SHORT $LN5@SkillMonkD
  0026d	50		 push	 eax
  0026e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00273	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill
  00278	3d 2f 02 00 00	 cmp	 eax, 559		; 0000022fH
  0027d	74 04		 je	 SHORT $LN5@SkillMonkD

; 7778 : 					else
; 7779 : 						nAttackRange = 0;

  0027f	33 db		 xor	 ebx, ebx
  00281	eb 05		 jmp	 SHORT $LN4@SkillMonkD
$LN5@SkillMonkD:

; 7777 : 						nAttackRange = 5;

  00283	bb 05 00 00 00	 mov	 ebx, 5
$LN4@SkillMonkD:

; 7780 : 
; 7781 : 					if( CalDistance(lpObj->X,lpObj->Y,gObj[nTargetObjNum].X,gObj[nTargetObjNum].Y) < nAttackRange )

  00288	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0028e	0f bf 94 3e 46
	01 00 00	 movsx	 edx, WORD PTR [esi+edi+326]
  00296	0f bf 84 3e 44
	01 00 00	 movsx	 eax, WORD PTR [esi+edi+324]
  0029e	52		 push	 edx
  0029f	50		 push	 eax
  002a0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  002a3	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  002aa	0f bf 90 44 01
	00 00		 movsx	 edx, WORD PTR [eax+324]
  002b1	51		 push	 ecx
  002b2	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  002b5	52		 push	 edx
  002b6	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  002bb	3b c3		 cmp	 eax, ebx
  002bd	7d 1d		 jge	 SHORT $LN55@SkillMonkD

; 7782 : 					{
; 7783 : 						wTargetList[nHitTargetCount] = nTargetObjNum;

  002bf	8b 45 f4	 mov	 eax, DWORD PTR _nHitTargetCount$[ebp]
  002c2	8b 4d 14	 mov	 ecx, DWORD PTR _wTargetList$[ebp]
  002c5	66 8b 55 e4	 mov	 dx, WORD PTR _nTargetObjNum$[ebp]
  002c9	66 89 14 41	 mov	 WORD PTR [ecx+eax*2], dx

; 7784 : 						nHitTargetCount++;

  002cd	40		 inc	 eax
  002ce	89 45 f4	 mov	 DWORD PTR _nHitTargetCount$[ebp], eax

; 7785 : 
; 7786 : 						if( nHitTargetCount >= 5 )

  002d1	83 f8 05	 cmp	 eax, 5
  002d4	7d 1f		 jge	 SHORT $LN57@SkillMonkD
$LN56@SkillMonkD:
  002d6	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN55@SkillMonkD:
  002dc	8b 4d f0	 mov	 ecx, DWORD PTR tv627[ebp]
$LN61@SkillMonkD:

; 7787 : 							break;
; 7788 : 					}
; 7789 : 				}
; 7790 : 
; 7791 : 			}
; 7792 : 		}
; 7793 : 		nViewPortObjectCount++;

  002df	8b 45 fc	 mov	 eax, DWORD PTR _nViewPortObjectCount$[ebp]
  002e2	40		 inc	 eax
  002e3	83 c1 0c	 add	 ecx, 12			; 0000000cH
  002e6	89 45 fc	 mov	 DWORD PTR _nViewPortObjectCount$[ebp], eax
  002e9	89 4d f0	 mov	 DWORD PTR tv627[ebp], ecx

; 7794 : 
; 7795 : 		if( nViewPortObjectCount > MAX_VIEWPORT-1 )

  002ec	83 f8 4a	 cmp	 eax, 74			; 0000004aH
  002ef	0f 8e 5b fe ff
	ff		 jle	 $LL21@SkillMonkD
$LN57@SkillMonkD:
  002f5	5f		 pop	 edi
  002f6	5e		 pop	 esi

; 7796 : 			break;
; 7797 : 	}
; 7798 : 	return true;

  002f7	b8 01 00 00 00	 mov	 eax, 1
  002fc	5b		 pop	 ebx

; 7799 : }

  002fd	8b e5		 mov	 esp, ebp
  002ff	5d		 pop	 ebp
  00300	c2 10 00	 ret	 16			; 00000010H
?SkillMonkDarkSideGetTargetIndex@CObjUseSkill@@QAEHHHPAVCMagicInf@@PAG@Z ENDP ; CObjUseSkill::SkillMonkDarkSideGetTargetIndex
_TEXT	ENDS
PUBLIC	?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillAreaMonsterAttack
; Function compile flags: /Ogtp
;	COMDAT ?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z
_TEXT	SEGMENT
_tObjNum$ = -32						; size = 4
_DuelIndex$ = -28					; size = 4
tv77 = -24						; size = 4
_loc10$ = -20						; size = 4
_maxhit$ = -16						; size = 4
_hitcount$ = -12					; size = 4
_SkillResult$ = -8					; size = 4
tv490 = -4						; size = 4
_bAttack$ = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
_Dis$ = 28						; size = 4
_Flag$ = 32						; size = 4
_Delay$ = 36						; size = 4
?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z PROC ; CObjUseSkill::SkillAreaMonsterAttack, COMDAT
; _this$ = ecx

; 7825 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H

; 7826 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 7827 : 
; 7828 : 	int SkillResult = 0; //loc3
; 7829 : 
; 7830 : 	int count = 0; //loc4
; 7831 : 	int tObjNum; //loc5
; 7832 : 
; 7833 : 	int DuelIndex = lpObj->m_iDuelUser; //loc6
; 7834 : 
; 7835 : 	int hitcount = 0; //loc7
; 7836 : 
; 7837 : 	BOOL bAttack = FALSE; //loc8
; 7838 : 
; 7839 : 	int maxhit = 4; //loc9
; 7840 : 
; 7841 : 	int loc10 = 8; //loc10
; 7842 : 
; 7843 : 	if(lpMagic->m_Skill == 237)

  00006	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8b 7d 08	 mov	 edi, DWORD PTR _aIndex$[ebp]
  0000f	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00015	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0001b	33 c0		 xor	 eax, eax
  0001d	8b f1		 mov	 esi, ecx
  0001f	8b 8f b8 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3768]
  00025	89 45 f8	 mov	 DWORD PTR _SkillResult$[ebp], eax
  00028	89 45 f4	 mov	 DWORD PTR _hitcount$[ebp], eax
  0002b	89 45 08	 mov	 DWORD PTR _bAttack$[ebp], eax
  0002e	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00031	89 4d e4	 mov	 DWORD PTR _DuelIndex$[ebp], ecx
  00034	b9 08 00 00 00	 mov	 ecx, 8
  00039	c7 45 f0 04 00
	00 00		 mov	 DWORD PTR _maxhit$[ebp], 4
  00040	89 4d ec	 mov	 DWORD PTR _loc10$[ebp], ecx
  00043	3d ed 00 00 00	 cmp	 eax, 237		; 000000edH
  00048	75 0a		 jne	 SHORT $LN26@SkillAreaM

; 7844 : 	{
; 7845 : 		maxhit = 8;

  0004a	89 4d f0	 mov	 DWORD PTR _maxhit$[ebp], ecx

; 7846 : 		loc10 = 12;

  0004d	c7 45 ec 0c 00
	00 00		 mov	 DWORD PTR _loc10$[ebp], 12 ; 0000000cH
$LN26@SkillAreaM:

; 7847 : 	}
; 7848 : 
; 7849 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc11

  00054	50		 push	 eax
  00055	b9 00 00 00 00	 mov	 ecx, OFFSET ?MagicDamageC@@3VCMagicDamage@@A ; MagicDamageC
  0005a	e8 00 00 00 00	 call	 ?GetSkillDistance@CMagicDamage@@QAEHH@Z ; CMagicDamage::GetSkillDistance

; 7850 : 
; 7851 : 	BOOL bEnableAttack; //loc12
; 7852 : 
; 7853 : 	if(this->CalDistance(lpObj->X,lpObj->Y,x,y) <= iSkillDistance)

  0005f	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  00063	8b d8		 mov	 ebx, eax
  00065	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  00069	50		 push	 eax
  0006a	0f bf 87 46 01
	00 00		 movsx	 eax, WORD PTR [edi+326]
  00071	51		 push	 ecx
  00072	0f bf 8f 44 01
	00 00		 movsx	 ecx, WORD PTR [edi+324]
  00079	50		 push	 eax
  0007a	51		 push	 ecx
  0007b	8b ce		 mov	 ecx, esi
  0007d	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  00082	3b c3		 cmp	 eax, ebx
  00084	0f 8f ab 01 00
	00		 jg	 $LN34@SkillAreaM

; 7847 : 	}
; 7848 : 
; 7849 : 	int iSkillDistance = MagicDamageC.GetSkillDistance(lpMagic->m_Skill); //loc11

  0008a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00090	8d 9f b0 08 00
	00		 lea	 ebx, DWORD PTR [edi+2224]
  00096	89 5d fc	 mov	 DWORD PTR tv490[ebp], ebx
  00099	c7 45 e8 4b 00
	00 00		 mov	 DWORD PTR tv77[ebp], 75	; 0000004bH
$LL24@SkillAreaM:

; 7854 : 	{
; 7855 : 		while( true )
; 7856 : 		{
; 7857 : 			if(lpObj->VpPlayer2[count].state != 0)

  000a0	80 7b fc 00	 cmp	 BYTE PTR [ebx-4], 0
  000a4	0f 84 7c 01 00
	00		 je	 $LN41@SkillAreaM

; 7858 : 			{
; 7859 : 				tObjNum = lpObj->VpPlayer2[count].number;

  000aa	0f bf 73 fe	 movsx	 esi, WORD PTR [ebx-2]
  000ae	89 75 e0	 mov	 DWORD PTR _tObjNum$[ebp], esi

; 7860 : 
; 7861 : 				if(tObjNum >= 0)

  000b1	85 f6		 test	 esi, esi
  000b3	0f 88 6d 01 00
	00		 js	 $LN41@SkillAreaM

; 7862 : 				{
; 7863 : 					bEnableAttack = FALSE;
; 7864 : 
; 7865 : 					if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  000b9	8a 03		 mov	 al, BYTE PTR [ebx]
  000bb	3c 02		 cmp	 al, 2
  000bd	75 12		 jne	 SHORT $LN20@SkillAreaM
  000bf	8b d6		 mov	 edx, esi
  000c1	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  000c7	83 bc 0a 50 04
	00 00 00	 cmp	 DWORD PTR [edx+ecx+1104], 0

; 7866 : 					{
; 7867 : 						bEnableAttack = TRUE;

  000cf	7c 77		 jl	 SHORT $LN33@SkillAreaM
$LN20@SkillAreaM:

; 7868 : 					}
; 7869 : 					else if(tObjNum == aTargetIndex && Flag == 1 || DuelIndex == tObjNum)

  000d1	3b 75 18	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  000d4	75 06		 jne	 SHORT $LN40@SkillAreaM
  000d6	83 7d 20 01	 cmp	 DWORD PTR _Flag$[ebp], 1
  000da	74 6c		 je	 SHORT $LN33@SkillAreaM
$LN40@SkillAreaM:
  000dc	39 75 e4	 cmp	 DWORD PTR _DuelIndex$[ebp], esi

; 7870 : 					{
; 7871 : 						bEnableAttack = TRUE;

  000df	74 67		 je	 SHORT $LN33@SkillAreaM

; 7872 : 					}
; 7873 : //#if(_GSCS==1)
; 7874 : 					else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  000e1	3c 03		 cmp	 al, 3
  000e3	74 1b		 je	 SHORT $LN14@SkillAreaM
  000e5	8b c6		 mov	 eax, esi
  000e7	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000ed	80 bc 08 49 01
	00 00 1e	 cmp	 BYTE PTR [eax+ecx+329], 30 ; 0000001eH
  000f5	75 09		 jne	 SHORT $LN14@SkillAreaM
  000f7	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 7875 : 					{
; 7876 : 						bEnableAttack = TRUE;
; 7877 : 					}
; 7878 : //#endif
; 7879 : 					else

  000fe	74 48		 je	 SHORT $LN33@SkillAreaM
$LN14@SkillAreaM:

; 7880 : 					{
; 7881 : 						int CallMonIndex = gObj[tObjNum].m_Index;

  00100	8b d6		 mov	 edx, esi
  00102	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H

; 7882 : 
; 7883 : 						if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  00108	66 83 7c 0a 68
	02		 cmp	 WORD PTR [edx+ecx+104], 2
  0010e	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
  00111	75 14		 jne	 SHORT $LN12@SkillAreaM
  00113	8b 94 0a 50 04
	00 00		 mov	 edx, DWORD PTR [edx+ecx+1104]
  0011a	85 d2		 test	 edx, edx
  0011c	78 09		 js	 SHORT $LN12@SkillAreaM

; 7884 : 						{
; 7885 : 							CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  0011e	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00124	8b 04 0a	 mov	 eax, DWORD PTR [edx+ecx]
$LN12@SkillAreaM:

; 7886 : 						}
; 7887 : 
; 7888 : 						if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==TRUE)

  00127	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0012d	03 c1		 add	 eax, ecx
  0012f	50		 push	 eax
  00130	57		 push	 edi
  00131	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  00136	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0013c	83 c4 08	 add	 esp, 8
  0013f	83 f8 01	 cmp	 eax, 1
  00142	0f 85 de 00 00
	00		 jne	 $LN41@SkillAreaM
$LN33@SkillAreaM:

; 7889 : 						{
; 7890 : 							bEnableAttack = TRUE;
; 7891 : 						}
; 7892 : 					}
; 7893 : 
; 7894 : 					if(bEnableAttack != FALSE)
; 7895 : 					{
; 7896 : 						if(gObj[tObjNum].X >= x-Dis && gObj[tObjNum].X <= x+Dis && gObj[tObjNum].Y >= y-Dis && gObj[tObjNum].Y <= y+Dis)

  00148	0f b6 5d 10	 movzx	 ebx, BYTE PTR _x$[ebp]
  0014c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00152	0f bf 84 0e 44
	01 00 00	 movsx	 eax, WORD PTR [esi+ecx+324]
  0015a	8b 55 1c	 mov	 edx, DWORD PTR _Dis$[ebp]
  0015d	2b da		 sub	 ebx, edx
  0015f	3b c3		 cmp	 eax, ebx
  00161	0f 8c bc 00 00
	00		 jl	 $LN39@SkillAreaM
  00167	0f b6 5d 10	 movzx	 ebx, BYTE PTR _x$[ebp]
  0016b	03 da		 add	 ebx, edx
  0016d	3b c3		 cmp	 eax, ebx
  0016f	0f 8f ae 00 00
	00		 jg	 $LN39@SkillAreaM
  00175	0f b6 55 14	 movzx	 edx, BYTE PTR _y$[ebp]
  00179	0f bf 84 0e 46
	01 00 00	 movsx	 eax, WORD PTR [esi+ecx+326]
  00181	8b da		 mov	 ebx, edx
  00183	2b 5d 1c	 sub	 ebx, DWORD PTR _Dis$[ebp]
  00186	3b c3		 cmp	 eax, ebx
  00188	0f 8c 95 00 00
	00		 jl	 $LN39@SkillAreaM
  0018e	03 55 1c	 add	 edx, DWORD PTR _Dis$[ebp]
  00191	3b c2		 cmp	 eax, edx
  00193	0f 8f 8a 00 00
	00		 jg	 $LN39@SkillAreaM

; 7897 : 						{
; 7898 : 							gObj[tObjNum].lpAttackObj = lpObj;
; 7899 : 							hitcount++;

  00199	8b 5d f4	 mov	 ebx, DWORD PTR _hitcount$[ebp]
  0019c	43		 inc	 ebx
  0019d	89 bc 0e d4 03
	00 00		 mov	 DWORD PTR [esi+ecx+980], edi
  001a4	89 5d f4	 mov	 DWORD PTR _hitcount$[ebp], ebx

; 7900 : 
; 7901 : 							if(hitcount > maxhit)

  001a7	3b 5d f0	 cmp	 ebx, DWORD PTR _maxhit$[ebp]
  001aa	7e 13		 jle	 SHORT $LN8@SkillAreaM

; 7902 : 							{
; 7903 : 								if(rand()%2 != 0)

  001ac	e8 00 00 00 00	 call	 _rand
  001b1	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  001b6	79 05		 jns	 SHORT $LN42@SkillAreaM
  001b8	48		 dec	 eax
  001b9	83 c8 fe	 or	 eax, -2			; fffffffeH
  001bc	40		 inc	 eax
$LN42@SkillAreaM:
  001bd	74 07		 je	 SHORT $LN36@SkillAreaM
$LN8@SkillAreaM:

; 7904 : 								{
; 7905 : 									bAttack = TRUE;
; 7906 : 								}
; 7907 : 							}
; 7908 : 							else
; 7909 : 							{
; 7910 : 								bAttack = TRUE;

  001bf	c7 45 08 01 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 1
$LN36@SkillAreaM:

; 7911 : 							}
; 7912 : 
; 7913 : 							if(hitcount > loc10)

  001c6	3b 5d ec	 cmp	 ebx, DWORD PTR _loc10$[ebp]
  001c9	7e 09		 jle	 SHORT $LN5@SkillAreaM

; 7914 : 							{
; 7915 : 								bAttack = FALSE;

  001cb	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _bAttack$[ebp], 0

; 7916 : 							}
; 7917 : 
; 7918 : 							if(bAttack == TRUE)

  001d2	eb 42		 jmp	 SHORT $LN37@SkillAreaM
$LN5@SkillAreaM:
  001d4	83 7d 08 01	 cmp	 DWORD PTR _bAttack$[ebp], 1
  001d8	75 3c		 jne	 SHORT $LN37@SkillAreaM

; 7919 : 							{
; 7920 : 								if(Delay == FALSE)

  001da	8b 45 24	 mov	 eax, DWORD PTR _Delay$[ebp]

; 7921 : 								{
; 7922 : 									gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,0,0,0,0,0);

  001dd	6a 00		 push	 0
  001df	85 c0		 test	 eax, eax
  001e1	75 1c		 jne	 SHORT $LN3@SkillAreaM
  001e3	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001e9	50		 push	 eax
  001ea	50		 push	 eax
  001eb	50		 push	 eax
  001ec	50		 push	 eax
  001ed	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  001f0	6a 01		 push	 1
  001f2	50		 push	 eax
  001f3	56		 push	 esi
  001f4	57		 push	 edi
  001f5	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  001fa	83 c4 24	 add	 esp, 36			; 00000024H

; 7923 : 								}
; 7924 : 								else

  001fd	eb 17		 jmp	 SHORT $LN37@SkillAreaM
$LN3@SkillAreaM:

; 7925 : 								{
; 7926 : 									gObjAddAttackProcMsgSendDelay(lpObj, 50, tObjNum, Delay, lpMagic->m_Skill, 0);

  001ff	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00202	8b 4a 08	 mov	 ecx, DWORD PTR [edx+8]
  00205	8b 55 e0	 mov	 edx, DWORD PTR _tObjNum$[ebp]
  00208	51		 push	 ecx
  00209	50		 push	 eax
  0020a	52		 push	 edx
  0020b	6a 32		 push	 50			; 00000032H
  0020d	57		 push	 edi
  0020e	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  00213	83 c4 18	 add	 esp, 24			; 00000018H
$LN37@SkillAreaM:

; 7927 : 								}
; 7928 : 							}
; 7929 : 							
; 7930 : 							SkillResult = 1;

  00216	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0021c	c7 45 f8 01 00
	00 00		 mov	 DWORD PTR _SkillResult$[ebp], 1
$LN39@SkillAreaM:
  00223	8b 5d fc	 mov	 ebx, DWORD PTR tv490[ebp]
$LN41@SkillAreaM:

; 7931 : 						}
; 7932 : 					}
; 7933 : 				}
; 7934 : 			}
; 7935 : 
; 7936 : 			count++;

  00226	83 c3 0c	 add	 ebx, 12			; 0000000cH

; 7937 : 			if(count > MAX_VIEWPORT -1)

  00229	ff 4d e8	 dec	 DWORD PTR tv77[ebp]
  0022c	89 5d fc	 mov	 DWORD PTR tv490[ebp], ebx
  0022f	0f 85 6b fe ff
	ff		 jne	 $LL24@SkillAreaM
$LN34@SkillAreaM:

; 7938 : 			{
; 7939 : 				break;
; 7940 : 			}
; 7941 : 		}
; 7942 : 	}
; 7943 : 
; 7944 : 	return SkillResult;

  00235	8b 45 f8	 mov	 eax, DWORD PTR _SkillResult$[ebp]
  00238	5f		 pop	 edi
  00239	5e		 pop	 esi
  0023a	5b		 pop	 ebx

; 7945 : }

  0023b	8b e5		 mov	 esp, ebp
  0023d	5d		 pop	 ebp
  0023e	c2 20 00	 ret	 32			; 00000020H
?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ENDP ; CObjUseSkill::SkillAreaMonsterAttack
_TEXT	ENDS
PUBLIC	?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
EXTRN	?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z:PROC	; GCActionSend
EXTRN	?RunningSkill@CMasterLevelSkillTreeSystem@@QAEHPAUOBJECTSTRUCT@@HPAVCMagicInf@@HEEEE@Z:PROC ; CMasterLevelSkillTreeSystem::RunningSkill
; Function compile flags: /Ogtp
;	COMDAT ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z
_TEXT	SEGMENT
_lpTargetObj$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_aTargetIndex$ = 12					; size = 4
_MagicNumber$ = 16					; size = 4
_lpMagic$ = 16						; size = 4
_bCombo$ = 20						; size = 4
?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z PROC ; CObjUseSkill::RunningSkill, COMDAT
; _this$ = ecx

; 905  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 906  : 	LPOBJ lpObj = &gObj[aIndex];
; 907  : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];

  00004	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00007	53		 push	 ebx
  00008	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H

; 908  : 	DWORD MagicNumber = lpMagic->m_Skill;

  0000e	8b 5d 10	 mov	 ebx, DWORD PTR _lpMagic$[ebp]
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00015	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0001b	57		 push	 edi
  0001c	8b f9		 mov	 edi, ecx
  0001e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00024	03 c1		 add	 eax, ecx
  00026	03 f1		 add	 esi, ecx
  00028	89 45 fc	 mov	 DWORD PTR _lpTargetObj$[ebp], eax
  0002b	8b 43 08	 mov	 eax, DWORD PTR [ebx+8]

; 909  : 
; 910  : 	lpObj->m_SkillNumber = MagicNumber;
; 911  : 
; 912  : 	if( (gObjSearchActiveEffect(lpObj, AT_INVISIBILITY) == TRUE) && ((lpObj->Authority&32) != 32) ) //season3 add-on

  0002e	6a 12		 push	 18			; 00000012H
  00030	56		 push	 esi
  00031	89 45 10	 mov	 DWORD PTR _MagicNumber$[ebp], eax
  00034	66 89 86 d8 03
	00 00		 mov	 WORD PTR [esi+984], ax
  0003b	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00040	83 c4 08	 add	 esp, 8
  00043	3c 01		 cmp	 al, 1
  00045	75 13		 jne	 SHORT $LN57@RunningSki
  00047	f6 86 0c 02 00
	00 20		 test	 BYTE PTR [esi+524], 32	; 00000020H
  0004e	75 0a		 jne	 SHORT $LN57@RunningSki

; 913  : 	{
; 914  : 		this->RemoveCloakingEffect(lpObj->m_Index);

  00050	8b 06		 mov	 eax, DWORD PTR [esi]
  00052	50		 push	 eax
  00053	8b cf		 mov	 ecx, edi
  00055	e8 00 00 00 00	 call	 ?RemoveCloakingEffect@CObjUseSkill@@QAEHH@Z ; CObjUseSkill::RemoveCloakingEffect
$LN57@RunningSki:

; 915  : 	}
; 916  : 
; 917  : 	if(g_MasterSkillSystem.CheckRequireStatus(lpMagic->m_Skill) != FALSE) //Season3 add-on

  0005a	8b 4b 08	 mov	 ecx, DWORD PTR [ebx+8]
  0005d	51		 push	 ecx
  0005e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00063	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  00068	85 c0		 test	 eax, eax
  0006a	74 25		 je	 SHORT $LN56@RunningSki

; 918  : 	{
; 919  : 		return g_MasterSkillSystem.RunningSkill(lpObj, aTargetIndex, lpMagic, bCombo, 0, 0, 0, 0);

  0006c	8b 55 14	 mov	 edx, DWORD PTR _bCombo$[ebp]
  0006f	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00072	6a 00		 push	 0
  00074	6a 00		 push	 0
  00076	6a 00		 push	 0
  00078	6a 00		 push	 0
  0007a	52		 push	 edx
  0007b	53		 push	 ebx
  0007c	50		 push	 eax
  0007d	56		 push	 esi
  0007e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00083	e8 00 00 00 00	 call	 ?RunningSkill@CMasterLevelSkillTreeSystem@@QAEHPAUOBJECTSTRUCT@@HPAVCMagicInf@@HEEEE@Z ; CMasterLevelSkillTreeSystem::RunningSkill
  00088	5f		 pop	 edi
  00089	5e		 pop	 esi
  0008a	5b		 pop	 ebx

; 1053 : }

  0008b	8b e5		 mov	 esp, ebp
  0008d	5d		 pop	 ebp
  0008e	c2 10 00	 ret	 16			; 00000010H
$LN56@RunningSki:

; 920  : 	}
; 921  : 
; 922  : 	switch(MagicNumber)

  00091	8b 45 10	 mov	 eax, DWORD PTR _MagicNumber$[ebp]
  00094	3d 07 01 00 00	 cmp	 eax, 263		; 00000107H
  00099	0f 87 eb 05 00
	00		 ja	 $LN60@RunningSki
  0009f	3d 04 01 00 00	 cmp	 eax, 260		; 00000104H
  000a4	0f 83 c2 05 00
	00		 jae	 $LN4@RunningSki
  000aa	48		 dec	 eax
  000ab	3d e9 00 00 00	 cmp	 eax, 233		; 000000e9H
  000b0	0f 87 37 06 00
	00		 ja	 $LN1@RunningSki
  000b6	0f b6 88 00 00
	00 00		 movzx	 ecx, BYTE PTR $LN61@RunningSki[eax]
  000bd	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $LN64@RunningSki[ecx*4]
$LN53@RunningSki:

; 923  : 	{
; 924  : 	case AT_SKILL_BLOCKING:
; 925  : 		if(lpObj->pInventory[1].IsItem() == 1)

  000c4	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  000ca	81 c1 d4 00 00
	00		 add	 ecx, 212		; 000000d4H
  000d0	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  000d5	83 f8 01	 cmp	 eax, 1
  000d8	0f 85 29 06 00
	00		 jne	 $LN54@RunningSki

; 926  : 		{
; 927  : 			if(lpObj->pInventory[1].m_Type >= ITEMGET(6,4) && lpObj->pInventory[1].m_Type < ITEMGET(7,0))

  000de	8b 8e 24 0e 00
	00		 mov	 ecx, DWORD PTR [esi+3620]
  000e4	0f b7 81 da 00
	00 00		 movzx	 eax, WORD PTR [ecx+218]
  000eb	ba 04 0c 00 00	 mov	 edx, 3076		; 00000c04H
  000f0	66 3b c2	 cmp	 ax, dx
  000f3	0f 8c 0e 06 00
	00		 jl	 $LN54@RunningSki
  000f9	ba 00 0e 00 00	 mov	 edx, 3584		; 00000e00H
  000fe	66 3b c2	 cmp	 ax, dx
  00101	0f 8d 00 06 00
	00		 jge	 $LN54@RunningSki

; 928  : 			{
; 929  : 				if(lpObj->pInventory[1].m_Option1 != 0)

  00107	80 b9 68 01 00
	00 00		 cmp	 BYTE PTR [ecx+360], 0
  0010e	0f 84 f3 05 00
	00		 je	 $LN54@RunningSki

; 930  : 				{
; 931  : 					lpObj->m_SkillTime = GetTickCount() + 4000;

  00114	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 932  : 					GCActionSend(lpObj,18,lpObj->m_Index,aTargetIndex);

  0011a	8b 0e		 mov	 ecx, DWORD PTR [esi]
  0011c	05 a0 0f 00 00	 add	 eax, 4000		; 00000fa0H
  00121	89 86 dc 03 00
	00		 mov	 DWORD PTR [esi+988], eax
  00127	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0012a	50		 push	 eax
  0012b	51		 push	 ecx
  0012c	6a 12		 push	 18			; 00000012H
  0012e	56		 push	 esi
  0012f	e8 00 00 00 00	 call	 ?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z ; GCActionSend
  00134	83 c4 10	 add	 esp, 16			; 00000010H
  00137	5f		 pop	 edi
  00138	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00139	b8 01 00 00 00	 mov	 eax, 1
  0013e	5b		 pop	 ebx

; 1053 : }

  0013f	8b e5		 mov	 esp, ebp
  00141	5d		 pop	 ebp
  00142	c2 10 00	 ret	 16			; 00000010H
$LN49@RunningSki:

; 933  : 				}
; 934  : 			}
; 935  : 		}
; 936  : 		break;
; 937  : 	case AT_SKILL_POISON:
; 938  : 	case AT_SKILL_METEO:
; 939  : 	case AT_SKILL_THUNDER:
; 940  : 	case AT_SKILL_FIREBALL:
; 941  : 	case AT_SKILL_FLAME:
; 942  : 	case AT_SKILL_SLOW:
; 943  : 	case AT_SKILL_ENERGYBALL:
; 944  : 	case AT_SKILL_SWORD1:
; 945  : 	case AT_SKILL_SWORD2:
; 946  : 	case AT_SKILL_SWORD3:
; 947  : 	case AT_SKILL_SWORD4:
; 948  : 	case AT_SKILL_SWORD5:
; 949  : 	case AT_SKILL_CROSSBOW:
; 950  : 	case AT_SKILL_BOW:
; 951  : 	case AT_SKILL_WHEEL:
; 952  : 	case AT_SKILL_BLOWOFFURY:
; 953  : 	case AT_SKILL_KNIGHTSPEAR:
; 954  : 	case AT_SKILL_PENETRATION:
; 955  : 	case AT_SKILL_SWORD6:
; 956  : 		{
; 957  : 			gObjAttack(lpObj,lpTargetObj,lpMagic,1,0,0,0,0,0);

  00145	8b 55 fc	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  00148	6a 00		 push	 0
  0014a	6a 00		 push	 0
  0014c	6a 00		 push	 0
  0014e	6a 00		 push	 0
  00150	6a 00		 push	 0
  00152	6a 01		 push	 1
  00154	53		 push	 ebx
  00155	52		 push	 edx

; 958  : 			break;

  00156	e9 a3 05 00 00	 jmp	 $LN62@RunningSki
$LN48@RunningSki:

; 959  : 		}
; 960  : 	case AT_SKILL_HEALING:	this->SkillHealing(aIndex,aTargetIndex,lpMagic->m_Level);break;

  0015b	0f b6 43 04	 movzx	 eax, BYTE PTR [ebx+4]
  0015f	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  00162	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00165	50		 push	 eax
  00166	51		 push	 ecx
  00167	52		 push	 edx
  00168	8b cf		 mov	 ecx, edi
  0016a	e8 00 00 00 00	 call	 ?SkillHealing@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::SkillHealing
  0016f	5f		 pop	 edi
  00170	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00171	b8 01 00 00 00	 mov	 eax, 1
  00176	5b		 pop	 ebx

; 1053 : }

  00177	8b e5		 mov	 esp, ebp
  00179	5d		 pop	 ebp
  0017a	c2 10 00	 ret	 16			; 00000010H
$LN47@RunningSki:

; 961  : 	case AT_SKILL_MAGICDEFENSE:	this->WizardMagicDefense(aIndex,aTargetIndex,lpMagic->m_Level);break;

  0017d	0f b6 43 04	 movzx	 eax, BYTE PTR [ebx+4]
  00181	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  00184	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00187	50		 push	 eax
  00188	51		 push	 ecx
  00189	52		 push	 edx
  0018a	8b cf		 mov	 ecx, edi
  0018c	e8 00 00 00 00	 call	 ?WizardMagicDefense@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::WizardMagicDefense
  00191	5f		 pop	 edi
  00192	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00193	b8 01 00 00 00	 mov	 eax, 1
  00198	5b		 pop	 ebx

; 1053 : }

  00199	8b e5		 mov	 esp, ebp
  0019b	5d		 pop	 ebp
  0019c	c2 10 00	 ret	 16			; 00000010H
$LN46@RunningSki:

; 962  : 	case AT_SKILL_KNIGHTADDLIFE:	this->KnightSkillAddLife(aIndex,lpMagic->m_Level);break;

  0019f	0f b6 43 04	 movzx	 eax, BYTE PTR [ebx+4]
  001a3	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  001a6	50		 push	 eax
  001a7	51		 push	 ecx
  001a8	8b cf		 mov	 ecx, edi
  001aa	e8 00 00 00 00	 call	 ?KnightSkillAddLife@CObjUseSkill@@QAEXHH@Z ; CObjUseSkill::KnightSkillAddLife
  001af	5f		 pop	 edi
  001b0	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  001b1	b8 01 00 00 00	 mov	 eax, 1
  001b6	5b		 pop	 ebx

; 1053 : }

  001b7	8b e5		 mov	 esp, ebp
  001b9	5d		 pop	 ebp
  001ba	c2 10 00	 ret	 16			; 00000010H
$LN45@RunningSki:

; 963  : 	case AT_SKILL_DEFENSE:	this->SkillDefense(aIndex,aTargetIndex,lpMagic->m_Level);break;

  001bd	0f b6 53 04	 movzx	 edx, BYTE PTR [ebx+4]
  001c1	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  001c4	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  001c7	52		 push	 edx
  001c8	50		 push	 eax
  001c9	51		 push	 ecx
  001ca	8b cf		 mov	 ecx, edi
  001cc	e8 00 00 00 00	 call	 ?SkillDefense@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::SkillDefense
  001d1	5f		 pop	 edi
  001d2	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  001d3	b8 01 00 00 00	 mov	 eax, 1
  001d8	5b		 pop	 ebx

; 1053 : }

  001d9	8b e5		 mov	 esp, ebp
  001db	5d		 pop	 ebp
  001dc	c2 10 00	 ret	 16			; 00000010H
$LN44@RunningSki:

; 964  : 	case AT_SKILL_ATTACK:	this->SkillAttack(aIndex,aTargetIndex,lpMagic->m_Level);break;

  001df	0f b6 53 04	 movzx	 edx, BYTE PTR [ebx+4]
  001e3	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  001e6	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  001e9	52		 push	 edx
  001ea	50		 push	 eax
  001eb	51		 push	 ecx
  001ec	8b cf		 mov	 ecx, edi
  001ee	e8 00 00 00 00	 call	 ?SkillAttack@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::SkillAttack
  001f3	5f		 pop	 edi
  001f4	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  001f5	b8 01 00 00 00	 mov	 eax, 1
  001fa	5b		 pop	 ebx

; 1053 : }

  001fb	8b e5		 mov	 esp, ebp
  001fd	5d		 pop	 ebp
  001fe	c2 10 00	 ret	 16			; 00000010H
$LN43@RunningSki:

; 965  : 
; 966  : 	case AT_SKILL_CALLMON1:	return this->SkillMonsterCall(lpObj->m_Index,26,lpObj->X-1,lpObj->Y+1);

  00201	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  00208	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  0020f	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00211	42		 inc	 edx
  00212	52		 push	 edx
  00213	48		 dec	 eax
  00214	50		 push	 eax
  00215	6a 1a		 push	 26			; 0000001aH
  00217	51		 push	 ecx
  00218	8b cf		 mov	 ecx, edi
  0021a	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  0021f	5f		 pop	 edi
  00220	5e		 pop	 esi
  00221	5b		 pop	 ebx

; 1053 : }

  00222	8b e5		 mov	 esp, ebp
  00224	5d		 pop	 ebp
  00225	c2 10 00	 ret	 16			; 00000010H
$LN42@RunningSki:

; 967  : 	case AT_SKILL_CALLMON2:	return this->SkillMonsterCall(lpObj->m_Index,32,lpObj->X-1,lpObj->Y+1);

  00228	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  0022f	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  00236	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00238	42		 inc	 edx
  00239	52		 push	 edx
  0023a	48		 dec	 eax
  0023b	50		 push	 eax
  0023c	6a 20		 push	 32			; 00000020H
  0023e	51		 push	 ecx
  0023f	8b cf		 mov	 ecx, edi
  00241	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  00246	5f		 pop	 edi
  00247	5e		 pop	 esi
  00248	5b		 pop	 ebx

; 1053 : }

  00249	8b e5		 mov	 esp, ebp
  0024b	5d		 pop	 ebp
  0024c	c2 10 00	 ret	 16			; 00000010H
$LN41@RunningSki:

; 968  : 	case AT_SKILL_CALLMON3:	return this->SkillMonsterCall(lpObj->m_Index,21,lpObj->X-1,lpObj->Y+1);

  0024f	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  00256	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  0025d	8b 0e		 mov	 ecx, DWORD PTR [esi]
  0025f	42		 inc	 edx
  00260	52		 push	 edx
  00261	48		 dec	 eax
  00262	50		 push	 eax
  00263	6a 15		 push	 21			; 00000015H
  00265	51		 push	 ecx
  00266	8b cf		 mov	 ecx, edi
  00268	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  0026d	5f		 pop	 edi
  0026e	5e		 pop	 esi
  0026f	5b		 pop	 ebx

; 1053 : }

  00270	8b e5		 mov	 esp, ebp
  00272	5d		 pop	 ebp
  00273	c2 10 00	 ret	 16			; 00000010H
$LN40@RunningSki:

; 969  : 	case AT_SKILL_CALLMON4:	return this->SkillMonsterCall(lpObj->m_Index,20,lpObj->X-1,lpObj->Y+1);

  00276	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  0027d	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  00284	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00286	42		 inc	 edx
  00287	52		 push	 edx
  00288	48		 dec	 eax
  00289	50		 push	 eax
  0028a	6a 14		 push	 20			; 00000014H
  0028c	51		 push	 ecx
  0028d	8b cf		 mov	 ecx, edi
  0028f	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  00294	5f		 pop	 edi
  00295	5e		 pop	 esi
  00296	5b		 pop	 ebx

; 1053 : }

  00297	8b e5		 mov	 esp, ebp
  00299	5d		 pop	 ebp
  0029a	c2 10 00	 ret	 16			; 00000010H
$LN39@RunningSki:

; 970  : 	case AT_SKILL_CALLMON5:	return this->SkillMonsterCall(lpObj->m_Index,10,lpObj->X-1,lpObj->Y+1);

  0029d	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  002a4	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  002ab	8b 0e		 mov	 ecx, DWORD PTR [esi]
  002ad	42		 inc	 edx
  002ae	52		 push	 edx
  002af	48		 dec	 eax
  002b0	50		 push	 eax
  002b1	6a 0a		 push	 10			; 0000000aH
  002b3	51		 push	 ecx
  002b4	8b cf		 mov	 ecx, edi
  002b6	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  002bb	5f		 pop	 edi
  002bc	5e		 pop	 esi
  002bd	5b		 pop	 ebx

; 1053 : }

  002be	8b e5		 mov	 esp, ebp
  002c0	5d		 pop	 ebp
  002c1	c2 10 00	 ret	 16			; 00000010H
$LN38@RunningSki:

; 971  : 	case AT_SKILL_CALLMON6:	return this->SkillMonsterCall(lpObj->m_Index,150,lpObj->X-1,lpObj->Y+1);

  002c4	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  002cb	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  002d2	8b 0e		 mov	 ecx, DWORD PTR [esi]
  002d4	42		 inc	 edx
  002d5	52		 push	 edx
  002d6	48		 dec	 eax
  002d7	50		 push	 eax
  002d8	68 96 00 00 00	 push	 150			; 00000096H
  002dd	51		 push	 ecx
  002de	8b cf		 mov	 ecx, edi
  002e0	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  002e5	5f		 pop	 edi
  002e6	5e		 pop	 esi
  002e7	5b		 pop	 ebx

; 1053 : }

  002e8	8b e5		 mov	 esp, ebp
  002ea	5d		 pop	 ebp
  002eb	c2 10 00	 ret	 16			; 00000010H
$LN37@RunningSki:

; 972  : 	case AT_SKILL_CALLMON7:	return this->SkillMonsterCall(lpObj->m_Index,151,lpObj->X-1,lpObj->Y+1);

  002ee	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  002f5	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  002fc	8b 0e		 mov	 ecx, DWORD PTR [esi]
  002fe	42		 inc	 edx
  002ff	52		 push	 edx
  00300	48		 dec	 eax
  00301	50		 push	 eax
  00302	68 97 00 00 00	 push	 151			; 00000097H
  00307	51		 push	 ecx
  00308	8b cf		 mov	 ecx, edi
  0030a	e8 00 00 00 00	 call	 ?SkillMonsterCall@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::SkillMonsterCall
  0030f	5f		 pop	 edi
  00310	5e		 pop	 esi
  00311	5b		 pop	 ebx

; 1053 : }

  00312	8b e5		 mov	 esp, ebp
  00314	5d		 pop	 ebp
  00315	c2 10 00	 ret	 16			; 00000010H
$LN36@RunningSki:

; 973  : 
; 974  : 	case AT_SKILL_EXPHELL:	return this->SkillHellFire2(lpObj->m_Index,aTargetIndex,lpMagic);

  00318	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0031b	8b 06		 mov	 eax, DWORD PTR [esi]
  0031d	53		 push	 ebx
  0031e	52		 push	 edx
  0031f	50		 push	 eax
  00320	8b cf		 mov	 ecx, edi
  00322	e8 00 00 00 00	 call	 ?SkillHellFire2@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillHellFire2
  00327	5f		 pop	 edi
  00328	5e		 pop	 esi
  00329	5b		 pop	 ebx

; 1053 : }

  0032a	8b e5		 mov	 esp, ebp
  0032c	5d		 pop	 ebp
  0032d	c2 10 00	 ret	 16			; 00000010H
$LN35@RunningSki:

; 975  : 	case AT_SKILL_STRIKE:	return this->SkillKnightBlow(lpObj->m_Index,aTargetIndex,lpMagic,bCombo);

  00330	8b 4d 14	 mov	 ecx, DWORD PTR _bCombo$[ebp]
  00333	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  00336	8b 06		 mov	 eax, DWORD PTR [esi]
  00338	51		 push	 ecx
  00339	53		 push	 ebx
  0033a	52		 push	 edx
  0033b	50		 push	 eax
  0033c	8b cf		 mov	 ecx, edi
  0033e	e8 00 00 00 00	 call	 ?SkillKnightBlow@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillKnightBlow
  00343	5f		 pop	 edi
  00344	5e		 pop	 esi
  00345	5b		 pop	 ebx

; 1053 : }

  00346	8b e5		 mov	 esp, ebp
  00348	5d		 pop	 ebp
  00349	c2 10 00	 ret	 16			; 00000010H
$LN34@RunningSki:

; 976  : 
; 977  : 	case AT_SKILL_SPEAR:	return this->SkillSpear(lpObj->m_Index,aTargetIndex,lpMagic);

  0034c	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0034f	8b 16		 mov	 edx, DWORD PTR [esi]
  00351	53		 push	 ebx
  00352	51		 push	 ecx
  00353	52		 push	 edx
  00354	8b cf		 mov	 ecx, edi
  00356	e8 00 00 00 00	 call	 ?SkillSpear@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSpear
  0035b	5f		 pop	 edi
  0035c	5e		 pop	 esi
  0035d	5b		 pop	 ebx

; 1053 : }

  0035e	8b e5		 mov	 esp, ebp
  00360	5d		 pop	 ebp
  00361	c2 10 00	 ret	 16			; 00000010H
$LN33@RunningSki:

; 978  : 	case AT_SKILL_FIREBURST:	return this->SkillFireBurst(lpObj->m_Index,aTargetIndex,lpMagic);

  00364	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00367	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00369	53		 push	 ebx
  0036a	50		 push	 eax
  0036b	51		 push	 ecx
  0036c	8b cf		 mov	 ecx, edi
  0036e	e8 00 00 00 00	 call	 ?SkillFireBurst@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFireBurst
  00373	5f		 pop	 edi
  00374	5e		 pop	 esi
  00375	5b		 pop	 ebx

; 1053 : }

  00376	8b e5		 mov	 esp, ebp
  00378	5d		 pop	 ebp
  00379	c2 10 00	 ret	 16			; 00000010H
$LN32@RunningSki:

; 979  : 	case AT_SKILL_DARKHORSE_ATTACK:	return this->SkillDarkHorseAttack(lpObj->m_Index,aTargetIndex,lpMagic);

  0037c	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  0037f	8b 06		 mov	 eax, DWORD PTR [esi]
  00381	53		 push	 ebx
  00382	52		 push	 edx
  00383	50		 push	 eax
  00384	8b cf		 mov	 ecx, edi
  00386	e8 00 00 00 00	 call	 ?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarkHorseAttack
  0038b	5f		 pop	 edi
  0038c	5e		 pop	 esi
  0038d	5b		 pop	 ebx

; 1053 : }

  0038e	8b e5		 mov	 esp, ebp
  00390	5d		 pop	 ebp
  00391	c2 10 00	 ret	 16			; 00000010H
$LN31@RunningSki:

; 980  : 	case AT_SKILL_RECALL_PARTY:	this->SkillRecallParty(aIndex,lpMagic->m_Level);break;

  00394	0f b6 4b 04	 movzx	 ecx, BYTE PTR [ebx+4]
  00398	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0039b	51		 push	 ecx
  0039c	52		 push	 edx
  0039d	8b cf		 mov	 ecx, edi
  0039f	e8 00 00 00 00	 call	 ?SkillRecallParty@CObjUseSkill@@QAEXHH@Z ; CObjUseSkill::SkillRecallParty
  003a4	5f		 pop	 edi
  003a5	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  003a6	b8 01 00 00 00	 mov	 eax, 1
  003ab	5b		 pop	 ebx

; 1053 : }

  003ac	8b e5		 mov	 esp, ebp
  003ae	5d		 pop	 ebp
  003af	c2 10 00	 ret	 16			; 00000010H
$LN30@RunningSki:

; 981  : 	case AT_SKILL_ADD_CRITICALDAMAGE:	this->SkillAddCriticalDamage(aIndex,lpMagic->m_Level);break;

  003b2	0f b6 43 04	 movzx	 eax, BYTE PTR [ebx+4]
  003b6	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  003b9	50		 push	 eax
  003ba	51		 push	 ecx
  003bb	8b cf		 mov	 ecx, edi
  003bd	e8 00 00 00 00	 call	 ?SkillAddCriticalDamage@CObjUseSkill@@QAEXHH@Z ; CObjUseSkill::SkillAddCriticalDamage
  003c2	5f		 pop	 edi
  003c3	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  003c4	b8 01 00 00 00	 mov	 eax, 1
  003c9	5b		 pop	 ebx

; 1053 : }

  003ca	8b e5		 mov	 esp, ebp
  003cc	5d		 pop	 ebp
  003cd	c2 10 00	 ret	 16			; 00000010H
$LN29@RunningSki:

; 982  : 
; 983  : 	case AT_SKILL_DEFENSEDOWN:	this->MaGumSkillDefenseDown(lpObj->m_Index,aTargetIndex,1);break;

  003d0	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  003d3	8b 06		 mov	 eax, DWORD PTR [esi]
  003d5	6a 01		 push	 1
  003d7	52		 push	 edx
  003d8	50		 push	 eax
  003d9	8b cf		 mov	 ecx, edi
  003db	e8 00 00 00 00	 call	 ?MaGumSkillDefenseDown@CObjUseSkill@@QAEXHHH@Z ; CObjUseSkill::MaGumSkillDefenseDown
  003e0	5f		 pop	 edi
  003e1	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  003e2	b8 01 00 00 00	 mov	 eax, 1
  003e7	5b		 pop	 ebx

; 1053 : }

  003e8	8b e5		 mov	 esp, ebp
  003ea	5d		 pop	 ebp
  003eb	c2 10 00	 ret	 16			; 00000010H
$LN28@RunningSki:

; 984  : 
; 985  : 	case AT_SKILL_SUMMON:	this->SkillSummon(lpObj->m_Index,aTargetIndex,lpMagic);break;

  003ee	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  003f1	8b 16		 mov	 edx, DWORD PTR [esi]
  003f3	53		 push	 ebx
  003f4	51		 push	 ecx
  003f5	52		 push	 edx
  003f6	8b cf		 mov	 ecx, edi
  003f8	e8 00 00 00 00	 call	 ?SkillSummon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSummon
  003fd	5f		 pop	 edi
  003fe	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  003ff	b8 01 00 00 00	 mov	 eax, 1
  00404	5b		 pop	 ebx

; 1053 : }

  00405	8b e5		 mov	 esp, ebp
  00407	5d		 pop	 ebp
  00408	c2 10 00	 ret	 16			; 00000010H
$LN27@RunningSki:

; 986  : 	case AT_SKILL_IMMUNE_TO_MAGIC:	this->SkillImmuneToMagic(lpObj->m_Index,lpMagic);break;

  0040b	8b 06		 mov	 eax, DWORD PTR [esi]
  0040d	53		 push	 ebx
  0040e	50		 push	 eax
  0040f	8b cf		 mov	 ecx, edi
  00411	e8 00 00 00 00	 call	 ?SkillImmuneToMagic@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToMagic
  00416	5f		 pop	 edi
  00417	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00418	b8 01 00 00 00	 mov	 eax, 1
  0041d	5b		 pop	 ebx

; 1053 : }

  0041e	8b e5		 mov	 esp, ebp
  00420	5d		 pop	 ebp
  00421	c2 10 00	 ret	 16			; 00000010H
$LN26@RunningSki:

; 987  : 	case AT_SKILL_IMMUNE_TO_HARM:	this->SkillImmuneToHarm(lpObj->m_Index,lpMagic);break;

  00424	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00426	53		 push	 ebx
  00427	51		 push	 ecx
  00428	8b cf		 mov	 ecx, edi
  0042a	e8 00 00 00 00	 call	 ?SkillImmuneToHarm@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillImmuneToHarm
  0042f	5f		 pop	 edi
  00430	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00431	b8 01 00 00 00	 mov	 eax, 1
  00436	5b		 pop	 ebx

; 1053 : }

  00437	8b e5		 mov	 esp, ebp
  00439	5d		 pop	 ebp
  0043a	c2 10 00	 ret	 16			; 00000010H
$LN25@RunningSki:

; 988  : 
; 989  : 	case AT_SKILL_RUSH:	this->SkillKnightRush(lpObj->m_Index,aTargetIndex,lpMagic);break;

  0043d	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  00440	8b 06		 mov	 eax, DWORD PTR [esi]
  00442	53		 push	 ebx
  00443	52		 push	 edx
  00444	50		 push	 eax
  00445	8b cf		 mov	 ecx, edi
  00447	e8 00 00 00 00	 call	 ?SkillKnightRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillKnightRush
  0044c	5f		 pop	 edi
  0044d	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  0044e	b8 01 00 00 00	 mov	 eax, 1
  00453	5b		 pop	 ebx

; 1053 : }

  00454	8b e5		 mov	 esp, ebp
  00456	5d		 pop	 ebp
  00457	c2 10 00	 ret	 16			; 00000010H
$LN24@RunningSki:

; 990  : 	case AT_SKILL_JAVALIN:	this->SkillWizardJavalin(lpObj->m_Index,aTargetIndex,lpMagic);break;

  0045a	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0045d	8b 16		 mov	 edx, DWORD PTR [esi]
  0045f	53		 push	 ebx
  00460	51		 push	 ecx
  00461	52		 push	 edx
  00462	8b cf		 mov	 ecx, edi
  00464	e8 00 00 00 00	 call	 ?SkillWizardJavalin@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillWizardJavalin
  00469	5f		 pop	 edi
  0046a	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  0046b	b8 01 00 00 00	 mov	 eax, 1
  00470	5b		 pop	 ebx

; 1053 : }

  00471	8b e5		 mov	 esp, ebp
  00473	5d		 pop	 ebp
  00474	c2 10 00	 ret	 16			; 00000010H
$LN23@RunningSki:

; 991  : 	case AT_SKILL_DEEPIMPACT:	this->SkillElfRush(lpObj->m_Index,aTargetIndex,lpMagic);break;

  00477	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0047a	8b 0e		 mov	 ecx, DWORD PTR [esi]
  0047c	53		 push	 ebx
  0047d	50		 push	 eax
  0047e	51		 push	 ecx
  0047f	8b cf		 mov	 ecx, edi
  00481	e8 00 00 00 00	 call	 ?SkillElfRush@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillElfRush
  00486	5f		 pop	 edi
  00487	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00488	b8 01 00 00 00	 mov	 eax, 1
  0048d	5b		 pop	 ebx

; 1053 : }

  0048e	8b e5		 mov	 esp, ebp
  00490	5d		 pop	 ebp
  00491	c2 10 00	 ret	 16			; 00000010H
$LN22@RunningSki:

; 992  : 	case AT_SKILL_ONE_FLASH:	this->SkillMagumOneFlash(lpObj->m_Index,aTargetIndex,lpMagic);break;

  00494	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  00497	8b 06		 mov	 eax, DWORD PTR [esi]
  00499	53		 push	 ebx
  0049a	52		 push	 edx
  0049b	50		 push	 eax
  0049c	8b cf		 mov	 ecx, edi
  0049e	e8 00 00 00 00	 call	 ?SkillMagumOneFlash@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumOneFlash
  004a3	5f		 pop	 edi
  004a4	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  004a5	b8 01 00 00 00	 mov	 eax, 1
  004aa	5b		 pop	 ebx

; 1053 : }

  004ab	8b e5		 mov	 esp, ebp
  004ad	5d		 pop	 ebp
  004ae	c2 10 00	 ret	 16			; 00000010H
$LN21@RunningSki:

; 993  : 	case AT_SKILL_DEATH_CANNON:	this->SkillMagumDeathCannon(lpObj->m_Index,aTargetIndex,lpMagic);break;

  004b1	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  004b4	8b 16		 mov	 edx, DWORD PTR [esi]
  004b6	53		 push	 ebx
  004b7	51		 push	 ecx
  004b8	52		 push	 edx
  004b9	8b cf		 mov	 ecx, edi
  004bb	e8 00 00 00 00	 call	 ?SkillMagumDeathCannon@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMagumDeathCannon
  004c0	5f		 pop	 edi
  004c1	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  004c2	b8 01 00 00 00	 mov	 eax, 1
  004c7	5b		 pop	 ebx

; 1053 : }

  004c8	8b e5		 mov	 esp, ebp
  004ca	5d		 pop	 ebp
  004cb	c2 10 00	 ret	 16			; 00000010H
$LN20@RunningSki:

; 994  : 	case AT_SKILL_SPACE_SPLIT:	this->SkillDarklordSpaceSplit(lpObj->m_Index,aTargetIndex,lpMagic);break;

  004ce	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  004d1	8b 0e		 mov	 ecx, DWORD PTR [esi]
  004d3	53		 push	 ebx
  004d4	50		 push	 eax
  004d5	51		 push	 ecx
  004d6	8b cf		 mov	 ecx, edi
  004d8	e8 00 00 00 00	 call	 ?SkillDarklordSpaceSplit@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarklordSpaceSplit
  004dd	5f		 pop	 edi
  004de	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  004df	b8 01 00 00 00	 mov	 eax, 1
  004e4	5b		 pop	 ebx

; 1053 : }

  004e5	8b e5		 mov	 esp, ebp
  004e7	5d		 pop	 ebp
  004e8	c2 10 00	 ret	 16			; 00000010H
$LN19@RunningSki:

; 995  : 
; 996  : 	case AT_SKILL_BRAND_OF_SKILL:	this->SkillBrandOfSkill(aIndex,aTargetIndex,lpMagic);break;

  004eb	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  004ee	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  004f1	53		 push	 ebx
  004f2	52		 push	 edx
  004f3	50		 push	 eax
  004f4	8b cf		 mov	 ecx, edi
  004f6	e8 00 00 00 00	 call	 ?SkillBrandOfSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBrandOfSkill
  004fb	5f		 pop	 edi
  004fc	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  004fd	b8 01 00 00 00	 mov	 eax, 1
  00502	5b		 pop	 ebx

; 1053 : }

  00503	8b e5		 mov	 esp, ebp
  00505	5d		 pop	 ebp
  00506	c2 10 00	 ret	 16			; 00000010H
$LN18@RunningSki:

; 997  : 
; 998  : 	case AT_SKILL_REMOVAL_STUN:	this->SkillRemoveStun(aIndex,aTargetIndex,lpMagic);break;

  00509	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  0050c	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0050f	53		 push	 ebx
  00510	51		 push	 ecx
  00511	52		 push	 edx
  00512	8b cf		 mov	 ecx, edi
  00514	e8 00 00 00 00	 call	 ?SkillRemoveStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveStun
  00519	5f		 pop	 edi
  0051a	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  0051b	b8 01 00 00 00	 mov	 eax, 1
  00520	5b		 pop	 ebx

; 1053 : }

  00521	8b e5		 mov	 esp, ebp
  00523	5d		 pop	 ebp
  00524	c2 10 00	 ret	 16			; 00000010H
$LN17@RunningSki:

; 999  : 	case AT_SKILL_ADD_MANA:	this->SkillAddMana(aIndex,aTargetIndex,lpMagic);break;

  00527	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0052a	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  0052d	53		 push	 ebx
  0052e	50		 push	 eax
  0052f	51		 push	 ecx
  00530	8b cf		 mov	 ecx, edi
  00532	e8 00 00 00 00	 call	 ?SkillAddMana@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillAddMana
  00537	5f		 pop	 edi
  00538	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00539	b8 01 00 00 00	 mov	 eax, 1
  0053e	5b		 pop	 ebx

; 1053 : }

  0053f	8b e5		 mov	 esp, ebp
  00541	5d		 pop	 ebp
  00542	c2 10 00	 ret	 16			; 00000010H
$LN16@RunningSki:

; 1000 : 	case AT_SKILL_INVISIBLE:	this->SkillCloaking(aIndex,aTargetIndex,lpMagic);break;

  00545	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  00548	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  0054b	53		 push	 ebx
  0054c	52		 push	 edx
  0054d	50		 push	 eax
  0054e	8b cf		 mov	 ecx, edi
  00550	e8 00 00 00 00	 call	 ?SkillCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillCloaking
  00555	5f		 pop	 edi
  00556	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00557	b8 01 00 00 00	 mov	 eax, 1
  0055c	5b		 pop	 ebx

; 1053 : }

  0055d	8b e5		 mov	 esp, ebp
  0055f	5d		 pop	 ebp
  00560	c2 10 00	 ret	 16			; 00000010H
$LN15@RunningSki:

; 1001 : 	case AT_SKILL_REMOVAL_INVISIBLE:	this->SkillRemoveCloaking(aIndex,aTargetIndex,lpMagic);break;

  00563	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  00566	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00569	53		 push	 ebx
  0056a	51		 push	 ecx
  0056b	52		 push	 edx
  0056c	8b cf		 mov	 ecx, edi
  0056e	e8 00 00 00 00	 call	 ?SkillRemoveCloaking@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveCloaking
  00573	5f		 pop	 edi
  00574	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00575	b8 01 00 00 00	 mov	 eax, 1
  0057a	5b		 pop	 ebx

; 1053 : }

  0057b	8b e5		 mov	 esp, ebp
  0057d	5d		 pop	 ebp
  0057e	c2 10 00	 ret	 16			; 00000010H
$LN14@RunningSki:

; 1002 : 	case AT_SKILL_REMOVAL_MAGIC:	this->SkillRemoveMagic(aIndex,aTargetIndex,lpMagic);break;

  00581	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  00584	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00587	53		 push	 ebx
  00588	50		 push	 eax
  00589	51		 push	 ecx
  0058a	8b cf		 mov	 ecx, edi
  0058c	e8 00 00 00 00	 call	 ?SkillRemoveMagic@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillRemoveMagic
  00591	5f		 pop	 edi
  00592	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00593	b8 01 00 00 00	 mov	 eax, 1
  00598	5b		 pop	 ebx

; 1053 : }

  00599	8b e5		 mov	 esp, ebp
  0059b	5d		 pop	 ebp
  0059c	c2 10 00	 ret	 16			; 00000010H
$LN13@RunningSki:

; 1003 : 
; 1004 : 	case AT_SKILL_INFINITY_ARROW:	this->SkillInfinityArrow(aIndex,aTargetIndex,lpMagic);break;

  0059f	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  005a2	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  005a5	53		 push	 ebx
  005a6	52		 push	 edx
  005a7	50		 push	 eax
  005a8	8b cf		 mov	 ecx, edi
  005aa	e8 00 00 00 00	 call	 ?SkillInfinityArrow@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillInfinityArrow
  005af	5f		 pop	 edi
  005b0	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  005b1	b8 01 00 00 00	 mov	 eax, 1
  005b6	5b		 pop	 ebx

; 1053 : }

  005b7	8b e5		 mov	 esp, ebp
  005b9	5d		 pop	 ebp
  005ba	c2 10 00	 ret	 16			; 00000010H
$LN12@RunningSki:

; 1005 : 
; 1006 : 	case 217: this->SkillDamageReflection(aIndex,aTargetIndex,lpMagic);break; //Summoner Damage Reflection

  005bd	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  005c0	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  005c3	53		 push	 ebx
  005c4	51		 push	 ecx
  005c5	52		 push	 edx
  005c6	8b cf		 mov	 ecx, edi
  005c8	e8 00 00 00 00	 call	 ?SkillDamageReflection@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDamageReflection
  005cd	5f		 pop	 edi
  005ce	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  005cf	b8 01 00 00 00	 mov	 eax, 1
  005d4	5b		 pop	 ebx

; 1053 : }

  005d5	8b e5		 mov	 esp, ebp
  005d7	5d		 pop	 ebp
  005d8	c2 10 00	 ret	 16			; 00000010H
$LN11@RunningSki:

; 1007 : 	case 219: this->SkillSleep(aIndex,aTargetIndex,lpMagic);break;

  005db	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  005de	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  005e1	53		 push	 ebx
  005e2	50		 push	 eax
  005e3	51		 push	 ecx
  005e4	8b cf		 mov	 ecx, edi
  005e6	e8 00 00 00 00	 call	 ?SkillSleep@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSleep
  005eb	5f		 pop	 edi
  005ec	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  005ed	b8 01 00 00 00	 mov	 eax, 1
  005f2	5b		 pop	 ebx

; 1053 : }

  005f3	8b e5		 mov	 esp, ebp
  005f5	5d		 pop	 ebp
  005f6	c2 10 00	 ret	 16			; 00000010H
$LN10@RunningSki:

; 1008 : 	case 220: this->SkillBlind(aIndex,aTargetIndex,lpMagic);break;

  005f9	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  005fc	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  005ff	53		 push	 ebx
  00600	52		 push	 edx
  00601	50		 push	 eax
  00602	8b cf		 mov	 ecx, edi
  00604	e8 00 00 00 00	 call	 ?SkillBlind@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBlind
  00609	5f		 pop	 edi
  0060a	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  0060b	b8 01 00 00 00	 mov	 eax, 1
  00610	5b		 pop	 ebx

; 1053 : }

  00611	8b e5		 mov	 esp, ebp
  00613	5d		 pop	 ebp
  00614	c2 10 00	 ret	 16			; 00000010H
$LN9@RunningSki:

; 1009 : 
; 1010 : 		//Season4 add-on
; 1011 : 	case 218: this->SkillBerserker(lpObj->m_Index,lpMagic);break;

  00617	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00619	53		 push	 ebx
  0061a	51		 push	 ecx
  0061b	8b cf		 mov	 ecx, edi
  0061d	e8 00 00 00 00	 call	 ?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBerserker
  00622	5f		 pop	 edi
  00623	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00624	b8 01 00 00 00	 mov	 eax, 1
  00629	5b		 pop	 ebx

; 1053 : }

  0062a	8b e5		 mov	 esp, ebp
  0062c	5d		 pop	 ebp
  0062d	c2 10 00	 ret	 16			; 00000010H
$LN8@RunningSki:

; 1012 : 	case 234: this->SkillSDRecovery(aIndex,aTargetIndex,lpMagic);break;

  00630	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  00633	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00636	53		 push	 ebx
  00637	52		 push	 edx
  00638	50		 push	 eax
  00639	8b cf		 mov	 ecx, edi
  0063b	e8 00 00 00 00	 call	 ?SkillSDRecovery@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillSDRecovery
  00640	5f		 pop	 edi
  00641	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00642	b8 01 00 00 00	 mov	 eax, 1
  00647	5b		 pop	 ebx

; 1053 : }

  00648	8b e5		 mov	 esp, ebp
  0064a	5d		 pop	 ebp
  0064b	c2 10 00	 ret	 16			; 00000010H
$LN7@RunningSki:

; 1013 : 	case 233: this->SkillExpansionWizardry(aIndex,aTargetIndex,lpMagic);break;

  0064e	8b 4d 0c	 mov	 ecx, DWORD PTR _aTargetIndex$[ebp]
  00651	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00654	53		 push	 ebx
  00655	51		 push	 ecx
  00656	52		 push	 edx
  00657	8b cf		 mov	 ecx, edi
  00659	e8 00 00 00 00	 call	 ?SkillExpansionWizardry@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillExpansionWizardry
  0065e	5f		 pop	 edi
  0065f	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00660	b8 01 00 00 00	 mov	 eax, 1
  00665	5b		 pop	 ebx

; 1053 : }

  00666	8b e5		 mov	 esp, ebp
  00668	5d		 pop	 ebp
  00669	c2 10 00	 ret	 16			; 00000010H
$LN4@RunningSki:

; 1025 : 		}
; 1026 : 		break;
; 1027 : 		// --
; 1028 : 	case 260:
; 1029 : 	case 261:
; 1030 : 	case 262:
; 1031 : 	case 263:
; 1032 : 		{
; 1033 : 			this->SkillMonkBarrageJustOneTarget(aIndex, lpMagic, aTargetIndex);

  0066c	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0066f	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00672	50		 push	 eax
  00673	53		 push	 ebx
  00674	51		 push	 ecx
  00675	8b cf		 mov	 ecx, edi
  00677	e8 00 00 00 00	 call	 ?SkillMonkBarrageJustOneTarget@CObjUseSkill@@QAEXHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillMonkBarrageJustOneTarget
  0067c	5f		 pop	 edi
  0067d	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  0067e	b8 01 00 00 00	 mov	 eax, 1
  00683	5b		 pop	 ebx

; 1053 : }

  00684	8b e5		 mov	 esp, ebp
  00686	5d		 pop	 ebp
  00687	c2 10 00	 ret	 16			; 00000010H
$LN60@RunningSki:

; 920  : 	}
; 921  : 
; 922  : 	switch(MagicNumber)

  0068a	05 f7 fe ff ff	 add	 eax, -265		; fffffef7H
  0068f	83 f8 04	 cmp	 eax, 4
  00692	77 59		 ja	 SHORT $LN1@RunningSki
  00694	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN65@RunningSki[eax*4]
$LN6@RunningSki:

; 1014 : 
; 1015 : 	case 266:
; 1016 : 		{
; 1017 : 			this->SkillMonkBuff(aIndex, lpMagic);

  0069b	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0069e	53		 push	 ebx
  0069f	52		 push	 edx
  006a0	8b cf		 mov	 ecx, edi
  006a2	e8 00 00 00 00	 call	 ?SkillMonkBuff@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuff
  006a7	5f		 pop	 edi
  006a8	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  006a9	b8 01 00 00 00	 mov	 eax, 1
  006ae	5b		 pop	 ebx

; 1053 : }

  006af	8b e5		 mov	 esp, ebp
  006b1	5d		 pop	 ebp
  006b2	c2 10 00	 ret	 16			; 00000010H
$LN5@RunningSki:

; 1018 : 		}
; 1019 : 		break;
; 1020 : 		// --
; 1021 : 	case 267:
; 1022 : 	case 268:
; 1023 : 		{
; 1024 : 			this->SkillMonkBuffApplyParty(aIndex, lpMagic);

  006b5	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  006b8	53		 push	 ebx
  006b9	50		 push	 eax
  006ba	8b cf		 mov	 ecx, edi
  006bc	e8 00 00 00 00	 call	 ?SkillMonkBuffApplyParty@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillMonkBuffApplyParty
  006c1	5f		 pop	 edi
  006c2	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  006c3	b8 01 00 00 00	 mov	 eax, 1
  006c8	5b		 pop	 ebx

; 1053 : }

  006c9	8b e5		 mov	 esp, ebp
  006cb	5d		 pop	 ebp
  006cc	c2 10 00	 ret	 16			; 00000010H
$LN2@RunningSki:

; 1034 : 		}
; 1035 : 		break;
; 1036 : 		// --
; 1037 : 	case 265:
; 1038 : 		{
; 1039 : 			gObjAttack(lpObj, lpTargetObj, lpMagic, 1, 0, 0, 0, 0, 0);
; 1040 : 		}
; 1041 : 		break;
; 1042 : 		// --
; 1043 : 	case 269:
; 1044 : 		{
; 1045 : 			this->SkillCharge(aIndex, lpMagic, aTargetIndex);

  006cf	8b 55 0c	 mov	 edx, DWORD PTR _aTargetIndex$[ebp]
  006d2	8b 45 08	 mov	 eax, DWORD PTR _aIndex$[ebp]
  006d5	52		 push	 edx
  006d6	53		 push	 ebx
  006d7	50		 push	 eax
  006d8	8b cf		 mov	 ecx, edi
  006da	e8 00 00 00 00	 call	 ?SkillCharge@CObjUseSkill@@QAEHHPAVCMagicInf@@H@Z ; CObjUseSkill::SkillCharge
  006df	5f		 pop	 edi
  006e0	5e		 pop	 esi

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  006e1	b8 01 00 00 00	 mov	 eax, 1
  006e6	5b		 pop	 ebx

; 1053 : }

  006e7	8b e5		 mov	 esp, ebp
  006e9	5d		 pop	 ebp
  006ea	c2 10 00	 ret	 16			; 00000010H
$LN1@RunningSki:

; 1046 : 		}
; 1047 : 		break;
; 1048 : 		// ----
; 1049 : 	default:	gObjAttack(lpObj,lpTargetObj,lpMagic,1,0,0,0,0,0);break;

  006ed	8b 4d fc	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  006f0	6a 00		 push	 0
  006f2	6a 00		 push	 0
  006f4	6a 00		 push	 0
  006f6	6a 00		 push	 0
  006f8	6a 00		 push	 0
  006fa	6a 01		 push	 1
  006fc	53		 push	 ebx
  006fd	51		 push	 ecx
$LN62@RunningSki:
  006fe	56		 push	 esi
  006ff	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  00704	83 c4 24	 add	 esp, 36			; 00000024H
$LN54@RunningSki:

; 1050 : 	}
; 1051 : 
; 1052 : 	return true;

  00707	5f		 pop	 edi
  00708	5e		 pop	 esi
  00709	b8 01 00 00 00	 mov	 eax, 1
  0070e	5b		 pop	 ebx

; 1053 : }

  0070f	8b e5		 mov	 esp, ebp
  00711	5d		 pop	 ebp
  00712	c2 10 00	 ret	 16			; 00000010H
  00715	8d 49 00	 npad	 3
$LN64@RunningSki:
  00718	00 00 00 00	 DD	 $LN49@RunningSki
  0071c	00 00 00 00	 DD	 $LN47@RunningSki
  00720	00 00 00 00	 DD	 $LN53@RunningSki
  00724	00 00 00 00	 DD	 $LN48@RunningSki
  00728	00 00 00 00	 DD	 $LN45@RunningSki
  0072c	00 00 00 00	 DD	 $LN44@RunningSki
  00730	00 00 00 00	 DD	 $LN43@RunningSki
  00734	00 00 00 00	 DD	 $LN42@RunningSki
  00738	00 00 00 00	 DD	 $LN41@RunningSki
  0073c	00 00 00 00	 DD	 $LN40@RunningSki
  00740	00 00 00 00	 DD	 $LN39@RunningSki
  00744	00 00 00 00	 DD	 $LN38@RunningSki
  00748	00 00 00 00	 DD	 $LN37@RunningSki
  0074c	00 00 00 00	 DD	 $LN36@RunningSki
  00750	00 00 00 00	 DD	 $LN35@RunningSki
  00754	00 00 00 00	 DD	 $LN25@RunningSki
  00758	00 00 00 00	 DD	 $LN24@RunningSki
  0075c	00 00 00 00	 DD	 $LN23@RunningSki
  00760	00 00 00 00	 DD	 $LN46@RunningSki
  00764	00 00 00 00	 DD	 $LN29@RunningSki
  00768	00 00 00 00	 DD	 $LN22@RunningSki
  0076c	00 00 00 00	 DD	 $LN34@RunningSki
  00770	00 00 00 00	 DD	 $LN33@RunningSki
  00774	00 00 00 00	 DD	 $LN32@RunningSki
  00778	00 00 00 00	 DD	 $LN31@RunningSki
  0077c	00 00 00 00	 DD	 $LN30@RunningSki
  00780	00 00 00 00	 DD	 $LN18@RunningSki
  00784	00 00 00 00	 DD	 $LN17@RunningSki
  00788	00 00 00 00	 DD	 $LN16@RunningSki
  0078c	00 00 00 00	 DD	 $LN15@RunningSki
  00790	00 00 00 00	 DD	 $LN14@RunningSki
  00794	00 00 00 00	 DD	 $LN21@RunningSki
  00798	00 00 00 00	 DD	 $LN20@RunningSki
  0079c	00 00 00 00	 DD	 $LN19@RunningSki
  007a0	00 00 00 00	 DD	 $LN13@RunningSki
  007a4	00 00 00 00	 DD	 $LN28@RunningSki
  007a8	00 00 00 00	 DD	 $LN27@RunningSki
  007ac	00 00 00 00	 DD	 $LN26@RunningSki
  007b0	00 00 00 00	 DD	 $LN12@RunningSki
  007b4	00 00 00 00	 DD	 $LN9@RunningSki
  007b8	00 00 00 00	 DD	 $LN11@RunningSki
  007bc	00 00 00 00	 DD	 $LN10@RunningSki
  007c0	00 00 00 00	 DD	 $LN7@RunningSki
  007c4	00 00 00 00	 DD	 $LN8@RunningSki
  007c8	00 00 00 00	 DD	 $LN1@RunningSki
$LN61@RunningSki:
  007cc	00		 DB	 0
  007cd	00		 DB	 0
  007ce	00		 DB	 0
  007cf	00		 DB	 0
  007d0	00		 DB	 0
  007d1	2c		 DB	 44			; 0000002cH
  007d2	00		 DB	 0
  007d3	2c		 DB	 44			; 0000002cH
  007d4	2c		 DB	 44			; 0000002cH
  007d5	2c		 DB	 44			; 0000002cH
  007d6	2c		 DB	 44			; 0000002cH
  007d7	2c		 DB	 44			; 0000002cH
  007d8	2c		 DB	 44			; 0000002cH
  007d9	2c		 DB	 44			; 0000002cH
  007da	2c		 DB	 44			; 0000002cH
  007db	01		 DB	 1
  007dc	00		 DB	 0
  007dd	02		 DB	 2
  007de	00		 DB	 0
  007df	00		 DB	 0
  007e0	00		 DB	 0
  007e1	00		 DB	 0
  007e2	00		 DB	 0
  007e3	00		 DB	 0
  007e4	00		 DB	 0
  007e5	03		 DB	 3
  007e6	04		 DB	 4
  007e7	05		 DB	 5
  007e8	2c		 DB	 44			; 0000002cH
  007e9	06		 DB	 6
  007ea	07		 DB	 7
  007eb	08		 DB	 8
  007ec	09		 DB	 9
  007ed	0a		 DB	 10			; 0000000aH
  007ee	0b		 DB	 11			; 0000000bH
  007ef	0c		 DB	 12			; 0000000cH
  007f0	2c		 DB	 44			; 0000002cH
  007f1	2c		 DB	 44			; 0000002cH
  007f2	2c		 DB	 44			; 0000002cH
  007f3	0d		 DB	 13			; 0000000dH
  007f4	00		 DB	 0
  007f5	00		 DB	 0
  007f6	0e		 DB	 14			; 0000000eH
  007f7	0f		 DB	 15			; 0000000fH
  007f8	10		 DB	 16			; 00000010H
  007f9	11		 DB	 17			; 00000011H
  007fa	00		 DB	 0
  007fb	12		 DB	 18			; 00000012H
  007fc	2c		 DB	 44			; 0000002cH
  007fd	2c		 DB	 44			; 0000002cH
  007fe	2c		 DB	 44			; 0000002cH
  007ff	00		 DB	 0
  00800	2c		 DB	 44			; 0000002cH
  00801	2c		 DB	 44			; 0000002cH
  00802	13		 DB	 19			; 00000013H
  00803	00		 DB	 0
  00804	14		 DB	 20			; 00000014H
  00805	2c		 DB	 44			; 0000002cH
  00806	2c		 DB	 44			; 0000002cH
  00807	15		 DB	 21			; 00000015H
  00808	16		 DB	 22			; 00000016H
  00809	17		 DB	 23			; 00000017H
  0080a	18		 DB	 24			; 00000018H
  0080b	19		 DB	 25			; 00000019H
  0080c	2c		 DB	 44			; 0000002cH
  0080d	2c		 DB	 44			; 0000002cH
  0080e	2c		 DB	 44			; 0000002cH
  0080f	1a		 DB	 26			; 0000001aH
  00810	1b		 DB	 27			; 0000001bH
  00811	1c		 DB	 28			; 0000001cH
  00812	1d		 DB	 29			; 0000001dH
  00813	1e		 DB	 30			; 0000001eH
  00814	1f		 DB	 31			; 0000001fH
  00815	20		 DB	 32			; 00000020H
  00816	21		 DB	 33			; 00000021H
  00817	2c		 DB	 44			; 0000002cH
  00818	22		 DB	 34			; 00000022H
  00819	2c		 DB	 44			; 0000002cH
  0081a	2c		 DB	 44			; 0000002cH
  0081b	2c		 DB	 44			; 0000002cH
  0081c	2c		 DB	 44			; 0000002cH
  0081d	2c		 DB	 44			; 0000002cH
  0081e	2c		 DB	 44			; 0000002cH
  0081f	2c		 DB	 44			; 0000002cH
  00820	2c		 DB	 44			; 0000002cH
  00821	2c		 DB	 44			; 0000002cH
  00822	2c		 DB	 44			; 0000002cH
  00823	2c		 DB	 44			; 0000002cH
  00824	2c		 DB	 44			; 0000002cH
  00825	2c		 DB	 44			; 0000002cH
  00826	2c		 DB	 44			; 0000002cH
  00827	2c		 DB	 44			; 0000002cH
  00828	2c		 DB	 44			; 0000002cH
  00829	2c		 DB	 44			; 0000002cH
  0082a	2c		 DB	 44			; 0000002cH
  0082b	2c		 DB	 44			; 0000002cH
  0082c	2c		 DB	 44			; 0000002cH
  0082d	2c		 DB	 44			; 0000002cH
  0082e	2c		 DB	 44			; 0000002cH
  0082f	2c		 DB	 44			; 0000002cH
  00830	2c		 DB	 44			; 0000002cH
  00831	2c		 DB	 44			; 0000002cH
  00832	2c		 DB	 44			; 0000002cH
  00833	2c		 DB	 44			; 0000002cH
  00834	2c		 DB	 44			; 0000002cH
  00835	2c		 DB	 44			; 0000002cH
  00836	2c		 DB	 44			; 0000002cH
  00837	2c		 DB	 44			; 0000002cH
  00838	2c		 DB	 44			; 0000002cH
  00839	2c		 DB	 44			; 0000002cH
  0083a	2c		 DB	 44			; 0000002cH
  0083b	2c		 DB	 44			; 0000002cH
  0083c	2c		 DB	 44			; 0000002cH
  0083d	2c		 DB	 44			; 0000002cH
  0083e	2c		 DB	 44			; 0000002cH
  0083f	2c		 DB	 44			; 0000002cH
  00840	2c		 DB	 44			; 0000002cH
  00841	2c		 DB	 44			; 0000002cH
  00842	2c		 DB	 44			; 0000002cH
  00843	2c		 DB	 44			; 0000002cH
  00844	2c		 DB	 44			; 0000002cH
  00845	2c		 DB	 44			; 0000002cH
  00846	2c		 DB	 44			; 0000002cH
  00847	2c		 DB	 44			; 0000002cH
  00848	2c		 DB	 44			; 0000002cH
  00849	2c		 DB	 44			; 0000002cH
  0084a	2c		 DB	 44			; 0000002cH
  0084b	2c		 DB	 44			; 0000002cH
  0084c	2c		 DB	 44			; 0000002cH
  0084d	2c		 DB	 44			; 0000002cH
  0084e	2c		 DB	 44			; 0000002cH
  0084f	2c		 DB	 44			; 0000002cH
  00850	2c		 DB	 44			; 0000002cH
  00851	2c		 DB	 44			; 0000002cH
  00852	2c		 DB	 44			; 0000002cH
  00853	2c		 DB	 44			; 0000002cH
  00854	2c		 DB	 44			; 0000002cH
  00855	2c		 DB	 44			; 0000002cH
  00856	2c		 DB	 44			; 0000002cH
  00857	2c		 DB	 44			; 0000002cH
  00858	2c		 DB	 44			; 0000002cH
  00859	2c		 DB	 44			; 0000002cH
  0085a	2c		 DB	 44			; 0000002cH
  0085b	2c		 DB	 44			; 0000002cH
  0085c	2c		 DB	 44			; 0000002cH
  0085d	2c		 DB	 44			; 0000002cH
  0085e	2c		 DB	 44			; 0000002cH
  0085f	2c		 DB	 44			; 0000002cH
  00860	2c		 DB	 44			; 0000002cH
  00861	2c		 DB	 44			; 0000002cH
  00862	2c		 DB	 44			; 0000002cH
  00863	2c		 DB	 44			; 0000002cH
  00864	2c		 DB	 44			; 0000002cH
  00865	2c		 DB	 44			; 0000002cH
  00866	2c		 DB	 44			; 0000002cH
  00867	2c		 DB	 44			; 0000002cH
  00868	2c		 DB	 44			; 0000002cH
  00869	2c		 DB	 44			; 0000002cH
  0086a	2c		 DB	 44			; 0000002cH
  0086b	2c		 DB	 44			; 0000002cH
  0086c	2c		 DB	 44			; 0000002cH
  0086d	2c		 DB	 44			; 0000002cH
  0086e	2c		 DB	 44			; 0000002cH
  0086f	2c		 DB	 44			; 0000002cH
  00870	2c		 DB	 44			; 0000002cH
  00871	2c		 DB	 44			; 0000002cH
  00872	2c		 DB	 44			; 0000002cH
  00873	2c		 DB	 44			; 0000002cH
  00874	2c		 DB	 44			; 0000002cH
  00875	2c		 DB	 44			; 0000002cH
  00876	2c		 DB	 44			; 0000002cH
  00877	2c		 DB	 44			; 0000002cH
  00878	2c		 DB	 44			; 0000002cH
  00879	2c		 DB	 44			; 0000002cH
  0087a	2c		 DB	 44			; 0000002cH
  0087b	2c		 DB	 44			; 0000002cH
  0087c	2c		 DB	 44			; 0000002cH
  0087d	2c		 DB	 44			; 0000002cH
  0087e	2c		 DB	 44			; 0000002cH
  0087f	2c		 DB	 44			; 0000002cH
  00880	2c		 DB	 44			; 0000002cH
  00881	2c		 DB	 44			; 0000002cH
  00882	2c		 DB	 44			; 0000002cH
  00883	2c		 DB	 44			; 0000002cH
  00884	2c		 DB	 44			; 0000002cH
  00885	2c		 DB	 44			; 0000002cH
  00886	2c		 DB	 44			; 0000002cH
  00887	2c		 DB	 44			; 0000002cH
  00888	2c		 DB	 44			; 0000002cH
  00889	2c		 DB	 44			; 0000002cH
  0088a	2c		 DB	 44			; 0000002cH
  0088b	2c		 DB	 44			; 0000002cH
  0088c	2c		 DB	 44			; 0000002cH
  0088d	2c		 DB	 44			; 0000002cH
  0088e	2c		 DB	 44			; 0000002cH
  0088f	2c		 DB	 44			; 0000002cH
  00890	2c		 DB	 44			; 0000002cH
  00891	2c		 DB	 44			; 0000002cH
  00892	2c		 DB	 44			; 0000002cH
  00893	23		 DB	 35			; 00000023H
  00894	24		 DB	 36			; 00000024H
  00895	25		 DB	 37			; 00000025H
  00896	2c		 DB	 44			; 0000002cH
  00897	2c		 DB	 44			; 0000002cH
  00898	2c		 DB	 44			; 0000002cH
  00899	2c		 DB	 44			; 0000002cH
  0089a	2c		 DB	 44			; 0000002cH
  0089b	2c		 DB	 44			; 0000002cH
  0089c	2c		 DB	 44			; 0000002cH
  0089d	2c		 DB	 44			; 0000002cH
  0089e	2c		 DB	 44			; 0000002cH
  0089f	2c		 DB	 44			; 0000002cH
  008a0	2c		 DB	 44			; 0000002cH
  008a1	2c		 DB	 44			; 0000002cH
  008a2	2c		 DB	 44			; 0000002cH
  008a3	2c		 DB	 44			; 0000002cH
  008a4	26		 DB	 38			; 00000026H
  008a5	27		 DB	 39			; 00000027H
  008a6	28		 DB	 40			; 00000028H
  008a7	29		 DB	 41			; 00000029H
  008a8	2c		 DB	 44			; 0000002cH
  008a9	2c		 DB	 44			; 0000002cH
  008aa	2c		 DB	 44			; 0000002cH
  008ab	2c		 DB	 44			; 0000002cH
  008ac	2c		 DB	 44			; 0000002cH
  008ad	2c		 DB	 44			; 0000002cH
  008ae	2c		 DB	 44			; 0000002cH
  008af	2c		 DB	 44			; 0000002cH
  008b0	2c		 DB	 44			; 0000002cH
  008b1	2c		 DB	 44			; 0000002cH
  008b2	2c		 DB	 44			; 0000002cH
  008b3	2c		 DB	 44			; 0000002cH
  008b4	2a		 DB	 42			; 0000002aH
  008b5	2b		 DB	 43			; 0000002bH
  008b6	8b ff		 npad	 2
$LN65@RunningSki:
  008b8	00 00 00 00	 DD	 $LN1@RunningSki
  008bc	00 00 00 00	 DD	 $LN6@RunningSki
  008c0	00 00 00 00	 DD	 $LN5@RunningSki
  008c4	00 00 00 00	 DD	 $LN5@RunningSki
  008c8	00 00 00 00	 DD	 $LN2@RunningSki
?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ENDP ; CObjUseSkill::RunningSkill
_TEXT	ENDS
PUBLIC	?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillDeathPoison
; Function compile flags: /Ogtp
;	COMDAT ?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z
_TEXT	SEGMENT
_this$ = -12						; size = 4
_DuelIndex$ = -8					; size = 4
tv219 = -4						; size = 4
tv390 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillDeathPoison, COMDAT
; _this$ = ecx

; 2541 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	53		 push	 ebx

; 2542 : 	LPOBJ lpObj = &gObj[aIndex];

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  0000a	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00010	56		 push	 esi
  00011	57		 push	 edi
  00012	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2543 : 	int tObjNum;
; 2544 : 	int count = 0;
; 2545 : 	int FirstHit = 0;
; 2546 : 	int HitCount = 0;
; 2547 : 	int bAttack;
; 2548 : 	int DuelIndex = lpObj->m_iDuelUser;

  00018	8b 84 3b b8 0e
	00 00		 mov	 eax, DWORD PTR [ebx+edi+3768]
  0001f	03 df		 add	 ebx, edi
  00021	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00024	8d 83 b0 08 00
	00		 lea	 eax, DWORD PTR [ebx+2224]
  0002a	89 4d f4	 mov	 DWORD PTR _this$[ebp], ecx
  0002d	89 45 08	 mov	 DWORD PTR tv390[ebp], eax
  00030	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv219[ebp], 75 ; 0000004bH
  00037	eb 07 8d a4 24
	00 00 00 00	 npad	 9
$LL21@SkillDeath@2:

; 2549 : 	int EnableAttack;
; 2550 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 2551 : 
; 2552 : 
; 2553 : 	while ( true )
; 2554 : 	{
; 2555 : 		if(lpObj->VpPlayer2[count].state != 0)

  00040	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  00044	0f 84 eb 00 00
	00		 je	 $LN32@SkillDeath@2

; 2556 : 		{
; 2557 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0004a	0f bf 70 fe	 movsx	 esi, WORD PTR [eax-2]

; 2558 : 
; 2559 : 			if(tObjNum >= 0)

  0004e	85 f6		 test	 esi, esi
  00050	0f 88 df 00 00
	00		 js	 $LN32@SkillDeath@2

; 2560 : 			{
; 2561 : 				EnableAttack = 0;
; 2562 : 
; 2563 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00056	8a 00		 mov	 al, BYTE PTR [eax]
  00058	3c 02		 cmp	 al, 2
  0005a	75 12		 jne	 SHORT $LN17@SkillDeath@2
  0005c	8b ce		 mov	 ecx, esi
  0005e	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00064	83 bc 39 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edi+1104], 0

; 2564 : 				{
; 2565 : 					EnableAttack = 1;

  0006c	7c 6d		 jl	 SHORT $LN14@SkillDeath@2
$LN17@SkillDeath@2:

; 2566 : 				}
; 2567 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0006e	3b 75 20	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  00071	74 68		 je	 SHORT $LN14@SkillDeath@2
  00073	39 75 f8	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  00076	74 63		 je	 SHORT $LN14@SkillDeath@2

; 2568 : 				{
; 2569 : 					EnableAttack = 1;
; 2570 : 				}
; 2571 : //#if(GS_CASTLE==1)
; 2572 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00078	3c 03		 cmp	 al, 3
  0007a	74 1b		 je	 SHORT $LN12@SkillDeath@2
  0007c	8b d6		 mov	 edx, esi
  0007e	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00084	80 bc 3a 49 01
	00 00 1e	 cmp	 BYTE PTR [edx+edi+329], 30 ; 0000001eH
  0008c	75 09		 jne	 SHORT $LN12@SkillDeath@2
  0008e	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 2573 : 				{
; 2574 : 					EnableAttack = 1;
; 2575 : 				}
; 2576 : //#endif
; 2577 : 				else

  00095	74 44		 je	 SHORT $LN14@SkillDeath@2
$LN12@SkillDeath@2:

; 2578 : 				{
; 2579 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  00097	8b ce		 mov	 ecx, esi
  00099	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 2580 : 
; 2581 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0009f	66 83 7c 39 68
	02		 cmp	 WORD PTR [ecx+edi+104], 2
  000a5	8b 04 39	 mov	 eax, DWORD PTR [ecx+edi]
  000a8	75 14		 jne	 SHORT $LN10@SkillDeath@2
  000aa	8b 8c 39 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edi+1104]
  000b1	85 c9		 test	 ecx, ecx
  000b3	78 09		 js	 SHORT $LN10@SkillDeath@2

; 2582 : 					{
; 2583 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000b5	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000bb	8b 04 39	 mov	 eax, DWORD PTR [ecx+edi]
$LN10@SkillDeath@2:

; 2584 : 					}
; 2585 : 
; 2586 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000be	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000c4	03 c7		 add	 eax, edi
  000c6	50		 push	 eax
  000c7	53		 push	 ebx
  000c8	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000cd	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d3	83 c4 08	 add	 esp, 8
  000d6	83 f8 01	 cmp	 eax, 1
  000d9	75 5a		 jne	 SHORT $LN32@SkillDeath@2
$LN14@SkillDeath@2:

; 2587 : 					{
; 2588 : 						EnableAttack = 1;
; 2589 : 					}
; 2590 : 				}
; 2591 : 
; 2592 : 				if(EnableAttack != 0)
; 2593 : 				{
; 2594 : 					//LogAddC(2, "%s %d", gObj[tObjNum].Name, this->CalDistance(x,y,gObj[tObjNum].X,gObj[tObjNum].Y));
; 2595 : 					if(this->CalDistance(x,y,gObj[tObjNum].X,gObj[tObjNum].Y) < 4)

  000db	0f b6 4d 14	 movzx	 ecx, BYTE PTR _y$[ebp]
  000df	8b c6		 mov	 eax, esi
  000e1	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000e7	0f bf 94 38 46
	01 00 00	 movsx	 edx, WORD PTR [eax+edi+326]
  000ef	0f bf 84 38 44
	01 00 00	 movsx	 eax, WORD PTR [eax+edi+324]
  000f7	52		 push	 edx
  000f8	0f b6 55 10	 movzx	 edx, BYTE PTR _x$[ebp]
  000fc	50		 push	 eax
  000fd	51		 push	 ecx
  000fe	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  00101	52		 push	 edx
  00102	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  00107	83 f8 04	 cmp	 eax, 4
  0010a	7d 29		 jge	 SHORT $LN32@SkillDeath@2

; 2596 : 					{
; 2597 : 						bAttack = 0;
; 2598 : 
; 2599 : 						if(HitCount > 10)
; 2600 : 						{
; 2601 : 							bAttack = 0;
; 2602 : 						}
; 2603 : 						
; 2604 : 						if(HitCount >= 5)
; 2605 : 						{
; 2606 : 							if(rand()%2)
; 2607 : 							{
; 2608 : 								bAttack = 1;
; 2609 : 							}
; 2610 : 						}
; 2611 : 						else
; 2612 : 						{
; 2613 : 							bAttack = 1;
; 2614 : 						}
; 2615 : 
; 2616 : 						if(bAttack != 0)
; 2617 : 						{
; 2618 : 							int delay = rand()%500;

  0010c	e8 00 00 00 00	 call	 _rand
  00111	99		 cdq
  00112	b9 f4 01 00 00	 mov	 ecx, 500		; 000001f4H
  00117	f7 f9		 idiv	 ecx

; 2619 : 							gObjAddAttackProcMsgSendDelay(lpObj,50,tObjNum,delay,lpMagic->m_Skill,0);

  00119	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  0011c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0011f	6a 00		 push	 0
  00121	51		 push	 ecx
  00122	52		 push	 edx
  00123	56		 push	 esi
  00124	6a 32		 push	 50			; 00000032H
  00126	53		 push	 ebx
  00127	e8 00 00 00 00	 call	 ?gObjAddAttackProcMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHHH@Z ; gObjAddAttackProcMsgSendDelay
  0012c	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00132	83 c4 18	 add	 esp, 24			; 00000018H
$LN32@SkillDeath@2:

; 2620 : 						}
; 2621 : 					}
; 2622 : 				}
; 2623 : 			}
; 2624 : 		}
; 2625 : 
; 2626 : 		count++;

  00135	8b 45 08	 mov	 eax, DWORD PTR tv390[ebp]
  00138	83 c0 0c	 add	 eax, 12			; 0000000cH

; 2627 : 		if(count > MAX_VIEWPORT -1)

  0013b	ff 4d fc	 dec	 DWORD PTR tv219[ebp]
  0013e	89 45 08	 mov	 DWORD PTR tv390[ebp], eax
  00141	0f 85 f9 fe ff
	ff		 jne	 $LL21@SkillDeath@2

; 2628 : 		{
; 2629 : 			break;
; 2630 : 		}
; 2631 : 	}
; 2632 : 	return true;

  00147	5f		 pop	 edi
  00148	5e		 pop	 esi
  00149	b8 01 00 00 00	 mov	 eax, 1
  0014e	5b		 pop	 ebx

; 2633 : }

  0014f	8b e5		 mov	 esp, ebp
  00151	5d		 pop	 ebp
  00152	c2 1c 00	 ret	 28			; 0000001cH
?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillDeathPoison
_TEXT	ENDS
PUBLIC	?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillSuddenIce
; Function compile flags: /Ogtp
;	COMDAT ?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z
_TEXT	SEGMENT
_this$ = -12						; size = 4
_DuelIndex$ = -8					; size = 4
tv223 = -4						; size = 4
tv384 = 8						; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z PROC ; CObjUseSkill::SkillSuddenIce, COMDAT
; _this$ = ecx

; 2636 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	53		 push	 ebx

; 2637 : 	LPOBJ lpObj = &gObj[aIndex];

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  0000a	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  00010	56		 push	 esi
  00011	57		 push	 edi
  00012	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2638 : 	int tObjNum;
; 2639 : 	int count = 0;
; 2640 : 	int FirstHit = 0;
; 2641 : 	int HitCount = 0;
; 2642 : 	int bAttack;
; 2643 : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 2644 : 	int DuelIndex = lpObj->m_iDuelUser;

  00018	8b 84 3b b8 0e
	00 00		 mov	 eax, DWORD PTR [ebx+edi+3768]
  0001f	03 df		 add	 ebx, edi
  00021	89 45 f8	 mov	 DWORD PTR _DuelIndex$[ebp], eax
  00024	8d 83 b0 08 00
	00		 lea	 eax, DWORD PTR [ebx+2224]
  0002a	89 4d f4	 mov	 DWORD PTR _this$[ebp], ecx
  0002d	89 45 08	 mov	 DWORD PTR tv384[ebp], eax
  00030	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv223[ebp], 75 ; 0000004bH
  00037	eb 07 8d a4 24
	00 00 00 00	 npad	 9
$LL21@SkillSudde:

; 2645 : 	int EnableAttack;
; 2646 : 
; 2647 : 	while ( true )
; 2648 : 	{
; 2649 : 		if(lpObj->VpPlayer2[count].state != 0)

  00040	80 78 fc 00	 cmp	 BYTE PTR [eax-4], 0
  00044	0f 84 eb 00 00
	00		 je	 $LN32@SkillSudde

; 2650 : 		{
; 2651 : 			tObjNum = lpObj->VpPlayer2[count].number;

  0004a	0f bf 70 fe	 movsx	 esi, WORD PTR [eax-2]

; 2652 : 
; 2653 : 			if(tObjNum >= 0)

  0004e	85 f6		 test	 esi, esi
  00050	0f 88 df 00 00
	00		 js	 $LN32@SkillSudde

; 2654 : 			{
; 2655 : 				EnableAttack = 0;
; 2656 : 
; 2657 : 				if(lpObj->VpPlayer2[count].type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon < 0)

  00056	8a 00		 mov	 al, BYTE PTR [eax]
  00058	3c 02		 cmp	 al, 2
  0005a	75 12		 jne	 SHORT $LN17@SkillSudde
  0005c	8b ce		 mov	 ecx, esi
  0005e	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  00064	83 bc 39 50 04
	00 00 00	 cmp	 DWORD PTR [ecx+edi+1104], 0

; 2658 : 				{
; 2659 : 					EnableAttack = 1;

  0006c	7c 6d		 jl	 SHORT $LN14@SkillSudde
$LN17@SkillSudde:

; 2660 : 				}
; 2661 : 				else if(tObjNum == aTargetIndex || DuelIndex == tObjNum)

  0006e	3b 75 20	 cmp	 esi, DWORD PTR _aTargetIndex$[ebp]
  00071	74 68		 je	 SHORT $LN14@SkillSudde
  00073	39 75 f8	 cmp	 DWORD PTR _DuelIndex$[ebp], esi
  00076	74 63		 je	 SHORT $LN14@SkillSudde

; 2662 : 				{
; 2663 : 					EnableAttack = 1;
; 2664 : 				}
; 2665 : //#if(GS_CASTLE==1)
; 2666 : 				else if(lpObj->VpPlayer2[count].type != OBJ_NPC && gObj[tObjNum].MapNumber == MAP_INDEX_CASTLESIEGE && g_CastleSiege.GetCastleState() == CASTLESIEGE_STATE_STARTSIEGE)

  00078	3c 03		 cmp	 al, 3
  0007a	74 1b		 je	 SHORT $LN12@SkillSudde
  0007c	8b d6		 mov	 edx, esi
  0007e	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00084	80 bc 3a 49 01
	00 00 1e	 cmp	 BYTE PTR [edx+edi+329], 30 ; 0000001eH
  0008c	75 09		 jne	 SHORT $LN12@SkillSudde
  0008e	83 3d 28 00 00
	00 07		 cmp	 DWORD PTR ?g_CastleSiege@@3VCCastleSiege@@A+40, 7

; 2667 : 				{
; 2668 : 					EnableAttack = 1;
; 2669 : 				}
; 2670 : //#endif
; 2671 : 				else

  00095	74 44		 je	 SHORT $LN14@SkillSudde
$LN12@SkillSudde:

; 2672 : 				{
; 2673 : 					int CallMonIndex = gObj[tObjNum].m_Index;

  00097	8b ce		 mov	 ecx, esi
  00099	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H

; 2674 : 
; 2675 : 					if(gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0)

  0009f	66 83 7c 39 68
	02		 cmp	 WORD PTR [ecx+edi+104], 2
  000a5	8b 04 39	 mov	 eax, DWORD PTR [ecx+edi]
  000a8	75 14		 jne	 SHORT $LN10@SkillSudde
  000aa	8b 8c 39 50 04
	00 00		 mov	 ecx, DWORD PTR [ecx+edi+1104]
  000b1	85 c9		 test	 ecx, ecx
  000b3	78 09		 js	 SHORT $LN10@SkillSudde

; 2676 : 					{
; 2677 : 						CallMonIndex = gObj[gObj[tObjNum].m_RecallMon].m_Index;

  000b5	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000bb	8b 04 39	 mov	 eax, DWORD PTR [ecx+edi]
$LN10@SkillSudde:

; 2678 : 					}
; 2679 : 
; 2680 : 					if(gObjTargetGuildWarCheck(lpObj,&gObj[CallMonIndex])==1)

  000be	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000c4	03 c7		 add	 eax, edi
  000c6	50		 push	 eax
  000c7	53		 push	 ebx
  000c8	e8 00 00 00 00	 call	 ?gObjTargetGuildWarCheck@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjTargetGuildWarCheck
  000cd	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d3	83 c4 08	 add	 esp, 8
  000d6	83 f8 01	 cmp	 eax, 1
  000d9	75 5a		 jne	 SHORT $LN32@SkillSudde
$LN14@SkillSudde:

; 2681 : 					{
; 2682 : 						EnableAttack = 1;
; 2683 : 					}
; 2684 : 				}
; 2685 : 
; 2686 : 				if(EnableAttack != 0)
; 2687 : 				{
; 2688 : 					if(this->CalDistance(x,y,gObj[tObjNum].X,gObj[tObjNum].Y) < 4)

  000db	0f b6 45 14	 movzx	 eax, BYTE PTR _y$[ebp]
  000df	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000e5	0f bf 8c 3e 46
	01 00 00	 movsx	 ecx, WORD PTR [esi+edi+326]
  000ed	0f bf 94 3e 44
	01 00 00	 movsx	 edx, WORD PTR [esi+edi+324]
  000f5	51		 push	 ecx
  000f6	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  000fa	52		 push	 edx
  000fb	50		 push	 eax
  000fc	51		 push	 ecx
  000fd	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  00100	e8 00 00 00 00	 call	 ?CalDistance@CObjUseSkill@@QAEHHHHH@Z ; CObjUseSkill::CalDistance
  00105	83 f8 04	 cmp	 eax, 4
  00108	7d 2b		 jge	 SHORT $LN32@SkillSudde

; 2689 : 					{
; 2690 : 						bAttack = 0;
; 2691 : 
; 2692 : 						if(HitCount > 10)
; 2693 : 						{
; 2694 : 							bAttack = 0;
; 2695 : 						}
; 2696 : 						
; 2697 : 						if(HitCount >= 5)
; 2698 : 						{
; 2699 : 							if(rand()%2)
; 2700 : 							{
; 2701 : 								bAttack = 1;
; 2702 : 							}
; 2703 : 						}
; 2704 : 						else
; 2705 : 						{
; 2706 : 							bAttack = 1;
; 2707 : 						}
; 2708 : 
; 2709 : 						if(bAttack != 0)
; 2710 : 						{
; 2711 : 							int delay = rand()%500;

  0010a	e8 00 00 00 00	 call	 _rand

; 2712 : 							gObjAttack(lpObj,&gObj[tObjNum],lpMagic,1,1,0,0,0,0);

  0010f	8b 55 0c	 mov	 edx, DWORD PTR _lpMagic$[ebp]
  00112	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00118	6a 00		 push	 0
  0011a	6a 00		 push	 0
  0011c	6a 00		 push	 0
  0011e	6a 00		 push	 0
  00120	6a 01		 push	 1
  00122	6a 01		 push	 1
  00124	52		 push	 edx
  00125	56		 push	 esi
  00126	53		 push	 ebx
  00127	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0012c	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00132	83 c4 24	 add	 esp, 36			; 00000024H
$LN32@SkillSudde:

; 2713 : 						}
; 2714 : 					}
; 2715 : 				}
; 2716 : 			}
; 2717 : 		}
; 2718 : 
; 2719 : 		count++;

  00135	8b 45 08	 mov	 eax, DWORD PTR tv384[ebp]
  00138	83 c0 0c	 add	 eax, 12			; 0000000cH

; 2720 : 		if(count > MAX_VIEWPORT -1)

  0013b	ff 4d fc	 dec	 DWORD PTR tv223[ebp]
  0013e	89 45 08	 mov	 DWORD PTR tv384[ebp], eax
  00141	0f 85 f9 fe ff
	ff		 jne	 $LL21@SkillSudde

; 2721 : 		{
; 2722 : 			break;
; 2723 : 		}
; 2724 : 	}
; 2725 : 	return true;

  00147	5f		 pop	 edi
  00148	5e		 pop	 esi
  00149	b8 01 00 00 00	 mov	 eax, 1
  0014e	5b		 pop	 ebx

; 2726 : }

  0014f	8b e5		 mov	 esp, ebp
  00151	5d		 pop	 ebp
  00152	c2 1c 00	 ret	 28			; 0000001cH
?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ENDP ; CObjUseSkill::SkillSuddenIce
_TEXT	ENDS
PUBLIC	?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z ; CObjUseSkill::SkillPollutionStart
; Function compile flags: /Ogtp
;	COMDAT ?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_aIndex$ = 8						; size = 4
_SkillResult$ = 12					; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_aTargetIndex$ = 24					; size = 4
_Flag$ = 28						; size = 4
?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z PROC ; CObjUseSkill::SkillPollutionStart, COMDAT
; _this$ = ecx

; 6251 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx

; 6252 : 	LPOBJ lpObj = &gObj[aIndex]; //loc2
; 6253 : 
; 6254 : 	int SkillResult = 0; //loc3
; 6255 : 
; 6256 : 	if(Flag == 59)

  00005	8b 5d 18	 mov	 ebx, DWORD PTR _aTargetIndex$[ebp]
  00008	56		 push	 esi
  00009	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]
  0000c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00012	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00018	57		 push	 edi
  00019	8b 7d 1c	 mov	 edi, DWORD PTR _Flag$[ebp]
  0001c	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0001f	83 ff 3b	 cmp	 edi, 59			; 0000003bH
  00022	75 14		 jne	 SHORT $LN2@SkillPollu

; 6257 : 	{
; 6258 : 		GCMagicAttackNumberSend(lpObj,(WORD)lpMagic->m_Skill,aTargetIndex,1);

  00024	8b 45 0c	 mov	 eax, DWORD PTR _lpMagic$[ebp]
  00027	0f b7 48 08	 movzx	 ecx, WORD PTR [eax+8]
  0002b	6a 01		 push	 1
  0002d	53		 push	 ebx
  0002e	51		 push	 ecx
  0002f	56		 push	 esi
  00030	e8 00 00 00 00	 call	 ?GCMagicAttackNumberSend@@YAXPAUOBJECTSTRUCT@@GHE@Z ; GCMagicAttackNumberSend
  00035	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@SkillPollu:

; 6259 : 	}
; 6260 : 
; 6261 : 	SkillResult = this->SkillWideAttackMultiTarget(aIndex, lpMagic, x, y, aTargetIndex, 3, 1, 0);

  00038	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  0003b	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  0003e	8b 4d 0c	 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  00041	6a 00		 push	 0
  00043	6a 01		 push	 1
  00045	6a 03		 push	 3
  00047	53		 push	 ebx
  00048	52		 push	 edx
  00049	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]
  0004c	50		 push	 eax
  0004d	51		 push	 ecx
  0004e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00051	52		 push	 edx
  00052	e8 00 00 00 00	 call	 ?SkillWideAttackMultiTarget@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillWideAttackMultiTarget

; 6262 : 
; 6263 : 	if(Flag >= 59 && Flag < 64)

  00057	8d 4f c5	 lea	 ecx, DWORD PTR [edi-59]
  0005a	89 45 0c	 mov	 DWORD PTR _SkillResult$[ebp], eax
  0005d	83 f9 04	 cmp	 ecx, 4
  00060	77 2e		 ja	 SHORT $LN1@SkillPollu

; 6264 : 	{
; 6265 : 		gObjAddMsgSendDelay(lpObj, 59, aTargetIndex, 1000, (MAKE_NUMBERDW(Flag, MAKE_NUMBERW(y,x))));

  00062	0f b6 55 14	 movzx	 edx, BYTE PTR _y$[ebp]
  00066	0f b6 4d 10	 movzx	 ecx, BYTE PTR _x$[ebp]
  0006a	66 c1 e2 08	 shl	 dx, 8
  0006e	0f b7 c2	 movzx	 eax, dx
  00071	0f b7 d7	 movzx	 edx, di
  00074	0b c1		 or	 eax, ecx
  00076	c1 e2 10	 shl	 edx, 16			; 00000010H
  00079	0b c2		 or	 eax, edx
  0007b	50		 push	 eax
  0007c	68 e8 03 00 00	 push	 1000			; 000003e8H
  00081	53		 push	 ebx
  00082	6a 3b		 push	 59			; 0000003bH
  00084	56		 push	 esi
  00085	e8 00 00 00 00	 call	 ?gObjAddMsgSendDelay@@YAXPAUOBJECTSTRUCT@@HHHH@Z ; gObjAddMsgSendDelay

; 6266 : 	}
; 6267 : 
; 6268 : 	return SkillResult;

  0008a	8b 45 0c	 mov	 eax, DWORD PTR _SkillResult$[ebp]
  0008d	83 c4 14	 add	 esp, 20			; 00000014H
$LN1@SkillPollu:
  00090	5f		 pop	 edi
  00091	5e		 pop	 esi
  00092	5b		 pop	 ebx

; 6269 : }

  00093	8b e5		 mov	 esp, ebp
  00095	5d		 pop	 ebp
  00096	c2 18 00	 ret	 24			; 00000018H
?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z ENDP ; CObjUseSkill::SkillPollutionStart
_TEXT	ENDS
PUBLIC	??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ ; `string'
PUBLIC	??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ ; `string'
PUBLIC	??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@ ; `string'
PUBLIC	_this$GSCopy$
PUBLIC	__$ArrayPad$
PUBLIC	?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::UseSkill
EXTRN	?PHeadSetBE@@YAXPAEEH@Z:PROC			; PHeadSetBE
EXTRN	?gObjMagicBPUse@@YAHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z:PROC ; gObjMagicBPUse
EXTRN	?Check@CSkillDelay@@QAEHE@Z:PROC		; CSkillDelay::Check
EXTRN	?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z:PROC ; gObjGetMagicSearch
EXTRN	?CheckCombo@CComboAttack@@QAEHHH@Z:PROC		; CComboAttack::CheckCombo
EXTRN	?gComboAttack@@3VCComboAttack@@A:DWORD		; gComboAttack
;	COMDAT ??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
CONST	SEGMENT
??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ DB '[Invali'
	DB	'dTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_PHOENIXSHOT] In'
	DB	'dex :%d , AccountID : %s ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
CONST	SEGMENT
??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@ DB '[Invali'
	DB	'dTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_DRAGON_ROAR] In'
	DB	'dex :%d , AccountID : %s ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@
CONST	SEGMENT
??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@ DB '['
	DB	'%] ', 0bdH, 0baH, 0c5H, 0b3H, ' ', 0b5H, 0f4H, 0b7H, 0b9H, 0c0H
	DB	0ccH, 0bdH, 0c3H, 0b0H, 0a3H, ' ', 0bfH, 0c0H, 0b9H, 0f6H, 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z
_TEXT	SEGMENT
_usebp$222020 = -40					; size = 4
tv644 = -36						; size = 4
_usemana$ = -36						; size = 4
_bCombo$ = -32						; size = 4
tv608 = -28						; size = 4
_lpObj$ = -24						; size = 4
_this$GSCopy$ = -20					; size = 4
_pMsg$ = -16						; size = 10
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_lpMagic$ = 12						; size = 4
_x$ = 16						; size = 1
_y$ = 20						; size = 1
_dir$ = 24						; size = 1
_TargetPos$ = 28					; size = 1
_aTargetIndex$ = 32					; size = 4
?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z PROC	; CObjUseSkill::UseSkill, COMDAT
; _this$ = ecx

; 572  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 28	 sub	 esp, 40			; 00000028H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]

; 573  : 	LPOBJ lpObj = &gObj[aIndex];

  00014	8b c3		 mov	 eax, ebx
  00016	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0001c	56		 push	 esi
  0001d	8b 75 0c	 mov	 esi, DWORD PTR _lpMagic$[ebp]

; 574  : 
; 575  : 	int bCombo = 0;
; 576  : 
; 577  : 	if(gComboAttack.CheckCombo(aIndex,lpMagic->m_Skill))

  00020	8b 56 08	 mov	 edx, DWORD PTR [esi+8]
  00023	57		 push	 edi
  00024	8b 7d 20	 mov	 edi, DWORD PTR _aTargetIndex$[ebp]
  00027	89 45 e4	 mov	 DWORD PTR tv608[ebp], eax
  0002a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00030	52		 push	 edx
  00031	89 4d ec	 mov	 DWORD PTR _this$GSCopy$[ebp], ecx
  00034	53		 push	 ebx
  00035	b9 00 00 00 00	 mov	 ecx, OFFSET ?gComboAttack@@3VCComboAttack@@A ; gComboAttack
  0003a	89 45 e8	 mov	 DWORD PTR _lpObj$[ebp], eax
  0003d	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _bCombo$[ebp], 0
  00044	e8 00 00 00 00	 call	 ?CheckCombo@CComboAttack@@QAEHHH@Z ; CComboAttack::CheckCombo
  00049	85 c0		 test	 eax, eax
  0004b	74 07		 je	 SHORT $LN92@UseSkill

; 578  : 	{
; 579  : 		bCombo = 1;

  0004d	c7 45 e0 01 00
	00 00		 mov	 DWORD PTR _bCombo$[ebp], 1
$LN92@UseSkill:

; 580  : 	}
; 581  : 
; 582  : #if(DEV_COMBO_CUSTOM==TRUE)
; 583  : 	if(g_ZtLicense.user.ComboCustom)

  00054	80 3d dc 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+220, 0

; 584  : 	{
; 585  : 		lpObj->NewCombo = bCombo;

  0005b	8b 45 e8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0005e	74 0d		 je	 SHORT $LN75@UseSkill
  00060	83 7d e0 00	 cmp	 DWORD PTR _bCombo$[ebp], 0
  00064	0f 95 c1	 setne	 cl
  00067	88 88 88 28 00
	00		 mov	 BYTE PTR [eax+10376], cl
$LN75@UseSkill:

; 586  : 	}
; 587  : #endif
; 588  : 
; 589  : 	if(lpObj->SkillHellFire2State && lpMagic->m_Skill != AT_SKILL_EXPHELL)

  0006d	80 b8 14 11 00
	00 00		 cmp	 BYTE PTR [eax+4372], 0
  00074	74 41		 je	 SHORT $LN74@UseSkill
  00076	83 7e 08 28	 cmp	 DWORD PTR [esi+8], 40	; 00000028H
  0007a	74 3b		 je	 SHORT $LN74@UseSkill

; 590  : 	{
; 591  : 		CMagicInf * lpMagic = gObjGetMagicSearch(lpObj,AT_SKILL_EXPHELL);

  0007c	6a 28		 push	 40			; 00000028H
  0007e	50		 push	 eax
  0007f	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00084	83 c4 08	 add	 esp, 8

; 592  : 
; 593  : 		if(lpMagic != 0)

  00087	85 c0		 test	 eax, eax
  00089	0f 84 a0 07 00
	00		 je	 $LN2@UseSkill

; 594  : 		{
; 595  : 			gObjUseSkill.RunningSkill(lpObj->m_Index,0,lpMagic,0);

  0008f	8b 55 e8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00092	6a 00		 push	 0
  00094	50		 push	 eax
  00095	8b 02		 mov	 eax, DWORD PTR [edx]
  00097	6a 00		 push	 0
  00099	50		 push	 eax
  0009a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  0009f	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
  000a4	5f		 pop	 edi
  000a5	5e		 pop	 esi
  000a6	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  000a7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000aa	33 cd		 xor	 ecx, ebp
  000ac	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000b1	8b e5		 mov	 esp, ebp
  000b3	5d		 pop	 ebp
  000b4	c2 1c 00	 ret	 28			; 0000001cH
$LN74@UseSkill:

; 596  : 		}
; 597  : 
; 598  : 		return;
; 599  : 	}
; 600  : 
; 601  : 	int usemana = this->GetUseMana(aIndex,lpMagic);

  000b7	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  000ba	56		 push	 esi
  000bb	53		 push	 ebx
  000bc	e8 00 00 00 00	 call	 ?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::GetUseMana

; 602  : 
; 603  : 	if(lpMagic->m_Skill == AT_SKILL_DARKHORSE_ATTACK) //season4 add-on

  000c1	83 7e 08 3e	 cmp	 DWORD PTR [esi+8], 62	; 0000003eH
  000c5	89 45 dc	 mov	 DWORD PTR _usemana$[ebp], eax
  000c8	75 18		 jne	 SHORT $LN72@UseSkill

; 604  : 	{
; 605  : 		usemana = (int)gObj[aIndex].Mana;

  000ca	8b 4d e4	 mov	 ecx, DWORD PTR tv608[ebp]
  000cd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d3	d9 84 11 10 01
	00 00		 fld	 DWORD PTR [ecx+edx+272]
  000da	e8 00 00 00 00	 call	 __ftol2_sse
  000df	89 45 dc	 mov	 DWORD PTR _usemana$[ebp], eax
$LN72@UseSkill:

; 606  : 	}
; 607  : 
; 608  : 	PMSG_DURATION_MAGIC_SEND pMsg;
; 609  : 
; 610  : 	if(usemana >= 0)

  000e2	85 c0		 test	 eax, eax
  000e4	0f 88 45 07 00
	00		 js	 $LN2@UseSkill

; 611  : 	{
; 612  : 		if(!gObj[aIndex].SkillDelay.Check(lpMagic->m_Skill))

  000ea	0f b6 46 08	 movzx	 eax, BYTE PTR [esi+8]
  000ee	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000f4	8b 4d e4	 mov	 ecx, DWORD PTR tv608[ebp]
  000f7	50		 push	 eax
  000f8	8d 8c 11 7c 12
	00 00		 lea	 ecx, DWORD PTR [ecx+edx+4732]
  000ff	e8 00 00 00 00	 call	 ?Check@CSkillDelay@@QAEHE@Z ; CSkillDelay::Check

; 613  : 		{
; 614  : 			LogAddTD("[%]   ",gObj[aIndex].AccountID);

  00104	8b 4d e4	 mov	 ecx, DWORD PTR tv608[ebp]
  00107	85 c0		 test	 eax, eax
  00109	75 2b		 jne	 SHORT $LN70@UseSkill
  0010b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00110	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  00114	52		 push	 edx
  00115	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@
  0011a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00120	83 c4 08	 add	 esp, 8
  00123	5f		 pop	 edi
  00124	5e		 pop	 esi
  00125	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00126	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00129	33 cd		 xor	 ecx, ebp
  0012b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00130	8b e5		 mov	 esp, ebp
  00132	5d		 pop	 ebp
  00133	c2 1c 00	 ret	 28			; 0000001cH
$LN70@UseSkill:

; 615  : 			return;
; 616  : 		}
; 617  : 
; 618  : 		int usebp = gObjMagicBPUse(&gObj[aIndex],lpMagic);

  00136	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0013c	56		 push	 esi
  0013d	51		 push	 ecx
  0013e	e8 00 00 00 00	 call	 ?gObjMagicBPUse@@YAHPAUOBJECTSTRUCT@@PAVCMagicInf@@@Z ; gObjMagicBPUse
  00143	83 c4 08	 add	 esp, 8
  00146	89 45 d8	 mov	 DWORD PTR _usebp$222020[ebp], eax

; 619  : 
; 620  : 		if(usebp >= 0)

  00149	85 c0		 test	 eax, eax
  0014b	0f 88 4b 01 00
	00		 js	 $LN56@UseSkill

; 621  : 		{
; 622  : 			lpObj->UseMagicNumber = lpMagic->m_Skill;

  00151	0f b6 56 08	 movzx	 edx, BYTE PTR [esi+8]
  00155	8b 45 e8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00158	88 90 cd 04 00
	00		 mov	 BYTE PTR [eax+1229], dl

; 623  : 			lpObj->UseMagicTime = GetTickCount();

  0015e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00164	8b 4d e8	 mov	 ecx, DWORD PTR _lpObj$[ebp]

; 624  : 			lpObj->UseMagicCount = 0;
; 625  : 
; 626  : 			lpObj->Mana = (float)usemana;

  00167	db 45 dc	 fild	 DWORD PTR _usemana$[ebp]
  0016a	89 81 d0 04 00
	00		 mov	 DWORD PTR [ecx+1232], eax

; 627  : 			lpObj->BP = usebp;

  00170	8b 45 d8	 mov	 eax, DWORD PTR _usebp$222020[ebp]

; 628  : 
; 629  : 			GCManaSend(lpObj->m_Index,lpObj->Mana,0xFF,0,lpObj->BP);

  00173	50		 push	 eax
  00174	d9 5d dc	 fstp	 DWORD PTR tv644[ebp]
  00177	6a 00		 push	 0
  00179	d9 45 dc	 fld	 DWORD PTR tv644[ebp]
  0017c	68 ff 00 00 00	 push	 255			; 000000ffH
  00181	d9 91 10 01 00
	00		 fst	 DWORD PTR [ecx+272]
  00187	c6 81 d4 04 00
	00 00		 mov	 BYTE PTR [ecx+1236], 0
  0018e	89 81 28 01 00
	00		 mov	 DWORD PTR [ecx+296], eax
  00194	e8 00 00 00 00	 call	 __ftol2_sse
  00199	8b 4d e8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0019c	8b 11		 mov	 edx, DWORD PTR [ecx]
  0019e	50		 push	 eax
  0019f	52		 push	 edx
  001a0	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend

; 630  : 
; 631  : 			PHeadSetBE((LPBYTE)&pMsg,0x1E,sizeof(pMsg));

  001a5	6a 0a		 push	 10			; 0000000aH
  001a7	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  001aa	6a 1e		 push	 30			; 0000001eH
  001ac	50		 push	 eax
  001ad	e8 00 00 00 00	 call	 ?PHeadSetBE@@YAXPAEEH@Z	; PHeadSetBE

; 632  : 
; 633  : 			pMsg.MagicNumberH = SET_NUMBERH(lpMagic->m_Skill);

  001b2	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]

; 634  : 			pMsg.MagicNumberL = SET_NUMBERL(lpMagic->m_Skill);

  001b5	0f b6 56 08	 movzx	 edx, BYTE PTR [esi+8]

; 635  : 
; 636  : 			pMsg.X = x;

  001b9	8a 45 10	 mov	 al, BYTE PTR _x$[ebp]
  001bc	c1 e9 08	 shr	 ecx, 8
  001bf	88 4d f3	 mov	 BYTE PTR _pMsg$[ebp+3], cl

; 637  : 			pMsg.Y = y;

  001c2	8a 4d 14	 mov	 cl, BYTE PTR _y$[ebp]
  001c5	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+7], al
  001c8	88 55 f4	 mov	 BYTE PTR _pMsg$[ebp+4], dl

; 638  : 			pMsg.Dir = dir;

  001cb	8a 55 18	 mov	 dl, BYTE PTR _dir$[ebp]

; 639  : 			pMsg.NumberH = SET_NUMBERH(aIndex);

  001ce	8b c3		 mov	 eax, ebx
  001d0	88 4d f8	 mov	 BYTE PTR _pMsg$[ebp+8], cl

; 640  : 			pMsg.NumberL = SET_NUMBERL(aIndex);
; 641  : 
; 642  : 			if(lpObj->Type == OBJ_USER)

  001d3	8b 4d e8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  001d6	c1 e8 08	 shr	 eax, 8
  001d9	83 c4 20	 add	 esp, 32			; 00000020H
  001dc	88 55 f9	 mov	 BYTE PTR _pMsg$[ebp+9], dl
  001df	88 45 f5	 mov	 BYTE PTR _pMsg$[ebp+5], al
  001e2	88 5d f6	 mov	 BYTE PTR _pMsg$[ebp+6], bl
  001e5	66 83 79 68 01	 cmp	 WORD PTR [ecx+104], 1
  001ea	75 17		 jne	 SHORT $LN68@UseSkill

; 643  : 			{
; 644  : 				DataSend(lpObj->m_Index,(LPBYTE)&pMsg,pMsg.h.size);

  001ec	0f b6 55 f1	 movzx	 edx, BYTE PTR _pMsg$[ebp+1]
  001f0	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001f2	52		 push	 edx
  001f3	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  001f6	50		 push	 eax
  001f7	51		 push	 ecx
  001f8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  001fd	8b 4d e8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00200	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN68@UseSkill:

; 645  : 			}
; 646  : 
; 647  : 			if(CC_MAP_RANGE(lpObj->MapNumber))

  00203	0f b6 81 49 01
	00 00		 movzx	 eax, BYTE PTR [ecx+329]
  0020a	3c 35		 cmp	 al, 53			; 00000035H
  0020c	74 0d		 je	 SHORT $LN87@UseSkill
  0020e	3c 12		 cmp	 al, 18			; 00000012H
  00210	72 78		 jb	 SHORT $LN67@UseSkill
  00212	b2 17		 mov	 dl, 23			; 00000017H
  00214	3a d0		 cmp	 dl, al
  00216	1b c0		 sbb	 eax, eax
  00218	40		 inc	 eax
  00219	74 6f		 je	 SHORT $LN67@UseSkill
$LN87@UseSkill:

; 648  : 			{
; 649  : 				if(g_MasterSkillSystem.CheckRequireStatus(lpMagic->m_Skill) != FALSE) //Season3 add-on

  0021b	8b 46 08	 mov	 eax, DWORD PTR [esi+8]
  0021e	50		 push	 eax
  0021f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00224	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  00229	85 c0		 test	 eax, eax
  0022b	74 35		 je	 SHORT $LN66@UseSkill

; 650  : 				{
; 651  : 					int GetBaseMasterLevelSkill = g_MasterSkillSystem.GetBaseMasterLevelSkill(lpMagic->m_Skill);

  0022d	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  00230	51		 push	 ecx
  00231	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  00236	e8 00 00 00 00	 call	 ?GetBaseMasterLevelSkill@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::GetBaseMasterLevelSkill

; 652  : 					switch ( GetBaseMasterLevelSkill )

  0023b	05 9c fe ff ff	 add	 eax, -356		; fffffe9cH
  00240	83 f8 40	 cmp	 eax, 64			; 00000040H
  00243	77 0e		 ja	 SHORT $LN62@UseSkill
  00245	0f b6 90 00 00
	00 00		 movzx	 edx, BYTE PTR $LN90@UseSkill[eax]
  0024c	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN95@UseSkill[edx*4]
$LN62@UseSkill:

; 653  : 					{
; 654  : 						case 356:	//1.01.00
; 655  : 						case 360:
; 656  : 						case 363:
; 657  : 						case 403:
; 658  : 						case 404:
; 659  : 						case 406:
; 660  : 						case 413:
; 661  : 						case 417:
; 662  : 						case 420:
; 663  : 							break;
; 664  : 						default:
; 665  : 							MsgSendV2(lpObj,(LPBYTE)&pMsg,pMsg.h.size);

  00253	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00257	8b 55 e8	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0025a	50		 push	 eax
  0025b	8d 4d f0	 lea	 ecx, DWORD PTR _pMsg$[ebp]
  0025e	51		 push	 ecx
  0025f	52		 push	 edx

; 666  : 					}
; 667  : 				}
; 668  : 				else

  00260	eb 32		 jmp	 SHORT $LN94@UseSkill
$LN66@UseSkill:

; 669  : 				{
; 670  : 					switch ( lpMagic->m_Skill )

  00262	8b 46 08	 mov	 eax, DWORD PTR [esi+8]
  00265	83 c0 f0	 add	 eax, -16		; fffffff0H
  00268	83 f8 20	 cmp	 eax, 32			; 00000020H
  0026b	77 0e		 ja	 SHORT $LN57@UseSkill
  0026d	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN91@UseSkill[eax]
  00274	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN96@UseSkill[eax*4]
$LN57@UseSkill:

; 671  : 					{
; 672  : 						case 16:
; 673  : 						case 26:
; 674  : 						case 27:
; 675  : 						case 28:
; 676  : 						case 48:
; 677  : 							break;
; 678  : 						default:
; 679  : 							MsgSendV2(lpObj,(LPBYTE)&pMsg,pMsg.h.size);

  0027b	0f b6 4d f1	 movzx	 ecx, BYTE PTR _pMsg$[ebp+1]
  0027f	8b 45 e8	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00282	51		 push	 ecx
  00283	8d 55 f0	 lea	 edx, DWORD PTR _pMsg$[ebp]
  00286	52		 push	 edx
  00287	50		 push	 eax

; 680  : 					}
; 681  : 				}
; 682  : 			}
; 683  : 			else

  00288	eb 0a		 jmp	 SHORT $LN94@UseSkill
$LN67@UseSkill:

; 684  : 			{
; 685  : 				MsgSendV2(lpObj,(LPBYTE)&pMsg,pMsg.h.size);

  0028a	0f b6 55 f1	 movzx	 edx, BYTE PTR _pMsg$[ebp+1]
  0028e	52		 push	 edx
  0028f	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00292	50		 push	 eax
  00293	51		 push	 ecx
$LN94@UseSkill:
  00294	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2
  00299	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN56@UseSkill:

; 686  : 			}
; 687  : 		}
; 688  : 		
; 689  : 		if(g_MasterSkillSystem.CheckRequireStatus(lpMagic->m_Skill) != FALSE) //Season3 add-on

  0029c	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  0029f	51		 push	 ecx
  002a0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  002a5	e8 00 00 00 00	 call	 ?CheckRequireStatus@CMasterLevelSkillTreeSystem@@QAEHH@Z ; CMasterLevelSkillTreeSystem::CheckRequireStatus
  002aa	85 c0		 test	 eax, eax
  002ac	74 37		 je	 SHORT $LN55@UseSkill

; 690  : 		{
; 691  : 			g_MasterSkillSystem.RunningSkill(lpObj, aTargetIndex, lpMagic, bCombo, x, y, dir, TargetPos);

  002ae	8b 55 1c	 mov	 edx, DWORD PTR _TargetPos$[ebp]
  002b1	8b 45 18	 mov	 eax, DWORD PTR _dir$[ebp]
  002b4	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  002b7	52		 push	 edx
  002b8	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  002bb	50		 push	 eax
  002bc	8b 45 e0	 mov	 eax, DWORD PTR _bCombo$[ebp]
  002bf	51		 push	 ecx
  002c0	8b 4d e8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  002c3	52		 push	 edx
  002c4	50		 push	 eax
  002c5	56		 push	 esi
  002c6	57		 push	 edi
  002c7	51		 push	 ecx
  002c8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MasterSkillSystem@@3VCMasterLevelSkillTreeSystem@@A ; g_MasterSkillSystem
  002cd	e8 00 00 00 00	 call	 ?RunningSkill@CMasterLevelSkillTreeSystem@@QAEHPAUOBJECTSTRUCT@@HPAVCMagicInf@@HEEEE@Z ; CMasterLevelSkillTreeSystem::RunningSkill
  002d2	5f		 pop	 edi
  002d3	5e		 pop	 esi
  002d4	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  002d5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002d8	33 cd		 xor	 ecx, ebp
  002da	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002df	8b e5		 mov	 esp, ebp
  002e1	5d		 pop	 ebp
  002e2	c2 1c 00	 ret	 28			; 0000001cH
$LN55@UseSkill:

; 692  : 			return;
; 693  : 		}
; 694  : 
; 695  : 		if(lpMagic->m_Skill == AT_SKILL_SWORD6)

  002e5	83 7e 08 38	 cmp	 DWORD PTR [esi+8], 56	; 00000038H
  002e9	75 1b		 jne	 SHORT $LN54@UseSkill

; 696  : 		{
; 697  : 			this->SkillPowerSlash(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  002eb	8b 55 1c	 mov	 edx, DWORD PTR _TargetPos$[ebp]
  002ee	8b 45 18	 mov	 eax, DWORD PTR _dir$[ebp]
  002f1	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  002f4	57		 push	 edi
  002f5	52		 push	 edx
  002f6	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  002f9	50		 push	 eax
  002fa	51		 push	 ecx
  002fb	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  002fe	52		 push	 edx
  002ff	56		 push	 esi
  00300	53		 push	 ebx
  00301	e8 00 00 00 00	 call	 ?SkillPowerSlash@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillPowerSlash
$LN54@UseSkill:

; 698  : 		}
; 699  : 
; 700  : 		if(lpMagic->m_Skill == AT_SKILL_EXPPOISON)

  00306	8b 46 08	 mov	 eax, DWORD PTR [esi+8]
  00309	83 f8 26	 cmp	 eax, 38			; 00000026H
  0030c	75 64		 jne	 SHORT $LN53@UseSkill

; 701  : 		{
; 702  : //			this->SkillDeathPoison(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);
; 703  : 			if( lpObj->Class == 561 )	//Medusa, 1.01.00 update

  0030e	8b 4d e8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00311	b8 31 02 00 00	 mov	 eax, 561		; 00000231H

; 704  : 			{
; 705  : 				this->SkillDeathPoisonForMeDusa(aIndex, lpMagic, x, y, aTargetIndex);

  00316	57		 push	 edi
  00317	66 39 81 b8 00
	00 00		 cmp	 WORD PTR [ecx+184], ax
  0031e	75 25		 jne	 SHORT $LN52@UseSkill
  00320	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  00323	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  00326	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00329	52		 push	 edx
  0032a	50		 push	 eax
  0032b	56		 push	 esi
  0032c	53		 push	 ebx
  0032d	e8 00 00 00 00	 call	 ?SkillDeathPoisonForMeDusa@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillDeathPoisonForMeDusa
  00332	5f		 pop	 edi
  00333	5e		 pop	 esi
  00334	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00335	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00338	33 cd		 xor	 ecx, ebp
  0033a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0033f	8b e5		 mov	 esp, ebp
  00341	5d		 pop	 ebp
  00342	c2 1c 00	 ret	 28			; 0000001cH
$LN52@UseSkill:

; 706  : 			}
; 707  : 			else
; 708  : 			{
; 709  : 				this->SkillDeathPoison(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  00345	8b 4d 1c	 mov	 ecx, DWORD PTR _TargetPos$[ebp]
  00348	8b 55 18	 mov	 edx, DWORD PTR _dir$[ebp]
  0034b	8b 45 14	 mov	 eax, DWORD PTR _y$[ebp]
  0034e	51		 push	 ecx
  0034f	8b 4d 10	 mov	 ecx, DWORD PTR _x$[ebp]
  00352	52		 push	 edx
  00353	50		 push	 eax
  00354	51		 push	 ecx
  00355	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00358	56		 push	 esi
  00359	53		 push	 ebx
  0035a	e8 00 00 00 00	 call	 ?SkillDeathPoison@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillDeathPoison
  0035f	5f		 pop	 edi
  00360	5e		 pop	 esi
  00361	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00362	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00365	33 cd		 xor	 ecx, ebp
  00367	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0036c	8b e5		 mov	 esp, ebp
  0036e	5d		 pop	 ebp
  0036f	c2 1c 00	 ret	 28			; 0000001cH
$LN53@UseSkill:

; 710  : 			}
; 711  : 		}
; 712  : 		else if(lpMagic->m_Skill == AT_SKILL_EXPICE)

  00372	83 f8 27	 cmp	 eax, 39			; 00000027H
  00375	75 2e		 jne	 SHORT $LN49@UseSkill

; 713  : 		{
; 714  : 			this->SkillSuddenIce(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  00377	8b 55 1c	 mov	 edx, DWORD PTR _TargetPos$[ebp]
  0037a	8b 45 18	 mov	 eax, DWORD PTR _dir$[ebp]
  0037d	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  00380	57		 push	 edi
  00381	52		 push	 edx
  00382	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  00385	50		 push	 eax
  00386	51		 push	 ecx
  00387	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  0038a	52		 push	 edx
  0038b	56		 push	 esi
  0038c	53		 push	 ebx
  0038d	e8 00 00 00 00	 call	 ?SkillSuddenIce@CObjUseSkill@@QAEHHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillSuddenIce
  00392	5f		 pop	 edi
  00393	5e		 pop	 esi
  00394	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00395	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00398	33 cd		 xor	 ecx, ebp
  0039a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0039f	8b e5		 mov	 esp, ebp
  003a1	5d		 pop	 ebp
  003a2	c2 1c 00	 ret	 28			; 0000001cH
$LN49@UseSkill:

; 715  : 		}
; 716  : 		else if(lpMagic->m_Skill == AT_SKILL_BLOWOFFURY)

  003a5	83 f8 2a	 cmp	 eax, 42			; 0000002aH
  003a8	75 32		 jne	 SHORT $LN47@UseSkill

; 717  : 		{
; 718  : 			this->SkillBlowOfFury(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex,bCombo);

  003aa	8b 45 e0	 mov	 eax, DWORD PTR _bCombo$[ebp]
  003ad	8b 4d 1c	 mov	 ecx, DWORD PTR _TargetPos$[ebp]
  003b0	8b 55 18	 mov	 edx, DWORD PTR _dir$[ebp]
  003b3	50		 push	 eax
  003b4	8b 45 14	 mov	 eax, DWORD PTR _y$[ebp]
  003b7	57		 push	 edi
  003b8	51		 push	 ecx
  003b9	8b 4d 10	 mov	 ecx, DWORD PTR _x$[ebp]
  003bc	52		 push	 edx
  003bd	50		 push	 eax
  003be	51		 push	 ecx
  003bf	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  003c2	56		 push	 esi
  003c3	53		 push	 ebx
  003c4	e8 00 00 00 00	 call	 ?SkillBlowOfFury@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEHH@Z ; CObjUseSkill::SkillBlowOfFury
  003c9	5f		 pop	 edi
  003ca	5e		 pop	 esi
  003cb	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  003cc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003cf	33 cd		 xor	 ecx, ebp
  003d1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003d6	8b e5		 mov	 esp, ebp
  003d8	5d		 pop	 ebp
  003d9	c2 1c 00	 ret	 28			; 0000001cH
$LN47@UseSkill:

; 719  : 		}
; 720  : 		else if(lpMagic->m_Skill == AT_SKILL_WHEEL)

  003dc	83 f8 29	 cmp	 eax, 41			; 00000029H
  003df	75 22		 jne	 SHORT $LN45@UseSkill

; 721  : 		{
; 722  : 			this->SkillWheel(aIndex,lpMagic,aTargetIndex,bCombo);

  003e1	8b 55 e0	 mov	 edx, DWORD PTR _bCombo$[ebp]
  003e4	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  003e7	52		 push	 edx
  003e8	57		 push	 edi
  003e9	56		 push	 esi
  003ea	53		 push	 ebx
  003eb	e8 00 00 00 00	 call	 ?SkillWheel@CObjUseSkill@@QAEXHPAVCMagicInf@@HH@Z ; CObjUseSkill::SkillWheel
  003f0	5f		 pop	 edi
  003f1	5e		 pop	 esi
  003f2	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  003f3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003f6	33 cd		 xor	 ecx, ebp
  003f8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003fd	8b e5		 mov	 esp, ebp
  003ff	5d		 pop	 ebp
  00400	c2 1c 00	 ret	 28			; 0000001cH
$LN45@UseSkill:

; 723  : 		}
; 724  : 		else if(lpMagic->m_Skill == AT_SKILL_ELECTRICSPARK)

  00403	83 f8 41	 cmp	 eax, 65			; 00000041H
  00406	75 2e		 jne	 SHORT $LN43@UseSkill

; 725  : 		{
; 726  : 			this->SkillElectricSpark(aIndex,lpMagic,x,y,dir,TargetPos,aTargetIndex);

  00408	8b 45 1c	 mov	 eax, DWORD PTR _TargetPos$[ebp]
  0040b	8b 4d 18	 mov	 ecx, DWORD PTR _dir$[ebp]
  0040e	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  00411	57		 push	 edi
  00412	50		 push	 eax
  00413	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  00416	51		 push	 ecx
  00417	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  0041a	52		 push	 edx
  0041b	50		 push	 eax
  0041c	56		 push	 esi
  0041d	53		 push	 ebx
  0041e	e8 00 00 00 00	 call	 ?SkillElectricSpark@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ; CObjUseSkill::SkillElectricSpark
  00423	5f		 pop	 edi
  00424	5e		 pop	 esi
  00425	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00426	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00429	33 cd		 xor	 ecx, ebp
  0042b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00430	8b e5		 mov	 esp, ebp
  00432	5d		 pop	 ebp
  00433	c2 1c 00	 ret	 28			; 0000001cH
$LN43@UseSkill:

; 727  : 		}
; 728  : 		else if(lpMagic->m_Skill == AT_SKILL_DARKHORSE_ATTACK)

  00436	83 f8 3e	 cmp	 eax, 62			; 0000003eH
  00439	75 23		 jne	 SHORT $LN41@UseSkill

; 729  : 		{
; 730  : 			this->SkillDarkHorseAttack(lpObj->m_Index,aTargetIndex,lpMagic);

  0043b	8b 4d e8	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  0043e	8b 11		 mov	 edx, DWORD PTR [ecx]
  00440	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00443	56		 push	 esi
  00444	57		 push	 edi
  00445	52		 push	 edx
  00446	e8 00 00 00 00	 call	 ?SkillDarkHorseAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDarkHorseAttack
  0044b	5f		 pop	 edi
  0044c	5e		 pop	 esi
  0044d	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  0044e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00451	33 cd		 xor	 ecx, ebp
  00453	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00458	8b e5		 mov	 esp, ebp
  0045a	5d		 pop	 ebp
  0045b	c2 1c 00	 ret	 28			; 0000001cH
$LN41@UseSkill:

; 731  : 		}
; 732  : 		else if(lpMagic->m_Skill == AT_SKILL_STUN)

  0045e	83 f8 43	 cmp	 eax, 67			; 00000043H
  00461	75 2e		 jne	 SHORT $LN39@UseSkill

; 733  : 		{
; 734  : 			this->SkillStun(aIndex,aTargetIndex,lpMagic,x,y,dir,TargetPos);

  00463	8b 45 1c	 mov	 eax, DWORD PTR _TargetPos$[ebp]
  00466	8b 4d 18	 mov	 ecx, DWORD PTR _dir$[ebp]
  00469	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  0046c	50		 push	 eax
  0046d	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  00470	51		 push	 ecx
  00471	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00474	52		 push	 edx
  00475	50		 push	 eax
  00476	56		 push	 esi
  00477	57		 push	 edi
  00478	53		 push	 ebx
  00479	e8 00 00 00 00	 call	 ?SkillStun@CObjUseSkill@@QAEHHHPAVCMagicInf@@EEEE@Z ; CObjUseSkill::SkillStun
  0047e	5f		 pop	 edi
  0047f	5e		 pop	 esi
  00480	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00481	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00484	33 cd		 xor	 ecx, ebp
  00486	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0048b	8b e5		 mov	 esp, ebp
  0048d	5d		 pop	 ebp
  0048e	c2 1c 00	 ret	 28			; 0000001cH
$LN39@UseSkill:

; 735  : 		}
; 736  : 		else if(lpMagic->m_Skill == AT_SKILL_FENRIR_ATTACK)

  00491	83 f8 4c	 cmp	 eax, 76			; 0000004cH
  00494	75 1e		 jne	 SHORT $LN37@UseSkill

; 737  : 		{
; 738  : 			this->SkillFenrirAttack(aIndex,aTargetIndex,lpMagic);

  00496	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00499	56		 push	 esi
  0049a	57		 push	 edi
  0049b	53		 push	 ebx
  0049c	e8 00 00 00 00	 call	 ?SkillFenrirAttack@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillFenrirAttack
  004a1	5f		 pop	 edi
  004a2	5e		 pop	 esi
  004a3	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  004a4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  004a7	33 cd		 xor	 ecx, ebp
  004a9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  004ae	8b e5		 mov	 esp, ebp
  004b0	5d		 pop	 ebp
  004b1	c2 1c 00	 ret	 28			; 0000001cH
$LN37@UseSkill:

; 739  : 		}
; 740  : 		//Summoner Next
; 741  : 		else if(lpMagic->m_Skill == 216)

  004b4	3d d8 00 00 00	 cmp	 eax, 216		; 000000d8H
  004b9	75 1e		 jne	 SHORT $LN35@UseSkill

; 742  : 		{
; 743  : 			this->SkillEletrictSurge(aIndex,aTargetIndex,lpMagic);

  004bb	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  004be	56		 push	 esi
  004bf	57		 push	 edi
  004c0	53		 push	 ebx
  004c1	e8 00 00 00 00	 call	 ?SkillEletrictSurge@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEletrictSurge
  004c6	5f		 pop	 edi
  004c7	5e		 pop	 esi
  004c8	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  004c9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  004cc	33 cd		 xor	 ecx, ebp
  004ce	e8 00 00 00 00	 call	 @__security_check_cookie@4
  004d3	8b e5		 mov	 esp, ebp
  004d5	5d		 pop	 ebp
  004d6	c2 1c 00	 ret	 28			; 0000001cH
$LN35@UseSkill:

; 744  : 		}
; 745  : 		else if(lpMagic->m_Skill == 214)

  004d9	3d d6 00 00 00	 cmp	 eax, 214		; 000000d6H
  004de	75 1e		 jne	 SHORT $LN33@UseSkill

; 746  : 		{
; 747  : 			this->SkillDrainLife(aIndex,aTargetIndex,lpMagic);

  004e0	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  004e3	56		 push	 esi
  004e4	57		 push	 edi
  004e5	53		 push	 ebx
  004e6	e8 00 00 00 00	 call	 ?SkillDrainLife@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillDrainLife
  004eb	5f		 pop	 edi
  004ec	5e		 pop	 esi
  004ed	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  004ee	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  004f1	33 cd		 xor	 ecx, ebp
  004f3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  004f8	8b e5		 mov	 esp, ebp
  004fa	5d		 pop	 ebp
  004fb	c2 1c 00	 ret	 28			; 0000001cH
$LN33@UseSkill:

; 748  : 		}
; 749  : 		else if(lpMagic->m_Skill == 215)

  004fe	3d d7 00 00 00	 cmp	 eax, 215		; 000000d7H
  00503	75 1e		 jne	 SHORT $LN31@UseSkill

; 750  : 		{
; 751  : 			this->SkillChainLightning(aIndex,aTargetIndex,lpMagic);

  00505	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00508	56		 push	 esi
  00509	57		 push	 edi
  0050a	53		 push	 ebx
  0050b	e8 00 00 00 00	 call	 ?SkillChainLightning@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillChainLightning
  00510	5f		 pop	 edi
  00511	5e		 pop	 esi
  00512	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00513	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00516	33 cd		 xor	 ecx, ebp
  00518	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0051d	8b e5		 mov	 esp, ebp
  0051f	5d		 pop	 ebp
  00520	c2 1c 00	 ret	 28			; 0000001cH
$LN31@UseSkill:

; 752  : 		}
; 753  : 		else if(lpMagic->m_Skill == 223 || lpMagic->m_Skill == 224)

  00523	3d df 00 00 00	 cmp	 eax, 223		; 000000dfH
  00528	0f 84 ee 02 00
	00		 je	 $LN28@UseSkill
  0052e	3d e0 00 00 00	 cmp	 eax, 224		; 000000e0H
  00533	0f 84 e3 02 00
	00		 je	 $LN28@UseSkill

; 756  : 		}
; 757  : 		else if(lpMagic->m_Skill == 221)

  00539	3d dd 00 00 00	 cmp	 eax, 221		; 000000ddH
  0053e	75 26		 jne	 SHORT $LN26@UseSkill

; 758  : 		{
; 759  : 			this->SkillWeakness(aIndex,lpMagic,x,y,aTargetIndex);

  00540	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  00543	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  00546	57		 push	 edi
  00547	51		 push	 ecx
  00548	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  0054b	52		 push	 edx
  0054c	56		 push	 esi
  0054d	53		 push	 ebx
  0054e	e8 00 00 00 00	 call	 ?SkillWeakness@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillWeakness
  00553	5f		 pop	 edi
  00554	5e		 pop	 esi
  00555	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00556	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00559	33 cd		 xor	 ecx, ebp
  0055b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00560	8b e5		 mov	 esp, ebp
  00562	5d		 pop	 ebp
  00563	c2 1c 00	 ret	 28			; 0000001cH
$LN26@UseSkill:

; 760  : 		}
; 761  : 		else if(lpMagic->m_Skill == 222)

  00566	3d de 00 00 00	 cmp	 eax, 222		; 000000deH
  0056b	75 26		 jne	 SHORT $LN24@UseSkill

; 762  : 		{
; 763  : 			this->SkillInnovation(aIndex,lpMagic,x,y,aTargetIndex);

  0056d	8b 45 14	 mov	 eax, DWORD PTR _y$[ebp]
  00570	8b 4d 10	 mov	 ecx, DWORD PTR _x$[ebp]
  00573	57		 push	 edi
  00574	50		 push	 eax
  00575	51		 push	 ecx
  00576	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00579	56		 push	 esi
  0057a	53		 push	 ebx
  0057b	e8 00 00 00 00	 call	 ?SkillInnovation@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillInnovation
  00580	5f		 pop	 edi
  00581	5e		 pop	 esi
  00582	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00583	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00586	33 cd		 xor	 ecx, ebp
  00588	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0058d	8b e5		 mov	 esp, ebp
  0058f	5d		 pop	 ebp
  00590	c2 1c 00	 ret	 28			; 0000001cH
$LN24@UseSkill:

; 764  : 		}
; 765  : 		else if(lpMagic->m_Skill == 225) //season 4 add-on

  00593	3d e1 00 00 00	 cmp	 eax, 225		; 000000e1H
  00598	75 28		 jne	 SHORT $LN22@UseSkill

; 766  : 		{
; 767  : 			this->SkillPollutionStart(aIndex,lpMagic,x,y,aTargetIndex,59);

  0059a	8b 55 14	 mov	 edx, DWORD PTR _y$[ebp]
  0059d	8b 45 10	 mov	 eax, DWORD PTR _x$[ebp]
  005a0	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  005a3	6a 3b		 push	 59			; 0000003bH
  005a5	57		 push	 edi
  005a6	52		 push	 edx
  005a7	50		 push	 eax
  005a8	56		 push	 esi
  005a9	53		 push	 ebx
  005aa	e8 00 00 00 00	 call	 ?SkillPollutionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHH@Z ; CObjUseSkill::SkillPollutionStart
  005af	5f		 pop	 edi
  005b0	5e		 pop	 esi
  005b1	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  005b2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  005b5	33 cd		 xor	 ecx, ebp
  005b7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  005bc	8b e5		 mov	 esp, ebp
  005be	5d		 pop	 ebp
  005bf	c2 1c 00	 ret	 28			; 0000001cH
$LN22@UseSkill:

; 768  : 		}
; 769  : 		else if(lpMagic->m_Skill == 230) //season 4 add-on

  005c2	3d e6 00 00 00	 cmp	 eax, 230		; 000000e6H
  005c7	75 1e		 jne	 SHORT $LN20@UseSkill

; 770  : 		{
; 771  : 			this->SkillLightningShock(aIndex,aTargetIndex,lpMagic);

  005c9	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  005cc	56		 push	 esi
  005cd	57		 push	 edi
  005ce	53		 push	 ebx
  005cf	e8 00 00 00 00	 call	 ?SkillLightningShock@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillLightningShock
  005d4	5f		 pop	 edi
  005d5	5e		 pop	 esi
  005d6	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  005d7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  005da	33 cd		 xor	 ecx, ebp
  005dc	e8 00 00 00 00	 call	 @__security_check_cookie@4
  005e1	8b e5		 mov	 esp, ebp
  005e3	5d		 pop	 ebp
  005e4	c2 1c 00	 ret	 28			; 0000001cH
$LN20@UseSkill:

; 772  : 		}
; 773  : 		else if(lpMagic->m_Skill == 232) //season 4 add-on

  005e7	3d e8 00 00 00	 cmp	 eax, 232		; 000000e8H
  005ec	75 26		 jne	 SHORT $LN18@UseSkill

; 774  : 		{
; 775  : 			this->SkillStrikeOfDestructionStart(aIndex,lpMagic,x,y,aTargetIndex);

  005ee	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  005f1	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  005f4	57		 push	 edi
  005f5	51		 push	 ecx
  005f6	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  005f9	52		 push	 edx
  005fa	56		 push	 esi
  005fb	53		 push	 ebx
  005fc	e8 00 00 00 00	 call	 ?SkillStrikeOfDestructionStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillStrikeOfDestructionStart
  00601	5f		 pop	 edi
  00602	5e		 pop	 esi
  00603	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00604	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00607	33 cd		 xor	 ecx, ebp
  00609	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0060e	8b e5		 mov	 esp, ebp
  00610	5d		 pop	 ebp
  00611	c2 1c 00	 ret	 28			; 0000001cH
$LN18@UseSkill:

; 776  : 		}
; 777  : 		else if(lpMagic->m_Skill == 236) //season 4 add-on

  00614	3d ec 00 00 00	 cmp	 eax, 236		; 000000ecH
  00619	75 22		 jne	 SHORT $LN16@UseSkill

; 778  : 		{
; 779  : 			this->SkillFlameStrike(aIndex,lpMagic,TargetPos,aTargetIndex);

  0061b	8b 45 1c	 mov	 eax, DWORD PTR _TargetPos$[ebp]
  0061e	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00621	57		 push	 edi
  00622	50		 push	 eax
  00623	56		 push	 esi
  00624	53		 push	 ebx
  00625	e8 00 00 00 00	 call	 ?SkillFlameStrike@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillFlameStrike
  0062a	5f		 pop	 edi
  0062b	5e		 pop	 esi
  0062c	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  0062d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00630	33 cd		 xor	 ecx, ebp
  00632	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00637	8b e5		 mov	 esp, ebp
  00639	5d		 pop	 ebp
  0063a	c2 1c 00	 ret	 28			; 0000001cH
$LN16@UseSkill:

; 780  : 		}
; 781  : 		else if(lpMagic->m_Skill == 237) //season 4 add-on

  0063d	3d ed 00 00 00	 cmp	 eax, 237		; 000000edH
  00642	75 26		 jne	 SHORT $LN14@UseSkill

; 782  : 		{
; 783  : 			this->SkillGiganticStormStart(aIndex,lpMagic,x,y,aTargetIndex);

  00644	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  00647	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  0064a	57		 push	 edi
  0064b	51		 push	 ecx
  0064c	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  0064f	52		 push	 edx
  00650	56		 push	 esi
  00651	53		 push	 ebx
  00652	e8 00 00 00 00	 call	 ?SkillGiganticStormStart@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillGiganticStormStart
  00657	5f		 pop	 edi
  00658	5e		 pop	 esi
  00659	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  0065a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0065d	33 cd		 xor	 ecx, ebp
  0065f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00664	8b e5		 mov	 esp, ebp
  00666	5d		 pop	 ebp
  00667	c2 1c 00	 ret	 28			; 0000001cH
$LN14@UseSkill:

; 784  : 		}
; 785  : 		else if(lpMagic->m_Skill == 235) //season 4 add-on

  0066a	3d eb 00 00 00	 cmp	 eax, 235		; 000000ebH
  0066f	75 22		 jne	 SHORT $LN12@UseSkill

; 786  : 		{
; 787  : 			this->SkillMultiShot(aIndex,lpMagic,TargetPos,aTargetIndex);

  00671	8b 45 1c	 mov	 eax, DWORD PTR _TargetPos$[ebp]
  00674	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00677	57		 push	 edi
  00678	50		 push	 eax
  00679	56		 push	 esi
  0067a	53		 push	 ebx
  0067b	e8 00 00 00 00	 call	 ?SkillMultiShot@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillMultiShot
  00680	5f		 pop	 edi
  00681	5e		 pop	 esi
  00682	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00683	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00686	33 cd		 xor	 ecx, ebp
  00688	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0068d	8b e5		 mov	 esp, ebp
  0068f	5d		 pop	 ebp
  00690	c2 1c 00	 ret	 28			; 0000001cH
$LN12@UseSkill:

; 788  : 		}
; 789  : 		else if(lpMagic->m_Skill == 238) //season 4 add-on

  00693	3d ee 00 00 00	 cmp	 eax, 238		; 000000eeH
  00698	75 22		 jne	 SHORT $LN10@UseSkill

; 790  : 		{
; 791  : 			this->SkillChaoticDiseier(aIndex,lpMagic,TargetPos,aTargetIndex);

  0069a	8b 4d 1c	 mov	 ecx, DWORD PTR _TargetPos$[ebp]
  0069d	57		 push	 edi
  0069e	51		 push	 ecx
  0069f	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  006a2	56		 push	 esi
  006a3	53		 push	 ebx
  006a4	e8 00 00 00 00	 call	 ?SkillChaoticDiseier@CObjUseSkill@@QAEXHPAVCMagicInf@@EH@Z ; CObjUseSkill::SkillChaoticDiseier
  006a9	5f		 pop	 edi
  006aa	5e		 pop	 esi
  006ab	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  006ac	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  006af	33 cd		 xor	 ecx, ebp
  006b1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006b6	8b e5		 mov	 esp, ebp
  006b8	5d		 pop	 ebp
  006b9	c2 1c 00	 ret	 28			; 0000001cH
$LN10@UseSkill:

; 792  : 		}
; 793  : 		else if(lpMagic->m_Skill == 9)

  006bc	83 f8 09	 cmp	 eax, 9
  006bf	75 39		 jne	 SHORT $LN8@UseSkill

; 794  : 		{
; 795  : 			if( gObj[aIndex].Class == 561 )	//Medusa, 1.01.00

  006c1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  006c6	8b 4d e4	 mov	 ecx, DWORD PTR tv608[ebp]
  006c9	ba 31 02 00 00	 mov	 edx, 561		; 00000231H
  006ce	66 39 94 01 b8
	00 00 00	 cmp	 WORD PTR [ecx+eax+184], dx
  006d6	0f 85 53 01 00
	00		 jne	 $LN2@UseSkill

; 796  : 			{
; 797  : 				this->SkillEvilMonster(aIndex, aTargetIndex, lpMagic);

  006dc	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  006df	56		 push	 esi
  006e0	57		 push	 edi
  006e1	53		 push	 ebx
  006e2	e8 00 00 00 00	 call	 ?SkillEvilMonster@CObjUseSkill@@QAEHHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillEvilMonster
  006e7	5f		 pop	 edi
  006e8	5e		 pop	 esi
  006e9	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  006ea	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  006ed	33 cd		 xor	 ecx, ebp
  006ef	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006f4	8b e5		 mov	 esp, ebp
  006f6	5d		 pop	 ebp
  006f7	c2 1c 00	 ret	 28			; 0000001cH
$LN8@UseSkill:

; 798  : 			}
; 799  : 		}
; 800  : 		else if(lpMagic->m_Skill == 264)

  006fa	3d 08 01 00 00	 cmp	 eax, 264		; 00000108H
  006ff	0f 85 86 00 00
	00		 jne	 $LN5@UseSkill

; 801  : 		{
; 802  : 			if( !OBJMAX_RANGE(aTargetIndex) )

  00705	85 ff		 test	 edi, edi
  00707	78 0f		 js	 SHORT $LN88@UseSkill
  00709	33 c0		 xor	 eax, eax
  0070b	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  00711	0f 9e c0	 setle	 al
  00714	85 c0		 test	 eax, eax
  00716	75 30		 jne	 SHORT $LN4@UseSkill
$LN88@UseSkill:

; 803  : 			{
; 804  : 				LogAddTD("[InvalidTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_DRAGON_ROAR] Index :%d , AccountID : %s ",
; 805  : 					aIndex, gObj[aIndex].AccountID);

  00718	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0071e	8b 45 e4	 mov	 eax, DWORD PTR tv608[ebp]
  00721	8d 4c 10 6c	 lea	 ecx, DWORD PTR [eax+edx+108]
  00725	51		 push	 ecx
  00726	53		 push	 ebx
  00727	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@IFELCABO@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
  0072c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00732	83 c4 0c	 add	 esp, 12			; 0000000cH
  00735	5f		 pop	 edi
  00736	5e		 pop	 esi
  00737	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  00738	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0073b	33 cd		 xor	 ecx, ebp
  0073d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00742	8b e5		 mov	 esp, ebp
  00744	5d		 pop	 ebp
  00745	c2 1c 00	 ret	 28			; 0000001cH
$LN4@UseSkill:

; 806  : 				return;
; 807  : 			}
; 808  : 			// ----
; 809  : 			this->SkillAreaMonsterAttack(aIndex, lpMagic, gObj[aTargetIndex].X, gObj[aTargetIndex].Y, aTargetIndex, 3, 1, 0);

  00748	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0074d	8b d7		 mov	 edx, edi
  0074f	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00755	0f b6 8c 10 46
	01 00 00	 movzx	 ecx, BYTE PTR [eax+edx+326]
  0075d	0f b6 94 10 44
	01 00 00	 movzx	 edx, BYTE PTR [eax+edx+324]
  00765	6a 00		 push	 0
  00767	6a 01		 push	 1
  00769	6a 03		 push	 3
  0076b	57		 push	 edi
  0076c	51		 push	 ecx
  0076d	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00770	52		 push	 edx
  00771	56		 push	 esi
  00772	53		 push	 ebx
  00773	e8 00 00 00 00	 call	 ?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillAreaMonsterAttack
  00778	5f		 pop	 edi
  00779	5e		 pop	 esi
  0077a	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  0077b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0077e	33 cd		 xor	 ecx, ebp
  00780	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00785	8b e5		 mov	 esp, ebp
  00787	5d		 pop	 ebp
  00788	c2 1c 00	 ret	 28			; 0000001cH
$LN5@UseSkill:

; 810  : 		}
; 811  : 			// --
; 812  : 		else if(lpMagic->m_Skill == 270)	//-> AT_SKILL_PHOENIXSHOT

  0078b	3d 0e 01 00 00	 cmp	 eax, 270		; 0000010eH
  00790	0f 85 99 00 00
	00		 jne	 $LN2@UseSkill

; 813  : 		{
; 814  : 			if( !OBJMAX_RANGE(aTargetIndex) )

  00796	85 ff		 test	 edi, edi
  00798	78 0f		 js	 SHORT $LN89@UseSkill
  0079a	33 c0		 xor	 eax, eax
  0079c	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  007a2	0f 9e c0	 setle	 al
  007a5	85 c0		 test	 eax, eax
  007a7	75 2f		 jne	 SHORT $LN1@UseSkill
$LN89@UseSkill:

; 815  : 			{
; 816  : 				LogAddTD("[InvalidTargetIndex][CObjUseSkill.UseSkill][AT_SKILL_PHOENIXSHOT] Index :%d , AccountID : %s ",
; 817  : 					aIndex, gObj[aIndex].AccountID);

  007a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  007ae	8b 4d e4	 mov	 ecx, DWORD PTR tv608[ebp]
  007b1	8d 54 01 6c	 lea	 edx, DWORD PTR [ecx+eax+108]
  007b5	52		 push	 edx
  007b6	53		 push	 ebx
  007b7	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@JAMLMINI@?$FLInvalidTargetIndex?$FN?$FLCObjUseSkil@
  007bc	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  007c2	83 c4 0c	 add	 esp, 12			; 0000000cH
  007c5	5f		 pop	 edi
  007c6	5e		 pop	 esi
  007c7	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  007c8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  007cb	33 cd		 xor	 ecx, ebp
  007cd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  007d2	8b e5		 mov	 esp, ebp
  007d4	5d		 pop	 ebp
  007d5	c2 1c 00	 ret	 28			; 0000001cH
$LN1@UseSkill:

; 818  : 				return;
; 819  : 			}
; 820  : 			// ----
; 821  : 			this->SkillAreaMonsterAttack(aIndex, lpMagic, gObj[aTargetIndex].X, gObj[aTargetIndex].Y, aTargetIndex, 2, 1, 0);

  007d8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  007de	8b c7		 mov	 eax, edi
  007e0	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  007e6	0f b6 94 08 46
	01 00 00	 movzx	 edx, BYTE PTR [eax+ecx+326]
  007ee	0f b6 84 08 44
	01 00 00	 movzx	 eax, BYTE PTR [eax+ecx+324]
  007f6	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  007f9	6a 00		 push	 0
  007fb	6a 01		 push	 1
  007fd	6a 02		 push	 2
  007ff	57		 push	 edi
  00800	52		 push	 edx
  00801	50		 push	 eax
  00802	56		 push	 esi
  00803	53		 push	 ebx
  00804	e8 00 00 00 00	 call	 ?SkillAreaMonsterAttack@CObjUseSkill@@QAEHHPAVCMagicInf@@EEHHHH@Z ; CObjUseSkill::SkillAreaMonsterAttack
  00809	5f		 pop	 edi
  0080a	5e		 pop	 esi
  0080b	5b		 pop	 ebx

; 822  : 		}
; 823  : 	}
; 824  : }

  0080c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0080f	33 cd		 xor	 ecx, ebp
  00811	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00816	8b e5		 mov	 esp, ebp
  00818	5d		 pop	 ebp
  00819	c2 1c 00	 ret	 28			; 0000001cH
$LN28@UseSkill:

; 754  : 		{
; 755  : 			this->SkillSummonerBook(aIndex,lpMagic,x,y,aTargetIndex);

  0081c	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  0081f	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  00822	57		 push	 edi
  00823	51		 push	 ecx
  00824	8b 4d ec	 mov	 ecx, DWORD PTR _this$GSCopy$[ebp]
  00827	52		 push	 edx
  00828	56		 push	 esi
  00829	53		 push	 ebx
  0082a	e8 00 00 00 00	 call	 ?SkillSummonerBook@CObjUseSkill@@QAEHHPAVCMagicInf@@EEH@Z ; CObjUseSkill::SkillSummonerBook
$LN2@UseSkill:

; 822  : 		}
; 823  : 	}
; 824  : }

  0082f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00832	5f		 pop	 edi
  00833	5e		 pop	 esi
  00834	33 cd		 xor	 ecx, ebp
  00836	5b		 pop	 ebx
  00837	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0083c	8b e5		 mov	 esp, ebp
  0083e	5d		 pop	 ebp
  0083f	c2 1c 00	 ret	 28			; 0000001cH
  00842	8b ff		 npad	 2
$LN95@UseSkill:
  00844	00 00 00 00	 DD	 $LN56@UseSkill
  00848	00 00 00 00	 DD	 $LN62@UseSkill
$LN90@UseSkill:
  0084c	00		 DB	 0
  0084d	01		 DB	 1
  0084e	01		 DB	 1
  0084f	01		 DB	 1
  00850	00		 DB	 0
  00851	01		 DB	 1
  00852	01		 DB	 1
  00853	00		 DB	 0
  00854	01		 DB	 1
  00855	01		 DB	 1
  00856	01		 DB	 1
  00857	01		 DB	 1
  00858	01		 DB	 1
  00859	01		 DB	 1
  0085a	01		 DB	 1
  0085b	01		 DB	 1
  0085c	01		 DB	 1
  0085d	01		 DB	 1
  0085e	01		 DB	 1
  0085f	01		 DB	 1
  00860	01		 DB	 1
  00861	01		 DB	 1
  00862	01		 DB	 1
  00863	01		 DB	 1
  00864	01		 DB	 1
  00865	01		 DB	 1
  00866	01		 DB	 1
  00867	01		 DB	 1
  00868	01		 DB	 1
  00869	01		 DB	 1
  0086a	01		 DB	 1
  0086b	01		 DB	 1
  0086c	01		 DB	 1
  0086d	01		 DB	 1
  0086e	01		 DB	 1
  0086f	01		 DB	 1
  00870	01		 DB	 1
  00871	01		 DB	 1
  00872	01		 DB	 1
  00873	01		 DB	 1
  00874	01		 DB	 1
  00875	01		 DB	 1
  00876	01		 DB	 1
  00877	01		 DB	 1
  00878	01		 DB	 1
  00879	01		 DB	 1
  0087a	01		 DB	 1
  0087b	00		 DB	 0
  0087c	00		 DB	 0
  0087d	01		 DB	 1
  0087e	00		 DB	 0
  0087f	01		 DB	 1
  00880	01		 DB	 1
  00881	01		 DB	 1
  00882	01		 DB	 1
  00883	01		 DB	 1
  00884	01		 DB	 1
  00885	00		 DB	 0
  00886	01		 DB	 1
  00887	01		 DB	 1
  00888	01		 DB	 1
  00889	00		 DB	 0
  0088a	01		 DB	 1
  0088b	01		 DB	 1
  0088c	00		 DB	 0
  0088d	8d 49 00	 npad	 3
$LN96@UseSkill:
  00890	00 00 00 00	 DD	 $LN56@UseSkill
  00894	00 00 00 00	 DD	 $LN57@UseSkill
$LN91@UseSkill:
  00898	00		 DB	 0
  00899	01		 DB	 1
  0089a	01		 DB	 1
  0089b	01		 DB	 1
  0089c	01		 DB	 1
  0089d	01		 DB	 1
  0089e	01		 DB	 1
  0089f	01		 DB	 1
  008a0	01		 DB	 1
  008a1	01		 DB	 1
  008a2	00		 DB	 0
  008a3	00		 DB	 0
  008a4	00		 DB	 0
  008a5	01		 DB	 1
  008a6	01		 DB	 1
  008a7	01		 DB	 1
  008a8	01		 DB	 1
  008a9	01		 DB	 1
  008aa	01		 DB	 1
  008ab	01		 DB	 1
  008ac	01		 DB	 1
  008ad	01		 DB	 1
  008ae	01		 DB	 1
  008af	01		 DB	 1
  008b0	01		 DB	 1
  008b1	01		 DB	 1
  008b2	01		 DB	 1
  008b3	01		 DB	 1
  008b4	01		 DB	 1
  008b5	01		 DB	 1
  008b6	01		 DB	 1
  008b7	01		 DB	 1
  008b8	00		 DB	 0
?UseSkill@CObjUseSkill@@QAEXHPAVCMagicInf@@EEEEH@Z ENDP	; CObjUseSkill::UseSkill
_TEXT	ENDS
PUBLIC	?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z	; CObjUseSkill::UseSkill
; Function compile flags: /Ogtp
;	COMDAT ?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z
_TEXT	SEGMENT
tv224 = -8						; size = 4
_usebp$222147 = -8					; size = 4
_this$ = -4						; size = 4
_bCombo$ = 8						; size = 4
_aIndex$ = 8						; size = 4
tv258 = 12						; size = 4
_aTargetIndex$ = 12					; size = 4
_usemana$ = 16						; size = 4
_lpMagic$ = 16						; size = 4
?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z PROC	; CObjUseSkill::UseSkill, COMDAT
; _this$ = ecx

; 828  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx

; 829  : 	LPOBJ lpObj = &gObj[aIndex];

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  0000a	56		 push	 esi
  0000b	8b f3		 mov	 esi, ebx
  0000d	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00013	57		 push	 edi

; 830  : 	LPOBJ lpTargetObj = &gObj[aTargetIndex];
; 831  : 
; 832  : 	int bCombo = 0;
; 833  : 
; 834  : 	if(gComboAttack.CheckCombo(aIndex,lpMagic->m_Skill))

  00014	8b 7d 10	 mov	 edi, DWORD PTR _lpMagic$[ebp]
  00017	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  0001a	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  0001d	51		 push	 ecx
  0001e	89 75 f8	 mov	 DWORD PTR tv224[ebp], esi
  00021	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00027	53		 push	 ebx
  00028	b9 00 00 00 00	 mov	 ecx, OFFSET ?gComboAttack@@3VCComboAttack@@A ; gComboAttack
  0002d	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _bCombo$[ebp], 0
  00034	e8 00 00 00 00	 call	 ?CheckCombo@CComboAttack@@QAEHHH@Z ; CComboAttack::CheckCombo
  00039	85 c0		 test	 eax, eax
  0003b	74 0a		 je	 SHORT $LN12@UseSkill@2

; 835  : 	{
; 836  : 		bCombo = 1;

  0003d	b9 01 00 00 00	 mov	 ecx, 1
  00042	89 4d 08	 mov	 DWORD PTR _bCombo$[ebp], ecx
  00045	eb 03		 jmp	 SHORT $LN9@UseSkill@2
$LN12@UseSkill@2:
  00047	8b 4d 08	 mov	 ecx, DWORD PTR _bCombo$[ebp]
$LN9@UseSkill@2:

; 837  : 	}
; 838  : 
; 839  : #if(DEV_COMBO_CUSTOM==TRUE)
; 840  : 	if(g_ZtLicense.user.ComboCustom)

  0004a	80 3d dc 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+220, 0
  00051	74 0b		 je	 SHORT $LN8@UseSkill@2

; 841  : 	{
; 842  : 		lpObj->NewCombo = bCombo;

  00053	85 c9		 test	 ecx, ecx
  00055	0f 95 c2	 setne	 dl
  00058	88 96 88 28 00
	00		 mov	 BYTE PTR [esi+10376], dl
$LN8@UseSkill@2:

; 843  : 	}
; 844  : #endif
; 845  : 
; 846  : 	if(lpObj->SkillHellFire2State && lpMagic->m_Skill != AT_SKILL_EXPHELL)

  0005e	80 be 14 11 00
	00 00		 cmp	 BYTE PTR [esi+4372], 0
  00065	b8 28 00 00 00	 mov	 eax, 40			; 00000028H
  0006a	74 32		 je	 SHORT $LN7@UseSkill@2
  0006c	39 47 08	 cmp	 DWORD PTR [edi+8], eax
  0006f	74 32		 je	 SHORT $LN14@UseSkill@2

; 847  : 	{
; 848  : 		CMagicInf * lpMagic = gObjGetMagicSearch(lpObj,AT_SKILL_EXPHELL);

  00071	50		 push	 eax
  00072	56		 push	 esi
  00073	e8 00 00 00 00	 call	 ?gObjGetMagicSearch@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagicSearch
  00078	83 c4 08	 add	 esp, 8

; 849  : 
; 850  : 		if(lpMagic != 0)

  0007b	85 c0		 test	 eax, eax
  0007d	0f 84 23 01 00
	00		 je	 $LN1@UseSkill@2

; 851  : 		{
; 852  : 			gObjUseSkill.RunningSkill(lpObj->m_Index,0,lpMagic,0);

  00083	6a 00		 push	 0
  00085	50		 push	 eax
  00086	8b 06		 mov	 eax, DWORD PTR [esi]
  00088	6a 00		 push	 0
  0008a	50		 push	 eax
  0008b	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  00090	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx

; 899  : 			}
; 900  : 		}
; 901  : 	}
; 902  : }

  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c2 0c 00	 ret	 12			; 0000000cH
$LN7@UseSkill@2:

; 853  : 		}
; 854  : 
; 855  : 		return;
; 856  : 	}
; 857  : 
; 858  : 	if(lpMagic->m_Skill == AT_SKILL_EXPHELL && aTargetIndex != 58)

  0009e	39 47 08	 cmp	 DWORD PTR [edi+8], eax
  000a1	75 39		 jne	 SHORT $LN5@UseSkill@2
$LN14@UseSkill@2:
  000a3	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  000a6	83 f8 3a	 cmp	 eax, 58			; 0000003aH
  000a9	74 31		 je	 SHORT $LN5@UseSkill@2

; 859  : 	{
; 860  : 		this->RunningSkill(aIndex,aTargetIndex,lpMagic,bCombo);

  000ab	51		 push	 ecx
  000ac	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000af	57		 push	 edi
  000b0	50		 push	 eax
  000b1	53		 push	 ebx
  000b2	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill

; 861  : 		lpObj->UseMagicNumber = lpMagic->m_Skill;

  000b7	8a 4f 08	 mov	 cl, BYTE PTR [edi+8]
  000ba	88 8e cd 04 00
	00		 mov	 BYTE PTR [esi+1229], cl

; 862  : 		lpObj->UseMagicTime = GetTickCount();

  000c0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  000c6	5f		 pop	 edi
  000c7	89 86 d0 04 00
	00		 mov	 DWORD PTR [esi+1232], eax

; 863  : 		lpObj->UseMagicCount = 0;

  000cd	c6 86 d4 04 00
	00 00		 mov	 BYTE PTR [esi+1236], 0
  000d4	5e		 pop	 esi
  000d5	5b		 pop	 ebx

; 899  : 			}
; 900  : 		}
; 901  : 	}
; 902  : }

  000d6	8b e5		 mov	 esp, ebp
  000d8	5d		 pop	 ebp
  000d9	c2 0c 00	 ret	 12			; 0000000cH
$LN5@UseSkill@2:

; 864  : 		return;
; 865  : 	}
; 866  : 
; 867  : 	int usemana = this->GetUseMana(aIndex,lpMagic);

  000dc	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000df	57		 push	 edi
  000e0	53		 push	 ebx
  000e1	e8 00 00 00 00	 call	 ?GetUseMana@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::GetUseMana
  000e6	89 45 10	 mov	 DWORD PTR _usemana$[ebp], eax

; 868  : 
; 869  : #ifdef DEBUG_CODE
; 870  : 	LogAddC(4,"usemana: %d ",usemana);
; 871  : #endif
; 872  : 
; 873  : 	if(usemana >= 0)

  000e9	85 c0		 test	 eax, eax
  000eb	0f 88 b5 00 00
	00		 js	 $LN1@UseSkill@2

; 874  : 	{
; 875  : 		if(!gObj[aIndex].SkillDelay.Check(lpMagic->m_Skill))

  000f1	0f b6 57 08	 movzx	 edx, BYTE PTR [edi+8]
  000f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000fa	8b 4d f8	 mov	 ecx, DWORD PTR tv224[ebp]
  000fd	52		 push	 edx
  000fe	8d 8c 01 7c 12
	00 00		 lea	 ecx, DWORD PTR [ecx+eax+4732]
  00105	e8 00 00 00 00	 call	 ?Check@CSkillDelay@@QAEHE@Z ; CSkillDelay::Check
  0010a	85 c0		 test	 eax, eax
  0010c	75 25		 jne	 SHORT $LN3@UseSkill@2

; 876  : 		{
; 877  : 			LogAddTD("[%]   ",gObj[aIndex].AccountID); //HermeX Fix

  0010e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00114	8b 45 f8	 mov	 eax, DWORD PTR tv224[ebp]
  00117	8d 4c 10 6c	 lea	 ecx, DWORD PTR [eax+edx+108]
  0011b	51		 push	 ecx
  0011c	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@CPAKELEB@?$FL?$CF?$FN?5?$LN?$LK?E?$LD?5?$LF?t?$LH?$LJ?$MA?L?$LN?C?$LA?$KD?5?$LP?$MA?$LJ?v?$AA@
  00121	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00127	83 c4 08	 add	 esp, 8
  0012a	5f		 pop	 edi
  0012b	5e		 pop	 esi
  0012c	5b		 pop	 ebx

; 899  : 			}
; 900  : 		}
; 901  : 	}
; 902  : }

  0012d	8b e5		 mov	 esp, ebp
  0012f	5d		 pop	 ebp
  00130	c2 0c 00	 ret	 12			; 0000000cH
$LN3@UseSkill@2:

; 878  : 			return;
; 879  : 		}
; 880  : 
; 881  : 		int usebp = this->GetUseBP(aIndex,lpMagic);

  00133	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00136	57		 push	 edi
  00137	53		 push	 ebx
  00138	e8 00 00 00 00	 call	 ?GetUseBP@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::GetUseBP
  0013d	89 45 f8	 mov	 DWORD PTR _usebp$222147[ebp], eax

; 882  : 
; 883  : 		if(usebp >= 0)

  00140	85 c0		 test	 eax, eax
  00142	78 62		 js	 SHORT $LN1@UseSkill@2

; 884  : 		{
; 885  : 			if(this->RunningSkill(aIndex,aTargetIndex,lpMagic,bCombo)==1)

  00144	8b 55 08	 mov	 edx, DWORD PTR _bCombo$[ebp]
  00147	8b 45 0c	 mov	 eax, DWORD PTR _aTargetIndex$[ebp]
  0014a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0014d	52		 push	 edx
  0014e	57		 push	 edi
  0014f	50		 push	 eax
  00150	53		 push	 ebx
  00151	e8 00 00 00 00	 call	 ?RunningSkill@CObjUseSkill@@QAEHHHPAVCMagicInf@@H@Z ; CObjUseSkill::RunningSkill
  00156	83 f8 01	 cmp	 eax, 1
  00159	75 4b		 jne	 SHORT $LN1@UseSkill@2

; 886  : 			{
; 887  : 				lpObj->UseMagicNumber = lpMagic->m_Skill;

  0015b	8a 4f 08	 mov	 cl, BYTE PTR [edi+8]
  0015e	88 8e cd 04 00
	00		 mov	 BYTE PTR [esi+1229], cl

; 888  : 				lpObj->UseMagicTime = GetTickCount();

  00164	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 889  : 				lpObj->UseMagicCount = 0;
; 890  : 
; 891  : 				lpObj->Mana = (float)usemana;

  0016a	db 45 10	 fild	 DWORD PTR _usemana$[ebp]
  0016d	89 86 d0 04 00
	00		 mov	 DWORD PTR [esi+1232], eax

; 892  : 				lpObj->BP = usebp;

  00173	8b 45 f8	 mov	 eax, DWORD PTR _usebp$222147[ebp]

; 893  : 
; 894  : #ifdef DEBUG_CODE
; 895  : 				LogAddC(2,"lpObj->Mana: %d",lpObj->Mana);
; 896  : #endif
; 897  : 
; 898  : 				GCManaSend(aIndex,lpObj->Mana,0xFF,0,lpObj->BP);

  00176	50		 push	 eax
  00177	d9 5d 0c	 fstp	 DWORD PTR tv258[ebp]
  0017a	d9 45 0c	 fld	 DWORD PTR tv258[ebp]
  0017d	6a 00		 push	 0
  0017f	68 ff 00 00 00	 push	 255			; 000000ffH
  00184	d9 96 10 01 00
	00		 fst	 DWORD PTR [esi+272]
  0018a	c6 86 d4 04 00
	00 00		 mov	 BYTE PTR [esi+1236], 0
  00191	89 86 28 01 00
	00		 mov	 DWORD PTR [esi+296], eax
  00197	e8 00 00 00 00	 call	 __ftol2_sse
  0019c	50		 push	 eax
  0019d	53		 push	 ebx
  0019e	e8 00 00 00 00	 call	 ?GCManaSend@@YAXHHEEH@Z	; GCManaSend
  001a3	83 c4 14	 add	 esp, 20			; 00000014H
$LN1@UseSkill@2:
  001a6	5f		 pop	 edi
  001a7	5e		 pop	 esi
  001a8	5b		 pop	 ebx

; 899  : 			}
; 900  : 		}
; 901  : 	}
; 902  : }

  001a9	8b e5		 mov	 esp, ebp
  001ab	5d		 pop	 ebp
  001ac	c2 0c 00	 ret	 12			; 0000000cH
?UseSkill@CObjUseSkill@@QAEXHHPAVCMagicInf@@@Z ENDP	; CObjUseSkill::UseSkill
_TEXT	ENDS
EXTRN	_atexit:PROC
; Function compile flags: /Ogtp
;	COMDAT ??__EgObjUseSkill@@YAXXZ
text$yc	SEGMENT
??__EgObjUseSkill@@YAXXZ PROC				; `dynamic initializer for 'gObjUseSkill'', COMDAT

; 33   : CObjUseSkill gObjUseSkill;

  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  00005	e8 00 00 00 00	 call	 ??0CObjUseSkill@@QAE@XZ	; CObjUseSkill::CObjUseSkill
  0000a	68 00 00 00 00	 push	 OFFSET ??__FgObjUseSkill@@YAXXZ ; `dynamic atexit destructor for 'gObjUseSkill''
  0000f	e8 00 00 00 00	 call	 _atexit
  00014	59		 pop	 ecx
  00015	c3		 ret	 0
??__EgObjUseSkill@@YAXXZ ENDP				; `dynamic initializer for 'gObjUseSkill''
; Function compile flags: /Ogtp
text$yc	ENDS
;	COMDAT ??__FgObjUseSkill@@YAXXZ
text$yd	SEGMENT
??__FgObjUseSkill@@YAXXZ PROC				; `dynamic atexit destructor for 'gObjUseSkill'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  00005	e9 00 00 00 00	 jmp	 ??1CObjUseSkill@@UAE@XZ	; CObjUseSkill::~CObjUseSkill
??__FgObjUseSkill@@YAXXZ ENDP				; `dynamic atexit destructor for 'gObjUseSkill''
text$yd	ENDS
PUBLIC	?gObjUseSkill@@3VCObjUseSkill@@A		; gObjUseSkill
_BSS	SEGMENT
?gObjUseSkill@@3VCObjUseSkill@@A DD 01H DUP (?)		; gObjUseSkill
_BSS	ENDS
CRT$XCU	SEGMENT
_gObjUseSkill$initializer$ DD FLAT:??__EgObjUseSkill@@YAXXZ
CRT$XCU	ENDS
END
