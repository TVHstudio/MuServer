; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	E:\work\tranet_version\GS\GameServer\WinConsole.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A	; WinConCritical
PUBLIC	?lpfnInputEdit@@3P6GJPAUHWND__@@IIJ@ZA		; lpfnInputEdit
PUBLIC	?g_Console@@3PAVCWinConsole@@A			; g_Console
PUBLIC	?g_DbgFp@CWinConsole@@0PAU_iobuf@@A		; CWinConsole::g_DbgFp
PUBLIC	?m_cline@CWinConsole@@0HA			; CWinConsole::m_cline
PUBLIC	?LogTextViewType@CWinConsole@@0PAEA		; CWinConsole::LogTextViewType
PUBLIC	?LogTextLength@CWinConsole@@0PAFA		; CWinConsole::LogTextLength
PUBLIC	?LogText@CWinConsole@@0PAY0FA@DA		; CWinConsole::LogText
PUBLIC	?m_CommandBuffer@CWinConsole@@0PADA		; CWinConsole::m_CommandBuffer
PUBLIC	?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA	; CWinConsole::m_pszBackUpString
PUBLIC	?m_iBackUpLineNo@CWinConsole@@0HA		; CWinConsole::m_iBackUpLineNo
PUBLIC	?m_iCurrentBackUpLineNo@CWinConsole@@0HA	; CWinConsole::m_iCurrentBackUpLineNo
PUBLIC	?m_MaxTextWidth@CWinConsole@@0HA		; CWinConsole::m_MaxTextWidth
PUBLIC	?m_bWinIsActive@CWinConsole@@0_NC		; CWinConsole::m_bWinIsActive
PUBLIC	?m_hWnd@CWinConsole@@0RAUHWND__@@A		; CWinConsole::m_hWnd
PUBLIC	?m_hListBox@CWinConsole@@0RAUHWND__@@A		; CWinConsole::m_hListBox
PUBLIC	?m_hEditControl@CWinConsole@@0RAUHWND__@@A	; CWinConsole::m_hEditControl
PUBLIC	?LogMYear@CWinConsole@@0HA			; CWinConsole::LogMYear
PUBLIC	?LogMonth@CWinConsole@@0HA			; CWinConsole::LogMonth
PUBLIC	?LogMDay@CWinConsole@@0HA			; CWinConsole::LogMDay
_BSS	SEGMENT
?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A DB 018H DUP (?) ; WinConCritical
?lpfnInputEdit@@3P6GJPAUHWND__@@IIJ@ZA DD 01H DUP (?)	; lpfnInputEdit
?g_Console@@3PAVCWinConsole@@A DD 01H DUP (?)		; g_Console
?g_DbgFp@CWinConsole@@0PAU_iobuf@@A DD 01H DUP (?)	; CWinConsole::g_DbgFp
?m_cline@CWinConsole@@0HA DD 01H DUP (?)		; CWinConsole::m_cline
?LogTextViewType@CWinConsole@@0PAEA DB 014H DUP (?)	; CWinConsole::LogTextViewType
?LogTextLength@CWinConsole@@0PAFA DW 014H DUP (?)	; CWinConsole::LogTextLength
?LogText@CWinConsole@@0PAY0FA@DA DB 0640H DUP (?)	; CWinConsole::LogText
?m_CommandBuffer@CWinConsole@@0PADA DB 0400H DUP (?)	; CWinConsole::m_CommandBuffer
?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA DB 02800H DUP (?) ; CWinConsole::m_pszBackUpString
?m_iBackUpLineNo@CWinConsole@@0HA DD 01H DUP (?)	; CWinConsole::m_iBackUpLineNo
?m_iCurrentBackUpLineNo@CWinConsole@@0HA DD 01H DUP (?)	; CWinConsole::m_iCurrentBackUpLineNo
?m_MaxTextWidth@CWinConsole@@0HA DD 01H DUP (?)		; CWinConsole::m_MaxTextWidth
?m_bWinIsActive@CWinConsole@@0_NC DB 01H DUP (?)	; CWinConsole::m_bWinIsActive
	ALIGN	4

?m_hWnd@CWinConsole@@0RAUHWND__@@A DD 01H DUP (?)	; CWinConsole::m_hWnd
?m_hListBox@CWinConsole@@0RAUHWND__@@A DD 01H DUP (?)	; CWinConsole::m_hListBox
?m_hEditControl@CWinConsole@@0RAUHWND__@@A DD 01H DUP (?) ; CWinConsole::m_hEditControl
?LogMYear@CWinConsole@@0HA DD 01H DUP (?)		; CWinConsole::LogMYear
?LogMonth@CWinConsole@@0HA DD 01H DUP (?)		; CWinConsole::LogMonth
?LogMDay@CWinConsole@@0HA DD 01H DUP (?)		; CWinConsole::LogMDay
_BSS	ENDS
PUBLIC	?PrintDbgFile@CWinConsole@@SAXPBD@Z		; CWinConsole::PrintDbgFile
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\winconsole.cpp
;	COMDAT ?PrintDbgFile@CWinConsole@@SAXPBD@Z
_TEXT	SEGMENT
_szBuf$ = 8						; size = 4
?PrintDbgFile@CWinConsole@@SAXPBD@Z PROC		; CWinConsole::PrintDbgFile, COMDAT

; 182  : 	// nothing found
; 183  : }

  00000	c3		 ret	 0
?PrintDbgFile@CWinConsole@@SAXPBD@Z ENDP		; CWinConsole::PrintDbgFile
; Function compile flags: /Ogtp
_TEXT	ENDS
;	COMDAT ?Debug_Print@@YAHPAUlua_State@@@Z
_TEXT	SEGMENT
_L$ = 8							; size = 4
?Debug_Print@@YAHPAUlua_State@@@Z PROC			; Debug_Print, COMDAT

; 204  : #ifdef _DEBUG
; 205  : 	// here must be some code
; 206  : 	// no code in executable, since it was build without _DEBUG
; 207  : #endif
; 208  : 
; 209  : 	return 0;

  00000	33 c0		 xor	 eax, eax

; 210  : }

  00002	c3		 ret	 0
?Debug_Print@@YAHPAUlua_State@@@Z ENDP			; Debug_Print
_TEXT	ENDS
PUBLIC	?StopConsole@CWinConsole@@SAXXZ			; CWinConsole::StopConsole
EXTRN	__imp__DeleteCriticalSection@4:PROC
EXTRN	_fclose:PROC
EXTRN	__imp__DestroyWindow@4:PROC
; Function compile flags: /Ogtp
;	COMDAT ?StopConsole@CWinConsole@@SAXXZ
_TEXT	SEGMENT
?StopConsole@CWinConsole@@SAXXZ PROC			; CWinConsole::StopConsole, COMDAT

; 267  : 	if ( g_Console )

  00000	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00006	85 c9		 test	 ecx, ecx
  00008	74 12		 je	 SHORT $LN3@StopConsol

; 268  : 	{
; 269  : 		delete g_Console;

  0000a	8b 01		 mov	 eax, DWORD PTR [ecx]
  0000c	8b 10		 mov	 edx, DWORD PTR [eax]
  0000e	6a 01		 push	 1
  00010	ff d2		 call	 edx

; 270  : 		g_Console = NULL;

  00012	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?g_Console@@3PAVCWinConsole@@A, 0 ; g_Console
$LN3@StopConsol:

; 271  : 	}
; 272  : 
; 273  : 	if ( CWinConsole::m_hWnd )

  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00021	85 c0		 test	 eax, eax
  00023	74 0d		 je	 SHORT $LN2@StopConsol

; 274  : 		DestroyWindow(CWinConsole::m_hWnd);

  00025	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0002b	51		 push	 ecx
  0002c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DestroyWindow@4
$LN2@StopConsol:

; 275  : 
; 276  : 	if ( CWinConsole::g_DbgFp )

  00032	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A ; CWinConsole::g_DbgFp
  00037	85 c0		 test	 eax, eax
  00039	74 13		 je	 SHORT $LN1@StopConsol

; 277  : 	{
; 278  : 		fclose(CWinConsole::g_DbgFp);

  0003b	50		 push	 eax
  0003c	e8 00 00 00 00	 call	 _fclose
  00041	83 c4 04	 add	 esp, 4

; 279  : 		CWinConsole::g_DbgFp = NULL;

  00044	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A, 0 ; CWinConsole::g_DbgFp
$LN1@StopConsol:

; 280  : 	}
; 281  : 
; 282  : 	DeleteCriticalSection(&WinConCritical);

  0004e	68 00 00 00 00	 push	 OFFSET ?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A ; WinConCritical
  00053	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4

; 283  : 
; 284  : }

  00059	c3		 ret	 0
?StopConsole@CWinConsole@@SAXXZ ENDP			; CWinConsole::StopConsole
_TEXT	ENDS
PUBLIC	??_7CWinConsole@@6B@				; CWinConsole::`vftable'
PUBLIC	??0CWinConsole@@AAE@XZ				; CWinConsole::CWinConsole
PUBLIC	??_R4CWinConsole@@6B@				; CWinConsole::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCWinConsole@@@8				; CWinConsole `RTTI Type Descriptor'
PUBLIC	??_R3CWinConsole@@8				; CWinConsole::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CWinConsole@@8				; CWinConsole::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CWinConsole@@8			; CWinConsole::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	_memset:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECWinConsole@@EAEPAXI@Z:PROC			; CWinConsole::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CWinConsole@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CWinConsole@@8 DD FLAT:??_R0?AVCWinConsole@@@8 ; CWinConsole::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CWinConsole@@8
rdata$r	ENDS
;	COMDAT ??_R2CWinConsole@@8
rdata$r	SEGMENT
??_R2CWinConsole@@8 DD FLAT:??_R1A@?0A@EA@CWinConsole@@8 ; CWinConsole::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CWinConsole@@8
rdata$r	SEGMENT
??_R3CWinConsole@@8 DD 00H				; CWinConsole::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CWinConsole@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCWinConsole@@@8
_DATA	SEGMENT
??_R0?AVCWinConsole@@@8 DD FLAT:??_7type_info@@6B@	; CWinConsole `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCWinConsole@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CWinConsole@@6B@
rdata$r	SEGMENT
??_R4CWinConsole@@6B@ DD 00H				; CWinConsole::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCWinConsole@@@8
	DD	FLAT:??_R3CWinConsole@@8
rdata$r	ENDS
;	COMDAT ??_7CWinConsole@@6B@
CONST	SEGMENT
??_7CWinConsole@@6B@ DD FLAT:??_R4CWinConsole@@6B@	; CWinConsole::`vftable'
	DD	FLAT:??_ECWinConsole@@EAEPAXI@Z
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ??0CWinConsole@@AAE@XZ
_TEXT	SEGMENT
??0CWinConsole@@AAE@XZ PROC				; CWinConsole::CWinConsole, COMDAT
; _this$ = ecx

; 287  : {

  00000	56		 push	 esi
  00001	57		 push	 edi

; 288  : 	CWinConsole::m_hWnd = NULL;

  00002	33 ff		 xor	 edi, edi
  00004	8b f1		 mov	 esi, ecx

; 289  : 	m_pScriptContext = NULL;
; 290  : 
; 291  : 	memset(CWinConsole::m_CommandBuffer, 0, sizeof(CWinConsole::m_CommandBuffer));

  00006	68 00 04 00 00	 push	 1024			; 00000400H
  0000b	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CWinConsole@@6B@
  00011	57		 push	 edi
  00012	89 3d 00 00 00
	00		 mov	 DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A, edi ; CWinConsole::m_hWnd
  00018	68 00 00 00 00	 push	 OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  0001d	89 7e 14	 mov	 DWORD PTR [esi+20], edi
  00020	e8 00 00 00 00	 call	 _memset

; 292  : 	memset(CWinConsole::m_pszBackUpString, 0, sizeof(CWinConsole::m_pszBackUpString));

  00025	68 00 28 00 00	 push	 10240			; 00002800H
  0002a	57		 push	 edi
  0002b	68 00 00 00 00	 push	 OFFSET ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA ; CWinConsole::m_pszBackUpString
  00030	e8 00 00 00 00	 call	 _memset

; 293  : 
; 294  : 	CWinConsole::m_iBackUpLineNo = 0;

  00035	89 3d 00 00 00
	00		 mov	 DWORD PTR ?m_iBackUpLineNo@CWinConsole@@0HA, edi ; CWinConsole::m_iBackUpLineNo

; 295  : 	CWinConsole::m_iCurrentBackUpLineNo = 0;

  0003b	89 3d 00 00 00
	00		 mov	 DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA, edi ; CWinConsole::m_iCurrentBackUpLineNo

; 296  : 
; 297  : 	m_dwWinConsoleOpt = 1;
; 298  : 	m_hMainMenu = 0;

  00041	89 7e 08	 mov	 DWORD PTR [esi+8], edi

; 299  : 	m_hSubMenu = 0;

  00044	89 7e 0c	 mov	 DWORD PTR [esi+12], edi
  00047	83 c4 18	 add	 esp, 24			; 00000018H
  0004a	c7 46 10 01 00
	00 00		 mov	 DWORD PTR [esi+16], 1

; 300  : 
; 301  : 	CWinConsole::m_cline = 0;

  00051	89 3d 00 00 00
	00		 mov	 DWORD PTR ?m_cline@CWinConsole@@0HA, edi ; CWinConsole::m_cline
  00057	5f		 pop	 edi

; 302  : }

  00058	8b c6		 mov	 eax, esi
  0005a	5e		 pop	 esi
  0005b	c3		 ret	 0
??0CWinConsole@@AAE@XZ ENDP				; CWinConsole::CWinConsole
_TEXT	ENDS
PUBLIC	??1CWinConsole@@EAE@XZ				; CWinConsole::~CWinConsole
; Function compile flags: /Ogtp
;	COMDAT ??1CWinConsole@@EAE@XZ
_TEXT	SEGMENT
??1CWinConsole@@EAE@XZ PROC				; CWinConsole::~CWinConsole, COMDAT
; _this$ = ecx

; 306  : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CWinConsole@@6B@

; 307  : 	if ( CWinConsole::m_hWnd )

  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0000b	85 c0		 test	 eax, eax
  0000d	74 0d		 je	 SHORT $LN2@CWinConsol

; 308  : 		DestroyWindow(CWinConsole::m_hWnd);

  0000f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00015	51		 push	 ecx
  00016	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DestroyWindow@4
$LN2@CWinConsol:

; 309  : 
; 310  : 	if ( CWinConsole::g_DbgFp )

  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A ; CWinConsole::g_DbgFp
  00021	85 c0		 test	 eax, eax
  00023	74 13		 je	 SHORT $LN1@CWinConsol

; 311  : 	{
; 312  : 		fclose(CWinConsole::g_DbgFp);

  00025	50		 push	 eax
  00026	e8 00 00 00 00	 call	 _fclose
  0002b	83 c4 04	 add	 esp, 4

; 313  : 		CWinConsole::g_DbgFp = NULL;

  0002e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A, 0 ; CWinConsole::g_DbgFp
$LN1@CWinConsol:

; 314  : 	}
; 315  : 
; 316  : 	DeleteCriticalSection(&WinConCritical);

  00038	68 00 00 00 00	 push	 OFFSET ?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A ; WinConCritical
  0003d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4

; 317  : }

  00043	c3		 ret	 0
??1CWinConsole@@EAE@XZ ENDP				; CWinConsole::~CWinConsole
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?ResizeControls@CWinConsole@@AAEXXZ		; CWinConsole::ResizeControls
EXTRN	__imp__InvalidateRect@12:PROC
EXTRN	__imp__SetWindowPos@28:PROC
EXTRN	__imp__GetClientRect@8:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
; Function compile flags: /Ogtp
;	COMDAT ?ResizeControls@CWinConsole@@AAEXXZ
_TEXT	SEGMENT
_Rect$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
?ResizeControls@CWinConsole@@AAEXXZ PROC		; CWinConsole::ResizeControls, COMDAT
; _this$ = ecx

; 321  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 322  : 
; 323  : 	RECT Rect;
; 324  : 
; 325  : 	GetClientRect(CWinConsole::m_hWnd, &Rect);

  00010	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00016	56		 push	 esi
  00017	8d 45 ec	 lea	 eax, DWORD PTR _Rect$[ebp]
  0001a	50		 push	 eax
  0001b	51		 push	 ecx
  0001c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8

; 326  : 
; 327  : 	SetWindowPos(CWinConsole::m_hEditControl, NULL,
; 328  : 		Rect.left + 2, Rect.bottom - 18,
; 329  : 		Rect.right - Rect.left - 4,  16,
; 330  : 		SWP_NOZORDER);

  00022	8b 45 ec	 mov	 eax, DWORD PTR _Rect$[ebp]
  00025	8b 55 f4	 mov	 edx, DWORD PTR _Rect$[ebp+8]
  00028	8b 4d f8	 mov	 ecx, DWORD PTR _Rect$[ebp+12]
  0002b	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR __imp__SetWindowPos@28
  00031	6a 04		 push	 4
  00033	6a 10		 push	 16			; 00000010H
  00035	2b d0		 sub	 edx, eax
  00037	83 ea 04	 sub	 edx, 4
  0003a	52		 push	 edx
  0003b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  00041	83 c1 ee	 add	 ecx, -18		; ffffffeeH
  00044	51		 push	 ecx
  00045	83 c0 02	 add	 eax, 2
  00048	50		 push	 eax
  00049	6a 00		 push	 0
  0004b	52		 push	 edx
  0004c	ff d6		 call	 esi

; 331  : 
; 332  : 	SetWindowPos(CWinConsole::m_hListBox, NULL,
; 333  : 		Rect.left + 2, Rect.top + 2,
; 334  : 		Rect.right - Rect.left - 4, Rect.bottom - Rect.top - 24,
; 335  : 		SWP_NOZORDER);

  0004e	8b 45 f0	 mov	 eax, DWORD PTR _Rect$[ebp+4]
  00051	8b 4d f8	 mov	 ecx, DWORD PTR _Rect$[ebp+12]
  00054	8b 55 f4	 mov	 edx, DWORD PTR _Rect$[ebp+8]
  00057	2b c8		 sub	 ecx, eax
  00059	6a 04		 push	 4
  0005b	83 e9 18	 sub	 ecx, 24			; 00000018H
  0005e	51		 push	 ecx
  0005f	8b 4d ec	 mov	 ecx, DWORD PTR _Rect$[ebp]
  00062	2b d1		 sub	 edx, ecx
  00064	83 ea 04	 sub	 edx, 4
  00067	52		 push	 edx
  00068	83 c0 02	 add	 eax, 2
  0006b	50		 push	 eax
  0006c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  00071	83 c1 02	 add	 ecx, 2
  00074	51		 push	 ecx
  00075	6a 00		 push	 0
  00077	50		 push	 eax
  00078	ff d6		 call	 esi

; 336  : 
; 337  : 	InvalidateRect(CWinConsole::m_hWnd, NULL, TRUE);

  0007a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00080	6a 01		 push	 1
  00082	6a 00		 push	 0
  00084	51		 push	 ecx
  00085	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InvalidateRect@12

; 338  : }

  0008b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0008e	33 cd		 xor	 ecx, ebp
  00090	5e		 pop	 esi
  00091	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00096	8b e5		 mov	 esp, ebp
  00098	5d		 pop	 ebp
  00099	c3		 ret	 0
?ResizeControls@CWinConsole@@AAEXXZ ENDP		; CWinConsole::ResizeControls
_TEXT	ENDS
PUBLIC	?Paint@CWinConsole@@AAEXPAUHDC__@@@Z		; CWinConsole::Paint
; Function compile flags: /Ogtp
;	COMDAT ?Paint@CWinConsole@@AAEXPAUHDC__@@@Z
_TEXT	SEGMENT
_hDC$ = 8						; size = 4
?Paint@CWinConsole@@AAEXPAUHDC__@@@Z PROC		; CWinConsole::Paint, COMDAT
; _this$ = ecx

; 342  : 
; 343  : }

  00000	c2 04 00	 ret	 4
?Paint@CWinConsole@@AAEXPAUHDC__@@@Z ENDP		; CWinConsole::Paint
_TEXT	ENDS
PUBLIC	?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ	; CWinConsole::GetSubMenu
; Function compile flags: /Ogtp
;	COMDAT ?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ
_TEXT	SEGMENT
?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ PROC		; CWinConsole::GetSubMenu, COMDAT
; _this$ = ecx

; 485  : 	return m_hSubMenu;

  00000	8b 41 0c	 mov	 eax, DWORD PTR [ecx+12]

; 486  : }

  00003	c3		 ret	 0
?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ ENDP		; CWinConsole::GetSubMenu
_TEXT	ENDS
PUBLIC	?ClearDbgWnd@CWinConsole@@SAXXZ			; CWinConsole::ClearDbgWnd
EXTRN	__imp__SendMessageTimeoutA@28:PROC
; Function compile flags: /Ogtp
;	COMDAT ?ClearDbgWnd@CWinConsole@@SAXXZ
_TEXT	SEGMENT
_lpdwResult$ = -4					; size = 4
?ClearDbgWnd@CWinConsole@@SAXXZ PROC			; CWinConsole::ClearDbgWnd, COMDAT

; 741  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 742  : 	DWORD lpdwResult;
; 743  : 	int iTimeOut;
; 744  : 
; 745  : 	if ( g_Console && CWinConsole::m_hWnd)

  00004	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_Console@@3PAVCWinConsole@@A, 0 ; g_Console
  0000b	74 6a		 je	 SHORT $LN1@ClearDbgWn
  0000d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00012	85 c0		 test	 eax, eax
  00014	74 61		 je	 SHORT $LN1@ClearDbgWn

; 746  : 	{
; 747  : 		iTimeOut = 1;
; 748  : 		lpdwResult = 0;
; 749  : 
; 750  : 		SendMessageTimeout(CWinConsole::m_hListBox, LB_RESETCONTENT,
; 751  : 				0, 0, SMTO_NORMAL, 1, &lpdwResult);

  00016	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  0001c	56		 push	 esi
  0001d	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR __imp__SendMessageTimeoutA@28
  00023	8d 4d fc	 lea	 ecx, DWORD PTR _lpdwResult$[ebp]
  00026	51		 push	 ecx
  00027	6a 01		 push	 1
  00029	6a 00		 push	 0
  0002b	6a 00		 push	 0
  0002d	6a 00		 push	 0
  0002f	68 84 01 00 00	 push	 388			; 00000184H
  00034	52		 push	 edx
  00035	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _lpdwResult$[ebp], 0
  0003c	ff d6		 call	 esi

; 752  : 
; 753  : 		CWinConsole::m_MaxTextWidth = 320;
; 754  : 
; 755  : 		SendMessageTimeout(CWinConsole::m_hListBox, LB_SETHORIZONTALEXTENT,
; 756  : 				CWinConsole::m_MaxTextWidth + 10, 0, 
; 757  : 				SMTO_NORMAL, iTimeOut, &lpdwResult);

  0003e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  00044	8d 45 fc	 lea	 eax, DWORD PTR _lpdwResult$[ebp]
  00047	50		 push	 eax
  00048	6a 01		 push	 1
  0004a	6a 00		 push	 0
  0004c	6a 00		 push	 0
  0004e	68 4a 01 00 00	 push	 330			; 0000014aH
  00053	68 94 01 00 00	 push	 404			; 00000194H
  00058	51		 push	 ecx
  00059	c7 05 00 00 00
	00 40 01 00 00	 mov	 DWORD PTR ?m_MaxTextWidth@CWinConsole@@0HA, 320 ; CWinConsole::m_MaxTextWidth, 00000140H
  00063	ff d6		 call	 esi

; 758  : 
; 759  : 		InvalidateRect(CWinConsole::m_hWnd, NULL, TRUE);

  00065	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0006b	6a 01		 push	 1
  0006d	6a 00		 push	 0
  0006f	52		 push	 edx
  00070	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InvalidateRect@12
  00076	5e		 pop	 esi
$LN1@ClearDbgWn:

; 760  : 	}
; 761  : }

  00077	8b e5		 mov	 esp, ebp
  00079	5d		 pop	 ebp
  0007a	c3		 ret	 0
?ClearDbgWnd@CWinConsole@@SAXXZ ENDP			; CWinConsole::ClearDbgWnd
_TEXT	ENDS
PUBLIC	?GetHWND@CWinConsole@@QAEPAUHWND__@@XZ		; CWinConsole::GetHWND
; Function compile flags: /Ogtp
;	COMDAT ?GetHWND@CWinConsole@@QAEPAUHWND__@@XZ
_TEXT	SEGMENT
?GetHWND@CWinConsole@@QAEPAUHWND__@@XZ PROC		; CWinConsole::GetHWND, COMDAT
; _this$ = ecx

; 766  : 	return CWinConsole::m_hWnd;

  00000	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd

; 767  : }

  00005	c3		 ret	 0
?GetHWND@CWinConsole@@QAEPAUHWND__@@XZ ENDP		; CWinConsole::GetHWND
_TEXT	ENDS
PUBLIC	?IsWinActive@CWinConsole@@QAE_NXZ		; CWinConsole::IsWinActive
; Function compile flags: /Ogtp
;	COMDAT ?IsWinActive@CWinConsole@@QAE_NXZ
_TEXT	SEGMENT
?IsWinActive@CWinConsole@@QAE_NXZ PROC			; CWinConsole::IsWinActive, COMDAT
; _this$ = ecx

; 771  : 	return CWinConsole::m_bWinIsActive;

  00000	a0 00 00 00 00	 mov	 al, BYTE PTR ?m_bWinIsActive@CWinConsole@@0_NC ; CWinConsole::m_bWinIsActive

; 772  : }

  00005	c3		 ret	 0
?IsWinActive@CWinConsole@@QAE_NXZ ENDP			; CWinConsole::IsWinActive
_TEXT	ENDS
PUBLIC	?HasFocusEditCtrl@CWinConsole@@QAE_NXZ		; CWinConsole::HasFocusEditCtrl
EXTRN	__imp__GetFocus@0:PROC
; Function compile flags: /Ogtp
;	COMDAT ?HasFocusEditCtrl@CWinConsole@@QAE_NXZ
_TEXT	SEGMENT
?HasFocusEditCtrl@CWinConsole@@QAE_NXZ PROC		; CWinConsole::HasFocusEditCtrl, COMDAT
; _this$ = ecx

; 776  : 	if(CWinConsole::m_hEditControl)

  00000	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  00005	85 c0		 test	 eax, eax
  00007	74 14		 je	 SHORT $LN1@HasFocusEd

; 777  : 		return (CWinConsole::m_hEditControl == GetFocus());

  00009	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetFocus@0
  0000f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  00015	33 d2		 xor	 edx, edx
  00017	3b c8		 cmp	 ecx, eax
  00019	0f 94 c0	 sete	 al

; 780  : }

  0001c	c3		 ret	 0
$LN1@HasFocusEd:

; 778  : 
; 779  : 	return false;

  0001d	32 c0		 xor	 al, al

; 780  : }

  0001f	c3		 ret	 0
?HasFocusEditCtrl@CWinConsole@@QAE_NXZ ENDP		; CWinConsole::HasFocusEditCtrl
_TEXT	ENDS
PUBLIC	?ChangeFromStringToBackUp@CWinConsole@@CAXH@Z	; CWinConsole::ChangeFromStringToBackUp
; Function compile flags: /Ogtp
;	COMDAT ?ChangeFromStringToBackUp@CWinConsole@@CAXH@Z
_TEXT	SEGMENT
_bSetNext$ = 8						; size = 4
?ChangeFromStringToBackUp@CWinConsole@@CAXH@Z PROC	; CWinConsole::ChangeFromStringToBackUp, COMDAT

; 783  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 784  : 	strcpy(CWinConsole::m_pszBackUpString[CWinConsole::m_iBackUpLineNo], 
; 785  : 				CWinConsole::m_CommandBuffer);

  00004	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?m_iBackUpLineNo@CWinConsole@@0HA ; CWinConsole::m_iBackUpLineNo
  0000a	8b ce		 mov	 ecx, esi
  0000c	c1 e1 0a	 shl	 ecx, 10			; 0000000aH
  0000f	b8 00 00 00 00	 mov	 eax, OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  00014	8d 91 00 00 00
	00		 lea	 edx, DWORD PTR ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA[ecx]
  0001a	2b d0		 sub	 edx, eax
  0001c	8d 64 24 00	 npad	 4
$LL7@ChangeFrom:
  00020	8a 08		 mov	 cl, BYTE PTR [eax]
  00022	88 0c 02	 mov	 BYTE PTR [edx+eax], cl
  00025	40		 inc	 eax
  00026	84 c9		 test	 cl, cl
  00028	75 f6		 jne	 SHORT $LL7@ChangeFrom

; 786  : 
; 787  : 	if ( bSetNext )

  0002a	83 7d 08 00	 cmp	 DWORD PTR _bSetNext$[ebp], 0
  0002e	74 1b		 je	 SHORT $LN4@ChangeFrom

; 788  : 	{
; 789  : 		++CWinConsole::m_iBackUpLineNo;

  00030	46		 inc	 esi
  00031	89 35 00 00 00
	00		 mov	 DWORD PTR ?m_iBackUpLineNo@CWinConsole@@0HA, esi ; CWinConsole::m_iBackUpLineNo

; 790  : 		if ( CWinConsole::m_iBackUpLineNo >= WINCONSOLE_LINE_COUNT )

  00037	83 fe 0a	 cmp	 esi, 10			; 0000000aH
  0003a	7c 2a		 jl	 SHORT $LN10@ChangeFrom

; 791  : 			CWinConsole::m_iBackUpLineNo = 0;

  0003c	33 c0		 xor	 eax, eax
  0003e	a3 00 00 00 00	 mov	 DWORD PTR ?m_iBackUpLineNo@CWinConsole@@0HA, eax ; CWinConsole::m_iBackUpLineNo

; 798  : 	}
; 799  : 
; 800  : 	CWinConsole::m_iCurrentBackUpLineNo = CWinConsole::m_iBackUpLineNo;

  00043	a3 00 00 00 00	 mov	 DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA, eax ; CWinConsole::m_iCurrentBackUpLineNo
  00048	5e		 pop	 esi

; 801  : }

  00049	5d		 pop	 ebp
  0004a	c3		 ret	 0
$LN4@ChangeFrom:

; 792  : 	}
; 793  : 	else
; 794  : 	{
; 795  : 		--CWinConsole::m_iBackUpLineNo;

  0004b	4e		 dec	 esi
  0004c	89 35 00 00 00
	00		 mov	 DWORD PTR ?m_iBackUpLineNo@CWinConsole@@0HA, esi ; CWinConsole::m_iBackUpLineNo

; 796  : 		if ( CWinConsole::m_iBackUpLineNo < 0 )

  00052	79 12		 jns	 SHORT $LN10@ChangeFrom

; 797  : 			CWinConsole::m_iBackUpLineNo = WINCONSOLE_LINE_COUNT-1;

  00054	b8 09 00 00 00	 mov	 eax, 9
  00059	a3 00 00 00 00	 mov	 DWORD PTR ?m_iBackUpLineNo@CWinConsole@@0HA, eax ; CWinConsole::m_iBackUpLineNo

; 798  : 	}
; 799  : 
; 800  : 	CWinConsole::m_iCurrentBackUpLineNo = CWinConsole::m_iBackUpLineNo;

  0005e	a3 00 00 00 00	 mov	 DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA, eax ; CWinConsole::m_iCurrentBackUpLineNo
  00063	5e		 pop	 esi

; 801  : }

  00064	5d		 pop	 ebp
  00065	c3		 ret	 0
$LN10@ChangeFrom:

; 798  : 	}
; 799  : 
; 800  : 	CWinConsole::m_iCurrentBackUpLineNo = CWinConsole::m_iBackUpLineNo;

  00066	89 35 00 00 00
	00		 mov	 DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA, esi ; CWinConsole::m_iCurrentBackUpLineNo
  0006c	5e		 pop	 esi

; 801  : }

  0006d	5d		 pop	 ebp
  0006e	c3		 ret	 0
?ChangeFromStringToBackUp@CWinConsole@@CAXH@Z ENDP	; CWinConsole::ChangeFromStringToBackUp
_TEXT	ENDS
PUBLIC	?ChangeFromBackUpToString@CWinConsole@@CAXH@Z	; CWinConsole::ChangeFromBackUpToString
EXTRN	__imp__SendMessageA@16:PROC
; Function compile flags: /Ogtp
;	COMDAT ?ChangeFromBackUpToString@CWinConsole@@CAXH@Z
_TEXT	SEGMENT
tv347 = 8						; size = 4
tv329 = 8						; size = 4
tv311 = 8						; size = 4
tv288 = 8						; size = 4
_bGetNext$ = 8						; size = 4
?ChangeFromBackUpToString@CWinConsole@@CAXH@Z PROC	; CWinConsole::ChangeFromBackUpToString, COMDAT

; 804  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 805  : 	BOOL bExist = FALSE;
; 806  : 	if ( bGetNext )

  00003	83 7d 08 00	 cmp	 DWORD PTR _bGetNext$[ebp], 0
  00007	53		 push	 ebx

; 807  : 	{
; 808  : 		if ( CWinConsole::m_iCurrentBackUpLineNo < WINCONSOLE_LINE_COUNT-1 )

  00008	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA ; CWinConsole::m_iCurrentBackUpLineNo
  0000e	56		 push	 esi
  0000f	57		 push	 edi
  00010	0f 84 7e 00 00
	00		 je	 $LN25@ChangeFrom@2
  00016	83 fb 09	 cmp	 ebx, 9
  00019	7d 03		 jge	 SHORT $LN24@ChangeFrom@2

; 809  : 			++CWinConsole::m_iCurrentBackUpLineNo;

  0001b	43		 inc	 ebx

; 810  : 		else

  0001c	eb 02		 jmp	 SHORT $LN48@ChangeFrom@2
$LN24@ChangeFrom@2:

; 811  : 			CWinConsole::m_iCurrentBackUpLineNo = 0;

  0001e	33 db		 xor	 ebx, ebx
$LN48@ChangeFrom@2:

; 812  : 
; 813  : 		for (int i = CWinConsole::m_iCurrentBackUpLineNo; i < WINCONSOLE_LINE_COUNT; ++i )

  00020	8b f3		 mov	 esi, ebx
  00022	89 1d 00 00 00
	00		 mov	 DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA, ebx ; CWinConsole::m_iCurrentBackUpLineNo
  00028	83 fe 0a	 cmp	 esi, 10			; 0000000aH
  0002b	7d 31		 jge	 SHORT $LN47@ChangeFrom@2
  0002d	8b ce		 mov	 ecx, esi
  0002f	c1 e1 0a	 shl	 ecx, 10			; 0000000aH
  00032	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA ; CWinConsole::m_pszBackUpString
$LL22@ChangeFrom@2:

; 814  : 		{
; 815  : 			if ( strlen(CWinConsole::m_pszBackUpString[i]) )

  00038	8b c1		 mov	 eax, ecx
  0003a	8d 78 01	 lea	 edi, DWORD PTR [eax+1]
  0003d	8d 49 00	 npad	 3
$LL43@ChangeFrom@2:
  00040	8a 10		 mov	 dl, BYTE PTR [eax]
  00042	40		 inc	 eax
  00043	84 d2		 test	 dl, dl
  00045	75 f9		 jne	 SHORT $LL43@ChangeFrom@2
  00047	2b c7		 sub	 eax, edi
  00049	0f 85 b3 00 00
	00		 jne	 $LN35@ChangeFrom@2

; 812  : 
; 813  : 		for (int i = CWinConsole::m_iCurrentBackUpLineNo; i < WINCONSOLE_LINE_COUNT; ++i )

  0004f	81 c1 00 04 00
	00		 add	 ecx, 1024		; 00000400H
  00055	46		 inc	 esi
  00056	81 f9 00 28 00
	00		 cmp	 ecx, OFFSET ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA+10240
  0005c	7c da		 jl	 SHORT $LL22@ChangeFrom@2
$LN47@ChangeFrom@2:

; 816  : 			{
; 817  : 				CWinConsole::m_iCurrentBackUpLineNo = i;
; 818  : 				bExist = TRUE;
; 819  : 				break;
; 820  : 			}
; 821  : 		}
; 822  : 
; 823  : 		if ( !bExist )
; 824  : 		{
; 825  : 			for (int i = 0; i < CWinConsole::m_iCurrentBackUpLineNo; ++i )

  0005e	33 f6		 xor	 esi, esi
  00060	85 db		 test	 ebx, ebx
  00062	0f 8e ce 00 00
	00		 jle	 $LN1@ChangeFrom@2
  00068	ba 00 00 00 00	 mov	 edx, OFFSET ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA ; CWinConsole::m_pszBackUpString
  0006d	8d 49 00	 npad	 3
$LL17@ChangeFrom@2:

; 826  : 			{
; 827  : 				if ( strlen(CWinConsole::m_pszBackUpString[i]) )

  00070	8b c2		 mov	 eax, edx
  00072	8d 78 01	 lea	 edi, DWORD PTR [eax+1]
$LL44@ChangeFrom@2:
  00075	8a 08		 mov	 cl, BYTE PTR [eax]
  00077	40		 inc	 eax
  00078	84 c9		 test	 cl, cl
  0007a	75 f9		 jne	 SHORT $LL44@ChangeFrom@2
  0007c	2b c7		 sub	 eax, edi
  0007e	0f 85 7e 00 00
	00		 jne	 $LN35@ChangeFrom@2

; 816  : 			{
; 817  : 				CWinConsole::m_iCurrentBackUpLineNo = i;
; 818  : 				bExist = TRUE;
; 819  : 				break;
; 820  : 			}
; 821  : 		}
; 822  : 
; 823  : 		if ( !bExist )
; 824  : 		{
; 825  : 			for (int i = 0; i < CWinConsole::m_iCurrentBackUpLineNo; ++i )

  00084	46		 inc	 esi
  00085	81 c2 00 04 00
	00		 add	 edx, 1024		; 00000400H
  0008b	3b f3		 cmp	 esi, ebx
  0008d	7c e1		 jl	 SHORT $LL17@ChangeFrom@2
  0008f	5f		 pop	 edi
  00090	5e		 pop	 esi
  00091	5b		 pop	 ebx

; 873  : 	}
; 874  : }

  00092	5d		 pop	 ebp
  00093	c3		 ret	 0
$LN25@ChangeFrom@2:

; 828  : 				{
; 829  : 					CWinConsole::m_iCurrentBackUpLineNo = i;
; 830  : 					bExist = TRUE;
; 831  : 					break;
; 832  : 				}
; 833  : 			}
; 834  : 		}
; 835  : 	}
; 836  : 	else
; 837  : 	{
; 838  : 		if ( CWinConsole::m_iCurrentBackUpLineNo <= 0 )

  00094	85 db		 test	 ebx, ebx
  00096	7f 07		 jg	 SHORT $LN12@ChangeFrom@2

; 839  : 			CWinConsole::m_iCurrentBackUpLineNo = WINCONSOLE_LINE_COUNT-1;

  00098	bb 09 00 00 00	 mov	 ebx, 9

; 840  : 		else

  0009d	eb 01		 jmp	 SHORT $LN50@ChangeFrom@2
$LN12@ChangeFrom@2:

; 841  : 			--CWinConsole::m_iCurrentBackUpLineNo;

  0009f	4b		 dec	 ebx
$LN50@ChangeFrom@2:

; 842  : 
; 843  : 		for ( int i = CWinConsole::m_iCurrentBackUpLineNo; i >= 0; --i )

  000a0	8b f3		 mov	 esi, ebx
  000a2	89 1d 00 00 00
	00		 mov	 DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA, ebx ; CWinConsole::m_iCurrentBackUpLineNo
  000a8	85 f6		 test	 esi, esi
  000aa	78 28		 js	 SHORT $LN42@ChangeFrom@2
  000ac	8b d6		 mov	 edx, esi
  000ae	c1 e2 0a	 shl	 edx, 10			; 0000000aH
  000b1	81 c2 00 00 00
	00		 add	 edx, OFFSET ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA ; CWinConsole::m_pszBackUpString
$LL10@ChangeFrom@2:

; 844  : 		{
; 845  : 			if ( strlen(CWinConsole::m_pszBackUpString[i]) )

  000b7	8b c2		 mov	 eax, edx
  000b9	8d 78 01	 lea	 edi, DWORD PTR [eax+1]
  000bc	8d 64 24 00	 npad	 4
$LL45@ChangeFrom@2:
  000c0	8a 08		 mov	 cl, BYTE PTR [eax]
  000c2	40		 inc	 eax
  000c3	84 c9		 test	 cl, cl
  000c5	75 f9		 jne	 SHORT $LL45@ChangeFrom@2
  000c7	2b c7		 sub	 eax, edi
  000c9	75 37		 jne	 SHORT $LN35@ChangeFrom@2

; 842  : 
; 843  : 		for ( int i = CWinConsole::m_iCurrentBackUpLineNo; i >= 0; --i )

  000cb	81 ea 00 04 00
	00		 sub	 edx, 1024		; 00000400H
  000d1	4e		 dec	 esi
  000d2	79 e3		 jns	 SHORT $LL10@ChangeFrom@2
$LN42@ChangeFrom@2:

; 846  : 			{
; 847  : 				CWinConsole::m_iCurrentBackUpLineNo = i;
; 848  : 				bExist = TRUE;
; 849  : 				break;
; 850  : 			}
; 851  : 		}
; 852  : 
; 853  : 		if ( !bExist )
; 854  : 		{
; 855  : 			for ( int i = WINCONSOLE_LINE_COUNT-1; i > CWinConsole::m_iCurrentBackUpLineNo; --i )

  000d4	be 09 00 00 00	 mov	 esi, 9
  000d9	3b de		 cmp	 ebx, esi
  000db	7d 59		 jge	 SHORT $LN1@ChangeFrom@2
  000dd	ba 00 24 00 00	 mov	 edx, OFFSET ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA+9216
$LL5@ChangeFrom@2:

; 856  : 			{
; 857  : 				if ( strlen(CWinConsole::m_pszBackUpString[i]) )

  000e2	8b c2		 mov	 eax, edx
  000e4	8d 78 01	 lea	 edi, DWORD PTR [eax+1]
$LL46@ChangeFrom@2:
  000e7	8a 08		 mov	 cl, BYTE PTR [eax]
  000e9	40		 inc	 eax
  000ea	84 c9		 test	 cl, cl
  000ec	75 f9		 jne	 SHORT $LL46@ChangeFrom@2
  000ee	2b c7		 sub	 eax, edi
  000f0	75 10		 jne	 SHORT $LN35@ChangeFrom@2

; 846  : 			{
; 847  : 				CWinConsole::m_iCurrentBackUpLineNo = i;
; 848  : 				bExist = TRUE;
; 849  : 				break;
; 850  : 			}
; 851  : 		}
; 852  : 
; 853  : 		if ( !bExist )
; 854  : 		{
; 855  : 			for ( int i = WINCONSOLE_LINE_COUNT-1; i > CWinConsole::m_iCurrentBackUpLineNo; --i )

  000f2	4e		 dec	 esi
  000f3	81 ea 00 04 00
	00		 sub	 edx, 1024		; 00000400H
  000f9	3b f3		 cmp	 esi, ebx
  000fb	7f e5		 jg	 SHORT $LL5@ChangeFrom@2
  000fd	5f		 pop	 edi
  000fe	5e		 pop	 esi
  000ff	5b		 pop	 ebx

; 873  : 	}
; 874  : }

  00100	5d		 pop	 ebp
  00101	c3		 ret	 0
$LN35@ChangeFrom@2:

; 858  : 				{
; 859  : 					CWinConsole::m_iCurrentBackUpLineNo = i;
; 860  : 					bExist = TRUE;
; 861  : 					break;
; 862  : 				}
; 863  : 			}
; 864  : 		}
; 865  : 	}
; 866  : 
; 867  : 	if ( bExist )
; 868  : 	{
; 869  : 		ZeroMemory(CWinConsole::m_CommandBuffer, sizeof(CWinConsole::m_CommandBuffer));

  00102	68 00 04 00 00	 push	 1024			; 00000400H
  00107	6a 00		 push	 0
  00109	68 00 00 00 00	 push	 OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  0010e	89 35 00 00 00
	00		 mov	 DWORD PTR ?m_iCurrentBackUpLineNo@CWinConsole@@0HA, esi ; CWinConsole::m_iCurrentBackUpLineNo
  00114	e8 00 00 00 00	 call	 _memset

; 870  : 		SendMessage(CWinConsole::m_hEditControl,
; 871  : 				WM_SETTEXT, 0,
; 872  : 				(LPARAM)CWinConsole::m_pszBackUpString[CWinConsole::m_iCurrentBackUpLineNo]);

  00119	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  0011e	83 c4 0c	 add	 esp, 12			; 0000000cH
  00121	c1 e6 0a	 shl	 esi, 10			; 0000000aH
  00124	81 c6 00 00 00
	00		 add	 esi, OFFSET ?m_pszBackUpString@CWinConsole@@0PAY0EAA@DA ; CWinConsole::m_pszBackUpString
  0012a	56		 push	 esi
  0012b	6a 00		 push	 0
  0012d	6a 0c		 push	 12			; 0000000cH
  0012f	50		 push	 eax
  00130	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
$LN1@ChangeFrom@2:
  00136	5f		 pop	 edi
  00137	5e		 pop	 esi
  00138	5b		 pop	 ebx

; 873  : 	}
; 874  : }

  00139	5d		 pop	 ebp
  0013a	c3		 ret	 0
?ChangeFromBackUpToString@CWinConsole@@CAXH@Z ENDP	; CWinConsole::ChangeFromBackUpToString
_TEXT	ENDS
PUBLIC	?GetWinConsoleOpt@CWinConsole@@QAEKXZ		; CWinConsole::GetWinConsoleOpt
; Function compile flags: /Ogtp
;	COMDAT ?GetWinConsoleOpt@CWinConsole@@QAEKXZ
_TEXT	SEGMENT
?GetWinConsoleOpt@CWinConsole@@QAEKXZ PROC		; CWinConsole::GetWinConsoleOpt, COMDAT
; _this$ = ecx

; 890  : 	return m_dwWinConsoleOpt;

  00000	8b 41 10	 mov	 eax, DWORD PTR [ecx+16]

; 891  : }

  00003	c3		 ret	 0
?GetWinConsoleOpt@CWinConsole@@QAEKXZ ENDP		; CWinConsole::GetWinConsoleOpt
_TEXT	ENDS
PUBLIC	?AddWinConsoleOption@CWinConsole@@QAEXK@Z	; CWinConsole::AddWinConsoleOption
; Function compile flags: /Ogtp
;	COMDAT ?AddWinConsoleOption@CWinConsole@@QAEXK@Z
_TEXT	SEGMENT
_dwWinConsoleOpt$ = 8					; size = 4
?AddWinConsoleOption@CWinConsole@@QAEXK@Z PROC		; CWinConsole::AddWinConsoleOption, COMDAT
; _this$ = ecx

; 894  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 895  : 	m_dwWinConsoleOpt |= dwWinConsoleOpt;

  00003	8b 45 08	 mov	 eax, DWORD PTR _dwWinConsoleOpt$[ebp]
  00006	09 41 10	 or	 DWORD PTR [ecx+16], eax

; 896  : }

  00009	5d		 pop	 ebp
  0000a	c2 04 00	 ret	 4
?AddWinConsoleOption@CWinConsole@@QAEXK@Z ENDP		; CWinConsole::AddWinConsoleOption
_TEXT	ENDS
PUBLIC	?SubtractWinConsoleOption@CWinConsole@@QAEXK@Z	; CWinConsole::SubtractWinConsoleOption
; Function compile flags: /Ogtp
;	COMDAT ?SubtractWinConsoleOption@CWinConsole@@QAEXK@Z
_TEXT	SEGMENT
_dwWinConsoleOpt$ = 8					; size = 4
?SubtractWinConsoleOption@CWinConsole@@QAEXK@Z PROC	; CWinConsole::SubtractWinConsoleOption, COMDAT
; _this$ = ecx

; 899  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 900  : 	m_dwWinConsoleOpt &= (~dwWinConsoleOpt);

  00003	8b 45 08	 mov	 eax, DWORD PTR _dwWinConsoleOpt$[ebp]
  00006	f7 d0		 not	 eax
  00008	21 41 10	 and	 DWORD PTR [ecx+16], eax

; 901  : }

  0000b	5d		 pop	 ebp
  0000c	c2 04 00	 ret	 4
?SubtractWinConsoleOption@CWinConsole@@QAEXK@Z ENDP	; CWinConsole::SubtractWinConsoleOption
_TEXT	ENDS
EXTRN	__localtime64:PROC
; Function compile flags: /Ogtp
; File d:\program files (x86)\microsoft visual studio 10.0\vc\include\time.inl
;	COMDAT _localtime
_TEXT	SEGMENT
_localtime PROC						; COMDAT
; __Time$ = eax

; 114  : #pragma warning( push )
; 115  : #pragma warning( disable : 4996 )
; 116  :     return _localtime64(_Time);

  00000	50		 push	 eax
  00001	e8 00 00 00 00	 call	 __localtime64
  00006	83 c4 04	 add	 esp, 4

; 117  : #pragma warning( pop )
; 118  : }

  00009	c3		 ret	 0
_localtime ENDP
_TEXT	ENDS
EXTRN	__time64:PROC
; Function compile flags: /Ogtp
;	COMDAT _time
_TEXT	SEGMENT
_time	PROC						; COMDAT
; __Time$ = eax

; 133  :     return _time64(_Time);

  00000	50		 push	 eax
  00001	e8 00 00 00 00	 call	 __time64
  00006	83 c4 04	 add	 esp, 4

; 134  : }

  00009	c3		 ret	 0
_time	ENDP
_TEXT	ENDS
PUBLIC	??_C@_04PHJEIGMI@a?$CLtc?$AA@			; `string'
PUBLIC	??_C@_0BM@NHLKPEBH@log?1?$CF02d?$CF02d?$CF02d_LuaDbg?4log?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?LogDateChange@CWinConsole@@SAHXZ		; CWinConsole::LogDateChange
EXTRN	__imp__LeaveCriticalSection@4:PROC
EXTRN	_fopen:PROC
EXTRN	__imp__wsprintfA:PROC
EXTRN	__imp__EnterCriticalSection@4:PROC
;	COMDAT ??_C@_04PHJEIGMI@a?$CLtc?$AA@
CONST	SEGMENT
??_C@_04PHJEIGMI@a?$CLtc?$AA@ DB 'a+tc', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@NHLKPEBH@log?1?$CF02d?$CF02d?$CF02d_LuaDbg?4log?$AA@
CONST	SEGMENT
??_C@_0BM@NHLKPEBH@log?1?$CF02d?$CF02d?$CF02d_LuaDbg?4log?$AA@ DB 'log/%0'
	DB	'2d%02d%02d_LuaDbg.log', 00H			; `string'
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\winconsole.cpp
CONST	ENDS
;	COMDAT ?LogDateChange@CWinConsole@@SAHXZ
_TEXT	SEGMENT
_ltime$ = -264						; size = 8
_szTemp$ = -256						; size = 250
__$ArrayPad$ = -4					; size = 4
?LogDateChange@CWinConsole@@SAHXZ PROC			; CWinConsole::LogDateChange, COMDAT

; 104  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 105  : 	time_t ltime;
; 106  : 	tm* today;
; 107  : 	char szTemp[250];
; 108  : 
; 109  : 	time(&ltime);

  00013	8d 85 f8 fe ff
	ff		 lea	 eax, DWORD PTR _ltime$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 __time64

; 110  : 	today = localtime(&ltime);

  0001f	8d 8d f8 fe ff
	ff		 lea	 ecx, DWORD PTR _ltime$[ebp]
  00025	51		 push	 ecx
  00026	e8 00 00 00 00	 call	 __localtime64

; 111  : 
; 112  : 	today->tm_year += 1900;

  0002b	81 40 14 6c 07
	00 00		 add	 DWORD PTR [eax+20], 1900 ; 0000076cH
  00032	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]

; 113  : 	++today->tm_mon;

  00035	ff 40 10	 inc	 DWORD PTR [eax+16]
  00038	8b 50 10	 mov	 edx, DWORD PTR [eax+16]
  0003b	83 c4 08	 add	 esp, 8

; 114  : 
; 115  : 	if ( today->tm_year <= CWinConsole::LogMYear
; 116  : 		&& today->tm_mon <= CWinConsole::LogMonth
; 117  : 		&& today->tm_mday <= CWinConsole::LogMDay )

  0003e	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?LogMYear@CWinConsole@@0HA ; CWinConsole::LogMYear
  00044	7f 23		 jg	 SHORT $LN2@LogDateCha
  00046	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?LogMonth@CWinConsole@@0HA ; CWinConsole::LogMonth
  0004c	7f 1b		 jg	 SHORT $LN2@LogDateCha
  0004e	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  00051	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?LogMDay@CWinConsole@@0HA ; CWinConsole::LogMDay
  00057	7f 10		 jg	 SHORT $LN2@LogDateCha

; 118  : 	{
; 119  : 		return FALSE;

  00059	33 c0		 xor	 eax, eax

; 141  :   
; 142  : 	return TRUE;
; 143  : }

  0005b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0005e	33 cd		 xor	 ecx, ebp
  00060	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00065	8b e5		 mov	 esp, ebp
  00067	5d		 pop	 ebp
  00068	c3		 ret	 0
$LN2@LogDateCha:

; 120  : 	}
; 121  : 
; 122  :     CWinConsole::LogMYear = today->tm_year;

  00069	89 0d 00 00 00
	00		 mov	 DWORD PTR ?LogMYear@CWinConsole@@0HA, ecx ; CWinConsole::LogMYear

; 123  :     CWinConsole::LogMonth = today->tm_mon;

  0006f	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00072	89 0d 00 00 00
	00		 mov	 DWORD PTR ?LogMonth@CWinConsole@@0HA, ecx ; CWinConsole::LogMonth

; 124  :     CWinConsole::LogMDay = today->tm_mday;

  00078	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]

; 125  : 
; 126  :     EnterCriticalSection(&WinConCritical);

  0007b	68 00 00 00 00	 push	 OFFSET ?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A ; WinConCritical
  00080	89 15 00 00 00
	00		 mov	 DWORD PTR ?LogMDay@CWinConsole@@0HA, edx ; CWinConsole::LogMDay
  00086	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 127  : 
; 128  :     memset(szTemp, 0, 250);

  0008c	68 fa 00 00 00	 push	 250			; 000000faH
  00091	8d 85 00 ff ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  00097	6a 00		 push	 0
  00099	50		 push	 eax
  0009a	e8 00 00 00 00	 call	 _memset

; 129  : 
; 130  :     wsprintf(szTemp, "log/%02d%02d%02d_LuaDbg.log",
; 131  :       CWinConsole::LogMYear, CWinConsole::LogMonth, CWinConsole::LogMDay);

  0009f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?LogMDay@CWinConsole@@0HA ; CWinConsole::LogMDay
  000a5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?LogMonth@CWinConsole@@0HA ; CWinConsole::LogMonth
  000ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?LogMYear@CWinConsole@@0HA ; CWinConsole::LogMYear
  000b0	51		 push	 ecx
  000b1	52		 push	 edx
  000b2	50		 push	 eax
  000b3	8d 8d 00 ff ff
	ff		 lea	 ecx, DWORD PTR _szTemp$[ebp]
  000b9	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@NHLKPEBH@log?1?$CF02d?$CF02d?$CF02d_LuaDbg?4log?$AA@
  000be	51		 push	 ecx
  000bf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA

; 132  : 
; 133  :     if ( CWinConsole::g_DbgFp )

  000c5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A ; CWinConsole::g_DbgFp
  000ca	83 c4 20	 add	 esp, 32			; 00000020H
  000cd	85 c0		 test	 eax, eax
  000cf	74 13		 je	 SHORT $LN1@LogDateCha

; 134  :     {
; 135  : 		fclose(CWinConsole::g_DbgFp);

  000d1	50		 push	 eax
  000d2	e8 00 00 00 00	 call	 _fclose
  000d7	83 c4 04	 add	 esp, 4

; 136  : 		CWinConsole::g_DbgFp = NULL;

  000da	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A, 0 ; CWinConsole::g_DbgFp
$LN1@LogDateCha:

; 137  :     }
; 138  : 
; 139  :     CWinConsole::g_DbgFp = fopen(szTemp, "a+tc");

  000e4	8d 95 00 ff ff
	ff		 lea	 edx, DWORD PTR _szTemp$[ebp]
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_04PHJEIGMI@a?$CLtc?$AA@
  000ef	52		 push	 edx
  000f0	e8 00 00 00 00	 call	 _fopen
  000f5	83 c4 08	 add	 esp, 8

; 140  :     LeaveCriticalSection(&WinConCritical);

  000f8	68 00 00 00 00	 push	 OFFSET ?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A ; WinConCritical
  000fd	a3 00 00 00 00	 mov	 DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A, eax ; CWinConsole::g_DbgFp
  00102	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4

; 141  :   
; 142  : 	return TRUE;
; 143  : }

  00108	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0010b	33 cd		 xor	 ecx, ebp
  0010d	b8 01 00 00 00	 mov	 eax, 1
  00112	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00117	8b e5		 mov	 esp, ebp
  00119	5d		 pop	 ebp
  0011a	c3		 ret	 0
?LogDateChange@CWinConsole@@SAHXZ ENDP			; CWinConsole::LogDateChange
_TEXT	ENDS
PUBLIC	??_C@_0BM@CBNIBACL@LuaDbgLog?5file?5create?5error?$AA@ ; `string'
PUBLIC	??_C@_0CG@MLENCKHH@LUA_DEBUG_LOG?1?$CF02d?$CF02d?$CF02d_LuaDb@ ; `string'
PUBLIC	??_C@_0BA@GDPOIANK@?4?1LUA_DEBUG_LOG?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?CreateDbgFile@CWinConsole@@SAXXZ		; CWinConsole::CreateDbgFile
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	__imp__CreateDirectoryA@8:PROC
;	COMDAT ??_C@_0BM@CBNIBACL@LuaDbgLog?5file?5create?5error?$AA@
; File d:\program files (x86)\microsoft visual studio 10.0\vc\include\time.inl
CONST	SEGMENT
??_C@_0BM@CBNIBACL@LuaDbgLog?5file?5create?5error?$AA@ DB 'LuaDbgLog file'
	DB	' create error', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@MLENCKHH@LUA_DEBUG_LOG?1?$CF02d?$CF02d?$CF02d_LuaDb@
CONST	SEGMENT
??_C@_0CG@MLENCKHH@LUA_DEBUG_LOG?1?$CF02d?$CF02d?$CF02d_LuaDb@ DB 'LUA_DE'
	DB	'BUG_LOG/%02d%02d%02d_LuaDbg.txt', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@GDPOIANK@?4?1LUA_DEBUG_LOG?$AA@
CONST	SEGMENT
??_C@_0BA@GDPOIANK@?4?1LUA_DEBUG_LOG?$AA@ DB './LUA_DEBUG_LOG', 00H ; `string'
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\winconsole.cpp
CONST	ENDS
;	COMDAT ?CreateDbgFile@CWinConsole@@SAXXZ
_TEXT	SEGMENT
_ltime$ = -264						; size = 8
_szTemp$ = -256						; size = 250
__$ArrayPad$ = -4					; size = 4
?CreateDbgFile@CWinConsole@@SAXXZ PROC			; CWinConsole::CreateDbgFile, COMDAT

; 147  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 148  : 	time_t ltime;
; 149  : 	tm* today;
; 150  : 	char szTemp[250]={0};

  00013	68 f9 00 00 00	 push	 249			; 000000f9H
  00018	8d 85 01 ff ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp+1]
  0001e	6a 00		 push	 0
  00020	50		 push	 eax
  00021	c6 85 00 ff ff
	ff 00		 mov	 BYTE PTR _szTemp$[ebp], 0
  00028	e8 00 00 00 00	 call	 _memset

; 151  : 
; 152  : 	time(&ltime);

  0002d	8d 8d f8 fe ff
	ff		 lea	 ecx, DWORD PTR _ltime$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 __time64

; 153  : 	today = localtime(&ltime);

  00039	8d 95 f8 fe ff
	ff		 lea	 edx, DWORD PTR _ltime$[ebp]
  0003f	52		 push	 edx
  00040	e8 00 00 00 00	 call	 __localtime64

; 154  : 
; 155  : 	today->tm_year += 1900;

  00045	81 40 14 6c 07
	00 00		 add	 DWORD PTR [eax+20], 1900 ; 0000076cH
  0004c	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]

; 156  : 
; 157  :     CWinConsole::LogMYear = today->tm_year;

  0004f	89 0d 00 00 00
	00		 mov	 DWORD PTR ?LogMYear@CWinConsole@@0HA, ecx ; CWinConsole::LogMYear

; 158  :     CWinConsole::LogMonth = today->tm_mon+1;

  00055	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00058	83 c4 14	 add	 esp, 20			; 00000014H
  0005b	41		 inc	 ecx
  0005c	89 0d 00 00 00
	00		 mov	 DWORD PTR ?LogMonth@CWinConsole@@0HA, ecx ; CWinConsole::LogMonth

; 159  :     CWinConsole::LogMDay = today->tm_mday;

  00062	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]

; 160  : 
; 161  : 	CreateDirectory("./LUA_DEBUG_LOG", 0);

  00065	6a 00		 push	 0
  00067	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@GDPOIANK@?4?1LUA_DEBUG_LOG?$AA@
  0006c	89 15 00 00 00
	00		 mov	 DWORD PTR ?LogMDay@CWinConsole@@0HA, edx ; CWinConsole::LogMDay
  00072	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateDirectoryA@8

; 162  : 
; 163  : 	wsprintf(szTemp, "LUA_DEBUG_LOG/%02d%02d%02d_LuaDbg.txt",
; 164  : 		CWinConsole::LogMYear, CWinConsole::LogMonth, CWinConsole::LogMDay);

  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?LogMDay@CWinConsole@@0HA ; CWinConsole::LogMDay
  0007d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?LogMonth@CWinConsole@@0HA ; CWinConsole::LogMonth
  00083	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?LogMYear@CWinConsole@@0HA ; CWinConsole::LogMYear
  00089	50		 push	 eax
  0008a	51		 push	 ecx
  0008b	52		 push	 edx
  0008c	8d 85 00 ff ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  00092	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@MLENCKHH@LUA_DEBUG_LOG?1?$CF02d?$CF02d?$CF02d_LuaDb@
  00097	50		 push	 eax
  00098	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA

; 165  : 
; 166  : 	if ( CWinConsole::g_DbgFp )

  0009e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A ; CWinConsole::g_DbgFp
  000a3	83 c4 14	 add	 esp, 20			; 00000014H
  000a6	85 c0		 test	 eax, eax
  000a8	74 13		 je	 SHORT $LN2@CreateDbgF

; 167  : 	{
; 168  : 		fclose(CWinConsole::g_DbgFp);

  000aa	50		 push	 eax
  000ab	e8 00 00 00 00	 call	 _fclose
  000b0	83 c4 04	 add	 esp, 4

; 169  : 		CWinConsole::g_DbgFp = NULL;

  000b3	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A, 0 ; CWinConsole::g_DbgFp
$LN2@CreateDbgF:

; 170  : 	}
; 171  : 
; 172  : 	CWinConsole::g_DbgFp = fopen(szTemp, "a+tc");

  000bd	8d 8d 00 ff ff
	ff		 lea	 ecx, DWORD PTR _szTemp$[ebp]
  000c3	68 00 00 00 00	 push	 OFFSET ??_C@_04PHJEIGMI@a?$CLtc?$AA@
  000c8	51		 push	 ecx
  000c9	e8 00 00 00 00	 call	 _fopen
  000ce	83 c4 08	 add	 esp, 8
  000d1	a3 00 00 00 00	 mov	 DWORD PTR ?g_DbgFp@CWinConsole@@0PAU_iobuf@@A, eax ; CWinConsole::g_DbgFp

; 173  : 
; 174  : 	if ( !CWinConsole::g_DbgFp )

  000d6	85 c0		 test	 eax, eax
  000d8	75 0e		 jne	 SHORT $LN1@CreateDbgF

; 175  : 		LogAdd("LuaDbgLog file create error");

  000da	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@CBNIBACL@LuaDbgLog?5file?5create?5error?$AA@
  000df	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  000e5	83 c4 04	 add	 esp, 4
$LN1@CreateDbgF:

; 176  : 
; 177  : }

  000e8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000eb	33 cd		 xor	 ecx, ebp
  000ed	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000f2	8b e5		 mov	 esp, ebp
  000f4	5d		 pop	 ebp
  000f5	c3		 ret	 0
?CreateDbgFile@CWinConsole@@SAXXZ ENDP			; CWinConsole::CreateDbgFile
_TEXT	ENDS
PUBLIC	??_C@_0L@NNLLPGPO@DebugPrint?$AA@		; `string'
PUBLIC	?Debug_AddDebugPrint@@YAXPAUlua_State@@@Z	; Debug_AddDebugPrint
EXTRN	_lua_setfield:PROC
EXTRN	_lua_pushcclosure:PROC
;	COMDAT ??_C@_0L@NNLLPGPO@DebugPrint?$AA@
CONST	SEGMENT
??_C@_0L@NNLLPGPO@DebugPrint?$AA@ DB 'DebugPrint', 00H	; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Debug_AddDebugPrint@@YAXPAUlua_State@@@Z
_TEXT	SEGMENT
_DebugGlue$ = -16					; size = 16
_L$ = 8							; size = 4
?Debug_AddDebugPrint@@YAXPAUlua_State@@@Z PROC		; Debug_AddDebugPrint, COMDAT

; 187  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	53		 push	 ebx

; 188  : 	luaL_reg DebugGlue[] =
; 189  : 	{
; 190  : 		{"DebugPrint", Debug_Print},
; 191  : 		{NULL, NULL}
; 192  : 	};
; 193  : 
; 194  : 
; 195  : 	for (int i = 0; DebugGlue[i].name; ++i )

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _L$[ebp]
  0000a	56		 push	 esi
  0000b	33 c0		 xor	 eax, eax
  0000d	be 00 00 00 00	 mov	 esi, OFFSET ??_C@_0L@NNLLPGPO@DebugPrint?$AA@
  00012	57		 push	 edi
  00013	89 75 f0	 mov	 DWORD PTR _DebugGlue$[ebp], esi
  00016	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _DebugGlue$[ebp+4], OFFSET ?Debug_Print@@YAHPAUlua_State@@@Z ; Debug_Print
  0001d	89 45 f8	 mov	 DWORD PTR _DebugGlue$[ebp+8], eax
  00020	89 45 fc	 mov	 DWORD PTR _DebugGlue$[ebp+12], eax
  00023	33 ff		 xor	 edi, edi
$LL8@Debug_AddD:

; 196  : 	{
; 197  : 		lua_pushcclosure(L, DebugGlue[i].func, 0);

  00025	8b 44 05 f4	 mov	 eax, DWORD PTR _DebugGlue$[ebp+eax+4]
  00029	6a 00		 push	 0
  0002b	50		 push	 eax
  0002c	53		 push	 ebx
  0002d	e8 00 00 00 00	 call	 _lua_pushcclosure

; 198  : 		lua_setfield(L, LUA_GLOBALSINDEX, DebugGlue[i].name);

  00032	56		 push	 esi
  00033	68 ee d8 ff ff	 push	 -10002			; ffffd8eeH
  00038	53		 push	 ebx
  00039	e8 00 00 00 00	 call	 _lua_setfield
  0003e	47		 inc	 edi
  0003f	8d 04 fd 00 00
	00 00		 lea	 eax, DWORD PTR [edi*8]
  00046	8b 74 05 f0	 mov	 esi, DWORD PTR _DebugGlue$[ebp+eax]
  0004a	83 c4 18	 add	 esp, 24			; 00000018H
  0004d	85 f6		 test	 esi, esi
  0004f	75 d4		 jne	 SHORT $LL8@Debug_AddD
  00051	5f		 pop	 edi
  00052	5e		 pop	 esi
  00053	5b		 pop	 ebx

; 199  : 	}
; 200  : }

  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c3		 ret	 0
?Debug_AddDebugPrint@@YAXPAUlua_State@@@Z ENDP		; Debug_AddDebugPrint
; Function compile flags: /Ogtp
_TEXT	ENDS
;	COMDAT ?Clear_DebugWindow@@YAHPAUlua_State@@@Z
_TEXT	SEGMENT
_L$ = 8							; size = 4
?Clear_DebugWindow@@YAHPAUlua_State@@@Z PROC		; Clear_DebugWindow, COMDAT

; 252  : 	CWinConsole::ClearDbgWnd();

  00000	e8 00 00 00 00	 call	 ?ClearDbgWnd@CWinConsole@@SAXXZ ; CWinConsole::ClearDbgWnd

; 253  : 
; 254  : 	return 0;

  00005	33 c0		 xor	 eax, eax

; 255  : }

  00007	c3		 ret	 0
?Clear_DebugWindow@@YAHPAUlua_State@@@Z ENDP		; Clear_DebugWindow
_TEXT	ENDS
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Ogtp
;	COMDAT ??_GCWinConsole@@EAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCWinConsole@@EAEPAXI@Z PROC				; CWinConsole::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CWinConsole@@EAE@XZ	; CWinConsole::~CWinConsole
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 09		 je	 SHORT $LN4@scalar
  00011	56		 push	 esi
  00012	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00017	83 c4 04	 add	 esp, 4
$LN4@scalar:
  0001a	8b c6		 mov	 eax, esi
  0001c	5e		 pop	 esi
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
??_GCWinConsole@@EAEPAXI@Z ENDP				; CWinConsole::`scalar deleting destructor'
_TEXT	ENDS
PUBLIC	??_C@_00CNPNBAHC@?$AA@				; `string'
PUBLIC	?SubclassInputEditProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z ; CWinConsole::SubclassInputEditProc
EXTRN	__imp__CallWindowProcA@20:PROC
;	COMDAT ??_C@_00CNPNBAHC@?$AA@
CONST	SEGMENT
??_C@_00CNPNBAHC@?$AA@ DB 00H				; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SubclassInputEditProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_hWnd$ = 8						; size = 4
_message$ = 12						; size = 4
_wParam$ = 16						; size = 4
_lParam$ = 20						; size = 4
?SubclassInputEditProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z PROC ; CWinConsole::SubclassInputEditProc, COMDAT

; 626  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 627  : 	long lSizeofString;
; 628  : 
; 629  : 	switch(message)

  00004	8b 75 10	 mov	 esi, DWORD PTR _wParam$[ebp]
  00007	57		 push	 edi
  00008	8b 7d 0c	 mov	 edi, DWORD PTR _message$[ebp]
  0000b	8b c7		 mov	 eax, edi
  0000d	2d 00 01 00 00	 sub	 eax, 256		; 00000100H
  00012	74 5e		 je	 SHORT $LN7@SubclassIn
  00014	83 e8 02	 sub	 eax, 2
  00017	75 72		 jne	 SHORT $LN5@SubclassIn

; 643  : 			}
; 644  : 		}
; 645  : 		break;
; 646  : 
; 647  : 		case WM_CHAR:
; 648  : 			if(wParam == 13)

  00019	83 fe 0d	 cmp	 esi, 13			; 0000000dH
  0001c	75 6d		 jne	 SHORT $LN5@SubclassIn

; 649  : 			{
; 650  : 				lSizeofString = SendMessage(hWnd, WM_GETTEXTLENGTH, 0, 0);

  0001e	8b 7d 08	 mov	 edi, DWORD PTR _hWnd$[ebp]
  00021	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR __imp__SendMessageA@16
  00027	53		 push	 ebx
  00028	50		 push	 eax
  00029	50		 push	 eax
  0002a	6a 0e		 push	 14			; 0000000eH
  0002c	57		 push	 edi
  0002d	ff d6		 call	 esi
  0002f	8b d8		 mov	 ebx, eax

; 651  : 				SendMessage(hWnd, WM_GETTEXT, lSizeofString + 1, (LPARAM)CWinConsole::m_CommandBuffer);

  00031	68 00 00 00 00	 push	 OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  00036	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  00039	50		 push	 eax
  0003a	6a 0d		 push	 13			; 0000000dH
  0003c	57		 push	 edi
  0003d	ff d6		 call	 esi

; 652  : 
; 653  : 				CWinConsole::ChangeFromStringToBackUp(1);

  0003f	6a 01		 push	 1
  00041	e8 00 00 00 00	 call	 ?ChangeFromStringToBackUp@CWinConsole@@CAXH@Z ; CWinConsole::ChangeFromStringToBackUp

; 654  : 
; 655  : 				SendMessage(CWinConsole::m_hWnd, 0x404, 0, lSizeofString);

  00046	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0004c	83 c4 04	 add	 esp, 4
  0004f	53		 push	 ebx
  00050	6a 00		 push	 0
  00052	68 04 04 00 00	 push	 1028			; 00000404H
  00057	51		 push	 ecx
  00058	ff d6		 call	 esi

; 656  : 				SendMessage(hWnd, WM_SETTEXT, 0, (LPARAM)"");

  0005a	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  0005f	6a 00		 push	 0
  00061	6a 0c		 push	 12			; 0000000cH
  00063	57		 push	 edi
  00064	ff d6		 call	 esi
  00066	5b		 pop	 ebx
  00067	5f		 pop	 edi

; 657  : 
; 658  : 				return 1;

  00068	b8 01 00 00 00	 mov	 eax, 1
  0006d	5e		 pop	 esi

; 665  : }

  0006e	5d		 pop	 ebp
  0006f	c2 10 00	 ret	 16			; 00000010H
$LN7@SubclassIn:

; 630  : 	{
; 631  : 		case WM_KEYFIRST:
; 632  : 		{
; 633  : 			// didn't find any info about this
; 634  : 			switch(wParam)

  00072	8b c6		 mov	 eax, esi
  00074	83 e8 26	 sub	 eax, 38			; 00000026H
  00077	74 08		 je	 SHORT $LN4@SubclassIn
  00079	83 e8 02	 sub	 eax, 2
  0007c	75 0d		 jne	 SHORT $LN5@SubclassIn

; 638  : 				break;
; 639  : 
; 640  : 				case 40:
; 641  : 					CWinConsole::ChangeFromBackUpToString(0);

  0007e	50		 push	 eax

; 642  : 				break;

  0007f	eb 02		 jmp	 SHORT $LN12@SubclassIn
$LN4@SubclassIn:

; 635  : 			{
; 636  : 				case 38:
; 637  : 					CWinConsole::ChangeFromBackUpToString(1);

  00081	6a 01		 push	 1
$LN12@SubclassIn:
  00083	e8 00 00 00 00	 call	 ?ChangeFromBackUpToString@CWinConsole@@CAXH@Z ; CWinConsole::ChangeFromBackUpToString
  00088	83 c4 04	 add	 esp, 4
$LN5@SubclassIn:

; 659  : 			}
; 660  : 		break;
; 661  : 	}
; 662  : 
; 663  : 
; 664  : 	return CallWindowProc(lpfnInputEdit, hWnd, message, wParam, lParam);

  0008b	8b 55 14	 mov	 edx, DWORD PTR _lParam$[ebp]
  0008e	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  00091	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?lpfnInputEdit@@3P6GJPAUHWND__@@IIJ@ZA ; lpfnInputEdit
  00097	52		 push	 edx
  00098	56		 push	 esi
  00099	57		 push	 edi
  0009a	50		 push	 eax
  0009b	51		 push	 ecx
  0009c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CallWindowProcA@20
  000a2	5f		 pop	 edi
  000a3	5e		 pop	 esi

; 665  : }

  000a4	5d		 pop	 ebp
  000a5	c2 10 00	 ret	 16			; 00000010H
?SubclassInputEditProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z ENDP ; CWinConsole::SubclassInputEditProc
_TEXT	ENDS
PUBLIC	?EnableWinConsoleOption@CWinConsole@@SA_NK@Z	; CWinConsole::EnableWinConsoleOption
; Function compile flags: /Ogtp
;	COMDAT ?EnableWinConsoleOption@CWinConsole@@SA_NK@Z
_TEXT	SEGMENT
_dwWinConsoleOpt$ = 8					; size = 4
?EnableWinConsoleOption@CWinConsole@@SA_NK@Z PROC	; CWinConsole::EnableWinConsoleOption, COMDAT

; 878  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 879  : 	if(g_Console && CWinConsole::m_hWnd)

  00003	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_Console@@3PAVCWinConsole@@A, 0 ; g_Console
  0000a	74 1d		 je	 SHORT $LN1@EnableWinC
  0000c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00011	85 c0		 test	 eax, eax
  00013	74 14		 je	 SHORT $LN1@EnableWinC

; 880  : 	{
; 881  : 		if( (g_Console->GetWinConsoleOpt() & dwWinConsoleOpt) )

  00015	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  0001b	e8 00 00 00 00	 call	 ?GetWinConsoleOpt@CWinConsole@@QAEKXZ ; CWinConsole::GetWinConsoleOpt
  00020	85 45 08	 test	 DWORD PTR _dwWinConsoleOpt$[ebp], eax
  00023	74 04		 je	 SHORT $LN1@EnableWinC

; 882  : 			return true;

  00025	b0 01		 mov	 al, 1

; 886  : }

  00027	5d		 pop	 ebp
  00028	c3		 ret	 0
$LN1@EnableWinC:

; 883  : 	}
; 884  : 
; 885  : 	return false;

  00029	32 c0		 xor	 al, al

; 886  : }

  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
?EnableWinConsoleOption@CWinConsole@@SA_NK@Z ENDP	; CWinConsole::EnableWinConsoleOption
_TEXT	ENDS
PUBLIC	??_C@_01EEMJAFIK@?6?$AA@			; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Write@CWinConsole@@SAXPBDZZ			; CWinConsole::Write
EXTRN	__imp__ReleaseDC@8:PROC
EXTRN	__imp__GetTextExtentPoint32A@16:PROC
EXTRN	__imp__GetDC@4:PROC
EXTRN	__imp__OutputDebugStringA@4:PROC
EXTRN	_vsprintf:PROC
EXTRN	__imp__Sleep@4:PROC
;	COMDAT ??_C@_01EEMJAFIK@?6?$AA@
CONST	SEGMENT
??_C@_01EEMJAFIK@?6?$AA@ DB 0aH, 00H			; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Write@CWinConsole@@SAXPBDZZ
_TEXT	SEGMENT
_TextSize$188576 = -2088				; size = 8
_TextSize$188564 = -2080				; size = 8
_lpdwResult$188579 = -2072				; size = 4
_i$188550 = -2068					; size = 4
_lpdwResult$188555 = -2064				; size = 4
_lpdwResult$188567 = -2060				; size = 4
_tempMaxTextWidth$188548 = -2056			; size = 4
_szBuffer$188544 = -2052				; size = 1024
_buf$188546 = -1028					; size = 1024
__$ArrayPad$ = -4					; size = 4
_pString$ = 8						; size = 4
?Write@CWinConsole@@SAXPBDZZ PROC			; CWinConsole::Write, COMDAT

; 489  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 28 08 00
	00		 sub	 esp, 2088		; 00000828H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi

; 490  : 	va_list vl;
; 491  : 
; 492  : 	va_start(vl, pString);
; 493  : 
; 494  : 	int iTimeOut = 10;
; 495  : 
; 496  : 	EnterCriticalSection(&WinConCritical);

  00016	68 00 00 00 00	 push	 OFFSET ?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A ; WinConCritical
  0001b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 497  : 
; 498  : 	if ( pString && g_Console && CWinConsole::m_hWnd )

  00021	33 f6		 xor	 esi, esi
  00023	39 75 08	 cmp	 DWORD PTR _pString$[ebp], esi
  00026	0f 84 19 03 00
	00		 je	 $LN19@Write
  0002c	39 35 00 00 00
	00		 cmp	 DWORD PTR ?g_Console@@3PAVCWinConsole@@A, esi ; g_Console
  00032	0f 84 0d 03 00
	00		 je	 $LN19@Write
  00038	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0003d	85 c0		 test	 eax, eax
  0003f	0f 84 00 03 00
	00		 je	 $LN19@Write

; 499  : 	{
; 500  : 		if( !CWinConsole::EnableWinConsoleOption(1) )

  00045	6a 01		 push	 1
  00047	e8 00 00 00 00	 call	 ?EnableWinConsoleOption@CWinConsole@@SA_NK@Z ; CWinConsole::EnableWinConsoleOption
  0004c	83 c4 04	 add	 esp, 4
  0004f	84 c0		 test	 al, al
  00051	0f 84 f9 02 00
	00		 je	 $LN20@Write

; 501  : 			return; // trick or dead-lock provoking?
; 502  : 
; 503  : 		char szBuffer[1024]={0};

  00057	68 ff 03 00 00	 push	 1023			; 000003ffH
  0005c	8d 8d fd f7 ff
	ff		 lea	 ecx, DWORD PTR _szBuffer$188544[ebp+1]
  00062	56		 push	 esi
  00063	51		 push	 ecx
  00064	c6 85 fc f7 ff
	ff 00		 mov	 BYTE PTR _szBuffer$188544[ebp], 0
  0006b	e8 00 00 00 00	 call	 _memset
  00070	83 c4 0c	 add	 esp, 12			; 0000000cH

; 504  : 
; 505  : 		Sleep(1);

  00073	6a 01		 push	 1
  00075	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__Sleep@4

; 506  : 
; 507  : 		vsprintf(szBuffer, pString, vl);

  0007b	8b 45 08	 mov	 eax, DWORD PTR _pString$[ebp]
  0007e	8d 55 0c	 lea	 edx, DWORD PTR _pString$[ebp+4]
  00081	52		 push	 edx
  00082	50		 push	 eax
  00083	8d 8d fc f7 ff
	ff		 lea	 ecx, DWORD PTR _szBuffer$188544[ebp]
  00089	51		 push	 ecx
  0008a	e8 00 00 00 00	 call	 _vsprintf

; 508  : 		va_end(vl);
; 509  : 
; 510  : 		char buf[1024]={0};

  0008f	68 ff 03 00 00	 push	 1023			; 000003ffH
  00094	8d 95 fd fb ff
	ff		 lea	 edx, DWORD PTR _buf$188546[ebp+1]
  0009a	56		 push	 esi
  0009b	52		 push	 edx
  0009c	c6 85 fc fb ff
	ff 00		 mov	 BYTE PTR _buf$188546[ebp], 0
  000a3	e8 00 00 00 00	 call	 _memset

; 511  : 
; 512  : 
; 513  : 		int indx = 0;
; 514  : 		int tempMaxTextWidth = 0;
; 515  : 
; 516  : 		// strange
; 517  : 		if ( strlen(szBuffer) > WINCONSOLE_LINE_LENGTH )

  000a8	8d 85 fc f7 ff
	ff		 lea	 eax, DWORD PTR _szBuffer$188544[ebp]
  000ae	83 c4 18	 add	 esp, 24			; 00000018H
  000b1	33 ff		 xor	 edi, edi
  000b3	89 b5 f8 f7 ff
	ff		 mov	 DWORD PTR _tempMaxTextWidth$188548[ebp], esi
  000b9	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  000bc	8d 64 24 00	 npad	 4
$LL25@Write:
  000c0	8a 08		 mov	 cl, BYTE PTR [eax]
  000c2	40		 inc	 eax
  000c3	84 c9		 test	 cl, cl
  000c5	75 f9		 jne	 SHORT $LL25@Write
  000c7	2b c2		 sub	 eax, edx
  000c9	3d 00 04 00 00	 cmp	 eax, 1024		; 00000400H
  000ce	0f 87 7c 02 00
	00		 ja	 $LN20@Write

; 518  : 		{
; 519  : 			//TRACE_LOG("CWinConsole::Write - OverFlow");
; 520  : 
; 521  : 			return; // trick or dead-lock provoking?
; 522  : 		}
; 523  : 
; 524  : 		for (int i = 0; i < strlen(szBuffer); ++i )

  000d4	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR __imp__SendMessageTimeoutA@28
  000da	89 b5 ec f7 ff
	ff		 mov	 DWORD PTR _i$188550[ebp], esi
  000e0	3b c6		 cmp	 eax, esi
  000e2	0f 86 11 02 00
	00		 jbe	 $LN27@Write
$LL16@Write:

; 525  : 		{
; 526  : 			Sleep(1);

  000e8	6a 01		 push	 1
  000ea	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__Sleep@4

; 527  : 
; 528  : 			if ( szBuffer[i] != '\n' )

  000f0	8a 84 35 fc f7
	ff ff		 mov	 al, BYTE PTR _szBuffer$188544[ebp+esi]
  000f7	3c 0a		 cmp	 al, 10			; 0000000aH
  000f9	74 0d		 je	 SHORT $LN13@Write

; 529  : 			{
; 530  : 				buf[indx++] = szBuffer[i];

  000fb	88 84 3d fc fb
	ff ff		 mov	 BYTE PTR _buf$188546[ebp+edi], al
  00102	47		 inc	 edi

; 531  : 				continue;

  00103	e9 e2 00 00 00	 jmp	 $LN15@Write
$LN13@Write:

; 532  : 			}
; 533  : 
; 534  : 
; 535  : 			buf[indx] = 0;
; 536  : 			DWORD lpdwResult = 0;
; 537  : 			LRESULT lResult = SendMessageTimeout(CWinConsole::m_hListBox, LB_ADDSTRING,
; 538  : 						0, (LPARAM)buf, SMTO_NORMAL, iTimeOut, &lpdwResult);

  00108	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  0010e	8d 85 f0 f7 ff
	ff		 lea	 eax, DWORD PTR _lpdwResult$188555[ebp]
  00114	50		 push	 eax
  00115	6a 0a		 push	 10			; 0000000aH
  00117	6a 00		 push	 0
  00119	8d 8d fc fb ff
	ff		 lea	 ecx, DWORD PTR _buf$188546[ebp]
  0011f	51		 push	 ecx
  00120	6a 00		 push	 0
  00122	68 80 01 00 00	 push	 384			; 00000180H
  00127	52		 push	 edx
  00128	c6 84 3d fc fb
	ff ff 00	 mov	 BYTE PTR _buf$188546[ebp+edi], 0
  00130	c7 85 f0 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _lpdwResult$188555[ebp], 0
  0013a	ff d3		 call	 ebx

; 539  : 
; 540  : 			if ( CWinConsole::EnableWinConsoleOption(2) )

  0013c	6a 02		 push	 2
  0013e	8b f0		 mov	 esi, eax
  00140	e8 00 00 00 00	 call	 ?EnableWinConsoleOption@CWinConsole@@SA_NK@Z ; CWinConsole::EnableWinConsoleOption
  00145	83 c4 04	 add	 esp, 4
  00148	84 c0		 test	 al, al
  0014a	74 18		 je	 SHORT $LN12@Write

; 541  : 			{
; 542  : 				OutputDebugString(buf);

  0014c	8d 85 fc fb ff
	ff		 lea	 eax, DWORD PTR _buf$188546[ebp]
  00152	50		 push	 eax
  00153	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__OutputDebugStringA@4

; 543  : 				OutputDebugString("\n");

  00159	68 00 00 00 00	 push	 OFFSET ??_C@_01EEMJAFIK@?6?$AA@
  0015e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__OutputDebugStringA@4
$LN12@Write:

; 544  : 			}
; 545  : 
; 546  : 			if ( lResult == -2 || lResult == -1 )

  00164	83 fe fe	 cmp	 esi, -2			; fffffffeH
  00167	0f 84 e3 01 00
	00		 je	 $LN20@Write
  0016d	83 fe ff	 cmp	 esi, -1
  00170	0f 84 da 01 00
	00		 je	 $LN20@Write

; 547  : 				return; // trick or dead-lock provoking?
; 548  : 
; 549  : 			DWORD dwLine = lpdwResult;
; 550  : 			SendMessageTimeout(CWinConsole::m_hListBox, LB_SETCURSEL, 
; 551  : 				dwLine, 0, SMTO_NORMAL, iTimeOut, &lpdwResult);

  00176	8b 95 f0 f7 ff
	ff		 mov	 edx, DWORD PTR _lpdwResult$188555[ebp]
  0017c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  00181	8d 8d f0 f7 ff
	ff		 lea	 ecx, DWORD PTR _lpdwResult$188555[ebp]
  00187	51		 push	 ecx
  00188	6a 0a		 push	 10			; 0000000aH
  0018a	6a 00		 push	 0
  0018c	6a 00		 push	 0
  0018e	52		 push	 edx
  0018f	68 86 01 00 00	 push	 390			; 00000186H
  00194	50		 push	 eax
  00195	ff d3		 call	 ebx

; 552  : 
; 553  : 			HDC hDC = GetDC(CWinConsole::m_hWnd);

  00197	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0019d	51		 push	 ecx
  0019e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  001a4	8b f0		 mov	 esi, eax

; 554  : 
; 555  : 			if ( hDC )

  001a6	85 f6		 test	 esi, esi
  001a8	74 38		 je	 SHORT $LN9@Write

; 556  : 			{
; 557  : 				SIZE TextSize;
; 558  : 				GetTextExtentPoint32(hDC, buf, indx, &TextSize);

  001aa	8d 95 e0 f7 ff
	ff		 lea	 edx, DWORD PTR _TextSize$188564[ebp]
  001b0	52		 push	 edx
  001b1	57		 push	 edi
  001b2	8d 85 fc fb ff
	ff		 lea	 eax, DWORD PTR _buf$188546[ebp]
  001b8	50		 push	 eax
  001b9	56		 push	 esi
  001ba	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTextExtentPoint32A@16

; 559  : 				if ( TextSize.cx > tempMaxTextWidth )

  001c0	8b 85 e0 f7 ff
	ff		 mov	 eax, DWORD PTR _TextSize$188564[ebp]
  001c6	3b 85 f8 f7 ff
	ff		 cmp	 eax, DWORD PTR _tempMaxTextWidth$188548[ebp]
  001cc	7e 06		 jle	 SHORT $LN8@Write

; 560  : 					tempMaxTextWidth = TextSize.cx;

  001ce	89 85 f8 f7 ff
	ff		 mov	 DWORD PTR _tempMaxTextWidth$188548[ebp], eax
$LN8@Write:

; 561  : 				ReleaseDC(CWinConsole::m_hWnd, hDC);

  001d4	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  001da	56		 push	 esi
  001db	51		 push	 ecx
  001dc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8
$LN9@Write:

; 562  : 			}
; 563  : 
; 564  : 			indx = 0;

  001e2	8b b5 ec f7 ff
	ff		 mov	 esi, DWORD PTR _i$188550[ebp]
  001e8	33 ff		 xor	 edi, edi
$LN15@Write:

; 518  : 		{
; 519  : 			//TRACE_LOG("CWinConsole::Write - OverFlow");
; 520  : 
; 521  : 			return; // trick or dead-lock provoking?
; 522  : 		}
; 523  : 
; 524  : 		for (int i = 0; i < strlen(szBuffer); ++i )

  001ea	46		 inc	 esi
  001eb	8d 85 fc f7 ff
	ff		 lea	 eax, DWORD PTR _szBuffer$188544[ebp]
  001f1	89 b5 ec f7 ff
	ff		 mov	 DWORD PTR _i$188550[ebp], esi
  001f7	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  001fa	8d 9b 00 00 00
	00		 npad	 6
$LL26@Write:
  00200	8a 08		 mov	 cl, BYTE PTR [eax]
  00202	40		 inc	 eax
  00203	84 c9		 test	 cl, cl
  00205	75 f9		 jne	 SHORT $LL26@Write
  00207	2b c2		 sub	 eax, edx
  00209	3b f0		 cmp	 esi, eax
  0020b	0f 82 d7 fe ff
	ff		 jb	 $LL16@Write

; 565  : 
; 566  : 		} // for
; 567  : 
; 568  : 		if(indx > 0)

  00211	85 ff		 test	 edi, edi
  00213	0f 8e e0 00 00
	00		 jle	 $LN27@Write

; 569  : 		{
; 570  : 			buf[indx] = 0;
; 571  : 			DWORD lpdwResult = 0;
; 572  : 
; 573  : 			Sleep(1);

  00219	6a 01		 push	 1
  0021b	88 8c 3d fc fb
	ff ff		 mov	 BYTE PTR _buf$188546[ebp+edi], cl
  00222	c7 85 f4 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _lpdwResult$188567[ebp], 0
  0022c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__Sleep@4

; 574  : 
; 575  : 			LRESULT lResult = SendMessageTimeout(CWinConsole::m_hListBox, LB_ADDSTRING,
; 576  : 					0, (LPARAM)buf, SMTO_NORMAL, iTimeOut, &lpdwResult);;

  00232	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  00238	8d 95 f4 f7 ff
	ff		 lea	 edx, DWORD PTR _lpdwResult$188567[ebp]
  0023e	52		 push	 edx
  0023f	6a 0a		 push	 10			; 0000000aH
  00241	6a 00		 push	 0
  00243	8d 85 fc fb ff
	ff		 lea	 eax, DWORD PTR _buf$188546[ebp]
  00249	50		 push	 eax
  0024a	6a 00		 push	 0
  0024c	68 80 01 00 00	 push	 384			; 00000180H
  00251	51		 push	 ecx
  00252	ff d3		 call	 ebx

; 577  : 
; 578  : 			if ( CWinConsole::EnableWinConsoleOption(2) )

  00254	6a 02		 push	 2
  00256	8b f0		 mov	 esi, eax
  00258	e8 00 00 00 00	 call	 ?EnableWinConsoleOption@CWinConsole@@SA_NK@Z ; CWinConsole::EnableWinConsoleOption
  0025d	83 c4 04	 add	 esp, 4
  00260	84 c0		 test	 al, al
  00262	74 18		 je	 SHORT $LN6@Write

; 579  : 			{
; 580  : 				OutputDebugString(buf);

  00264	8d 95 fc fb ff
	ff		 lea	 edx, DWORD PTR _buf$188546[ebp]
  0026a	52		 push	 edx
  0026b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__OutputDebugStringA@4

; 581  : 				OutputDebugString("\n");

  00271	68 00 00 00 00	 push	 OFFSET ??_C@_01EEMJAFIK@?6?$AA@
  00276	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__OutputDebugStringA@4
$LN6@Write:

; 582  : 			}
; 583  : 
; 584  : 			if ( lResult == -2 || lResult == -1 )

  0027c	83 fe fe	 cmp	 esi, -2			; fffffffeH
  0027f	0f 84 cb 00 00
	00		 je	 $LN20@Write
  00285	83 fe ff	 cmp	 esi, -1
  00288	0f 84 c2 00 00
	00		 je	 $LN20@Write

; 585  : 				return; // trick or dead-lock provoking?
; 586  : 
; 587  : 			DWORD dwLine = lpdwResult;
; 588  : 			SendMessageTimeout(CWinConsole::m_hListBox, LB_SETCURSEL, 
; 589  : 				dwLine, 0, SMTO_NORMAL, iTimeOut, &lpdwResult);

  0028e	8b 8d f4 f7 ff
	ff		 mov	 ecx, DWORD PTR _lpdwResult$188567[ebp]
  00294	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  0029a	8d 85 f4 f7 ff
	ff		 lea	 eax, DWORD PTR _lpdwResult$188567[ebp]
  002a0	50		 push	 eax
  002a1	6a 0a		 push	 10			; 0000000aH
  002a3	6a 00		 push	 0
  002a5	6a 00		 push	 0
  002a7	51		 push	 ecx
  002a8	68 86 01 00 00	 push	 390			; 00000186H
  002ad	52		 push	 edx
  002ae	ff d3		 call	 ebx

; 590  : 
; 591  : 			HDC hDC = GetDC(CWinConsole::m_hWnd);

  002b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  002b5	50		 push	 eax
  002b6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  002bc	8b f0		 mov	 esi, eax

; 592  : 
; 593  : 			if ( hDC )

  002be	85 f6		 test	 esi, esi
  002c0	74 37		 je	 SHORT $LN27@Write

; 594  : 			{
; 595  : 				SIZE TextSize;
; 596  : 				GetTextExtentPoint32A(hDC, buf, indx, &TextSize);

  002c2	8d 8d d8 f7 ff
	ff		 lea	 ecx, DWORD PTR _TextSize$188576[ebp]
  002c8	51		 push	 ecx
  002c9	57		 push	 edi
  002ca	8d 95 fc fb ff
	ff		 lea	 edx, DWORD PTR _buf$188546[ebp]
  002d0	52		 push	 edx
  002d1	56		 push	 esi
  002d2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTextExtentPoint32A@16

; 597  : 
; 598  : 				if ( TextSize.cx > tempMaxTextWidth )

  002d8	8b 85 d8 f7 ff
	ff		 mov	 eax, DWORD PTR _TextSize$188576[ebp]
  002de	3b 85 f8 f7 ff
	ff		 cmp	 eax, DWORD PTR _tempMaxTextWidth$188548[ebp]
  002e4	7e 06		 jle	 SHORT $LN2@Write

; 599  : 					tempMaxTextWidth = TextSize.cx;

  002e6	89 85 f8 f7 ff
	ff		 mov	 DWORD PTR _tempMaxTextWidth$188548[ebp], eax
$LN2@Write:

; 600  : 
; 601  : 				ReleaseDC(CWinConsole::m_hWnd, hDC);

  002ec	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  002f1	56		 push	 esi
  002f2	50		 push	 eax
  002f3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8
$LN27@Write:

; 602  : 			}
; 603  : 
; 604  : 		} // if(indx > 0)
; 605  : 
; 606  : 
; 607  : 		if ( CWinConsole::m_MaxTextWidth < tempMaxTextWidth )

  002f9	8b 85 f8 f7 ff
	ff		 mov	 eax, DWORD PTR _tempMaxTextWidth$188548[ebp]
  002ff	39 05 00 00 00
	00		 cmp	 DWORD PTR ?m_MaxTextWidth@CWinConsole@@0HA, eax ; CWinConsole::m_MaxTextWidth
  00305	7d 2e		 jge	 SHORT $LN29@Write

; 608  : 		{
; 609  : 			CWinConsole::m_MaxTextWidth = tempMaxTextWidth;
; 610  : 
; 611  : 			DWORD lpdwResult = 0;
; 612  : 			SendMessageTimeout(CWinConsole::m_hListBox, LB_SETHORIZONTALEXTENT,
; 613  : 					CWinConsole::m_MaxTextWidth + 10, 0,
; 614  : 					SMTO_NORMAL, iTimeOut, &lpdwResult);

  00307	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  0030d	8d 8d e8 f7 ff
	ff		 lea	 ecx, DWORD PTR _lpdwResult$188579[ebp]
  00313	51		 push	 ecx
  00314	6a 0a		 push	 10			; 0000000aH
  00316	6a 00		 push	 0
  00318	6a 00		 push	 0
  0031a	a3 00 00 00 00	 mov	 DWORD PTR ?m_MaxTextWidth@CWinConsole@@0HA, eax ; CWinConsole::m_MaxTextWidth
  0031f	83 c0 0a	 add	 eax, 10			; 0000000aH
  00322	50		 push	 eax
  00323	68 94 01 00 00	 push	 404			; 00000194H
  00328	52		 push	 edx
  00329	c7 85 e8 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _lpdwResult$188579[ebp], 0
  00333	ff d3		 call	 ebx
$LN29@Write:

; 615  : 
; 616  : 		}
; 617  : 
; 618  : 		InvalidateRect(CWinConsole::m_hWnd, NULL, TRUE);

  00335	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0033a	6a 01		 push	 1
  0033c	6a 00		 push	 0
  0033e	50		 push	 eax
  0033f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InvalidateRect@12
$LN19@Write:

; 619  : 
; 620  : 	}
; 621  : 
; 622  : 	LeaveCriticalSection(&WinConCritical);

  00345	68 00 00 00 00	 push	 OFFSET ?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A ; WinConCritical
  0034a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4
$LN20@Write:

; 623  : }

  00350	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00353	5f		 pop	 edi
  00354	5e		 pop	 esi
  00355	33 cd		 xor	 ecx, ebp
  00357	5b		 pop	 ebx
  00358	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0035d	8b e5		 mov	 esp, ebp
  0035f	5d		 pop	 ebp
  00360	c3		 ret	 0
?Write@CWinConsole@@SAXPBDZZ ENDP			; CWinConsole::Write
_TEXT	ENDS
PUBLIC	??_C@_0EI@GBGHCLJP@?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Sav@ ; `string'
PUBLIC	??_C@_0FB@KAJMDOLB@?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Save?5?$FLStart?$FN@ ; `string'
PUBLIC	??_C@_0CI@PMFEINIM@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5item?5is?5i@ ; `string'
PUBLIC	??_C@_0CK@CEADPBBK@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5open@ ; `string'
PUBLIC	??_C@_02CPIDLAI@at?$AA@				; `string'
PUBLIC	??_C@_0CN@PNDHKNPC@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5name@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?SaveDbgWnd@CWinConsole@@QAEXPBD@Z		; CWinConsole::SaveDbgWnd
EXTRN	_fputs:PROC
EXTRN	_fprintf:PROC
EXTRN	__imp__GetLocalTime@4:PROC
;	COMDAT ??_C@_0EI@GBGHCLJP@?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Sav@
CONST	SEGMENT
??_C@_0EI@GBGHCLJP@?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Sav@ DB '-'
	DB	'--------------------- MULOG Save [Completed] ----------------'
	DB	'-------', 0aH, 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FB@KAJMDOLB@?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Save?5?$FLStart?$FN@
CONST	SEGMENT
??_C@_0FB@KAJMDOLB@?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Save?5?$FLStart?$FN@ DB '-'
	DB	'------------ MULOG Save [Start]  [%04d/%02d/%02d %02d:%02d:%0'
	DB	'2d] -------------', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CI@PMFEINIM@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5item?5is?5i@
CONST	SEGMENT
??_C@_0CI@PMFEINIM@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5item?5is?5i@ DB 'S'
	DB	'aveDbgWnd() Error!! - item is invalid!', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@CEADPBBK@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5open@
CONST	SEGMENT
??_C@_0CK@CEADPBBK@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5open@ DB 'S'
	DB	'aveDbgWnd() Error!! - file open failure!', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_02CPIDLAI@at?$AA@
CONST	SEGMENT
??_C@_02CPIDLAI@at?$AA@ DB 'at', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CN@PNDHKNPC@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5name@
CONST	SEGMENT
??_C@_0CN@PNDHKNPC@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5name@ DB 'S'
	DB	'aveDbgWnd() Error!! - file name is invlid!!', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?SaveDbgWnd@CWinConsole@@QAEXPBD@Z
_TEXT	SEGMENT
_retSystemTime$ = -1044					; size = 16
_szGetString$188375 = -1028				; size = 1024
__$ArrayPad$ = -4					; size = 4
_pFilename$ = 8						; size = 4
?SaveDbgWnd@CWinConsole@@QAEXPBD@Z PROC			; CWinConsole::SaveDbgWnd, COMDAT
; _this$ = ecx

; 53   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 04 00
	00		 sub	 esp, 1044		; 00000414H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	8b 45 08	 mov	 eax, DWORD PTR _pFilename$[ebp]

; 54   : 	if ( !pFilename )

  00016	85 c0		 test	 eax, eax
  00018	75 1d		 jne	 SHORT $LN7@SaveDbgWnd

; 55   : 	{
; 56   : 		CWinConsole::Write("SaveDbgWnd() Error!! - file name is invlid!!");

  0001a	68 00 00 00 00	 push	 OFFSET ??_C@_0CN@PNDHKNPC@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5name@
  0001f	e8 00 00 00 00	 call	 ?Write@CWinConsole@@SAXPBDZZ ; CWinConsole::Write
  00024	83 c4 04	 add	 esp, 4

; 101  : }

  00027	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0002a	33 cd		 xor	 ecx, ebp
  0002c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00031	8b e5		 mov	 esp, ebp
  00033	5d		 pop	 ebp
  00034	c2 04 00	 ret	 4
$LN7@SaveDbgWnd:
  00037	57		 push	 edi

; 57   : 		return;
; 58   : 	}
; 59   : 
; 60   : 	FILE *fp = fopen(pFilename, "at");

  00038	68 00 00 00 00	 push	 OFFSET ??_C@_02CPIDLAI@at?$AA@
  0003d	50		 push	 eax
  0003e	e8 00 00 00 00	 call	 _fopen
  00043	8b f8		 mov	 edi, eax
  00045	83 c4 08	 add	 esp, 8

; 61   : 	if ( !fp )

  00048	85 ff		 test	 edi, edi
  0004a	75 1e		 jne	 SHORT $LN6@SaveDbgWnd

; 62   : 	{
; 63   : 		CWinConsole::Write("SaveDbgWnd() Error!! - file open failure!");

  0004c	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@CEADPBBK@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5file?5open@
  00051	e8 00 00 00 00	 call	 ?Write@CWinConsole@@SAXPBDZZ ; CWinConsole::Write
  00056	83 c4 04	 add	 esp, 4
  00059	5f		 pop	 edi

; 101  : }

  0005a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0005d	33 cd		 xor	 ecx, ebp
  0005f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00064	8b e5		 mov	 esp, ebp
  00066	5d		 pop	 ebp
  00067	c2 04 00	 ret	 4
$LN6@SaveDbgWnd:

; 64   : 		return;
; 65   : 	}
; 66   : 
; 67   : 	int nItemCnt = SendMessage(CWinConsole::m_hListBox, LB_GETCOUNT, 0, 0);

  0006a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  0006f	53		 push	 ebx
  00070	6a 00		 push	 0
  00072	6a 00		 push	 0
  00074	68 8b 01 00 00	 push	 395			; 0000018bH
  00079	50		 push	 eax
  0007a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00080	8b d8		 mov	 ebx, eax

; 68   : 	if ( nItemCnt != -1 && nItemCnt <= 0 )

  00082	83 fb ff	 cmp	 ebx, -1
  00085	74 29		 je	 SHORT $LN5@SaveDbgWnd
  00087	85 db		 test	 ebx, ebx
  00089	7f 25		 jg	 SHORT $LN5@SaveDbgWnd

; 69   : 	{
; 70   : 		CWinConsole::Write("SaveDbgWnd() Error!! - item is invalid!");

  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@PMFEINIM@SaveDbgWnd?$CI?$CJ?5Error?$CB?$CB?5?9?5item?5is?5i@
  00090	e8 00 00 00 00	 call	 ?Write@CWinConsole@@SAXPBDZZ ; CWinConsole::Write

; 71   : 		fclose(fp);

  00095	57		 push	 edi
  00096	e8 00 00 00 00	 call	 _fclose
  0009b	83 c4 08	 add	 esp, 8
  0009e	5b		 pop	 ebx
  0009f	5f		 pop	 edi

; 101  : }

  000a0	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a3	33 cd		 xor	 ecx, ebp
  000a5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000aa	8b e5		 mov	 esp, ebp
  000ac	5d		 pop	 ebp
  000ad	c2 04 00	 ret	 4
$LN5@SaveDbgWnd:
  000b0	56		 push	 esi

; 72   : 
; 73   : 		return;
; 74   : 	}
; 75   : 
; 76   : 	SYSTEMTIME retSystemTime;
; 77   : 	GetLocalTime(&retSystemTime);

  000b1	8d 8d ec fb ff
	ff		 lea	 ecx, DWORD PTR _retSystemTime$[ebp]
  000b7	51		 push	 ecx
  000b8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetLocalTime@4

; 78   : 	fprintf(fp,
; 79   : 		"------------- MULOG Save [Start]  [%04d/%02d/%02d %02d:%02d:%02d] -------------\n",
; 80   : 		retSystemTime.wYear,
; 81   : 		retSystemTime.wMonth,
; 82   : 		retSystemTime.wDay,
; 83   : 		retSystemTime.wHour,
; 84   : 		retSystemTime.wMinute,
; 85   : 		retSystemTime.wSecond);

  000be	0f b7 95 f8 fb
	ff ff		 movzx	 edx, WORD PTR _retSystemTime$[ebp+12]
  000c5	0f b7 85 f6 fb
	ff ff		 movzx	 eax, WORD PTR _retSystemTime$[ebp+10]
  000cc	0f b7 8d f4 fb
	ff ff		 movzx	 ecx, WORD PTR _retSystemTime$[ebp+8]
  000d3	52		 push	 edx
  000d4	0f b7 95 f2 fb
	ff ff		 movzx	 edx, WORD PTR _retSystemTime$[ebp+6]
  000db	50		 push	 eax
  000dc	0f b7 85 ee fb
	ff ff		 movzx	 eax, WORD PTR _retSystemTime$[ebp+2]
  000e3	51		 push	 ecx
  000e4	0f b7 8d ec fb
	ff ff		 movzx	 ecx, WORD PTR _retSystemTime$[ebp]
  000eb	52		 push	 edx
  000ec	50		 push	 eax
  000ed	51		 push	 ecx
  000ee	68 00 00 00 00	 push	 OFFSET ??_C@_0FB@KAJMDOLB@?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Save?5?$FLStart?$FN@
  000f3	57		 push	 edi
  000f4	e8 00 00 00 00	 call	 _fprintf
  000f9	83 c4 20	 add	 esp, 32			; 00000020H

; 86   : 
; 87   : 	for (int i = 0; i < nItemCnt; ++i )

  000fc	33 f6		 xor	 esi, esi
  000fe	85 db		 test	 ebx, ebx
  00100	7e 5c		 jle	 SHORT $LN11@SaveDbgWnd
$LL13@SaveDbgWnd:

; 88   : 	{
; 89   : 		char szGetString[1024]={0};

  00102	68 ff 03 00 00	 push	 1023			; 000003ffH
  00107	8d 95 fd fb ff
	ff		 lea	 edx, DWORD PTR _szGetString$188375[ebp+1]
  0010d	6a 00		 push	 0
  0010f	52		 push	 edx
  00110	c6 85 fc fb ff
	ff 00		 mov	 BYTE PTR _szGetString$188375[ebp], 0
  00117	e8 00 00 00 00	 call	 _memset

; 90   : 
; 91   : 		if ( SendMessage(CWinConsole::m_hListBox, LB_GETTEXT, i, (LPARAM)szGetString) == -1 )

  0011c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  00122	83 c4 0c	 add	 esp, 12			; 0000000cH
  00125	8d 85 fc fb ff
	ff		 lea	 eax, DWORD PTR _szGetString$188375[ebp]
  0012b	50		 push	 eax
  0012c	56		 push	 esi
  0012d	68 89 01 00 00	 push	 393			; 00000189H
  00132	51		 push	 ecx
  00133	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00139	83 f8 ff	 cmp	 eax, -1
  0013c	74 20		 je	 SHORT $LN11@SaveDbgWnd

; 92   : 			break;
; 93   : 
; 94   : 		fputs(szGetString, fp);

  0013e	8d 95 fc fb ff
	ff		 lea	 edx, DWORD PTR _szGetString$188375[ebp]
  00144	57		 push	 edi
  00145	52		 push	 edx
  00146	e8 00 00 00 00	 call	 _fputs

; 95   : 		fputs("\n", fp);

  0014b	57		 push	 edi
  0014c	68 00 00 00 00	 push	 OFFSET ??_C@_01EEMJAFIK@?6?$AA@
  00151	e8 00 00 00 00	 call	 _fputs
  00156	46		 inc	 esi
  00157	83 c4 10	 add	 esp, 16			; 00000010H
  0015a	3b f3		 cmp	 esi, ebx
  0015c	7c a4		 jl	 SHORT $LL13@SaveDbgWnd
$LN11@SaveDbgWnd:

; 96   : 	}
; 97   : 
; 98   : 	fprintf(fp, "---------------------- MULOG Save [Completed] -----------------------\n\n");

  0015e	68 00 00 00 00	 push	 OFFSET ??_C@_0EI@GBGHCLJP@?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?9?5MULOG?5Sav@
  00163	57		 push	 edi
  00164	e8 00 00 00 00	 call	 _fprintf

; 99   : 
; 100  : 	fclose(fp);

  00169	57		 push	 edi
  0016a	e8 00 00 00 00	 call	 _fclose

; 101  : }

  0016f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00172	83 c4 0c	 add	 esp, 12			; 0000000cH
  00175	5e		 pop	 esi
  00176	5b		 pop	 ebx
  00177	33 cd		 xor	 ecx, ebp
  00179	5f		 pop	 edi
  0017a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0017f	8b e5		 mov	 esp, ebp
  00181	5d		 pop	 ebp
  00182	c2 04 00	 ret	 4
?SaveDbgWnd@CWinConsole@@QAEXPBD@Z ENDP			; CWinConsole::SaveDbgWnd
_TEXT	ENDS
EXTRN	_luaL_checklstring:PROC
; Function compile flags: /Ogtp
;	COMDAT ?Save_DebugWindowContents@@YAHPAUlua_State@@@Z
_TEXT	SEGMENT
_L$ = 8							; size = 4
?Save_DebugWindowContents@@YAHPAUlua_State@@@Z PROC	; Save_DebugWindowContents, COMDAT

; 258  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 259  : 	g_Console->SaveDbgWnd( luaL_checklstring(L, 1, 0) );

  00003	8b 45 08	 mov	 eax, DWORD PTR _L$[ebp]
  00006	6a 00		 push	 0
  00008	6a 01		 push	 1
  0000a	50		 push	 eax
  0000b	e8 00 00 00 00	 call	 _luaL_checklstring
  00010	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00016	83 c4 0c	 add	 esp, 12			; 0000000cH
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?SaveDbgWnd@CWinConsole@@QAEXPBD@Z ; CWinConsole::SaveDbgWnd

; 260  : 
; 261  : 	return 0;

  0001f	33 c0		 xor	 eax, eax

; 262  : }

  00021	5d		 pop	 ebp
  00022	c3		 ret	 0
?Save_DebugWindowContents@@YAHPAUlua_State@@@Z ENDP	; Save_DebugWindowContents
_TEXT	ENDS
PUBLIC	??_C@_0BC@CFFFCCA@Error?5in?5Command?6?$AA@	; `string'
PUBLIC	??_C@_0BH@CDHCBCKF@Error?5loading?5Command?6?$AA@ ; `string'
PUBLIC	??_C@_03CLFHJCDC@txt?$AA@			; `string'
PUBLIC	??_C@_0BF@DGNPBKOC@MU?5LOG?5Files?5?$CI?$CK?4txt?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BF@MPHFEAKA@Do?5you?5want?5to?5quit?$DP?$AA@ ; `string'
PUBLIC	??_C@_0BC@EBAFCIDC@MU?5Console?5Window?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?MsgProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z	; CWinConsole::MsgProc
EXTRN	__imp__DefWindowProcA@16:PROC
EXTRN	_lua_pcall:PROC
EXTRN	_luaL_loadbuffer:PROC
EXTRN	__imp__ShowCursor@4:PROC
EXTRN	__imp__SetCursor@4:PROC
EXTRN	__imp__LoadCursorA@8:PROC
EXTRN	__imp__CheckMenuItem@12:PROC
EXTRN	__imp__GetSaveFileNameA@4:PROC
EXTRN	__imp__MessageBoxA@16:PROC
EXTRN	__imp__EndPaint@8:PROC
EXTRN	__imp__BeginPaint@8:PROC
;	COMDAT ??_C@_0BC@CFFFCCA@Error?5in?5Command?6?$AA@
CONST	SEGMENT
??_C@_0BC@CFFFCCA@Error?5in?5Command?6?$AA@ DB 'Error in Command', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@CDHCBCKF@Error?5loading?5Command?6?$AA@
CONST	SEGMENT
??_C@_0BH@CDHCBCKF@Error?5loading?5Command?6?$AA@ DB 'Error loading Comma'
	DB	'nd', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_03CLFHJCDC@txt?$AA@
CONST	SEGMENT
??_C@_03CLFHJCDC@txt?$AA@ DB 'txt', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@DGNPBKOC@MU?5LOG?5Files?5?$CI?$CK?4txt?$CJ?$AA@
CONST	SEGMENT
??_C@_0BF@DGNPBKOC@MU?5LOG?5Files?5?$CI?$CK?4txt?$CJ?$AA@ DB 'MU LOG File'
	DB	's (*.txt)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@MPHFEAKA@Do?5you?5want?5to?5quit?$DP?$AA@
CONST	SEGMENT
??_C@_0BF@MPHFEAKA@Do?5you?5want?5to?5quit?$DP?$AA@ DB 'Do you want to qu'
	DB	'it?', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@EBAFCIDC@MU?5Console?5Window?$AA@
CONST	SEGMENT
??_C@_0BC@EBAFCIDC@MU?5Console?5Window?$AA@ DB 'MU Console Window', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?MsgProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_ofn$188501 = -1180					; size = 88
_ps$ = -1092						; size = 64
_szFullPath$188499 = -1028				; size = 1024
__$ArrayPad$ = -4					; size = 4
_hWnd$ = 8						; size = 4
_uMsg$ = 12						; size = 4
_wParam$ = 16						; size = 4
_lParam$ = 20						; size = 4
?MsgProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z PROC		; CWinConsole::MsgProc, COMDAT

; 346  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 9c 04 00
	00		 sub	 esp, 1180		; 0000049cH
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _hWnd$[ebp]
  00017	56		 push	 esi
  00018	57		 push	 edi

; 347  : 	HDC hdc;
; 348  : 	PAINTSTRUCT ps;
; 349  : 
; 350  : 	switch(uMsg)

  00019	8b 7d 0c	 mov	 edi, DWORD PTR _uMsg$[ebp]
  0001c	83 ff 1c	 cmp	 edi, 28			; 0000001cH
  0001f	0f 87 bd 00 00
	00		 ja	 $LN32@MsgProc
  00025	0f 84 96 00 00
	00		 je	 $LN25@MsgProc
  0002b	8d 47 fe	 lea	 eax, DWORD PTR [edi-2]
  0002e	83 f8 0e	 cmp	 eax, 14			; 0000000eH
  00031	0f 87 92 03 00
	00		 ja	 $LN37@MsgProc
  00037	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN34@MsgProc[eax]
  0003e	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN39@MsgProc[eax*4]
$LN24@MsgProc:

; 355  :     
; 356  : 		case WM_ACTIVATE:
; 357  : 			CWinConsole::m_bWinIsActive = ( wParam == WA_ACTIVE || wParam == WA_CLICKACTIVE);

  00045	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00048	83 f8 01	 cmp	 eax, 1
  0004b	74 21		 je	 SHORT $LN30@MsgProc
  0004d	83 f8 02	 cmp	 eax, 2
  00050	74 1c		 je	 SHORT $LN30@MsgProc
  00052	5f		 pop	 edi
  00053	32 c0		 xor	 al, al
  00055	5e		 pop	 esi
  00056	a2 00 00 00 00	 mov	 BYTE PTR ?m_bWinIsActive@CWinConsole@@0_NC, al ; CWinConsole::m_bWinIsActive

; 358  : 		return 0;

  0005b	33 c0		 xor	 eax, eax
  0005d	5b		 pop	 ebx

; 480  : }

  0005e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00061	33 cd		 xor	 ecx, ebp
  00063	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00068	8b e5		 mov	 esp, ebp
  0006a	5d		 pop	 ebp
  0006b	c2 10 00	 ret	 16			; 00000010H
$LN30@MsgProc:
  0006e	5f		 pop	 edi

; 355  :     
; 356  : 		case WM_ACTIVATE:
; 357  : 			CWinConsole::m_bWinIsActive = ( wParam == WA_ACTIVE || wParam == WA_CLICKACTIVE);

  0006f	b0 01		 mov	 al, 1
  00071	5e		 pop	 esi
  00072	a2 00 00 00 00	 mov	 BYTE PTR ?m_bWinIsActive@CWinConsole@@0_NC, al ; CWinConsole::m_bWinIsActive

; 358  : 		return 0;

  00077	33 c0		 xor	 eax, eax
  00079	5b		 pop	 ebx

; 480  : }

  0007a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0007d	33 cd		 xor	 ecx, ebp
  0007f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c2 10 00	 ret	 16			; 00000010H
$LN23@MsgProc:

; 359  : 
; 360  : 		case WM_DESTROY:
; 361  : 			CWinConsole::m_bWinIsActive = false;

  0008a	c6 05 00 00 00
	00 00		 mov	 BYTE PTR ?m_bWinIsActive@CWinConsole@@0_NC, 0 ; CWinConsole::m_bWinIsActive

; 362  : 			CWinConsole::m_hWnd = NULL;

  00091	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A, 0 ; CWinConsole::m_hWnd

; 363  : 		break;

  0009b	e9 29 03 00 00	 jmp	 $LN37@MsgProc
$LN21@MsgProc:

; 364  : 
; 365  : 		case WM_CLOSE:
; 366  :         return 0;
; 367  : 
; 368  : 		case WM_PAINT:
; 369  : 			hdc = BeginPaint(hWnd, &ps);

  000a0	8d 8d bc fb ff
	ff		 lea	 ecx, DWORD PTR _ps$[ebp]
  000a6	51		 push	 ecx
  000a7	53		 push	 ebx
  000a8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__BeginPaint@8

; 370  : 			g_Console->Paint(hdc);
; 371  : 			EndPaint(hWnd, &ps);

  000ae	8d 95 bc fb ff
	ff		 lea	 edx, DWORD PTR _ps$[ebp]
  000b4	52		 push	 edx
  000b5	53		 push	 ebx
  000b6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndPaint@8

; 372  :         break;

  000bc	e9 08 03 00 00	 jmp	 $LN37@MsgProc
$LN25@MsgProc:

; 351  : 	{
; 352  : 		case WM_ACTIVATEAPP: 
; 353  : 			CWinConsole::m_bWinIsActive = (wParam != FALSE);

  000c1	83 7d 10 00	 cmp	 DWORD PTR _wParam$[ebp], 0
  000c5	0f 95 c0	 setne	 al
  000c8	a2 00 00 00 00	 mov	 BYTE PTR ?m_bWinIsActive@CWinConsole@@0_NC, al ; CWinConsole::m_bWinIsActive
$LN22@MsgProc:

; 354  : 		return 0;

  000cd	5f		 pop	 edi
  000ce	5e		 pop	 esi
  000cf	33 c0		 xor	 eax, eax
  000d1	5b		 pop	 ebx

; 480  : }

  000d2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000d5	33 cd		 xor	 ecx, ebp
  000d7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000dc	8b e5		 mov	 esp, ebp
  000de	5d		 pop	 ebp
  000df	c2 10 00	 ret	 16			; 00000010H
$LN32@MsgProc:

; 347  : 	HDC hdc;
; 348  : 	PAINTSTRUCT ps;
; 349  : 
; 350  : 	switch(uMsg)

  000e2	81 ff 14 02 00
	00		 cmp	 edi, 532		; 00000214H
  000e8	0f 87 2b 02 00
	00		 ja	 $LN33@MsgProc
  000ee	0f 84 15 02 00
	00		 je	 $LN6@MsgProc
  000f4	83 ff 20	 cmp	 edi, 32			; 00000020H
  000f7	0f 84 eb 01 00
	00		 je	 $LN5@MsgProc
  000fd	81 ff 11 01 00
	00		 cmp	 edi, 273		; 00000111H
  00103	0f 85 c0 02 00
	00		 jne	 $LN37@MsgProc

; 373  : 
; 374  : 		case WM_COMMAND:
; 375  : 		{
; 376  : 			switch(LOWORD(wParam))

  00109	0f b7 45 10	 movzx	 eax, WORD PTR _wParam$[ebp]
  0010d	05 48 f4 ff ff	 add	 eax, -3000		; fffff448H
  00112	83 f8 05	 cmp	 eax, 5
  00115	0f 87 ae 02 00
	00		 ja	 $LN37@MsgProc
  0011b	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN40@MsgProc[eax*4]
$LN17@MsgProc:

; 377  : 			{
; 378  : 				case IDM_WINCONS_EXIT:
; 379  : 					if ( MessageBox(hWnd, "Do you want to quit?", "MU Console Window", 
; 380  : 							MB_YESNO | MB_ICONQUESTION) == IDYES )

  00122	6a 24		 push	 36			; 00000024H
  00124	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@EBAFCIDC@MU?5Console?5Window?$AA@
  00129	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@MPHFEAKA@Do?5you?5want?5to?5quit?$DP?$AA@
  0012e	53		 push	 ebx
  0012f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
  00135	83 f8 06	 cmp	 eax, 6
  00138	0f 85 8b 02 00
	00		 jne	 $LN37@MsgProc

; 381  : 					{
; 382  : 						StopConsole();

  0013e	e8 00 00 00 00	 call	 ?StopConsole@CWinConsole@@SAXXZ ; CWinConsole::StopConsole
  00143	5f		 pop	 edi
  00144	5e		 pop	 esi

; 383  : 						return 0;

  00145	33 c0		 xor	 eax, eax
  00147	5b		 pop	 ebx

; 480  : }

  00148	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0014b	33 cd		 xor	 ecx, ebp
  0014d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00152	8b e5		 mov	 esp, ebp
  00154	5d		 pop	 ebp
  00155	c2 10 00	 ret	 16			; 00000010H
$LN15@MsgProc:

; 384  : 					}
; 385  : 				break;
; 386  : 
; 387  : 				case IDM_WINCONS_SAVE:
; 388  : 				{
; 389  : 					char szFullPath[1024] = {0};

  00158	68 ff 03 00 00	 push	 1023			; 000003ffH
  0015d	33 f6		 xor	 esi, esi
  0015f	8d 8d fd fb ff
	ff		 lea	 ecx, DWORD PTR _szFullPath$188499[ebp+1]
  00165	56		 push	 esi
  00166	51		 push	 ecx
  00167	c6 85 fc fb ff
	ff 00		 mov	 BYTE PTR _szFullPath$188499[ebp], 0
  0016e	e8 00 00 00 00	 call	 _memset

; 390  : 					char szFileName[1024] = {0};	// not used
; 391  : 					OPENFILENAME ofn;
; 392  : 					ZeroMemory(&ofn, sizeof(ofn));

  00173	6a 58		 push	 88			; 00000058H
  00175	8d 95 64 fb ff
	ff		 lea	 edx, DWORD PTR _ofn$188501[ebp]
  0017b	56		 push	 esi
  0017c	52		 push	 edx
  0017d	e8 00 00 00 00	 call	 _memset
  00182	83 c4 18	 add	 esp, 24			; 00000018H

; 393  : 					ofn.lStructSize = sizeof(ofn);
; 394  : 					ofn.hwndOwner = NULL;
; 395  : 					ofn.hInstance = NULL;
; 396  : 					ofn.lpstrFilter = "MU LOG Files (*.txt)";
; 397  : 					ofn.lpstrDefExt = "txt";
; 398  : 					ofn.lpstrFile = szFullPath;
; 399  : 					ofn.nMaxFile = sizeof(szFullPath);	// in asm value 1280 is used
; 400  : 
; 401  : 					if ( GetSaveFileName(&ofn) != 0 )

  00185	8d 8d 64 fb ff
	ff		 lea	 ecx, DWORD PTR _ofn$188501[ebp]
  0018b	8d 85 fc fb ff
	ff		 lea	 eax, DWORD PTR _szFullPath$188499[ebp]
  00191	51		 push	 ecx
  00192	c7 85 64 fb ff
	ff 58 00 00 00	 mov	 DWORD PTR _ofn$188501[ebp], 88 ; 00000058H
  0019c	89 b5 68 fb ff
	ff		 mov	 DWORD PTR _ofn$188501[ebp+4], esi
  001a2	89 b5 6c fb ff
	ff		 mov	 DWORD PTR _ofn$188501[ebp+8], esi
  001a8	c7 85 70 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _ofn$188501[ebp+12], OFFSET ??_C@_0BF@DGNPBKOC@MU?5LOG?5Files?5?$CI?$CK?4txt?$CJ?$AA@
  001b2	c7 85 a0 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _ofn$188501[ebp+60], OFFSET ??_C@_03CLFHJCDC@txt?$AA@
  001bc	89 85 80 fb ff
	ff		 mov	 DWORD PTR _ofn$188501[ebp+28], eax
  001c2	c7 85 84 fb ff
	ff 00 04 00 00	 mov	 DWORD PTR _ofn$188501[ebp+32], 1024 ; 00000400H
  001cc	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetSaveFileNameA@4
  001d2	85 c0		 test	 eax, eax
  001d4	0f 84 ef 01 00
	00		 je	 $LN37@MsgProc

; 402  : 						g_Console->SaveDbgWnd(szFullPath);

  001da	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  001e0	8d 95 fc fb ff
	ff		 lea	 edx, DWORD PTR _szFullPath$188499[ebp]
  001e6	52		 push	 edx
  001e7	e8 00 00 00 00	 call	 ?SaveDbgWnd@CWinConsole@@QAEXPBD@Z ; CWinConsole::SaveDbgWnd

; 403  : 				}
; 404  : 				break;

  001ec	e9 d8 01 00 00	 jmp	 $LN37@MsgProc
$LN13@MsgProc:

; 405  : 
; 406  : 				case IDM_WINCONS_CLEAR:
; 407  : 					CWinConsole::ClearDbgWnd();

  001f1	e8 00 00 00 00	 call	 ?ClearDbgWnd@CWinConsole@@SAXXZ ; CWinConsole::ClearDbgWnd

; 408  : 				break;

  001f6	e9 ce 01 00 00	 jmp	 $LN37@MsgProc
$LN12@MsgProc:

; 409  : 
; 410  : 				case IDM_WINCONS_DEBUG:
; 411  : 					if ( CWinConsole::EnableWinConsoleOption(2) )

  001fb	6a 02		 push	 2
  001fd	e8 00 00 00 00	 call	 ?EnableWinConsoleOption@CWinConsole@@SA_NK@Z ; CWinConsole::EnableWinConsoleOption

; 412  : 					{
; 413  : 						CheckMenuItem(g_Console->GetSubMenu(), IDM_WINCONS_DEBUG, MF_UNCHECKED);

  00202	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00208	83 c4 04	 add	 esp, 4
  0020b	84 c0		 test	 al, al
  0020d	74 25		 je	 SHORT $LN11@MsgProc
  0020f	6a 00		 push	 0
  00211	68 bc 0b 00 00	 push	 3004			; 00000bbcH
  00216	e8 00 00 00 00	 call	 ?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ ; CWinConsole::GetSubMenu
  0021b	50		 push	 eax
  0021c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CheckMenuItem@12

; 414  : 						g_Console->SubtractWinConsoleOption(2);

  00222	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00228	6a 02		 push	 2
  0022a	e8 00 00 00 00	 call	 ?SubtractWinConsoleOption@CWinConsole@@QAEXK@Z ; CWinConsole::SubtractWinConsoleOption

; 415  : 					}
; 416  : 					else

  0022f	e9 95 01 00 00	 jmp	 $LN37@MsgProc
$LN11@MsgProc:

; 417  : 					{
; 418  : 						CheckMenuItem(g_Console->GetSubMenu(), IDM_WINCONS_DEBUG, MF_CHECKED);

  00234	6a 08		 push	 8
  00236	68 bc 0b 00 00	 push	 3004			; 00000bbcH
  0023b	e8 00 00 00 00	 call	 ?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ ; CWinConsole::GetSubMenu
  00240	50		 push	 eax
  00241	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CheckMenuItem@12

; 419  : 						g_Console->AddWinConsoleOption(2);

  00247	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  0024d	6a 02		 push	 2
  0024f	e8 00 00 00 00	 call	 ?AddWinConsoleOption@CWinConsole@@QAEXK@Z ; CWinConsole::AddWinConsoleOption

; 420  : 					}
; 421  : 				break;

  00254	e9 70 01 00 00	 jmp	 $LN37@MsgProc
$LN9@MsgProc:

; 422  : 
; 423  : 				case IDM_WINCONS_TOPMOST:
; 424  : 					if ( CWinConsole::EnableWinConsoleOption(4) )

  00259	6a 04		 push	 4
  0025b	e8 00 00 00 00	 call	 ?EnableWinConsoleOption@CWinConsole@@SA_NK@Z ; CWinConsole::EnableWinConsoleOption

; 425  : 					{
; 426  : 						CheckMenuItem(g_Console->GetSubMenu(), IDM_WINCONS_TOPMOST, MF_UNCHECKED);

  00260	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00266	83 c4 04	 add	 esp, 4
  00269	84 c0		 test	 al, al
  0026b	74 3d		 je	 SHORT $LN8@MsgProc
  0026d	6a 00		 push	 0
  0026f	68 bd 0b 00 00	 push	 3005			; 00000bbdH
  00274	e8 00 00 00 00	 call	 ?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ ; CWinConsole::GetSubMenu
  00279	50		 push	 eax
  0027a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CheckMenuItem@12

; 427  : 						g_Console->SubtractWinConsoleOption(2); // bug? maybe 4

  00280	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00286	6a 02		 push	 2
  00288	e8 00 00 00 00	 call	 ?SubtractWinConsoleOption@CWinConsole@@QAEXK@Z ; CWinConsole::SubtractWinConsoleOption

; 428  : 
; 429  : 						SetWindowPos(CWinConsole::m_hWnd, (HWND)HWND_NOTOPMOST, 
; 430  : 								0, 0, 0, 0, SWP_NOACTIVATE|SWP_NOMOVE|SWP_NOSIZE);

  0028d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00292	6a 13		 push	 19			; 00000013H
  00294	6a 00		 push	 0
  00296	6a 00		 push	 0
  00298	6a 00		 push	 0
  0029a	6a 00		 push	 0
  0029c	6a fe		 push	 -2			; fffffffeH
  0029e	50		 push	 eax
  0029f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28

; 431  : 					}
; 432  : 					else

  002a5	e9 1f 01 00 00	 jmp	 $LN37@MsgProc
$LN8@MsgProc:

; 433  : 					{
; 434  : 						CheckMenuItem(g_Console->GetSubMenu(), IDM_WINCONS_TOPMOST, MF_CHECKED);

  002aa	6a 08		 push	 8
  002ac	68 bd 0b 00 00	 push	 3005			; 00000bbdH
  002b1	e8 00 00 00 00	 call	 ?GetSubMenu@CWinConsole@@QAEPAUHMENU__@@XZ ; CWinConsole::GetSubMenu
  002b6	50		 push	 eax
  002b7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CheckMenuItem@12

; 435  : 						g_Console->AddWinConsoleOption(4);

  002bd	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  002c3	6a 04		 push	 4
  002c5	e8 00 00 00 00	 call	 ?AddWinConsoleOption@CWinConsole@@QAEXK@Z ; CWinConsole::AddWinConsoleOption

; 436  : 
; 437  : 						SetWindowPos(CWinConsole::m_hWnd, (HWND)HWND_TOPMOST, 
; 438  : 								0, 0, 0, 0, SWP_NOACTIVATE|SWP_NOMOVE|SWP_NOSIZE);

  002ca	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  002d0	6a 13		 push	 19			; 00000013H
  002d2	6a 00		 push	 0
  002d4	6a 00		 push	 0
  002d6	6a 00		 push	 0
  002d8	6a 00		 push	 0
  002da	6a ff		 push	 -1
  002dc	51		 push	 ecx
  002dd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28

; 439  : 					}
; 440  : 				break;
; 441  : 
; 442  : 			} //  switch(LOWORD(wParam))
; 443  : 
; 444  : 		}
; 445  : 		break; // case WM_COMMAND:

  002e3	e9 e1 00 00 00	 jmp	 $LN37@MsgProc
$LN5@MsgProc:

; 452  : 
; 453  : 		case WM_SETCURSOR:
; 454  : 			SetCursor(LoadCursor(NULL, (LPCSTR)IDC_ARROW));

  002e8	68 00 7f 00 00	 push	 32512			; 00007f00H
  002ed	6a 00		 push	 0
  002ef	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadCursorA@8
  002f5	50		 push	 eax
  002f6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetCursor@4

; 455  : 			ShowCursor(TRUE);

  002fc	6a 01		 push	 1
  002fe	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ShowCursor@4

; 456  : 		break;

  00304	e9 c0 00 00 00	 jmp	 $LN37@MsgProc
$LN6@MsgProc:

; 446  : 
; 447  : 
; 448  : 		case WM_SIZING:
; 449  : 		case WM_SIZE:
; 450  : 			g_Console->ResizeControls();

  00309	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  0030f	e8 00 00 00 00	 call	 ?ResizeControls@CWinConsole@@AAEXXZ ; CWinConsole::ResizeControls

; 451  : 		break;

  00314	e9 b0 00 00 00	 jmp	 $LN37@MsgProc
$LN33@MsgProc:

; 347  : 	HDC hdc;
; 348  : 	PAINTSTRUCT ps;
; 349  : 
; 350  : 	switch(uMsg)

  00319	81 ff 04 04 00
	00		 cmp	 edi, 1028		; 00000404H
  0031f	0f 85 a4 00 00
	00		 jne	 $LN37@MsgProc

; 457  : 
; 458  : 		case 1028:	// 0x404
; 459  : 			CWinConsole::Write(CWinConsole::m_CommandBuffer);

  00325	68 00 00 00 00	 push	 OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  0032a	e8 00 00 00 00	 call	 ?Write@CWinConsole@@SAXPBDZZ ; CWinConsole::Write

; 460  : 
; 461  : 			if ( g_Console->m_pScriptContext )

  0032f	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00335	83 c4 04	 add	 esp, 4
  00338	83 7e 14 00	 cmp	 DWORD PTR [esi+20], 0
  0033c	74 77		 je	 SHORT $LN36@MsgProc

; 462  : 			{
; 463  : 				if ( luaL_loadbuffer(g_Console->m_pScriptContext, CWinConsole::m_CommandBuffer, strlen(CWinConsole::m_CommandBuffer), NULL) )

  0033e	b8 00 00 00 00	 mov	 eax, OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  00343	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
$LL35@MsgProc:
  00346	8a 08		 mov	 cl, BYTE PTR [eax]
  00348	40		 inc	 eax
  00349	84 c9		 test	 cl, cl
  0034b	75 f9		 jne	 SHORT $LL35@MsgProc
  0034d	2b c2		 sub	 eax, edx
  0034f	8b 56 14	 mov	 edx, DWORD PTR [esi+20]
  00352	6a 00		 push	 0
  00354	50		 push	 eax
  00355	68 00 00 00 00	 push	 OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  0035a	52		 push	 edx
  0035b	e8 00 00 00 00	 call	 _luaL_loadbuffer
  00360	83 c4 10	 add	 esp, 16			; 00000010H
  00363	85 c0		 test	 eax, eax
  00365	74 0d		 je	 SHORT $LN2@MsgProc

; 464  : 					CWinConsole::Write("Error loading Command\n");

  00367	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@CDHCBCKF@Error?5loading?5Command?6?$AA@
  0036c	e8 00 00 00 00	 call	 ?Write@CWinConsole@@SAXPBDZZ ; CWinConsole::Write
  00371	83 c4 04	 add	 esp, 4
$LN2@MsgProc:

; 465  : 
; 466  : 				if ( lua_pcall(g_Console->m_pScriptContext, 0, -1, 0) )

  00374	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00379	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  0037c	6a 00		 push	 0
  0037e	6a ff		 push	 -1
  00380	6a 00		 push	 0
  00382	51		 push	 ecx
  00383	e8 00 00 00 00	 call	 _lua_pcall
  00388	83 c4 10	 add	 esp, 16			; 00000010H
  0038b	85 c0		 test	 eax, eax
  0038d	74 26		 je	 SHORT $LN36@MsgProc

; 467  : 				{
; 468  : 					CWinConsole::Write("Error in Command\n");

  0038f	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@CFFFCCA@Error?5in?5Command?6?$AA@
  00394	e8 00 00 00 00	 call	 ?Write@CWinConsole@@SAXPBDZZ ; CWinConsole::Write

; 469  : 					CWinConsole::Write(luaL_checklstring(g_Console->m_pScriptContext, -1, NULL));

  00399	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  0039f	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  003a2	6a 00		 push	 0
  003a4	6a ff		 push	 -1
  003a6	50		 push	 eax
  003a7	e8 00 00 00 00	 call	 _luaL_checklstring
  003ac	50		 push	 eax
  003ad	e8 00 00 00 00	 call	 ?Write@CWinConsole@@SAXPBDZZ ; CWinConsole::Write
  003b2	83 c4 14	 add	 esp, 20			; 00000014H
$LN36@MsgProc:

; 470  : 				}
; 471  : 			}
; 472  : 
; 473  : 			ZeroMemory(CWinConsole::m_CommandBuffer, sizeof(CWinConsole::m_CommandBuffer));

  003b5	68 00 04 00 00	 push	 1024			; 00000400H
  003ba	6a 00		 push	 0
  003bc	68 00 00 00 00	 push	 OFFSET ?m_CommandBuffer@CWinConsole@@0PADA ; CWinConsole::m_CommandBuffer
  003c1	e8 00 00 00 00	 call	 _memset
  003c6	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN37@MsgProc:

; 474  : 		break;
; 475  : 
; 476  : 	} // switch(uMsg)
; 477  : 
; 478  : 
; 479  : 	return DefWindowProc(hWnd, uMsg, wParam, lParam);

  003c9	8b 4d 14	 mov	 ecx, DWORD PTR _lParam$[ebp]
  003cc	8b 55 10	 mov	 edx, DWORD PTR _wParam$[ebp]
  003cf	51		 push	 ecx
  003d0	52		 push	 edx
  003d1	57		 push	 edi
  003d2	53		 push	 ebx
  003d3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DefWindowProcA@16

; 480  : }

  003d9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003dc	5f		 pop	 edi
  003dd	5e		 pop	 esi
  003de	33 cd		 xor	 ecx, ebp
  003e0	5b		 pop	 ebx
  003e1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003e6	8b e5		 mov	 esp, ebp
  003e8	5d		 pop	 ebp
  003e9	c2 10 00	 ret	 16			; 00000010H
$LN39@MsgProc:
  003ec	00 00 00 00	 DD	 $LN23@MsgProc
  003f0	00 00 00 00	 DD	 $LN6@MsgProc
  003f4	00 00 00 00	 DD	 $LN24@MsgProc
  003f8	00 00 00 00	 DD	 $LN21@MsgProc
  003fc	00 00 00 00	 DD	 $LN22@MsgProc
  00400	00 00 00 00	 DD	 $LN37@MsgProc
$LN34@MsgProc:
  00404	00		 DB	 0
  00405	05		 DB	 5
  00406	05		 DB	 5
  00407	01		 DB	 1
  00408	02		 DB	 2
  00409	05		 DB	 5
  0040a	05		 DB	 5
  0040b	05		 DB	 5
  0040c	05		 DB	 5
  0040d	05		 DB	 5
  0040e	05		 DB	 5
  0040f	05		 DB	 5
  00410	05		 DB	 5
  00411	03		 DB	 3
  00412	04		 DB	 4
  00413	90		 npad	 1
$LN40@MsgProc:
  00414	00 00 00 00	 DD	 $LN17@MsgProc
  00418	00 00 00 00	 DD	 $LN15@MsgProc
  0041c	00 00 00 00	 DD	 $LN13@MsgProc
  00420	00 00 00 00	 DD	 $LN37@MsgProc
  00424	00 00 00 00	 DD	 $LN12@MsgProc
  00428	00 00 00 00	 DD	 $LN9@MsgProc
?MsgProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z ENDP		; CWinConsole::MsgProc
_TEXT	ENDS
PUBLIC	??_C@_04BMCEDOKO@EDIT?$AA@			; `string'
PUBLIC	??_C@_07EKEMFJNL@LISTBOX?$AA@			; `string'
PUBLIC	??_C@_0O@FACHKEOH@MU?5WinConsole?$AA@		; `string'
PUBLIC	??_C@_0L@BAMMLEPM@WinConsole?$AA@		; `string'
PUBLIC	??_C@_0O@GINGKKJL@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?$CI?$CGC?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@LJCAFLIC@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?$LO?$LH?a?$CI?$CGX?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BF@DPLOAIKO@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?v?$LP?l?$LB?b?$CI?$CGC?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@LNIHMAIE@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?$MA?z?$MA?e?$CI?$CGS?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@HLCIKHDM@?$LF?p?$LJ?v?$LB?W?C?$KC?5?C?b?$LH?B?$CI?$CGD?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BF@DJIBBDKI@?$MA?$KJ?$LF?$LF?5?G?W?$LL?s?5?C?V?$LL?s?$MA?$KH?$CI?$CGT?$CJ?$AA@ ; `string'
PUBLIC	?Init@CWinConsole@@AAEXPAUHINSTANCE__@@@Z	; CWinConsole::Init
EXTRN	__imp__SetWindowLongA@12:PROC
EXTRN	__imp__ShowWindow@8:PROC
EXTRN	__imp__UpdateWindow@4:PROC
EXTRN	__imp__CreateWindowExA@48:PROC
EXTRN	__imp__RegisterClassA@4:PROC
EXTRN	__imp__GetStockObject@4:PROC
EXTRN	__imp__InsertMenuA@20:PROC
EXTRN	__imp__AppendMenuA@16:PROC
EXTRN	__imp__CreatePopupMenu@0:PROC
EXTRN	__imp__CreateMenu@0:PROC
;	COMDAT ??_C@_04BMCEDOKO@EDIT?$AA@
CONST	SEGMENT
??_C@_04BMCEDOKO@EDIT?$AA@ DB 'EDIT', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_07EKEMFJNL@LISTBOX?$AA@
CONST	SEGMENT
??_C@_07EKEMFJNL@LISTBOX?$AA@ DB 'LISTBOX', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@FACHKEOH@MU?5WinConsole?$AA@
CONST	SEGMENT
??_C@_0O@FACHKEOH@MU?5WinConsole?$AA@ DB 'MU WinConsole', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@BAMMLEPM@WinConsole?$AA@
CONST	SEGMENT
??_C@_0L@BAMMLEPM@WinConsole?$AA@ DB 'WinConsole', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@GINGKKJL@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?$CI?$CGC?$CJ?$AA@
CONST	SEGMENT
??_C@_0O@GINGKKJL@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?$CI?$CGC?$CJ?$AA@ DB 0c4H
	DB	0dcH, 0bcH, 0d6H, ' ', 0c0H, 0a9H, 0b5H, 0b5H, '(&C)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@LJCAFLIC@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?$LO?$LH?a?$CI?$CGX?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@LJCAFLIC@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?$LO?$LH?a?$CI?$CGX?$CJ?$AA@ DB 0c4H
	DB	0dcH, 0bcH, 0d6H, ' ', 0c0H, 0a9H, 0b5H, 0b5H, ' ', 0c1H, 0beH
	DB	0b7H, 0e1H, '(&X)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@DPLOAIKO@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?v?$LP?l?$LB?b?$CI?$CGC?$CJ?$AA@
CONST	SEGMENT
??_C@_0BF@DPLOAIKO@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?v?$LP?l?$LB?b?$CI?$CGC?$CJ?$AA@ DB 0c4H
	DB	0dcH, 0bcH, 0d6H, ' ', 0c0H, 0a9H, 0b5H, 0b5H, ' ', 0c1H, 0f6H
	DB	0bfH, 0ecH, 0b1H, 0e2H, '(&C)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@LNIHMAIE@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?$MA?z?$MA?e?$CI?$CGS?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@LNIHMAIE@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?$MA?z?$MA?e?$CI?$CGS?$CJ?$AA@ DB 0c4H
	DB	0dcH, 0bcH, 0d6H, ' ', 0c0H, 0a9H, 0b5H, 0b5H, ' ', 0c0H, 0faH
	DB	0c0H, 0e5H, '(&S)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@HLCIKHDM@?$LF?p?$LJ?v?$LB?W?C?$KC?5?C?b?$LH?B?$CI?$CGD?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@HLCIKHDM@?$LF?p?$LJ?v?$LB?W?C?$KC?5?C?b?$LH?B?$CI?$CGD?$CJ?$AA@ DB 0b5H
	DB	0f0H, 0b9H, 0f6H, 0b1H, 0d7H, 0c3H, 0a2H, ' ', 0c3H, 0e2H, 0b7H
	DB	0c2H, '(&D)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@DJIBBDKI@?$MA?$KJ?$LF?$LF?5?G?W?$LL?s?5?C?V?$LL?s?$MA?$KH?$CI?$CGT?$CJ?$AA@
CONST	SEGMENT
??_C@_0BF@DJIBBDKI@?$MA?$KJ?$LF?$LF?5?G?W?$LL?s?5?C?V?$LL?s?$MA?$KH?$CI?$CGT?$CJ?$AA@ DB 0c0H
	DB	0a9H, 0b5H, 0b5H, ' ', 0c7H, 0d7H, 0bbH, 0f3H, ' ', 0c3H, 0d6H
	DB	0bbH, 0f3H, 0c0H, 0a7H, '(&T)', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Init@CWinConsole@@AAEXPAUHINSTANCE__@@@Z
_TEXT	SEGMENT
_WndClass$ = -40					; size = 40
_hInstance$ = 8						; size = 4
?Init@CWinConsole@@AAEXPAUHINSTANCE__@@@Z PROC		; CWinConsole::Init, COMDAT
; _this$ = ecx

; 668  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 28	 sub	 esp, 40			; 00000028H

; 669  : 	WNDCLASS WndClass;
; 670  : 	m_hInstance = hInstance;

  00006	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	8b f1		 mov	 esi, ecx

; 671  : 
; 672  : 	m_ScrollyPos = 0;

  0000d	33 db		 xor	 ebx, ebx
  0000f	57		 push	 edi
  00010	89 46 04	 mov	 DWORD PTR [esi+4], eax
  00013	89 5e 18	 mov	 DWORD PTR [esi+24], ebx

; 673  : 	m_hMainMenu = CreateMenu();

  00016	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateMenu@0
  0001c	89 46 08	 mov	 DWORD PTR [esi+8], eax

; 674  : 	m_hSubMenu = CreatePopupMenu();

  0001f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreatePopupMenu@0

; 675  : 
; 676  : 	AppendMenuA(m_hSubMenu, 0, IDM_WINCONS_TOPMOST, "  (&T)");	// [T]opmost ?

  00025	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR __imp__AppendMenuA@16
  0002b	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@DJIBBDKI@?$MA?$KJ?$LF?$LF?5?G?W?$LL?s?5?C?V?$LL?s?$MA?$KH?$CI?$CGT?$CJ?$AA@
  00030	68 bd 0b 00 00	 push	 3005			; 00000bbdH
  00035	53		 push	 ebx
  00036	50		 push	 eax
  00037	89 46 0c	 mov	 DWORD PTR [esi+12], eax
  0003a	ff d7		 call	 edi

; 677  : 	AppendMenuA(m_hSubMenu, MF_SEPARATOR, 0, 0);

  0003c	8b 4e 0c	 mov	 ecx, DWORD PTR [esi+12]
  0003f	53		 push	 ebx
  00040	53		 push	 ebx
  00041	68 00 08 00 00	 push	 2048			; 00000800H
  00046	51		 push	 ecx
  00047	ff d7		 call	 edi

; 678  : 	AppendMenuA(m_hSubMenu, 0, IDM_WINCONS_DEBUG, " (&D)");			// [D]ebugOut ?

  00049	8b 56 0c	 mov	 edx, DWORD PTR [esi+12]
  0004c	68 00 00 00 00	 push	 OFFSET ??_C@_0BC@HLCIKHDM@?$LF?p?$LJ?v?$LB?W?C?$KC?5?C?b?$LH?B?$CI?$CGD?$CJ?$AA@
  00051	68 bc 0b 00 00	 push	 3004			; 00000bbcH
  00056	53		 push	 ebx
  00057	52		 push	 edx
  00058	ff d7		 call	 edi

; 679  : 	AppendMenuA(m_hSubMenu, MF_SEPARATOR, 0, 0);

  0005a	8b 46 0c	 mov	 eax, DWORD PTR [esi+12]
  0005d	53		 push	 ebx
  0005e	53		 push	 ebx
  0005f	68 00 08 00 00	 push	 2048			; 00000800H
  00064	50		 push	 eax
  00065	ff d7		 call	 edi

; 680  : 	AppendMenuA(m_hSubMenu, 0, IDM_WINCONS_SAVE, "  (&S)");			// [S]ave ?

  00067	8b 4e 0c	 mov	 ecx, DWORD PTR [esi+12]
  0006a	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@LNIHMAIE@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?$MA?z?$MA?e?$CI?$CGS?$CJ?$AA@
  0006f	68 b9 0b 00 00	 push	 3001			; 00000bb9H
  00074	53		 push	 ebx
  00075	51		 push	 ecx
  00076	ff d7		 call	 edi

; 681  : 	AppendMenuA(m_hSubMenu, 0, IDM_WINCONS_CLEAR, "  (&C)");		// [C]lear ?

  00078	8b 56 0c	 mov	 edx, DWORD PTR [esi+12]
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_0BF@DPLOAIKO@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?v?$LP?l?$LB?b?$CI?$CGC?$CJ?$AA@
  00080	68 ba 0b 00 00	 push	 3002			; 00000bbaH
  00085	53		 push	 ebx
  00086	52		 push	 edx
  00087	ff d7		 call	 edi

; 682  : 	AppendMenuA(m_hSubMenu, MF_SEPARATOR, 0, 0);

  00089	8b 46 0c	 mov	 eax, DWORD PTR [esi+12]
  0008c	53		 push	 ebx
  0008d	53		 push	 ebx
  0008e	68 00 08 00 00	 push	 2048			; 00000800H
  00093	50		 push	 eax
  00094	ff d7		 call	 edi

; 683  : 	AppendMenuA(m_hSubMenu, 0, IDM_WINCONS_EXIT, "  (&X)");			// e[X]it ?

  00096	8b 4e 0c	 mov	 ecx, DWORD PTR [esi+12]
  00099	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@LJCAFLIC@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?5?A?$LO?$LH?a?$CI?$CGX?$CJ?$AA@
  0009e	68 b8 0b 00 00	 push	 3000			; 00000bb8H
  000a3	53		 push	 ebx
  000a4	51		 push	 ecx
  000a5	ff d7		 call	 edi

; 684  : 	InsertMenuA(m_hMainMenu, 0, MF_POPUP, (UINT_PTR)m_hSubMenu, " (&C)"); // no idea

  000a7	8b 56 0c	 mov	 edx, DWORD PTR [esi+12]
  000aa	8b 46 08	 mov	 eax, DWORD PTR [esi+8]
  000ad	68 00 00 00 00	 push	 OFFSET ??_C@_0O@GINGKKJL@?D?$NM?$LM?V?5?$MA?$KJ?$LF?$LF?$CI?$CGC?$CJ?$AA@
  000b2	52		 push	 edx
  000b3	6a 10		 push	 16			; 00000010H
  000b5	53		 push	 ebx
  000b6	50		 push	 eax
  000b7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InsertMenuA@20

; 685  : 
; 686  : 
; 687  : 	WndClass.style = 0;
; 688  : 	WndClass.lpfnWndProc = (WNDPROC)CWinConsole::MsgProc;
; 689  : 	WndClass.cbClsExtra = 0;
; 690  : 	WndClass.cbWndExtra = 4;			// ??
; 691  : 	WndClass.hInstance = m_hInstance;

  000bd	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]

; 692  : 	WndClass.hIcon = NULL;
; 693  : 	WndClass.hCursor = LoadCursor(NULL, (LPCSTR)IDC_ARROW);

  000c0	68 00 7f 00 00	 push	 32512			; 00007f00H
  000c5	53		 push	 ebx
  000c6	89 5d d8	 mov	 DWORD PTR _WndClass$[ebp], ebx
  000c9	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _WndClass$[ebp+4], OFFSET ?MsgProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z ; CWinConsole::MsgProc
  000d0	89 5d e0	 mov	 DWORD PTR _WndClass$[ebp+8], ebx
  000d3	c7 45 e4 04 00
	00 00		 mov	 DWORD PTR _WndClass$[ebp+12], 4
  000da	89 4d e8	 mov	 DWORD PTR _WndClass$[ebp+16], ecx
  000dd	89 5d ec	 mov	 DWORD PTR _WndClass$[ebp+20], ebx
  000e0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadCursorA@8

; 694  : 	WndClass.hbrBackground = (HBRUSH)GetStockObject(WHITE_BRUSH);

  000e6	53		 push	 ebx
  000e7	89 45 f0	 mov	 DWORD PTR _WndClass$[ebp+24], eax
  000ea	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetStockObject@4

; 695  : 	WndClass.lpszMenuName = NULL;
; 696  : 	WndClass.lpszClassName = "WinConsole";
; 697  : 	RegisterClass(&WndClass);

  000f0	8d 55 d8	 lea	 edx, DWORD PTR _WndClass$[ebp]
  000f3	52		 push	 edx
  000f4	89 45 f4	 mov	 DWORD PTR _WndClass$[ebp+28], eax
  000f7	89 5d f8	 mov	 DWORD PTR _WndClass$[ebp+32], ebx
  000fa	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _WndClass$[ebp+36], OFFSET ??_C@_0L@BAMMLEPM@WinConsole?$AA@
  00101	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__RegisterClassA@4

; 698  : 
; 699  : 	CWinConsole::m_hWnd = CreateWindowEx(0, "WinConsole", "MU WinConsole",
; 700  : 							WS_OVERLAPPEDWINDOW,
; 701  : 							0, 0, 640, 480,
; 702  : 							NULL, m_hMainMenu, m_hInstance, NULL);

  00107	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  0010a	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  0010d	53		 push	 ebx
  0010e	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR __imp__CreateWindowExA@48
  00114	50		 push	 eax
  00115	51		 push	 ecx
  00116	53		 push	 ebx
  00117	68 e0 01 00 00	 push	 480			; 000001e0H
  0011c	68 80 02 00 00	 push	 640			; 00000280H
  00121	53		 push	 ebx
  00122	53		 push	 ebx
  00123	68 00 00 cf 00	 push	 13565952		; 00cf0000H
  00128	68 00 00 00 00	 push	 OFFSET ??_C@_0O@FACHKEOH@MU?5WinConsole?$AA@
  0012d	68 00 00 00 00	 push	 OFFSET ??_C@_0L@BAMMLEPM@WinConsole?$AA@
  00132	53		 push	 ebx
  00133	ff d7		 call	 edi

; 703  : 
; 704  : 	UpdateWindow(CWinConsole::m_hWnd);

  00135	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR __imp__UpdateWindow@4
  0013b	a3 00 00 00 00	 mov	 DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A, eax ; CWinConsole::m_hWnd
  00140	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00146	52		 push	 edx
  00147	ff d3		 call	 ebx

; 705  : 
; 706  : 
; 707  : 	CWinConsole::m_hListBox = CreateWindowEx(0, "LISTBOX", "",
; 708  : 					WS_CHILD|WS_VSCROLL|WS_HSCROLL|WS_BORDER|(LBS_HASSTRINGS | LBS_USETABSTOPS),
; 709  : 					2, 2, 636, 462,
; 710  : 					CWinConsole::m_hWnd, 
; 711  : 					(HMENU)0xA7, m_hInstance, NULL);

  00149	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  0014c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00152	6a 00		 push	 0
  00154	50		 push	 eax
  00155	68 a7 00 00 00	 push	 167			; 000000a7H
  0015a	51		 push	 ecx
  0015b	68 ce 01 00 00	 push	 462			; 000001ceH
  00160	68 7c 02 00 00	 push	 636			; 0000027cH
  00165	6a 02		 push	 2
  00167	6a 02		 push	 2
  00169	68 c0 00 b0 40	 push	 1085276352		; 40b000c0H
  0016e	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  00173	68 00 00 00 00	 push	 OFFSET ??_C@_07EKEMFJNL@LISTBOX?$AA@
  00178	6a 00		 push	 0
  0017a	ff d7		 call	 edi
  0017c	a3 00 00 00 00	 mov	 DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A, eax ; CWinConsole::m_hListBox

; 712  : 
; 713  : 	ShowWindow(CWinConsole::m_hListBox, SW_SHOW);

  00181	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  00187	6a 05		 push	 5
  00189	52		 push	 edx
  0018a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ShowWindow@8

; 714  : 	UpdateWindow(CWinConsole::m_hListBox);

  00190	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hListBox@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hListBox
  00195	50		 push	 eax
  00196	ff d3		 call	 ebx

; 715  : 
; 716  : 
; 717  : 	CWinConsole::m_MaxTextWidth = 320;
; 718  : 	CWinConsole::m_hEditControl = CreateWindowEx(0, "EDIT", "",
; 719  : 							WS_CHILD | ES_AUTOHSCROLL,
; 720  : 							2, 462, 636, 16,
; 721  : 							CWinConsole::m_hWnd,
; 722  : 							(HMENU)0xA7, m_hInstance, 0);

  00198	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  0019e	6a 00		 push	 0
  001a0	c7 05 00 00 00
	00 40 01 00 00	 mov	 DWORD PTR ?m_MaxTextWidth@CWinConsole@@0HA, 320 ; CWinConsole::m_MaxTextWidth, 00000140H
  001aa	8b 4e 04	 mov	 ecx, DWORD PTR [esi+4]
  001ad	51		 push	 ecx
  001ae	68 a7 00 00 00	 push	 167			; 000000a7H
  001b3	52		 push	 edx
  001b4	6a 10		 push	 16			; 00000010H
  001b6	68 7c 02 00 00	 push	 636			; 0000027cH
  001bb	68 ce 01 00 00	 push	 462			; 000001ceH
  001c0	6a 02		 push	 2
  001c2	68 80 00 00 40	 push	 1073741952		; 40000080H
  001c7	68 00 00 00 00	 push	 OFFSET ??_C@_00CNPNBAHC@?$AA@
  001cc	68 00 00 00 00	 push	 OFFSET ??_C@_04BMCEDOKO@EDIT?$AA@
  001d1	6a 00		 push	 0
  001d3	ff d7		 call	 edi
  001d5	a3 00 00 00 00	 mov	 DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A, eax ; CWinConsole::m_hEditControl

; 723  : 
; 724  : 	ShowWindow(CWinConsole::m_hEditControl, SW_SHOW);

  001da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  001df	6a 05		 push	 5
  001e1	50		 push	 eax
  001e2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ShowWindow@8

; 725  : 	UpdateWindow(CWinConsole::m_hEditControl);

  001e8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  001ee	51		 push	 ecx
  001ef	ff d3		 call	 ebx

; 726  : 
; 727  : 
; 728  : 	SendMessage(CWinConsole::m_hEditControl, EM_SETLIMITTEXT, WINCONSOLE_LINE_LENGTH, 0);

  001f1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  001f7	6a 00		 push	 0
  001f9	68 00 04 00 00	 push	 1024			; 00000400H
  001fe	68 c5 00 00 00	 push	 197			; 000000c5H
  00203	52		 push	 edx
  00204	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16

; 729  : 	m_ScrollyPos = 0;

  0020a	c7 46 18 00 00
	00 00		 mov	 DWORD PTR [esi+24], 0

; 730  : 
; 731  : 	lpfnInputEdit = (WNDPROC)SetWindowLong(
; 732  : 							CWinConsole::m_hEditControl,
; 733  : 							GWL_WNDPROC,
; 734  : 							(LONG)CWinConsole::SubclassInputEditProc);

  00211	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hEditControl@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hEditControl
  00216	68 00 00 00 00	 push	 OFFSET ?SubclassInputEditProc@CWinConsole@@SGJPAUHWND__@@IIJ@Z ; CWinConsole::SubclassInputEditProc
  0021b	6a fc		 push	 -4			; fffffffcH
  0021d	50		 push	 eax
  0021e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowLongA@12

; 735  : 
; 736  : 	g_Console->ResizeControls();

  00224	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  0022a	a3 00 00 00 00	 mov	 DWORD PTR ?lpfnInputEdit@@3P6GJPAUHWND__@@IIJ@ZA, eax ; lpfnInputEdit
  0022f	e8 00 00 00 00	 call	 ?ResizeControls@CWinConsole@@AAEXXZ ; CWinConsole::ResizeControls
  00234	5f		 pop	 edi
  00235	5e		 pop	 esi
  00236	5b		 pop	 ebx

; 737  : 
; 738  : }

  00237	8b e5		 mov	 esp, ebp
  00239	5d		 pop	 ebp
  0023a	c2 04 00	 ret	 4
?Init@CWinConsole@@AAEXPAUHINSTANCE__@@@Z ENDP		; CWinConsole::Init
_TEXT	ENDS
PUBLIC	??_C@_0L@HCMILMHJ@savedbgwnd?$AA@		; `string'
PUBLIC	??_C@_0M@LHGMPCPP@cleardbgwnd?$AA@		; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?StartConsole@CWinConsole@@SAPAUHWND__@@PAUHINSTANCE__@@PAUlua_State@@@Z ; CWinConsole::StartConsole
EXTRN	??2@YAPAXI@Z:PROC				; operator new
EXTRN	__imp__InitializeCriticalSection@4:PROC
;	COMDAT ??_C@_0L@HCMILMHJ@savedbgwnd?$AA@
CONST	SEGMENT
??_C@_0L@HCMILMHJ@savedbgwnd?$AA@ DB 'savedbgwnd', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@LHGMPCPP@cleardbgwnd?$AA@
CONST	SEGMENT
??_C@_0M@LHGMPCPP@cleardbgwnd?$AA@ DB 'cleardbgwnd', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?StartConsole@CWinConsole@@SAPAUHWND__@@PAUHINSTANCE__@@PAUlua_State@@@Z
_TEXT	SEGMENT
_DebugGlue$188427 = -28					; size = 24
__$ArrayPad$ = -4					; size = 4
_hInstance$ = 8						; size = 4
_pScriptContext$ = 12					; size = 4
?StartConsole@CWinConsole@@SAPAUHWND__@@PAUHINSTANCE__@@PAUlua_State@@@Z PROC ; CWinConsole::StartConsole, COMDAT

; 214  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	57		 push	 edi
  00012	8b 7d 0c	 mov	 edi, DWORD PTR _pScriptContext$[ebp]

; 215  : 
; 216  : 	// need to add exception handling
; 217  : 
; 218  : 	InitializeCriticalSection(&WinConCritical);

  00015	68 00 00 00 00	 push	 OFFSET ?WinConCritical@@3U_RTL_CRITICAL_SECTION@@A ; WinConCritical
  0001a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4

; 219  : 	if ( !g_Console )

  00020	33 db		 xor	 ebx, ebx
  00022	39 1d 00 00 00
	00		 cmp	 DWORD PTR ?g_Console@@3PAVCWinConsole@@A, ebx ; g_Console
  00028	75 23		 jne	 SHORT $LN6@StartConso

; 220  : 	{
; 221  : 		g_Console = new CWinConsole();

  0002a	6a 20		 push	 32			; 00000020H
  0002c	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  00031	83 c4 04	 add	 esp, 4
  00034	3b c3		 cmp	 eax, ebx
  00036	74 09		 je	 SHORT $LN9@StartConso
  00038	8b c8		 mov	 ecx, eax
  0003a	e8 00 00 00 00	 call	 ??0CWinConsole@@AAE@XZ	; CWinConsole::CWinConsole
  0003f	eb 02		 jmp	 SHORT $LN10@StartConso
$LN9@StartConso:
  00041	33 c0		 xor	 eax, eax
$LN10@StartConso:
  00043	a3 00 00 00 00	 mov	 DWORD PTR ?g_Console@@3PAVCWinConsole@@A, eax ; g_Console

; 222  : 		CWinConsole::CreateDbgFile();

  00048	e8 00 00 00 00	 call	 ?CreateDbgFile@CWinConsole@@SAXXZ ; CWinConsole::CreateDbgFile
$LN6@StartConso:

; 223  : 	}
; 224  : 
; 225  : 	if ( !CWinConsole::m_hWnd )

  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd
  00052	85 c0		 test	 eax, eax
  00054	75 0f		 jne	 SHORT $LN5@StartConso

; 226  : 		g_Console->Init(hInstance);

  00056	8b 4d 08	 mov	 ecx, DWORD PTR _hInstance$[ebp]
  00059	51		 push	 ecx
  0005a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  00060	e8 00 00 00 00	 call	 ?Init@CWinConsole@@AAEXPAUHINSTANCE__@@@Z ; CWinConsole::Init
$LN5@StartConso:

; 227  : 
; 228  : 	if ( pScriptContext )

  00065	3b fb		 cmp	 edi, ebx
  00067	74 65		 je	 SHORT $LN14@StartConso

; 229  : 	{
; 230  : 		g_Console->m_pScriptContext = pScriptContext;

  00069	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?g_Console@@3PAVCWinConsole@@A ; g_Console
  0006f	56		 push	 esi

; 231  : 		Debug_AddDebugPrint(pScriptContext);

  00070	57		 push	 edi
  00071	89 7a 14	 mov	 DWORD PTR [edx+20], edi
  00074	e8 00 00 00 00	 call	 ?Debug_AddDebugPrint@@YAXPAUlua_State@@@Z ; Debug_AddDebugPrint

; 232  : 
; 233  : 		luaL_Reg DebugGlue[] =
; 234  : 		{
; 235  : 			{"cleardbgwnd",	Clear_DebugWindow},

  00079	be 00 00 00 00	 mov	 esi, OFFSET ??_C@_0M@LHGMPCPP@cleardbgwnd?$AA@
  0007e	83 c4 04	 add	 esp, 4
  00081	89 75 e4	 mov	 DWORD PTR _DebugGlue$188427[ebp], esi
  00084	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _DebugGlue$188427[ebp+4], OFFSET ?Clear_DebugWindow@@YAHPAUlua_State@@@Z ; Clear_DebugWindow

; 236  : 			{"savedbgwnd",	Save_DebugWindowContents},

  0008b	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _DebugGlue$188427[ebp+8], OFFSET ??_C@_0L@HCMILMHJ@savedbgwnd?$AA@
  00092	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _DebugGlue$188427[ebp+12], OFFSET ?Save_DebugWindowContents@@YAHPAUlua_State@@@Z ; Save_DebugWindowContents

; 237  : 			{NULL, NULL}

  00099	89 5d f4	 mov	 DWORD PTR _DebugGlue$188427[ebp+16], ebx
  0009c	89 5d f8	 mov	 DWORD PTR _DebugGlue$188427[ebp+20], ebx

; 238  : 		};
; 239  : 
; 240  : 		for (int i = 0; DebugGlue[i].name; ++i )

  0009f	33 c0		 xor	 eax, eax
$LL3@StartConso:

; 241  : 		{
; 242  : 			lua_pushcclosure(pScriptContext, DebugGlue[i].func, 0);

  000a1	8b 44 05 e8	 mov	 eax, DWORD PTR _DebugGlue$188427[ebp+eax+4]
  000a5	6a 00		 push	 0
  000a7	50		 push	 eax
  000a8	57		 push	 edi
  000a9	e8 00 00 00 00	 call	 _lua_pushcclosure

; 243  : 			lua_setfield(pScriptContext, LUA_GLOBALSINDEX, DebugGlue[i].name);

  000ae	56		 push	 esi
  000af	68 ee d8 ff ff	 push	 -10002			; ffffd8eeH
  000b4	57		 push	 edi
  000b5	e8 00 00 00 00	 call	 _lua_setfield
  000ba	43		 inc	 ebx
  000bb	8d 04 dd 00 00
	00 00		 lea	 eax, DWORD PTR [ebx*8]
  000c2	8b 74 05 e4	 mov	 esi, DWORD PTR _DebugGlue$188427[ebp+eax]
  000c6	83 c4 18	 add	 esp, 24			; 00000018H
  000c9	85 f6		 test	 esi, esi
  000cb	75 d4		 jne	 SHORT $LL3@StartConso
  000cd	5e		 pop	 esi
$LN14@StartConso:

; 244  : 		}
; 245  : 	}
; 246  : 
; 247  :   return CWinConsole::m_hWnd;

  000ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_hWnd@CWinConsole@@0RAUHWND__@@A ; CWinConsole::m_hWnd

; 248  : }

  000d3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000d6	5f		 pop	 edi
  000d7	33 cd		 xor	 ecx, ebp
  000d9	5b		 pop	 ebx
  000da	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000df	8b e5		 mov	 esp, ebp
  000e1	5d		 pop	 ebp
  000e2	c3		 ret	 0
?StartConsole@CWinConsole@@SAPAUHWND__@@PAUHINSTANCE__@@PAUlua_State@@@Z ENDP ; CWinConsole::StartConsole
_TEXT	ENDS
END
