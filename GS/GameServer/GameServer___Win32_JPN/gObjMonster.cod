; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	E:\work\tranet_version\GS\GameServer\gObjMonster.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
_g_iNpcUpDfLevel_CGATE DD 01H
	DD	02H
	DD	02dc6c0H
	DD	02H
	DD	03H
	DD	02dc6c0H
	DD	03H
	DD	04H
	DD	02dc6c0H
_g_iNpcUpDfLevel_CSTATUE DD 01H
	DD	03H
	DD	02dc6c0H
	DD	02H
	DD	05H
	DD	02dc6c0H
	DD	03H
	DD	07H
	DD	02dc6c0H
_g_iNpcUpMaxHP_CGATE DD 02625a0H
	DD	02H
	DD	0f4240H
	DD	03567e0H
	DD	03H
	DD	0f4240H
	DD	04f5880H
	DD	04H
	DD	0f4240H
_g_iNpcUpMaxHP_CSTATUE DD 02191c0H
	DD	03H
	DD	0f4240H
	DD	033e140H
	DD	05H
	DD	0f4240H
	DD	04c4b40H
	DD	07H
	DD	0f4240H
_g_iNpcUpRgLevel_CSTATUE DD 01H
	DD	03H
	DD	04c4b40H
	DD	02H
	DD	05H
	DD	04c4b40H
	DD	03H
	DD	07H
	DD	04c4b40H
_g_iCsUserReSpawnArea DD 023H
	DD	011H
	DD	090H
	DD	030H
	DD	04aH
	DD	090H
	DD	073H
	DD	09aH
	DD	023H
	DD	011H
	DD	090H
	DD	030H
_g_iNpcDefense_CGATE DD 064H
	DD	0b4H
	DD	012cH
	DD	0208H
_g_iNpcDefense_CSTATUE DD 050H
	DD	0b4H
	DD	0154H
	DD	0226H
_g_iCastleWallStepAxisY DD 071H
	DD	0a0H
	DD	0cbH
_g_sttBLOODCASTLE_LEVEL DD 0fH
	DD	050H
	DD	0aH
	DD	03cH
	DD	051H
	DD	082H
	DD	03dH
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	03e8H
	DD	0137H
	DD	03e8H
	DD	0fH
	DD	04afH
	DD	0aH
	DD	04afH
_g_sttKALIMAGATE_LEVEL DD 028H
	DD	082H
	DD	014H
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	015dH
	DD	0137H
	DD	015dH
	DD	015eH
	DD	03e8H
	DD	015eH
	DD	03e8H
_g_iKalimaGateGateIndex DD 058H
	DD	059H
	DD	05aH
	DD	05bH
	DD	05cH
	DD	05dH
	DD	074H
_g_iChaosCastle_EnterCost DD 061a8H
	DD	013880H
	DD	0249f0H
	DD	03d090H
	DD	061a80H
	DD	09eb10H
	DD	0f4240H
_g_sttCHAOSCASTLE_LEVEL DD 0fH
	DD	031H
	DD	0fH
	DD	01dH
	DD	032H
	DD	077H
	DD	01eH
	DD	063H
	DD	078H
	DD	0b3H
	DD	064H
	DD	09fH
	DD	0b4H
	DD	0efH
	DD	0a0H
	DD	0dbH
	DD	0f0H
	DD	012bH
	DD	0dcH
	DD	0117H
	DD	012cH
	DD	03e8H
	DD	0118H
	DD	03e8H
	DD	03e8H
	DD	04afH
	DD	03e8H
	DD	04afH
_g_iChaosCastle_BlowOutDistance DD 03H
	DD	04H
	DD	03H
	DD	04H
	DD	02H
	DD	03H
	DD	00H
	DD	01H
_g_iChaosCastle_BlowOutDamage DD 0fH
	DD	0fH
	DD	0aH
	DD	05H
_g_iChaosCastle_GuardSetValue DD 09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	DD	09c4H
	ORG $+4
_g_iChaosCastle_MonsterItems DD 01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	04H
_g_iChaosCastle_MonsterItemsNewServer DD 00H
	DD	00H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	01H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	01H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	02H
	DD	01c0dH
	DD	02H
	DD	01c0eH
	DD	03H
_g_iChaosCastle_GroundAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
_g_iChaosCastle_DamageAxis DD 017H
	DD	04bH
	DD	02cH
	DD	06cH
	DD	019H
	DD	04dH
	DD	02aH
	DD	06aH
	DD	01bH
	DD	04fH
	DD	028H
	DD	068H
	DD	01dH
	DD	051H
	DD	026H
	DD	066H
_g_iChaosCastle_MapHollowZone DD 017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	017H
	DD	04bH
	DD	02cH
	DD	04cH
	DD	02bH
	DD	04dH
	DD	02cH
	DD	06cH
	DD	017H
	DD	06bH
	DD	02aH
	DD	06cH
	DD	017H
	DD	04dH
	DD	018H
	DD	06aH
	DD	019H
	DD	04dH
	DD	02aH
	DD	04eH
	DD	029H
	DD	04fH
	DD	02aH
	DD	06aH
	DD	019H
	DD	069H
	DD	028H
	DD	06aH
	DD	019H
	DD	04fH
	DD	01aH
	DD	068H
	DD	01bH
	DD	04fH
	DD	028H
	DD	050H
	DD	027H
	DD	051H
	DD	028H
	DD	068H
	DD	01bH
	DD	067H
	DD	026H
	DD	068H
	DD	01bH
	DD	051H
	DD	01cH
	DD	066H
_g_sttDEVILSQUARE_LEVEL DD 0fH
	DD	082H
	DD	0aH
	DD	06eH
	DD	03aH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	03bH
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	03cH
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	03dH
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	06fH
	DD	014bH
	DD	03e8H
	DD	0137H
	DD	03e8H
	DD	070H
	DD	0fH
	DD	04afH
	DD	0aH
	DD	04afH
	DD	010eH
_DATA	ENDS
PUBLIC	??_H@YGXPAXIHP6EPAX0@Z@Z			; `vector constructor iterator'
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIHP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIHP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi
  00004	8b 7d 10	 mov	 edi, DWORD PTR ___n$[ebp]
  00007	4f		 dec	 edi
  00008	78 14		 js	 SHORT $LN1@vector
  0000a	53		 push	 ebx
  0000b	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00012	8b ce		 mov	 ecx, esi
  00014	ff d3		 call	 ebx
  00016	03 75 0c	 add	 esi, DWORD PTR ___s$[ebp]
  00019	4f		 dec	 edi
  0001a	79 f6		 jns	 SHORT $LL2@vector
  0001c	5e		 pop	 esi
  0001d	5b		 pop	 ebx
$LN1@vector:
  0001e	5f		 pop	 edi
  0001f	5d		 pop	 ebp
  00020	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIHP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
PUBLIC	??0CQeustNpcTeleport@@QAE@XZ			; CQeustNpcTeleport::CQeustNpcTeleport
EXTRN	__imp__InitializeCriticalSection@4:PROC
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\gobjmonster.h
;	COMDAT ??0CQeustNpcTeleport@@QAE@XZ
_TEXT	SEGMENT
??0CQeustNpcTeleport@@QAE@XZ PROC			; CQeustNpcTeleport::CQeustNpcTeleport, COMDAT
; _this$ = ecx

; 30   : 	CQeustNpcTeleport()

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 31   : 	{
; 32   : 		this->LastMapNumber = -1;
; 33   : 		this->RefCount = 0;
; 34   : 		InitializeCriticalSection(&this->CsRef);

  00003	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00006	50		 push	 eax
  00007	c7 46 20 ff ff
	ff ff		 mov	 DWORD PTR [esi+32], -1
  0000e	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], 0
  00014	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4

; 35   : 		this->TimeCount = 0;
; 36   : 		this->m_QuestNPCTeleportPos[0].mapnum = MAP_INDEX_DEVIAS;

  0001a	b8 02 00 00 00	 mov	 eax, 2
  0001f	89 46 24	 mov	 DWORD PTR [esi+36], eax

; 37   : 		this->m_QuestNPCTeleportPos[0].x = 198;
; 38   : 		this->m_QuestNPCTeleportPos[0].y = 47;
; 39   : 		this->m_QuestNPCTeleportPos[0].dir = 2;

  00022	89 46 30	 mov	 DWORD PTR [esi+48], eax

; 40   : 		this->m_QuestNPCTeleportPos[1].mapnum = MAP_INDEX_RORENCIA;
; 41   : 		this->m_QuestNPCTeleportPos[1].x = 137;
; 42   : 		this->m_QuestNPCTeleportPos[1].y = 87;
; 43   : 		this->m_QuestNPCTeleportPos[1].dir = 1;
; 44   : 		this->m_QuestNPCTeleportPos[2].mapnum = MAP_INDEX_NORIA;
; 45   : 		this->m_QuestNPCTeleportPos[2].x = 169;
; 46   : 		this->m_QuestNPCTeleportPos[2].y = 89;
; 47   : 		this->m_QuestNPCTeleportPos[2].dir = 2;

  00025	89 46 50	 mov	 DWORD PTR [esi+80], eax

; 48   : 		this->m_QuestNPCTeleportPos[3].mapnum = MAP_INDEX_ATHLANSE;
; 49   : 		this->m_QuestNPCTeleportPos[3].x = 17;
; 50   : 		this->m_QuestNPCTeleportPos[3].y = 0x19;
; 51   : 		this->m_QuestNPCTeleportPos[3].dir = 2;

  00028	89 46 60	 mov	 DWORD PTR [esi+96], eax
  0002b	c7 46 1c 00 00
	00 00		 mov	 DWORD PTR [esi+28], 0
  00032	c7 46 28 c6 00
	00 00		 mov	 DWORD PTR [esi+40], 198	; 000000c6H
  00039	c7 46 2c 2f 00
	00 00		 mov	 DWORD PTR [esi+44], 47	; 0000002fH
  00040	c7 46 34 00 00
	00 00		 mov	 DWORD PTR [esi+52], 0
  00047	c7 46 38 89 00
	00 00		 mov	 DWORD PTR [esi+56], 137	; 00000089H
  0004e	c7 46 3c 57 00
	00 00		 mov	 DWORD PTR [esi+60], 87	; 00000057H
  00055	c7 46 40 01 00
	00 00		 mov	 DWORD PTR [esi+64], 1
  0005c	c7 46 44 03 00
	00 00		 mov	 DWORD PTR [esi+68], 3
  00063	c7 46 48 a9 00
	00 00		 mov	 DWORD PTR [esi+72], 169	; 000000a9H
  0006a	c7 46 4c 59 00
	00 00		 mov	 DWORD PTR [esi+76], 89	; 00000059H
  00071	c7 46 54 07 00
	00 00		 mov	 DWORD PTR [esi+84], 7
  00078	c7 46 58 11 00
	00 00		 mov	 DWORD PTR [esi+88], 17	; 00000011H
  0007f	c7 46 5c 19 00
	00 00		 mov	 DWORD PTR [esi+92], 25	; 00000019H

; 52   : 	};

  00086	8b c6		 mov	 eax, esi
  00088	5e		 pop	 esi
  00089	c3		 ret	 0
??0CQeustNpcTeleport@@QAE@XZ ENDP			; CQeustNpcTeleport::CQeustNpcTeleport
_TEXT	ENDS
PUBLIC	??1CQeustNpcTeleport@@QAE@XZ			; CQeustNpcTeleport::~CQeustNpcTeleport
EXTRN	__imp__DeleteCriticalSection@4:PROC
; Function compile flags: /Ogtp
;	COMDAT ??1CQeustNpcTeleport@@QAE@XZ
_TEXT	SEGMENT
??1CQeustNpcTeleport@@QAE@XZ PROC			; CQeustNpcTeleport::~CQeustNpcTeleport, COMDAT
; _this$ = ecx

; 56   : 		DeleteCriticalSection(&this->CsRef);

  00000	83 c1 04	 add	 ecx, 4
  00003	51		 push	 ecx
  00004	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4

; 57   : 	};

  0000a	c3		 ret	 0
??1CQeustNpcTeleport@@QAE@XZ ENDP			; CQeustNpcTeleport::~CQeustNpcTeleport
_TEXT	ENDS
PUBLIC	?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z	; gObjMonsterMoveRegen
EXTRN	?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z:PROC ; CMonsterSetBase::GetBoxPosition
EXTRN	?gMSetBase@@3VCMonsterSetBase@@A:BYTE		; gMSetBase
; Function compile flags: /Ogtp
; File e:\work\tranet_version\gs\gameserver\gobjmonster.cpp
;	COMDAT ?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_x$ = 8							; size = 4
_y$ = 12						; size = 4
_lpObj$ = 16						; size = 4
?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterMoveRegen, COMDAT

; 75   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 76   : 	gMSetBase.GetBoxPosition(lpObj->MapNumber, x-1, y-1, x+1, y+1, lpObj->X, lpObj->Y);

  00003	8b 45 0c	 mov	 eax, DWORD PTR _y$[ebp]
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	8b 75 10	 mov	 esi, DWORD PTR _lpObj$[ebp]
  0000b	57		 push	 edi
  0000c	8d be 46 01 00
	00		 lea	 edi, DWORD PTR [esi+326]
  00012	57		 push	 edi
  00013	8d 48 01	 lea	 ecx, DWORD PTR [eax+1]
  00016	8d 9e 44 01 00
	00		 lea	 ebx, DWORD PTR [esi+324]
  0001c	53		 push	 ebx
  0001d	51		 push	 ecx
  0001e	8b 4d 08	 mov	 ecx, DWORD PTR _x$[ebp]
  00021	8d 51 01	 lea	 edx, DWORD PTR [ecx+1]
  00024	52		 push	 edx
  00025	48		 dec	 eax
  00026	50		 push	 eax
  00027	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0002e	49		 dec	 ecx
  0002f	51		 push	 ecx
  00030	50		 push	 eax
  00031	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  00036	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z ; CMonsterSetBase::GetBoxPosition

; 77   : 
; 78   : 	lpObj->TX = lpObj->X;
; 79   : 	lpObj->TY = lpObj->Y;

  0003b	0f b7 0f	 movzx	 ecx, WORD PTR [edi]
  0003e	0f b7 03	 movzx	 eax, WORD PTR [ebx]

; 80   : 	lpObj->MTX = lpObj->X;
; 81   : 	lpObj->MTY = lpObj->Y;
; 82   : 	lpObj->StartX = lpObj->X;
; 83   : 	lpObj->StartY = lpObj->Y;

  00041	8a 17		 mov	 dl, BYTE PTR [edi]
  00043	66 89 8e 7e 01
	00 00		 mov	 WORD PTR [esi+382], cx
  0004a	66 89 8e 82 01
	00 00		 mov	 WORD PTR [esi+386], cx
  00051	8a 0b		 mov	 cl, BYTE PTR [ebx]
  00053	5f		 pop	 edi
  00054	66 89 86 7c 01
	00 00		 mov	 WORD PTR [esi+380], ax
  0005b	66 89 86 80 01
	00 00		 mov	 WORD PTR [esi+384], ax
  00062	88 8e 76 01 00
	00		 mov	 BYTE PTR [esi+374], cl
  00068	88 96 77 01 00
	00		 mov	 BYTE PTR [esi+375], dl
  0006e	5e		 pop	 esi
  0006f	5b		 pop	 ebx

; 84   : }

  00070	5d		 pop	 ebp
  00071	c3		 ret	 0
?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterMoveRegen
_TEXT	ENDS
PUBLIC	?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterViewportIsCharacter
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterViewportIsCharacter, COMDAT

; 249  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 250  : 	int tObjNum;
; 251  : 
; 252  : 	for ( int n = 0; n<MAX_VIEWPORT_MONSTER ; n++ )

  00003	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00006	33 c0		 xor	 eax, eax
  00008	8d 8a ae 08 00
	00		 lea	 ecx, DWORD PTR [edx+2222]
  0000e	56		 push	 esi
  0000f	90		 npad	 1
$LL5@gObjMonste:

; 253  : 	{
; 254  : 		if ( lpObj->VpPlayer2[n].state != 0 )

  00010	80 79 fe 00	 cmp	 BYTE PTR [ecx-2], 0
  00014	74 0c		 je	 SHORT $LN4@gObjMonste

; 255  : 		{
; 256  : 			tObjNum = lpObj->VpPlayer2[n].number;
; 257  : 
; 258  : 			if ( tObjNum == lpObj->TargetNumber ) 

  00016	66 8b 31	 mov	 si, WORD PTR [ecx]
  00019	66 3b b2 58 04
	00 00		 cmp	 si, WORD PTR [edx+1112]
  00020	74 0c		 je	 SHORT $LN6@gObjMonste
$LN4@gObjMonste:

; 250  : 	int tObjNum;
; 251  : 
; 252  : 	for ( int n = 0; n<MAX_VIEWPORT_MONSTER ; n++ )

  00022	40		 inc	 eax
  00023	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00026	83 f8 4b	 cmp	 eax, 75			; 0000004bH
  00029	7c e5		 jl	 SHORT $LL5@gObjMonste

; 259  : 			{
; 260  : 				return n;
; 261  : 			}
; 262  : 		}
; 263  : 	}
; 264  : 
; 265  : 	return -1;

  0002b	83 c8 ff	 or	 eax, -1
$LN6@gObjMonste:
  0002e	5e		 pop	 esi

; 266  : }

  0002f	5d		 pop	 ebp
  00030	c3		 ret	 0
?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterViewportIsCharacter
_TEXT	ENDS
PUBLIC	?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageInit
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterHitDamageInit, COMDAT

; 269  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 270  : 	for ( int i = 0; i< MAX_ST_HIT_DAMAGE ; i++ )

  00003	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00006	8d 82 38 0c 00
	00		 lea	 eax, DWORD PTR [edx+3128]
  0000c	b9 28 00 00 00	 mov	 ecx, 40			; 00000028H
  00011	56		 push	 esi
$LL3@gObjMonste@2:

; 271  : 	{
; 272  : 		lpObj->sHD[i].number  = -1;

  00012	83 ce ff	 or	 esi, -1
  00015	66 89 30	 mov	 WORD PTR [eax], si
  00018	83 c0 0c	 add	 eax, 12			; 0000000cH
  0001b	49		 dec	 ecx
  0001c	75 f4		 jne	 SHORT $LL3@gObjMonste@2

; 273  : 	}
; 274  : 
; 275  : 	lpObj->sHDCount = 0;

  0001e	33 c0		 xor	 eax, eax
  00020	66 89 82 18 0e
	00 00		 mov	 WORD PTR [edx+3608], ax
  00027	5e		 pop	 esi

; 276  : }

  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterHitDamageInit
_TEXT	ENDS
PUBLIC	?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageUserDel
EXTRN	?gObjCheckTileArea@@YAHHHHH@Z:PROC		; gObjCheckTileArea
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_delindex$ = -8						; size = 4
_delok$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterHitDamageUserDel, COMDAT

; 279  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 280  : 	int delok = 0;
; 281  : 	int delindex = -1;

  00009	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]
  0000c	c7 45 f8 ff ff
	ff ff		 mov	 DWORD PTR _delindex$[ebp], -1

; 282  : 
; 283  : 	for ( int n = 0;n<MAX_ST_HIT_DAMAGE ; n++ )

  00013	33 db		 xor	 ebx, ebx
  00015	8d b7 38 0c 00
	00		 lea	 esi, DWORD PTR [edi+3128]
  0001b	eb 03 8d 49 00	 npad	 5
$LL20@gObjMonste@3:

; 284  : 	{
; 285  : 		if ( lpObj->sHD[n].number >= 0 )

  00020	0f b7 06	 movzx	 eax, WORD PTR [esi]
  00023	66 85 c0	 test	 ax, ax
  00026	0f 88 81 00 00
	00		 js	 $LN10@gObjMonste@3

; 286  : 		{
; 287  : 			delok = FALSE;
; 288  : 
; 289  : 			if ( gObjIsConnected(lpObj->sHD[n].number ) == TRUE )

  0002c	98		 cwde
  0002d	50		 push	 eax
  0002e	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _delok$[ebp], 0
  00035	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0003a	83 c4 04	 add	 esp, 4
  0003d	83 f8 01	 cmp	 eax, 1
  00040	75 5b		 jne	 SHORT $LN17@gObjMonste@3

; 290  : 			{
; 291  : 				if ( (GetTickCount()- lpObj->sHD[n].LastHitTime) > 20000 )

  00042	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00048	2b 46 08	 sub	 eax, DWORD PTR [esi+8]
  0004b	3d 20 4e 00 00	 cmp	 eax, 20000		; 00004e20H
  00050	76 07		 jbe	 SHORT $LN6@gObjMonste@3

; 292  : 				{
; 293  : 					delok = TRUE;

  00052	c7 45 fc 01 00
	00 00		 mov	 DWORD PTR _delok$[ebp], 1
$LN6@gObjMonste@3:

; 294  : 				}
; 295  : 
; 296  : 				if ( gObj[lpObj->sHD[n].number].MapNumber != lpObj->MapNumber)

  00059	0f bf 06	 movsx	 eax, WORD PTR [esi]
  0005c	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00062	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00068	8a 88 49 01 00
	00		 mov	 cl, BYTE PTR [eax+329]
  0006e	3a 8f 49 01 00
	00		 cmp	 cl, BYTE PTR [edi+329]

; 297  : 				{
; 298  : 					delok = TRUE;

  00074	75 27		 jne	 SHORT $LN17@gObjMonste@3

; 299  : 				}
; 300  : 				else if ( gObjCheckTileArea(lpObj->m_Index, gObj[lpObj->sHD[n].number].X , gObj[lpObj->sHD[n].number].Y , 20) == FALSE )

  00076	0f bf 90 46 01
	00 00		 movsx	 edx, WORD PTR [eax+326]
  0007d	0f bf 80 44 01
	00 00		 movsx	 eax, WORD PTR [eax+324]
  00084	8b 0f		 mov	 ecx, DWORD PTR [edi]
  00086	6a 14		 push	 20			; 00000014H
  00088	52		 push	 edx
  00089	50		 push	 eax
  0008a	51		 push	 ecx
  0008b	e8 00 00 00 00	 call	 ?gObjCheckTileArea@@YAHHHHH@Z ; gObjCheckTileArea
  00090	83 c4 10	 add	 esp, 16			; 00000010H
  00093	85 c0		 test	 eax, eax

; 301  : 				{
; 302  : 					delok = TRUE;
; 303  : 				}
; 304  : 			}
; 305  : 			else

  00095	74 06		 je	 SHORT $LN17@gObjMonste@3

; 306  : 			{
; 307  : 				delok = TRUE;
; 308  : 			}
; 309  : 
; 310  : 
; 311  : 			if ( delok == TRUE )

  00097	83 7d fc 01	 cmp	 DWORD PTR _delok$[ebp], 1
  0009b	75 10		 jne	 SHORT $LN10@gObjMonste@3
$LN17@gObjMonste@3:

; 312  : 			{
; 313  : 				lpObj->sHD[n].number = -1;

  0009d	83 ca ff	 or	 edx, -1
  000a0	66 89 16	 mov	 WORD PTR [esi], dx

; 314  : 				delindex = n;
; 315  : 				lpObj->sHDCount--;

  000a3	66 ff 8f 18 0e
	00 00		 dec	 WORD PTR [edi+3608]
  000aa	89 5d f8	 mov	 DWORD PTR _delindex$[ebp], ebx
$LN10@gObjMonste@3:

; 282  : 
; 283  : 	for ( int n = 0;n<MAX_ST_HIT_DAMAGE ; n++ )

  000ad	43		 inc	 ebx
  000ae	83 c6 0c	 add	 esi, 12			; 0000000cH
  000b1	83 fb 28	 cmp	 ebx, 40			; 00000028H
  000b4	0f 8c 66 ff ff
	ff		 jl	 $LL20@gObjMonste@3

; 316  : 			}
; 317  : 
; 318  : 
; 319  : 		}
; 320  : 	}
; 321  : 
; 322  : 	return delindex;

  000ba	8b 45 f8	 mov	 eax, DWORD PTR _delindex$[ebp]
  000bd	5f		 pop	 edi
  000be	5e		 pop	 esi
  000bf	5b		 pop	 ebx

; 323  : }

  000c0	8b e5		 mov	 esp, ebp
  000c2	5d		 pop	 ebp
  000c3	c3		 ret	 0
?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterHitDamageUserDel
_TEXT	ENDS
PUBLIC	??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@ ; `string'
PUBLIC	?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterSetHitDamage
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	__fltused:DWORD
EXTRN	__ftol2_sse:PROC
;	COMDAT ??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@
CONST	SEGMENT
??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@ DB 'error-'
	DB	'L2 : Hit Damage Set error', 00H		; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_hit_player$ = 12					; size = 4
_hit_damage$ = 16					; size = 4
?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z PROC	; gObjMonsterSetHitDamage, COMDAT

; 326  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 327  : 	int blank = -1;

  00004	8b 5d 0c	 mov	 ebx, DWORD PTR _hit_player$[ebp]
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]
  0000c	83 c8 ff	 or	 eax, -1

; 328  : 
; 329  : 	for (int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  0000f	33 f6		 xor	 esi, esi
  00011	8d 97 38 0c 00
	00		 lea	 edx, DWORD PTR [edi+3128]
$LL12@gObjMonste@4:

; 330  : 	{
; 331  : 		if ( lpObj->sHD[n].number >= 0 )

  00017	0f b7 0a	 movzx	 ecx, WORD PTR [edx]
  0001a	66 85 c9	 test	 cx, cx
  0001d	78 4e		 js	 SHORT $LN9@gObjMonste@4

; 332  : 		{
; 333  : 			if ( lpObj->sHD[n].number == hit_player )

  0001f	0f bf c9	 movsx	 ecx, cx
  00022	3b cb		 cmp	 ecx, ebx
  00024	75 4d		 jne	 SHORT $LN11@gObjMonste@4

; 334  : 			{
; 335  : 				lpObj->sHD[n].HitDamage += hit_damage;

  00026	8b 45 10	 mov	 eax, DWORD PTR _hit_damage$[ebp]
  00029	8d 94 76 0f 03
	00 00		 lea	 edx, DWORD PTR [esi+esi*2+783]
  00030	01 04 97	 add	 DWORD PTR [edi+edx*4], eax
  00033	8d 1c 97	 lea	 ebx, DWORD PTR [edi+edx*4]

; 336  : 				lpObj->sHD[n].LastHitTime = GetTickCount();

  00036	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 337  : 
; 338  : 				if ( lpObj->sHD[n].HitDamage > lpObj->MaxLife )

  0003c	db 03		 fild	 DWORD PTR [ebx]
  0003e	8d 0c 76	 lea	 ecx, DWORD PTR [esi+esi*2]
  00041	89 84 8f 40 0c
	00 00		 mov	 DWORD PTR [edi+ecx*4+3136], eax
  00048	d9 87 00 01 00
	00		 fld	 DWORD PTR [edi+256]
  0004e	de d9		 fcompp
  00050	df e0		 fnstsw	 ax
  00052	f6 c4 05	 test	 ah, 5
  00055	0f 8a 93 00 00
	00		 jp	 $LN1@gObjMonste@4

; 339  : 				{
; 340  : 					lpObj->sHD[n].HitDamage = (int)lpObj->MaxLife;

  0005b	d9 87 00 01 00
	00		 fld	 DWORD PTR [edi+256]
  00061	e8 00 00 00 00	 call	 __ftol2_sse
  00066	5f		 pop	 edi
  00067	5e		 pop	 esi
  00068	89 03		 mov	 DWORD PTR [ebx], eax
  0006a	5b		 pop	 ebx

; 373  : 	}
; 374  : }

  0006b	5d		 pop	 ebp
  0006c	c3		 ret	 0
$LN9@gObjMonste@4:

; 341  : 				}
; 342  : 
; 343  : 				return;
; 344  : 			}
; 345  : 		}
; 346  : 		else if ( blank < 0 )

  0006d	85 c0		 test	 eax, eax
  0006f	79 02		 jns	 SHORT $LN11@gObjMonste@4

; 347  : 		{
; 348  : 			blank = n;

  00071	8b c6		 mov	 eax, esi
$LN11@gObjMonste@4:

; 328  : 
; 329  : 	for (int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  00073	46		 inc	 esi
  00074	83 c2 0c	 add	 edx, 12			; 0000000cH
  00077	83 fe 28	 cmp	 esi, 40			; 00000028H
  0007a	7c 9b		 jl	 SHORT $LL12@gObjMonste@4

; 349  : 		}
; 350  : 	}
; 351  : 
; 352  : 	if ( blank < 0 )

  0007c	85 c0		 test	 eax, eax
  0007e	79 0d		 jns	 SHORT $LN18@gObjMonste@4

; 353  : 	{
; 354  : 		blank = gObjMonsterHitDamageUserDel(lpObj);

  00080	57		 push	 edi
  00081	e8 00 00 00 00	 call	 ?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageUserDel
  00086	83 c4 04	 add	 esp, 4

; 355  : 	}
; 356  : 
; 357  : 	if ( blank >= 0 )

  00089	85 c0		 test	 eax, eax
  0008b	78 53		 js	 SHORT $LN3@gObjMonste@4
$LN18@gObjMonste@4:

; 358  : 	{
; 359  : 		lpObj->sHD[blank].number = hit_player;
; 360  : 		lpObj->sHD[blank].HitDamage = hit_damage;

  0008d	8b 4d 10	 mov	 ecx, DWORD PTR _hit_damage$[ebp]

; 361  : 
; 362  : 		if ( lpObj->sHD[blank].HitDamage > lpObj->MaxLife )

  00090	db 45 10	 fild	 DWORD PTR _hit_damage$[ebp]
  00093	8d 14 40	 lea	 edx, DWORD PTR [eax+eax*2]
  00096	8d 34 97	 lea	 esi, DWORD PTR [edi+edx*4]
  00099	8d 84 40 0f 03
	00 00		 lea	 eax, DWORD PTR [eax+eax*2+783]
  000a0	66 89 9e 38 0c
	00 00		 mov	 WORD PTR [esi+3128], bx
  000a7	8d 1c 87	 lea	 ebx, DWORD PTR [edi+eax*4]
  000aa	89 0b		 mov	 DWORD PTR [ebx], ecx
  000ac	d9 87 00 01 00
	00		 fld	 DWORD PTR [edi+256]
  000b2	de d9		 fcompp
  000b4	df e0		 fnstsw	 ax
  000b6	f6 c4 05	 test	 ah, 5
  000b9	7a 0d		 jp	 SHORT $LN2@gObjMonste@4

; 363  : 		{
; 364  : 			lpObj->sHD[blank].HitDamage = (int)lpObj->MaxLife;

  000bb	d9 87 00 01 00
	00		 fld	 DWORD PTR [edi+256]
  000c1	e8 00 00 00 00	 call	 __ftol2_sse
  000c6	89 03		 mov	 DWORD PTR [ebx], eax
$LN2@gObjMonste@4:

; 365  : 		}
; 366  : 	
; 367  : 		lpObj->sHD[blank].LastHitTime = GetTickCount();

  000c8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  000ce	89 86 40 0c 00
	00		 mov	 DWORD PTR [esi+3136], eax

; 368  : 		lpObj->sHDCount++;

  000d4	66 ff 87 18 0e
	00 00		 inc	 WORD PTR [edi+3608]
  000db	5f		 pop	 edi
  000dc	5e		 pop	 esi
  000dd	5b		 pop	 ebx

; 373  : 	}
; 374  : }

  000de	5d		 pop	 ebp
  000df	c3		 ret	 0
$LN3@gObjMonste@4:

; 369  : 	}
; 370  : 	else
; 371  : 	{
; 372  : 		LogAdd("error-L2 : Hit Damage Set error");

  000e0	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@
  000e5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  000eb	83 c4 04	 add	 esp, 4
$LN1@gObjMonste@4:
  000ee	5f		 pop	 edi
  000ef	5e		 pop	 esi
  000f0	5b		 pop	 ebx

; 373  : 	}
; 374  : }

  000f1	5d		 pop	 ebp
  000f2	c3		 ret	 0
?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z ENDP	; gObjMonsterSetHitDamage
_TEXT	ENDS
PUBLIC	?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpMonObj$ = 8						; size = 4
?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterTopHitDamageUser, COMDAT

; 377  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 378  : 	int MaxHitDamage = 0;

  00003	8b 55 08	 mov	 edx, DWORD PTR _lpMonObj$[ebp]
  00006	53		 push	 ebx
  00007	33 c9		 xor	 ecx, ecx
  00009	56		 push	 esi

; 379  : 	int MaxHitDamageUser = -1;

  0000a	83 c8 ff	 or	 eax, -1
  0000d	57		 push	 edi
  0000e	81 c2 38 0c 00
	00		 add	 edx, 3128		; 00000c38H
  00014	8d 59 08	 lea	 ebx, DWORD PTR [ecx+8]
$LL20@gObjMonste@5:

; 382  : 	{
; 383  : 		if ( lpMonObj->sHD[n].number >= 0 )

  00017	0f b7 3a	 movzx	 edi, WORD PTR [edx]
  0001a	66 85 ff	 test	 di, di
  0001d	78 0c		 js	 SHORT $LN4@gObjMonste@5

; 384  : 		{
; 385  : 			if ( lpMonObj->sHD[n].HitDamage > MaxHitDamage )

  0001f	8b 72 04	 mov	 esi, DWORD PTR [edx+4]
  00022	3b f1		 cmp	 esi, ecx
  00024	7e 05		 jle	 SHORT $LN4@gObjMonste@5

; 386  : 			{
; 387  : 				MaxHitDamage = lpMonObj->sHD[n].HitDamage;

  00026	8b ce		 mov	 ecx, esi

; 388  : 				MaxHitDamageUser = lpMonObj->sHD[n].number;

  00028	0f bf c7	 movsx	 eax, di
$LN4@gObjMonste@5:

; 382  : 	{
; 383  : 		if ( lpMonObj->sHD[n].number >= 0 )

  0002b	0f b7 7a 0c	 movzx	 edi, WORD PTR [edx+12]
  0002f	66 85 ff	 test	 di, di
  00032	78 0c		 js	 SHORT $LN16@gObjMonste@5

; 384  : 		{
; 385  : 			if ( lpMonObj->sHD[n].HitDamage > MaxHitDamage )

  00034	8b 72 10	 mov	 esi, DWORD PTR [edx+16]
  00037	3b f1		 cmp	 esi, ecx
  00039	7e 05		 jle	 SHORT $LN16@gObjMonste@5

; 386  : 			{
; 387  : 				MaxHitDamage = lpMonObj->sHD[n].HitDamage;

  0003b	8b ce		 mov	 ecx, esi

; 388  : 				MaxHitDamageUser = lpMonObj->sHD[n].number;

  0003d	0f bf c7	 movsx	 eax, di
$LN16@gObjMonste@5:

; 382  : 	{
; 383  : 		if ( lpMonObj->sHD[n].number >= 0 )

  00040	0f b7 7a 18	 movzx	 edi, WORD PTR [edx+24]
  00044	66 85 ff	 test	 di, di
  00047	78 0c		 js	 SHORT $LN17@gObjMonste@5

; 384  : 		{
; 385  : 			if ( lpMonObj->sHD[n].HitDamage > MaxHitDamage )

  00049	8b 72 1c	 mov	 esi, DWORD PTR [edx+28]
  0004c	3b f1		 cmp	 esi, ecx
  0004e	7e 05		 jle	 SHORT $LN17@gObjMonste@5

; 386  : 			{
; 387  : 				MaxHitDamage = lpMonObj->sHD[n].HitDamage;

  00050	8b ce		 mov	 ecx, esi

; 388  : 				MaxHitDamageUser = lpMonObj->sHD[n].number;

  00052	0f bf c7	 movsx	 eax, di
$LN17@gObjMonste@5:

; 382  : 	{
; 383  : 		if ( lpMonObj->sHD[n].number >= 0 )

  00055	0f b7 7a 24	 movzx	 edi, WORD PTR [edx+36]
  00059	66 85 ff	 test	 di, di
  0005c	78 0c		 js	 SHORT $LN18@gObjMonste@5

; 384  : 		{
; 385  : 			if ( lpMonObj->sHD[n].HitDamage > MaxHitDamage )

  0005e	8b 72 28	 mov	 esi, DWORD PTR [edx+40]
  00061	3b f1		 cmp	 esi, ecx
  00063	7e 05		 jle	 SHORT $LN18@gObjMonste@5

; 386  : 			{
; 387  : 				MaxHitDamage = lpMonObj->sHD[n].HitDamage;

  00065	8b ce		 mov	 ecx, esi

; 388  : 				MaxHitDamageUser = lpMonObj->sHD[n].number;

  00067	0f bf c7	 movsx	 eax, di
$LN18@gObjMonste@5:

; 382  : 	{
; 383  : 		if ( lpMonObj->sHD[n].number >= 0 )

  0006a	0f b7 7a 30	 movzx	 edi, WORD PTR [edx+48]
  0006e	66 85 ff	 test	 di, di
  00071	78 0c		 js	 SHORT $LN19@gObjMonste@5

; 384  : 		{
; 385  : 			if ( lpMonObj->sHD[n].HitDamage > MaxHitDamage )

  00073	8b 72 34	 mov	 esi, DWORD PTR [edx+52]
  00076	3b f1		 cmp	 esi, ecx
  00078	7e 05		 jle	 SHORT $LN19@gObjMonste@5

; 386  : 			{
; 387  : 				MaxHitDamage = lpMonObj->sHD[n].HitDamage;

  0007a	8b ce		 mov	 ecx, esi

; 388  : 				MaxHitDamageUser = lpMonObj->sHD[n].number;

  0007c	0f bf c7	 movsx	 eax, di
$LN19@gObjMonste@5:

; 380  : 
; 381  : 	for ( int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  0007f	83 c2 3c	 add	 edx, 60			; 0000003cH
  00082	4b		 dec	 ebx
  00083	75 92		 jne	 SHORT $LL20@gObjMonste@5
  00085	5f		 pop	 edi
  00086	5e		 pop	 esi
  00087	5b		 pop	 ebx

; 389  : 			}
; 390  : 		}
; 391  : 	}
; 392  : 
; 393  : 	return MaxHitDamageUser;
; 394  : }

  00088	5d		 pop	 ebp
  00089	c3		 ret	 0
?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterTopHitDamageUser
_TEXT	ENDS
PUBLIC	?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z ; gObjMonsterLastHitDamageUser
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z
_TEXT	SEGMENT
_lpMonObj$ = 8						; size = 4
_hitindex$ = 12						; size = 4
?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z PROC ; gObjMonsterLastHitDamageUser, COMDAT

; 397  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi

; 398  : 	int LastHitTime = 0;

  00005	8b 75 08	 mov	 esi, DWORD PTR _lpMonObj$[ebp]
  00008	33 c9		 xor	 ecx, ecx
  0000a	57		 push	 edi
  0000b	8b 7d 0c	 mov	 edi, DWORD PTR _hitindex$[ebp]

; 399  : 	int LastHitUser = -1;

  0000e	83 c8 ff	 or	 eax, -1
  00011	8d 51 02	 lea	 edx, DWORD PTR [ecx+2]
  00014	81 c6 38 0c 00
	00		 add	 esi, 3128		; 00000c38H
  0001a	8d 9b 00 00 00
	00		 npad	 6
$LL5@gObjMonste@6:

; 402  : 	{
; 403  : 		if ( lpMonObj->sHD[n].number >= 0 )

  00020	0f b7 1e	 movzx	 ebx, WORD PTR [esi]
  00023	66 85 db	 test	 bx, bx
  00026	78 12		 js	 SHORT $LN4@gObjMonste@6

; 404  : 		{
; 405  : 			if ( lpMonObj->sHD[n].LastHitTime > LastHitTime )

  00028	8b 5e 08	 mov	 ebx, DWORD PTR [esi+8]
  0002b	3b d9		 cmp	 ebx, ecx
  0002d	76 0b		 jbe	 SHORT $LN4@gObjMonste@6

; 406  : 			{
; 407  : 				LastHitTime = lpMonObj->sHD[n].LastHitTime;
; 408  : 				LastHitUser = lpMonObj->sHD[n].number;

  0002f	0f b7 06	 movzx	 eax, WORD PTR [esi]
  00032	8b cb		 mov	 ecx, ebx

; 409  : 				hitindex = n;

  00034	8d 5a fe	 lea	 ebx, DWORD PTR [edx-2]
  00037	98		 cwde
  00038	89 1f		 mov	 DWORD PTR [edi], ebx
$LN4@gObjMonste@6:

; 402  : 	{
; 403  : 		if ( lpMonObj->sHD[n].number >= 0 )

  0003a	0f b7 5e 0c	 movzx	 ebx, WORD PTR [esi+12]
  0003e	66 85 db	 test	 bx, bx
  00041	78 13		 js	 SHORT $LN11@gObjMonste@6

; 404  : 		{
; 405  : 			if ( lpMonObj->sHD[n].LastHitTime > LastHitTime )

  00043	8b 5e 14	 mov	 ebx, DWORD PTR [esi+20]
  00046	3b d9		 cmp	 ebx, ecx
  00048	76 0c		 jbe	 SHORT $LN11@gObjMonste@6

; 406  : 			{
; 407  : 				LastHitTime = lpMonObj->sHD[n].LastHitTime;
; 408  : 				LastHitUser = lpMonObj->sHD[n].number;

  0004a	0f b7 46 0c	 movzx	 eax, WORD PTR [esi+12]
  0004e	8b cb		 mov	 ecx, ebx

; 409  : 				hitindex = n;

  00050	8d 5a ff	 lea	 ebx, DWORD PTR [edx-1]
  00053	98		 cwde
  00054	89 1f		 mov	 DWORD PTR [edi], ebx
$LN11@gObjMonste@6:

; 402  : 	{
; 403  : 		if ( lpMonObj->sHD[n].number >= 0 )

  00056	0f b7 5e 18	 movzx	 ebx, WORD PTR [esi+24]
  0005a	66 85 db	 test	 bx, bx
  0005d	78 10		 js	 SHORT $LN12@gObjMonste@6

; 404  : 		{
; 405  : 			if ( lpMonObj->sHD[n].LastHitTime > LastHitTime )

  0005f	8b 5e 20	 mov	 ebx, DWORD PTR [esi+32]
  00062	3b d9		 cmp	 ebx, ecx
  00064	76 09		 jbe	 SHORT $LN12@gObjMonste@6

; 406  : 			{
; 407  : 				LastHitTime = lpMonObj->sHD[n].LastHitTime;
; 408  : 				LastHitUser = lpMonObj->sHD[n].number;

  00066	0f b7 46 18	 movzx	 eax, WORD PTR [esi+24]
  0006a	8b cb		 mov	 ecx, ebx
  0006c	98		 cwde

; 409  : 				hitindex = n;

  0006d	89 17		 mov	 DWORD PTR [edi], edx
$LN12@gObjMonste@6:

; 402  : 	{
; 403  : 		if ( lpMonObj->sHD[n].number >= 0 )

  0006f	0f b7 5e 24	 movzx	 ebx, WORD PTR [esi+36]
  00073	66 85 db	 test	 bx, bx
  00076	78 13		 js	 SHORT $LN13@gObjMonste@6

; 404  : 		{
; 405  : 			if ( lpMonObj->sHD[n].LastHitTime > LastHitTime )

  00078	8b 5e 2c	 mov	 ebx, DWORD PTR [esi+44]
  0007b	3b d9		 cmp	 ebx, ecx
  0007d	76 0c		 jbe	 SHORT $LN13@gObjMonste@6

; 406  : 			{
; 407  : 				LastHitTime = lpMonObj->sHD[n].LastHitTime;
; 408  : 				LastHitUser = lpMonObj->sHD[n].number;

  0007f	0f b7 46 24	 movzx	 eax, WORD PTR [esi+36]
  00083	8b cb		 mov	 ecx, ebx

; 409  : 				hitindex = n;

  00085	8d 5a 01	 lea	 ebx, DWORD PTR [edx+1]
  00088	98		 cwde
  00089	89 1f		 mov	 DWORD PTR [edi], ebx
$LN13@gObjMonste@6:

; 402  : 	{
; 403  : 		if ( lpMonObj->sHD[n].number >= 0 )

  0008b	0f b7 5e 30	 movzx	 ebx, WORD PTR [esi+48]
  0008f	66 85 db	 test	 bx, bx
  00092	78 13		 js	 SHORT $LN14@gObjMonste@6

; 404  : 		{
; 405  : 			if ( lpMonObj->sHD[n].LastHitTime > LastHitTime )

  00094	8b 5e 38	 mov	 ebx, DWORD PTR [esi+56]
  00097	3b d9		 cmp	 ebx, ecx
  00099	76 0c		 jbe	 SHORT $LN14@gObjMonste@6

; 406  : 			{
; 407  : 				LastHitTime = lpMonObj->sHD[n].LastHitTime;
; 408  : 				LastHitUser = lpMonObj->sHD[n].number;

  0009b	0f b7 46 30	 movzx	 eax, WORD PTR [esi+48]
  0009f	8b cb		 mov	 ecx, ebx

; 409  : 				hitindex = n;

  000a1	8d 5a 02	 lea	 ebx, DWORD PTR [edx+2]
  000a4	98		 cwde
  000a5	89 1f		 mov	 DWORD PTR [edi], ebx
$LN14@gObjMonste@6:

; 400  : 
; 401  : 	for ( int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  000a7	83 c2 05	 add	 edx, 5
  000aa	8d 5a fe	 lea	 ebx, DWORD PTR [edx-2]
  000ad	83 c6 3c	 add	 esi, 60			; 0000003cH
  000b0	83 fb 28	 cmp	 ebx, 40			; 00000028H
  000b3	0f 8c 67 ff ff
	ff		 jl	 $LL5@gObjMonste@6
  000b9	5f		 pop	 edi
  000ba	5e		 pop	 esi
  000bb	5b		 pop	 ebx

; 410  : 			}
; 411  : 		}
; 412  : 	}
; 413  : 
; 414  : 	return LastHitUser;
; 415  : }

  000bc	5d		 pop	 ebp
  000bd	c3		 ret	 0
?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z ENDP ; gObjMonsterLastHitDamageUser
_TEXT	ENDS
PUBLIC	??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@ ; `string'
PUBLIC	?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z	; gObjMonsterMoveCheck
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	__CIsqrt:PROC
;	COMDAT ??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@
CONST	SEGMENT
??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@ DB '['
	DB	' KANTURU ][ Debug - m_PosNum ] Fail %s(Index:%d) X%d-Y%d -> X'
	DB	'%d-Y%d(%d)', 00H				; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z
_TEXT	SEGMENT
tv217 = 8						; size = 4
tv200 = 8						; size = 4
_lpObj$ = 8						; size = 4
_tx$ = 12						; size = 4
_ty$ = 16						; size = 4
?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z PROC	; gObjMonsterMoveCheck, COMDAT

; 418  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 419  : 	if ( lpObj->m_ActState.Emotion  == 1 )

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00007	8b 86 18 02 00
	00		 mov	 eax, DWORD PTR [esi+536]
  0000d	24 f0		 and	 al, 240			; 000000f0H
  0000f	3c 10		 cmp	 al, 16			; 00000010H
  00011	75 08		 jne	 SHORT $LN6@gObjMonste@7

; 420  : 	{
; 421  : 		return TRUE;

  00013	b8 01 00 00 00	 mov	 eax, 1
  00018	5e		 pop	 esi

; 459  : }

  00019	5d		 pop	 ebp
  0001a	c3		 ret	 0
$LN6@gObjMonste@7:

; 422  : 	}
; 423  : 
; 424  : //#if(GS_CASTLE==0)
; 425  : 	if ( lpObj->MapNumber == MAP_INDEX_KANTURU_BOSS && lpObj->m_PosNum < 0)

  0001b	80 be 49 01 00
	00 27		 cmp	 BYTE PTR [esi+329], 39	; 00000027H
  00022	53		 push	 ebx
  00023	57		 push	 edi
  00024	75 77		 jne	 SHORT $LN5@gObjMonste@7
  00026	66 83 be b0 03
	00 00 00	 cmp	 WORD PTR [esi+944], 0
  0002e	7d 6d		 jge	 SHORT $LN5@gObjMonste@7

; 426  : 	{
; 427  : 		tx -= lpObj->StartX;
; 428  : 		ty -= lpObj->StartY;

  00030	0f b6 86 77 01
	00 00		 movzx	 eax, BYTE PTR [esi+375]
  00037	8b 7d 10	 mov	 edi, DWORD PTR _ty$[ebp]
  0003a	0f b6 9e 76 01
	00 00		 movzx	 ebx, BYTE PTR [esi+374]
  00041	29 5d 0c	 sub	 DWORD PTR _tx$[ebp], ebx
  00044	2b f8		 sub	 edi, eax

; 429  : 		int dis = (int)(sqrt((double)tx*tx + ty*ty));

  00046	8b cf		 mov	 ecx, edi
  00048	db 45 0c	 fild	 DWORD PTR _tx$[ebp]
  0004b	0f af cf	 imul	 ecx, edi
  0004e	89 4d 08	 mov	 DWORD PTR tv217[ebp], ecx
  00051	db 45 08	 fild	 DWORD PTR tv217[ebp]
  00054	d9 c1		 fld	 ST(1)
  00056	de ca		 fmulp	 ST(2), ST(0)
  00058	de c1		 faddp	 ST(1), ST(0)
  0005a	e8 00 00 00 00	 call	 __CIsqrt
  0005f	e8 00 00 00 00	 call	 __ftol2_sse

; 430  : 
; 431  : 		if ( dis > 30 )

  00064	83 f8 1e	 cmp	 eax, 30			; 0000001eH
  00067	0f 8e 80 00 00
	00		 jle	 $LN1@gObjMonste@7

; 432  : 		{
; 433  : 			LogAddTD("[ KANTURU ][ Debug - m_PosNum ] Fail %s(Index:%d) X%d-Y%d -> X%d-Y%d(%d)", lpObj->Name, lpObj->Class, lpObj->StartX, lpObj->StartY, tx, ty, dis);

  0006d	8b 55 0c	 mov	 edx, DWORD PTR _tx$[ebp]
  00070	50		 push	 eax
  00071	0f b6 86 77 01
	00 00		 movzx	 eax, BYTE PTR [esi+375]
  00078	57		 push	 edi
  00079	52		 push	 edx
  0007a	50		 push	 eax
  0007b	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00082	53		 push	 ebx
  00083	50		 push	 eax
  00084	83 c6 77	 add	 esi, 119		; 00000077H
  00087	56		 push	 esi
  00088	68 00 00 00 00	 push	 OFFSET ??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@
  0008d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00093	83 c4 20	 add	 esp, 32			; 00000020H
$LN11@gObjMonste@7:

; 434  : 			return FALSE;

  00096	5f		 pop	 edi
  00097	5b		 pop	 ebx
  00098	33 c0		 xor	 eax, eax
  0009a	5e		 pop	 esi

; 459  : }

  0009b	5d		 pop	 ebp
  0009c	c3		 ret	 0
$LN5@gObjMonste@7:

; 435  : 		}
; 436  : 	}
; 437  : 	else
; 438  : //#endif
; 439  : 	{
; 440  : 		LPMONSTER_POSITION lpPos = &gMSetBase.m_Mp[lpObj->m_PosNum];

  0009d	0f bf 86 b0 03
	00 00		 movsx	 eax, WORD PTR [esi+944]
  000a4	c1 e0 04	 shl	 eax, 4
  000a7	05 04 00 00 00	 add	 eax, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A+4

; 441  : 
; 442  : 		if ( lpPos->m_Dis < 1 )

  000ac	8a 58 05	 mov	 bl, BYTE PTR [eax+5]
  000af	80 fb 01	 cmp	 bl, 1

; 443  : 		{
; 444  : 			return FALSE;

  000b2	72 e2		 jb	 SHORT $LN11@gObjMonste@7

; 445  : 		}
; 446  : 
; 447  : 		tx -= lpObj->StartX;
; 448  : 		ty -= lpObj->StartY;

  000b4	0f b6 96 77 01
	00 00		 movzx	 edx, BYTE PTR [esi+375]
  000bb	8b 45 10	 mov	 eax, DWORD PTR _ty$[ebp]
  000be	0f b6 8e 76 01
	00 00		 movzx	 ecx, BYTE PTR [esi+374]
  000c5	29 4d 0c	 sub	 DWORD PTR _tx$[ebp], ecx
  000c8	2b c2		 sub	 eax, edx

; 449  : 
; 450  : 		int dis = (int)(sqrt((double)tx * tx + ty * ty));

  000ca	0f af c0	 imul	 eax, eax
  000cd	db 45 0c	 fild	 DWORD PTR _tx$[ebp]

; 451  : 
; 452  : 		if ( dis > lpPos->m_Dis)

  000d0	89 45 08	 mov	 DWORD PTR tv200[ebp], eax
  000d3	db 45 08	 fild	 DWORD PTR tv200[ebp]
  000d6	d9 c1		 fld	 ST(1)
  000d8	de ca		 fmulp	 ST(2), ST(0)
  000da	de c1		 faddp	 ST(1), ST(0)
  000dc	e8 00 00 00 00	 call	 __CIsqrt
  000e1	e8 00 00 00 00	 call	 __ftol2_sse
  000e6	0f b6 cb	 movzx	 ecx, bl
  000e9	3b c1		 cmp	 eax, ecx

; 453  : 		{
; 454  : 			return FALSE;

  000eb	7f a9		 jg	 SHORT $LN11@gObjMonste@7
$LN1@gObjMonste@7:
  000ed	5f		 pop	 edi
  000ee	5b		 pop	 ebx

; 455  : 		}	
; 456  : 	}
; 457  : 
; 458  : 	return TRUE;

  000ef	b8 01 00 00 00	 mov	 eax, 1
  000f4	5e		 pop	 esi

; 459  : }

  000f5	5d		 pop	 ebp
  000f6	c3		 ret	 0
?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ENDP	; gObjMonsterMoveCheck
_TEXT	ENDS
PUBLIC	?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterGetTargetPos
EXTRN	?RoadPathTable@@3PAFA:BYTE			; RoadPathTable
EXTRN	?GetAttr@MapClass@@QAEEHH@Z:PROC		; MapClass::GetAttr
EXTRN	?GetStandAttr@MapClass@@QAEHHH@Z:PROC		; MapClass::GetStandAttr
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	?GetPathPacketDirPos@@YAEHH@Z:PROC		; GetPathPacketDirPos
EXTRN	?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z:PROC ; gObjSearchActiveEffect
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_mtx$ = -20						; size = 4
_mty$ = -16						; size = 4
_lpTargetObj$ = -12					; size = 4
_searchcount$ = -8					; size = 4
_dis$ = -4						; size = 4
_searchp$ = -4						; size = 4
_tpx$ = 8						; size = 4
_lpObj$ = 8						; size = 4
_attr$ = 11						; size = 1
?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterGetTargetPos, COMDAT

; 462  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	56		 push	 esi

; 463  : 	int tpx;	// Target Player X
; 464  : 	int tpy;
; 465  : 	int mtx;	// Monster Target X
; 466  : 	int mty;
; 467  : 	int searchp = 0;
; 468  : 	int sn = 0;
; 469  : 	int searchcount = MAX_ROAD_PATH_TABLE/2-1;
; 470  : 	BYTE attr;
; 471  : 	BOOL result;
; 472  : 	LPOBJ lpTargetObj;
; 473  : 
; 474  : 	if ( lpObj->m_MoveRange == 0 && (gObjSearchActiveEffect(lpObj, AT_ICE_ARROW) == TRUE) && (gObjSearchActiveEffect(lpObj, AT_STUN) == TRUE) ) //season3 changed

  00007	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  0000a	66 83 be ae 04
	00 00 00	 cmp	 WORD PTR [esi+1198], 0
  00012	c7 45 f8 07 00
	00 00		 mov	 DWORD PTR _searchcount$[ebp], 7
  00019	75 25		 jne	 SHORT $LN23@gObjMonste@8
  0001b	6a 39		 push	 57			; 00000039H
  0001d	56		 push	 esi
  0001e	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00023	83 c4 08	 add	 esp, 8
  00026	3c 01		 cmp	 al, 1
  00028	75 16		 jne	 SHORT $LN23@gObjMonste@8
  0002a	6a 3d		 push	 61			; 0000003dH
  0002c	56		 push	 esi
  0002d	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00032	83 c4 08	 add	 esp, 8
  00035	3c 01		 cmp	 al, 1
  00037	75 07		 jne	 SHORT $LN23@gObjMonste@8
$LN42@gObjMonste@8:

; 475  : 	{
; 476  : 		return FALSE;

  00039	33 c0		 xor	 eax, eax
  0003b	5e		 pop	 esi

; 596  : }

  0003c	8b e5		 mov	 esp, ebp
  0003e	5d		 pop	 ebp
  0003f	c3		 ret	 0
$LN23@gObjMonste@8:

; 477  : 	}
; 478  : 
; 479  : 	if (gObjSearchActiveEffect(lpObj, AT_SLEEP) == TRUE) //season3 add-on

  00040	6a 48		 push	 72			; 00000048H
  00042	56		 push	 esi
  00043	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00048	83 c4 08	 add	 esp, 8
  0004b	3c 01		 cmp	 al, 1

; 480  : 	{
; 481  : 		return FALSE;

  0004d	74 ea		 je	 SHORT $LN42@gObjMonste@8

; 482  : 	}
; 483  : 
; 484  : 	if ( OBJMAX_RANGE(lpObj->TargetNumber) == FALSE )

  0004f	0f b7 86 58 04
	00 00		 movzx	 eax, WORD PTR [esi+1112]
  00056	66 85 c0	 test	 ax, ax
  00059	78 de		 js	 SHORT $LN42@gObjMonste@8
  0005b	33 d2		 xor	 edx, edx
  0005d	b9 97 3a 00 00	 mov	 ecx, 14999		; 00003a97H
  00062	66 3b c1	 cmp	 ax, cx
  00065	0f 9e c2	 setle	 dl
  00068	8b ca		 mov	 ecx, edx
  0006a	85 c9		 test	 ecx, ecx

; 485  : 	{
; 486  : 		return FALSE;

  0006c	74 cb		 je	 SHORT $LN42@gObjMonste@8

; 487  : 	}
; 488  : 
; 489  : 	lpTargetObj = &gObj[lpObj->TargetNumber];

  0006e	57		 push	 edi
  0006f	0f bf f8	 movsx	 edi, ax
  00072	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00078	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 490  : 
; 491  : 	if ( lpTargetObj->Teleport != 0 )

  0007e	80 bf a0 03 00
	00 00		 cmp	 BYTE PTR [edi+928], 0
  00085	89 7d f4	 mov	 DWORD PTR _lpTargetObj$[ebp], edi

; 492  : 	{
; 493  : 		return FALSE;

  00088	75 0d		 jne	 SHORT $LN41@gObjMonste@8

; 494  : 	}
; 495  : 
; 496  : 	int vpn = gObjMonsterViewportIsCharacter(lpObj);

  0008a	56		 push	 esi
  0008b	e8 00 00 00 00	 call	 ?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterViewportIsCharacter
  00090	83 c4 04	 add	 esp, 4

; 497  : 
; 498  : 	if ( vpn < 0 )

  00093	85 c0		 test	 eax, eax
  00095	79 08		 jns	 SHORT $LN19@gObjMonste@8
$LN41@gObjMonste@8:
  00097	5f		 pop	 edi

; 499  : 	{
; 500  : 		return FALSE;

  00098	33 c0		 xor	 eax, eax
  0009a	5e		 pop	 esi

; 596  : }

  0009b	8b e5		 mov	 esp, ebp
  0009d	5d		 pop	 ebp
  0009e	c3		 ret	 0
$LN19@gObjMonste@8:

; 501  : 	}
; 502  : 	
; 503  : 	tpx = lpTargetObj->X;
; 504  : 	mtx = tpx;
; 505  : 	tpy = lpTargetObj->Y;
; 506  : 	mty = tpy;
; 507  : 	int dis;
; 508  : 
; 509  : 	if ( lpObj->m_AttackType >= 100 )

  0009f	66 83 be b2 04
	00 00 64	 cmp	 WORD PTR [esi+1202], 100 ; 00000064H
  000a7	0f bf 87 44 01
	00 00		 movsx	 eax, WORD PTR [edi+324]
  000ae	0f bf 8f 46 01
	00 00		 movsx	 ecx, WORD PTR [edi+326]
  000b5	8b d0		 mov	 edx, eax
  000b7	8b f9		 mov	 edi, ecx
  000b9	53		 push	 ebx

; 510  : 	{
; 511  : 		dis = lpObj->m_AttackRange + 2;

  000ba	0f bf 9e b0 04
	00 00		 movsx	 ebx, WORD PTR [esi+1200]
  000c1	89 55 08	 mov	 DWORD PTR _tpx$[ebp], edx
  000c4	89 55 ec	 mov	 DWORD PTR _mtx$[ebp], edx
  000c7	89 7d f0	 mov	 DWORD PTR _mty$[ebp], edi
  000ca	7c 03		 jl	 SHORT $LN18@gObjMonste@8
  000cc	83 c3 02	 add	 ebx, 2
$LN18@gObjMonste@8:

; 512  : 	}
; 513  : 	else
; 514  : 	{
; 515  : 		dis = lpObj->m_AttackRange;

  000cf	89 5d fc	 mov	 DWORD PTR _dis$[ebp], ebx

; 516  : 	}
; 517  : 
; 518  : 	if ( lpObj->X < mtx )

  000d2	0f bf 9e 44 01
	00 00		 movsx	 ebx, WORD PTR [esi+324]
  000d9	3b da		 cmp	 ebx, edx
  000db	7d 06		 jge	 SHORT $LN16@gObjMonste@8

; 519  : 	{
; 520  : 		tpx -= dis;

  000dd	2b 55 fc	 sub	 edx, DWORD PTR _dis$[ebp]
  000e0	89 55 08	 mov	 DWORD PTR _tpx$[ebp], edx
$LN16@gObjMonste@8:

; 521  : 	}
; 522  : 
; 523  : 	if ( lpObj->X > mtx )

  000e3	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  000ea	3b 55 ec	 cmp	 edx, DWORD PTR _mtx$[ebp]
  000ed	7e 06		 jle	 SHORT $LN37@gObjMonste@8

; 524  : 	{
; 525  : 		tpx += dis;

  000ef	8b 55 fc	 mov	 edx, DWORD PTR _dis$[ebp]
  000f2	01 55 08	 add	 DWORD PTR _tpx$[ebp], edx
$LN37@gObjMonste@8:

; 526  : 	}
; 527  : 
; 528  : 	if ( lpObj->Y < mty )

  000f5	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  000fc	3b d7		 cmp	 edx, edi
  000fe	7d 03		 jge	 SHORT $LN14@gObjMonste@8

; 529  : 	{
; 530  : 		tpy -= dis;

  00100	2b 7d fc	 sub	 edi, DWORD PTR _dis$[ebp]
$LN14@gObjMonste@8:

; 531  : 	}
; 532  : 
; 533  : 	if ( lpObj->Y > mty )

  00103	3b 55 f0	 cmp	 edx, DWORD PTR _mty$[ebp]
  00106	7e 03		 jle	 SHORT $LN13@gObjMonste@8

; 534  : 	{
; 535  : 		tpy += dis;

  00108	03 7d fc	 add	 edi, DWORD PTR _dis$[ebp]
$LN13@gObjMonste@8:

; 536  : 	}
; 537  : 
; 538  : 	searchp = GetPathPacketDirPos( (lpTargetObj->X - tpx), (lpTargetObj->Y - tpy) ) * 2;

  0010b	2b 45 08	 sub	 eax, DWORD PTR _tpx$[ebp]
  0010e	2b cf		 sub	 ecx, edi
  00110	51		 push	 ecx
  00111	50		 push	 eax
  00112	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos

; 539  : 
; 540  : 	if ( MapC[lpObj->MapNumber].GetStandAttr(tpx, tpy) == 0 )

  00117	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0011e	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  00124	0f b6 d8	 movzx	 ebx, al
  00127	8b 45 08	 mov	 eax, DWORD PTR _tpx$[ebp]
  0012a	83 c4 08	 add	 esp, 8
  0012d	57		 push	 edi
  0012e	03 db		 add	 ebx, ebx
  00130	50		 push	 eax
  00131	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00137	89 5d fc	 mov	 DWORD PTR _searchp$[ebp], ebx
  0013a	e8 00 00 00 00	 call	 ?GetStandAttr@MapClass@@QAEHHH@Z ; MapClass::GetStandAttr
  0013f	85 c0		 test	 eax, eax
  00141	74 70		 je	 SHORT $LN11@gObjMonste@8

; 570  : 			}
; 571  : 		}
; 572  : 
; 573  : 		return FALSE;
; 574  : 	}
; 575  : 
; 576  : 	attr = MapC[lpObj->MapNumber].GetAttr(tpx, tpy);

  00143	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0014a	8b 45 08	 mov	 eax, DWORD PTR _tpx$[ebp]
  0014d	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  00153	57		 push	 edi
  00154	50		 push	 eax
  00155	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0015b	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 577  : 	result = gObjMonsterMoveCheck(lpObj, mtx, mty);

  00160	8b 4d f0	 mov	 ecx, DWORD PTR _mty$[ebp]
  00163	8b 55 ec	 mov	 edx, DWORD PTR _mtx$[ebp]
  00166	51		 push	 ecx
  00167	52		 push	 edx
  00168	56		 push	 esi
  00169	8a d8		 mov	 bl, al
  0016b	e8 00 00 00 00	 call	 ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterMoveCheck

; 578  : 
; 579  : 	if ( lpObj->Class == 249 )

  00170	b9 f9 00 00 00	 mov	 ecx, 249		; 000000f9H
  00175	83 c4 0c	 add	 esp, 12			; 0000000cH
  00178	66 39 8e b8 00
	00 00		 cmp	 WORD PTR [esi+184], cx
  0017f	0f 85 fb 00 00
	00		 jne	 $LN4@gObjMonste@8

; 580  : 	{
; 581  : 		if ( (attr&2)!=2 && result == TRUE )

  00185	f6 c3 02	 test	 bl, 2
  00188	0f 85 cf 00 00
	00		 jne	 $LN1@gObjMonste@8
  0018e	83 f8 01	 cmp	 eax, 1
  00191	0f 85 c6 00 00
	00		 jne	 $LN1@gObjMonste@8

; 582  : 		{
; 583  : 			lpObj->MTX = tpx;

  00197	66 8b 55 08	 mov	 dx, WORD PTR _tpx$[ebp]
  0019b	5b		 pop	 ebx

; 584  : 			lpObj->MTY = tpy;

  0019c	66 89 be 82 01
	00 00		 mov	 WORD PTR [esi+386], di
  001a3	5f		 pop	 edi
  001a4	66 89 96 80 01
	00 00		 mov	 WORD PTR [esi+384], dx
  001ab	5e		 pop	 esi

; 596  : }

  001ac	8b e5		 mov	 esp, ebp
  001ae	5d		 pop	 ebp
  001af	c3		 ret	 0
$LL35@gObjMonste@8:

; 539  : 
; 540  : 	if ( MapC[lpObj->MapNumber].GetStandAttr(tpx, tpy) == 0 )

  001b0	8b 5d fc	 mov	 ebx, DWORD PTR _searchp$[ebp]
$LN11@gObjMonste@8:

; 543  : 		{
; 544  : 			mtx = lpTargetObj->X + RoadPathTable[searchp];

  001b3	8b 4d f4	 mov	 ecx, DWORD PTR _lpTargetObj$[ebp]
  001b6	0f bf 91 44 01
	00 00		 movsx	 edx, WORD PTR [ecx+324]
  001bd	0f bf 3c 5d 00
	00 00 00	 movsx	 edi, WORD PTR ?RoadPathTable@@3PAFA[ebx*2]

; 545  : 			mty = lpTargetObj->Y + RoadPathTable[1+searchp];

  001c5	0f bf 1c 5d 02
	00 00 00	 movsx	 ebx, WORD PTR ?RoadPathTable@@3PAFA[ebx*2+2]
  001cd	ff 4d f8	 dec	 DWORD PTR _searchcount$[ebp]
  001d0	8b c1		 mov	 eax, ecx
  001d2	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  001d9	03 d9		 add	 ebx, ecx

; 546  : 			attr = MapC[lpObj->MapNumber].GetAttr(mtx, mty);

  001db	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  001e2	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  001e8	03 fa		 add	 edi, edx
  001ea	53		 push	 ebx
  001eb	57		 push	 edi
  001ec	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  001f2	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 547  : 			result = gObjMonsterMoveCheck(lpObj, mtx, mty);

  001f7	53		 push	 ebx
  001f8	57		 push	 edi
  001f9	56		 push	 esi
  001fa	88 45 0b	 mov	 BYTE PTR _attr$[ebp], al
  001fd	e8 00 00 00 00	 call	 ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterMoveCheck

; 548  : 
; 549  : 			if ( lpObj->Class == 249 )

  00202	ba f9 00 00 00	 mov	 edx, 249		; 000000f9H
  00207	83 c4 0c	 add	 esp, 12			; 0000000cH
  0020a	66 39 96 b8 00
	00 00		 cmp	 WORD PTR [esi+184], dx
  00211	75 20		 jne	 SHORT $LN9@gObjMonste@8

; 550  : 			{
; 551  : 				if ( (attr&2)!=2 && result == TRUE )

  00213	f6 45 0b 02	 test	 BYTE PTR _attr$[ebp], 2
  00217	75 25		 jne	 SHORT $LN6@gObjMonste@8
  00219	83 f8 01	 cmp	 eax, 1
  0021c	75 20		 jne	 SHORT $LN6@gObjMonste@8

; 552  : 				{
; 553  : 					lpObj->MTX = mtx;
; 554  : 					lpObj->MTY = mty;

  0021e	66 89 9e 82 01
	00 00		 mov	 WORD PTR [esi+386], bx
  00225	5b		 pop	 ebx
  00226	66 89 be 80 01
	00 00		 mov	 WORD PTR [esi+384], di
  0022d	5f		 pop	 edi
  0022e	5e		 pop	 esi

; 596  : }

  0022f	8b e5		 mov	 esp, ebp
  00231	5d		 pop	 ebp
  00232	c3		 ret	 0
$LN9@gObjMonste@8:

; 555  : 					return TRUE;
; 556  : 				}
; 557  : 			}
; 558  : 			else if ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 && result == TRUE )

  00233	f6 45 0b 0f	 test	 BYTE PTR _attr$[ebp], 15 ; 0000000fH
  00237	75 05		 jne	 SHORT $LN6@gObjMonste@8
  00239	83 f8 01	 cmp	 eax, 1
  0023c	74 28		 je	 SHORT $LN30@gObjMonste@8
$LN6@gObjMonste@8:

; 562  : 				return TRUE;
; 563  : 			}
; 564  : 
; 565  : 			searchp += 2;

  0023e	8b 45 fc	 mov	 eax, DWORD PTR _searchp$[ebp]
  00241	83 c0 02	 add	 eax, 2
  00244	89 45 fc	 mov	 DWORD PTR _searchp$[ebp], eax

; 566  : 
; 567  : 			if ( searchp > MAX_ROAD_PATH_TABLE-1 )

  00247	83 f8 0f	 cmp	 eax, 15			; 0000000fH
  0024a	7e 07		 jle	 SHORT $LN36@gObjMonste@8

; 568  : 			{
; 569  : 				searchp = 0;

  0024c	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _searchp$[ebp], 0
$LN36@gObjMonste@8:

; 541  : 	{
; 542  : 		while ( searchcount-- )

  00253	83 7d f8 00	 cmp	 DWORD PTR _searchcount$[ebp], 0
  00257	0f 85 53 ff ff
	ff		 jne	 $LL35@gObjMonste@8
$LN1@gObjMonste@8:
  0025d	5b		 pop	 ebx
  0025e	5f		 pop	 edi

; 593  : 	}
; 594  : 
; 595  : 	return FALSE;

  0025f	33 c0		 xor	 eax, eax
  00261	5e		 pop	 esi

; 596  : }

  00262	8b e5		 mov	 esp, ebp
  00264	5d		 pop	 ebp
  00265	c3		 ret	 0
$LN30@gObjMonste@8:

; 559  : 			{
; 560  : 				lpObj->MTX = mtx;
; 561  : 				lpObj->MTY = mty;

  00266	66 89 9e 82 01
	00 00		 mov	 WORD PTR [esi+386], bx
  0026d	5b		 pop	 ebx
  0026e	66 89 be 80 01
	00 00		 mov	 WORD PTR [esi+384], di
  00275	5f		 pop	 edi

; 592  : 		return TRUE;

  00276	b8 01 00 00 00	 mov	 eax, 1
  0027b	5e		 pop	 esi

; 596  : }

  0027c	8b e5		 mov	 esp, ebp
  0027e	5d		 pop	 ebp
  0027f	c3		 ret	 0
$LN4@gObjMonste@8:

; 585  : 			return TRUE;
; 586  : 		}
; 587  : 	}
; 588  : 	else if ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 && result == TRUE )

  00280	f6 c3 0f	 test	 bl, 15			; 0000000fH
  00283	75 d8		 jne	 SHORT $LN1@gObjMonste@8
  00285	83 f8 01	 cmp	 eax, 1
  00288	75 d3		 jne	 SHORT $LN1@gObjMonste@8

; 589  : 	{
; 590  : 		lpObj->MTX = tpx;

  0028a	66 8b 45 08	 mov	 ax, WORD PTR _tpx$[ebp]
  0028e	5b		 pop	 ebx

; 591  : 		lpObj->MTY = tpy;

  0028f	66 89 be 82 01
	00 00		 mov	 WORD PTR [esi+386], di
  00296	66 89 86 80 01
	00 00		 mov	 WORD PTR [esi+384], ax
  0029d	5f		 pop	 edi

; 592  : 		return TRUE;

  0029e	b8 01 00 00 00	 mov	 eax, 1
  002a3	5e		 pop	 esi

; 596  : }

  002a4	8b e5		 mov	 esp, ebp
  002a6	5d		 pop	 ebp
  002a7	c3		 ret	 0
?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterGetTargetPos
_TEXT	ENDS
PUBLIC	?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z	; gObjGetTargetPos
; Function compile flags: /Ogtp
;	COMDAT ?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z
_TEXT	SEGMENT
_searchcount$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_sx$ = 12						; size = 4
_sy$ = 16						; size = 4
_tx$ = 20						; size = 4
_ty$ = 24						; size = 4
?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z PROC	; gObjGetTargetPos, COMDAT

; 599  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 600  : 	int tpx;	// Target Player X
; 601  : 	int tpy;
; 602  : 	int mtx;	// Monster Target X
; 603  : 	int mty;
; 604  : 	int searchp = 0;
; 605  : 	int sn = 0;
; 606  : 	int searchcount = MAX_ROAD_PATH_TABLE/2-1;
; 607  : 	BYTE attr;
; 608  : 	int dis;
; 609  : 
; 610  : 	tpx = sx;
; 611  : 	mtx = tpx;
; 612  : 	tpy = sy;
; 613  : 	mty = tpy;
; 614  : 
; 615  : 	if ( lpObj->m_AttackType >= 100 )

  00004	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00007	66 83 ba b2 04
	00 00 64	 cmp	 WORD PTR [edx+1202], 100 ; 00000064H
  0000f	8b 4d 10	 mov	 ecx, DWORD PTR _sy$[ebp]

; 616  : 	{
; 617  : 		dis = lpObj->m_AttackRange + 2;

  00012	0f bf 82 b0 04
	00 00		 movsx	 eax, WORD PTR [edx+1200]
  00019	53		 push	 ebx
  0001a	8b 5d 0c	 mov	 ebx, DWORD PTR _sx$[ebp]
  0001d	56		 push	 esi
  0001e	57		 push	 edi
  0001f	c7 45 fc 07 00
	00 00		 mov	 DWORD PTR _searchcount$[ebp], 7
  00026	8b fb		 mov	 edi, ebx
  00028	8b f1		 mov	 esi, ecx
  0002a	7c 03		 jl	 SHORT $LN14@gObjGetTar
  0002c	83 c0 02	 add	 eax, 2
$LN14@gObjGetTar:

; 618  : 	}
; 619  : 	else
; 620  : 	{
; 621  : 		dis = lpObj->m_AttackRange;
; 622  : 	}
; 623  : 
; 624  : 	if ( lpObj->X < mtx )

  0002f	0f bf 92 44 01
	00 00		 movsx	 edx, WORD PTR [edx+324]
  00036	3b d3		 cmp	 edx, ebx
  00038	7d 04		 jge	 SHORT $LN25@gObjGetTar

; 625  : 	{
; 626  : 		tpx -= dis;

  0003a	2b f8		 sub	 edi, eax

; 627  : 	}
; 628  : 
; 629  : 	if ( lpObj->X > mtx )

  0003c	3b d3		 cmp	 edx, ebx
$LN25@gObjGetTar:
  0003e	7e 02		 jle	 SHORT $LN12@gObjGetTar

; 630  : 	{
; 631  : 		tpx += dis;

  00040	03 f8		 add	 edi, eax
$LN12@gObjGetTar:

; 632  : 	}
; 633  : 
; 634  : 	if ( lpObj->Y < mty )

  00042	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00045	0f bf 92 46 01
	00 00		 movsx	 edx, WORD PTR [edx+326]
  0004c	3b d1		 cmp	 edx, ecx
  0004e	7d 04		 jge	 SHORT $LN26@gObjGetTar

; 635  : 	{
; 636  : 		tpy -= dis;

  00050	2b f0		 sub	 esi, eax

; 637  : 	}
; 638  : 
; 639  : 	if ( lpObj->Y > mty )

  00052	3b d1		 cmp	 edx, ecx
$LN26@gObjGetTar:
  00054	7e 02		 jle	 SHORT $LN10@gObjGetTar

; 640  : 	{
; 641  : 		tpy += dis;

  00056	03 f0		 add	 esi, eax
$LN10@gObjGetTar:

; 642  : 	}
; 643  : 
; 644  : 	searchp = GetPathPacketDirPos( sx - tpx, sy - tpy ) * 2;

  00058	2b ce		 sub	 ecx, esi
  0005a	51		 push	 ecx
  0005b	2b df		 sub	 ebx, edi
  0005d	53		 push	 ebx
  0005e	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  00063	0f b6 d8	 movzx	 ebx, al

; 645  : 
; 646  : 	if ( MapC[lpObj->MapNumber].GetStandAttr(tpx, tpy) == 0 )

  00066	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00069	0f b6 88 49 01
	00 00		 movzx	 ecx, BYTE PTR [eax+329]
  00070	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  00076	83 c4 08	 add	 esp, 8
  00079	56		 push	 esi
  0007a	57		 push	 edi
  0007b	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00081	03 db		 add	 ebx, ebx
  00083	e8 00 00 00 00	 call	 ?GetStandAttr@MapClass@@QAEHHH@Z ; MapClass::GetStandAttr
  00088	85 c0		 test	 eax, eax
  0008a	75 6d		 jne	 SHORT $LN9@gObjGetTar
  0008c	8d 64 24 00	 npad	 4
$LL8@gObjGetTar:

; 649  : 		{
; 650  : 			mtx = sx + RoadPathTable[searchp];
; 651  : 			mty = sy + RoadPathTable[1+searchp];
; 652  : 			attr = MapC[lpObj->MapNumber].GetAttr(mtx, mty);

  00090	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00093	0f b6 89 49 01
	00 00		 movzx	 ecx, BYTE PTR [ecx+329]
  0009a	0f bf 3c 5d 02
	00 00 00	 movsx	 edi, WORD PTR ?RoadPathTable@@3PAFA[ebx*2+2]
  000a2	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  000a8	0f bf 34 5d 00
	00 00 00	 movsx	 esi, WORD PTR ?RoadPathTable@@3PAFA[ebx*2]
  000b0	03 7d 10	 add	 edi, DWORD PTR _sy$[ebp]
  000b3	03 75 0c	 add	 esi, DWORD PTR _sx$[ebp]
  000b6	ff 4d fc	 dec	 DWORD PTR _searchcount$[ebp]
  000b9	57		 push	 edi
  000ba	56		 push	 esi
  000bb	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  000c1	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 653  : 			
; 654  : 			if ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 )

  000c6	a8 0f		 test	 al, 15			; 0000000fH
  000c8	74 19		 je	 SHORT $LN19@gObjGetTar

; 658  : 				return TRUE;
; 659  : 			}
; 660  : 
; 661  : 			searchp += 2;

  000ca	83 c3 02	 add	 ebx, 2

; 662  : 
; 663  : 			if ( searchp > MAX_ROAD_PATH_TABLE-1 )

  000cd	83 fb 0f	 cmp	 ebx, 15			; 0000000fH
  000d0	7e 02		 jle	 SHORT $LN24@gObjGetTar

; 664  : 			{
; 665  : 				searchp = 0;

  000d2	33 db		 xor	 ebx, ebx
$LN24@gObjGetTar:

; 647  : 	{
; 648  : 		while ( searchcount-- )

  000d4	83 7d fc 00	 cmp	 DWORD PTR _searchcount$[ebp], 0
  000d8	75 b6		 jne	 SHORT $LL8@gObjGetTar
$LN1@gObjGetTar:
  000da	5f		 pop	 edi
  000db	5e		 pop	 esi

; 688  : 	}
; 689  : 
; 690  : 	return FALSE;

  000dc	33 c0		 xor	 eax, eax
  000de	5b		 pop	 ebx

; 691  : }

  000df	8b e5		 mov	 esp, ebp
  000e1	5d		 pop	 ebp
  000e2	c3		 ret	 0
$LN19@gObjGetTar:

; 655  : 			{
; 656  : 				tx = mtx;

  000e3	8b 55 14	 mov	 edx, DWORD PTR _tx$[ebp]

; 657  : 				ty = mty;

  000e6	8b 45 18	 mov	 eax, DWORD PTR _ty$[ebp]
  000e9	89 32		 mov	 DWORD PTR [edx], esi
  000eb	89 38		 mov	 DWORD PTR [eax], edi
  000ed	5f		 pop	 edi
  000ee	5e		 pop	 esi

; 687  : 		return TRUE;

  000ef	b8 01 00 00 00	 mov	 eax, 1
  000f4	5b		 pop	 ebx

; 691  : }

  000f5	8b e5		 mov	 esp, ebp
  000f7	5d		 pop	 ebp
  000f8	c3		 ret	 0
$LN9@gObjGetTar:

; 666  : 			}
; 667  : 		}
; 668  : 
; 669  : 		return FALSE;
; 670  : 	}
; 671  : 
; 672  : 	attr = MapC[lpObj->MapNumber].GetAttr(tpx, tpy);

  000f9	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  000fc	0f b6 8b 49 01
	00 00		 movzx	 ecx, BYTE PTR [ebx+329]
  00103	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  00109	56		 push	 esi
  0010a	57		 push	 edi
  0010b	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00111	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 673  : 
; 674  : 	if ( lpObj->m_Attribute >= 100 )

  00116	66 83 bb b6 04
	00 00 64	 cmp	 WORD PTR [ebx+1206], 100 ; 00000064H
  0011e	7c 1a		 jl	 SHORT $LN4@gObjGetTar

; 675  : 	{
; 676  : 		if (  (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 )

  00120	a8 0e		 test	 al, 14			; 0000000eH
  00122	75 b6		 jne	 SHORT $LN1@gObjGetTar

; 677  : 		{
; 678  : 			tx = tpx;

  00124	8b 4d 14	 mov	 ecx, DWORD PTR _tx$[ebp]

; 679  : 			ty = tpy;

  00127	8b 55 18	 mov	 edx, DWORD PTR _ty$[ebp]
  0012a	89 39		 mov	 DWORD PTR [ecx], edi
  0012c	5f		 pop	 edi
  0012d	89 32		 mov	 DWORD PTR [edx], esi
  0012f	5e		 pop	 esi

; 680  : 			return TRUE;

  00130	b8 01 00 00 00	 mov	 eax, 1
  00135	5b		 pop	 ebx

; 691  : }

  00136	8b e5		 mov	 esp, ebp
  00138	5d		 pop	 ebp
  00139	c3		 ret	 0
$LN4@gObjGetTar:

; 681  : 		}
; 682  : 	}
; 683  : 	else if  ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 )

  0013a	a8 0f		 test	 al, 15			; 0000000fH
  0013c	75 9c		 jne	 SHORT $LN1@gObjGetTar

; 684  : 	{
; 685  : 		tx = tpx;

  0013e	8b 45 14	 mov	 eax, DWORD PTR _tx$[ebp]

; 686  : 		ty = tpy;

  00141	8b 4d 18	 mov	 ecx, DWORD PTR _ty$[ebp]
  00144	89 38		 mov	 DWORD PTR [eax], edi
  00146	5f		 pop	 edi
  00147	89 31		 mov	 DWORD PTR [ecx], esi
  00149	5e		 pop	 esi

; 687  : 		return TRUE;

  0014a	b8 01 00 00 00	 mov	 eax, 1
  0014f	5b		 pop	 ebx

; 691  : }

  00150	8b e5		 mov	 esp, ebp
  00152	5d		 pop	 ebp
  00153	c3		 ret	 0
?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z ENDP	; gObjGetTargetPos
_TEXT	ENDS
PUBLIC	?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z ; gObjCallMonsterSetEnemy
; Function compile flags: /Ogtp
;	COMDAT ?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_Target$ = 12						; size = 4
?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z PROC	; gObjCallMonsterSetEnemy, COMDAT

; 694  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 695  : 	if ( lpObj->Type != OBJ_USER )

  00003	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00006	66 83 78 68 01	 cmp	 WORD PTR [eax+104], 1

; 696  : 	{
; 697  : 		return -1;

  0000b	75 4f		 jne	 SHORT $LN1@gObjCallMo

; 698  : 	}
; 699  : 
; 700  : 	if( lpObj->m_RecallMon < 0)//Season 4.5 addon

  0000d	8b 80 50 04 00
	00		 mov	 eax, DWORD PTR [eax+1104]
  00013	85 c0		 test	 eax, eax

; 701  : 	{
; 702  : 		return -1;

  00015	78 45		 js	 SHORT $LN1@gObjCallMo

; 703  : 	}
; 704  : 
; 705  : 	LPOBJ lpCallObj = &gObj[lpObj->m_RecallMon];

  00017	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0001d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 706  : 
; 707  : 	if ( lpCallObj->TargetNumber >= 0 )

  00023	0f b7 88 58 04
	00 00		 movzx	 ecx, WORD PTR [eax+1112]
  0002a	66 85 c9	 test	 cx, cx

; 708  : 	{
; 709  : 		return -1;

  0002d	79 2d		 jns	 SHORT $LN1@gObjCallMo

; 710  : 	}
; 711  : 
; 712  : 	if ( lpCallObj->TargetNumber != Target )

  0002f	0f bf d1	 movsx	 edx, cx
  00032	8b 4d 0c	 mov	 ecx, DWORD PTR _Target$[ebp]
  00035	3b d1		 cmp	 edx, ecx
  00037	74 23		 je	 SHORT $LN1@gObjCallMo

; 713  : 	{
; 714  : 		lpCallObj->TargetNumber = Target;

  00039	66 89 88 58 04
	00 00		 mov	 WORD PTR [eax+1112], cx

; 715  : 		lpCallObj->m_ActState.EmotionCount = 30;

  00040	c6 80 19 02 00
	00 1e		 mov	 BYTE PTR [eax+537], 30	; 0000001eH

; 716  : 		lpCallObj->m_ActState.Emotion = 1;

  00047	8b 88 18 02 00
	00		 mov	 ecx, DWORD PTR [eax+536]
  0004d	81 e1 1f ff ff
	ff		 and	 ecx, -225		; ffffff1fH
  00053	83 c9 10	 or	 ecx, 16			; 00000010H
  00056	89 88 18 02 00
	00		 mov	 DWORD PTR [eax+536], ecx
$LN1@gObjCallMo:

; 717  : 	}
; 718  : 
; 719  : 	return -1;

  0005c	83 c8 ff	 or	 eax, -1

; 720  : }

  0005f	5d		 pop	 ebp
  00060	c3		 ret	 0
?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z ENDP	; gObjCallMonsterSetEnemy
_TEXT	ENDS
PUBLIC	?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z ; gObjMonsterSearchEnemy
EXTRN	_rand:PROC
EXTRN	?IsDGMonster@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z:PROC ; CDoppelGanger::IsDGMonster
EXTRN	?g_DoppelGanger@@3VCDoppelGanger@@A:BYTE	; g_DoppelGanger
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z
_TEXT	SEGMENT
tv400 = -16						; size = 4
_tx$ = -16						; size = 4
_searchtarget$ = -12					; size = 4
tv147 = -8						; size = 4
_mindis$ = -4						; size = 4
tv393 = 8						; size = 4
_lpObj$ = 8						; size = 4
_objtype$ = 12						; size = 1
?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z PROC	; gObjMonsterSearchEnemy, COMDAT

; 723  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	53		 push	 ebx

; 724  : 	int n;
; 725  : 	int tx;
; 726  : 	int ty;
; 727  : 	int dis;
; 728  : 	int mindis = lpObj->m_ViewRange;

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  0000a	0f bf 83 b4 04
	00 00		 movsx	 eax, WORD PTR [ebx+1204]
  00011	56		 push	 esi
  00012	8d 8b b4 08 00
	00		 lea	 ecx, DWORD PTR [ebx+2228]
  00018	57		 push	 edi
  00019	89 45 fc	 mov	 DWORD PTR _mindis$[ebp], eax

; 729  : 	int searchtarget = -1;

  0001c	c7 45 f4 ff ff
	ff ff		 mov	 DWORD PTR _searchtarget$[ebp], -1
  00023	89 4d 08	 mov	 DWORD PTR tv393[ebp], ecx
  00026	c7 45 f8 4b 00
	00 00		 mov	 DWORD PTR tv147[ebp], 75 ; 0000004bH
  0002d	8d 49 00	 npad	 3
$LL14@gObjMonste@9:

; 736  : 	{
; 737  : 		tObjNum = lpObj->VpPlayer2[n].number;

  00030	8b 55 08	 mov	 edx, DWORD PTR tv393[ebp]
  00033	0f bf 7a fa	 movsx	 edi, WORD PTR [edx-6]

; 738  : 
; 739  : 		if ( tObjNum >= 0 )

  00037	85 ff		 test	 edi, edi
  00039	0f 88 d6 00 00
	00		 js	 $LN13@gObjMonste@9

; 740  : 		{
; 741  : 			if ( (gObj[tObjNum].Type == t1 || gObj[tObjNum].Type == t2) && (gObj[tObjNum].Live != FALSE) )

  0003f	0f b6 75 0c	 movzx	 esi, BYTE PTR _objtype$[ebp]
  00043	8b c7		 mov	 eax, edi
  00045	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0004b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00051	0f b7 50 68	 movzx	 edx, WORD PTR [eax+104]
  00055	8b ca		 mov	 ecx, edx
  00057	3b ce		 cmp	 ecx, esi
  00059	0f 85 b6 00 00
	00		 jne	 $LN13@gObjMonste@9
  0005f	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  00063	0f 84 ac 00 00
	00		 je	 $LN13@gObjMonste@9

; 742  : 			{
; 743  : 				if ( (gObj[tObjNum].Class >= 100 && gObj[tObjNum].Class < 110 ) || (gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0) )

  00069	0f b7 88 b8 00
	00 00		 movzx	 ecx, WORD PTR [eax+184]
  00070	83 f9 64	 cmp	 ecx, 100		; 00000064H
  00073	72 09		 jb	 SHORT $LN6@gObjMonste@9
  00075	83 f9 6e	 cmp	 ecx, 110		; 0000006eH
  00078	0f 82 97 00 00
	00		 jb	 $LN13@gObjMonste@9
$LN6@gObjMonste@9:
  0007e	83 fa 02	 cmp	 edx, 2
  00081	75 0d		 jne	 SHORT $LN8@gObjMonste@9
  00083	83 b8 50 04 00
	00 00		 cmp	 DWORD PTR [eax+1104], 0

; 744  : 				{
; 745  : 
; 746  : 				}
; 747  : 				else if ( (gObj[tObjNum].Authority &2) != 2 && (gObj[tObjNum].Authority &32) != 32 && gObj[tObjNum].Teleport == 0 )

  0008a	0f 8d 85 00 00
	00		 jge	 $LN13@gObjMonste@9
$LN8@gObjMonste@9:
  00090	f6 80 0c 02 00
	00 22		 test	 BYTE PTR [eax+524], 34	; 00000022H
  00097	75 7c		 jne	 SHORT $LN13@gObjMonste@9
  00099	80 b8 a0 03 00
	00 00		 cmp	 BYTE PTR [eax+928], 0
  000a0	75 73		 jne	 SHORT $LN13@gObjMonste@9

; 748  : 				{
; 749  : 					tx = lpObj->X - gObj[tObjNum].X;

  000a2	0f bf 90 44 01
	00 00		 movsx	 edx, WORD PTR [eax+324]
  000a9	0f bf 8b 44 01
	00 00		 movsx	 ecx, WORD PTR [ebx+324]
  000b0	2b ca		 sub	 ecx, edx

; 750  : 					ty = lpObj->Y - gObj[tObjNum].Y;

  000b2	0f bf 90 46 01
	00 00		 movsx	 edx, WORD PTR [eax+326]
  000b9	0f bf 83 46 01
	00 00		 movsx	 eax, WORD PTR [ebx+326]
  000c0	2b c2		 sub	 eax, edx

; 751  : 					dis = (int)(sqrt((double)tx * tx + ty * ty));

  000c2	0f af c0	 imul	 eax, eax
  000c5	89 4d f0	 mov	 DWORD PTR _tx$[ebp], ecx
  000c8	db 45 f0	 fild	 DWORD PTR _tx$[ebp]
  000cb	89 45 f0	 mov	 DWORD PTR tv400[ebp], eax
  000ce	db 45 f0	 fild	 DWORD PTR tv400[ebp]
  000d1	d9 c1		 fld	 ST(1)
  000d3	de ca		 fmulp	 ST(2), ST(0)
  000d5	de c1		 faddp	 ST(1), ST(0)
  000d7	e8 00 00 00 00	 call	 __CIsqrt
  000dc	e8 00 00 00 00	 call	 __ftol2_sse
  000e1	8b f0		 mov	 esi, eax

; 752  : 					lpObj->VpPlayer2[n].dis = dis;

  000e3	8b 45 08	 mov	 eax, DWORD PTR tv393[ebp]
  000e6	89 30		 mov	 DWORD PTR [eax], esi

; 753  : 
; 754  : 					if ( dis < mindis )

  000e8	3b 75 fc	 cmp	 esi, DWORD PTR _mindis$[ebp]
  000eb	7d 28		 jge	 SHORT $LN13@gObjMonste@9

; 755  : 					{
; 756  : 						if(g_DoppelGanger.IsDGMonster(lpObj))	//Season 5 DoppelGanger

  000ed	53		 push	 ebx
  000ee	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  000f3	e8 00 00 00 00	 call	 ?IsDGMonster@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::IsDGMonster
  000f8	84 c0		 test	 al, al
  000fa	74 13		 je	 SHORT $LN1@gObjMonste@9

; 757  : 						{
; 758  : 							if(rand()%2 == 0) continue;

  000fc	e8 00 00 00 00	 call	 _rand
  00101	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00106	79 05		 jns	 SHORT $LN21@gObjMonste@9
  00108	48		 dec	 eax
  00109	83 c8 fe	 or	 eax, -2			; fffffffeH
  0010c	40		 inc	 eax
$LN21@gObjMonste@9:
  0010d	74 06		 je	 SHORT $LN13@gObjMonste@9
$LN1@gObjMonste@9:

; 759  : 						}
; 760  : 						searchtarget = tObjNum;

  0010f	89 7d f4	 mov	 DWORD PTR _searchtarget$[ebp], edi

; 761  : 						mindis = dis;

  00112	89 75 fc	 mov	 DWORD PTR _mindis$[ebp], esi
$LN13@gObjMonste@9:

; 730  : 	int tObjNum;
; 731  : 	int count = 3;
; 732  : 	int t1 = objtype;
; 733  : 	int t2 = objtype;
; 734  : 
; 735  : 	for (n=0;n<MAX_VIEWPORT_MONSTER;n++)

  00115	83 45 08 0c	 add	 DWORD PTR tv393[ebp], 12 ; 0000000cH
  00119	ff 4d f8	 dec	 DWORD PTR tv147[ebp]
  0011c	0f 85 0e ff ff
	ff		 jne	 $LL14@gObjMonste@9

; 762  : 					}
; 763  : 				}
; 764  : 			}
; 765  : 		}
; 766  : 	}
; 767  : 
; 768  : 	return searchtarget;

  00122	8b 45 f4	 mov	 eax, DWORD PTR _searchtarget$[ebp]
  00125	5f		 pop	 edi
  00126	5e		 pop	 esi
  00127	5b		 pop	 ebx

; 769  : }

  00128	8b e5		 mov	 esp, ebp
  0012a	5d		 pop	 ebp
  0012b	c3		 ret	 0
?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z ENDP	; gObjMonsterSearchEnemy
_TEXT	ENDS
PUBLIC	?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z	; gObjGuardSearchEnemy
EXTRN	?GetPkLevel@PartyClass@@QAEDH@Z:PROC		; PartyClass::GetPkLevel
EXTRN	?gParty@@3VPartyClass@@A:BYTE			; gParty
EXTRN	?ZtConfig@@3VcZtConfigs@@A:BYTE			; ZtConfig
EXTRN	?IsMapBattleZone@GensSystem@@QAEHH@Z:PROC	; GensSystem::IsMapBattleZone
EXTRN	?gGensSystem@@3VGensSystem@@A:BYTE		; gGensSystem
EXTRN	?gGENS@@3HA:DWORD				; gGENS
; Function compile flags: /Ogtp
;	COMDAT ?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
tv362 = -20						; size = 4
_tx$ = -20						; size = 4
_searchtarget$ = -16					; size = 4
tv206 = -12						; size = 4
_mindis$ = -8						; size = 4
tv354 = -4						; size = 4
_lpObj$ = 8						; size = 4
?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z PROC	; gObjGuardSearchEnemy, COMDAT

; 772  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H

; 773  : 	int n;
; 774  : 	int tx;
; 775  : 	int ty;
; 776  : 	int dis;
; 777  : 	int mindis = lpObj->m_ViewRange;
; 778  : 	int searchtarget = -1;
; 779  : 	int tObjNum;
; 780  : 	BYTE attr;
; 781  : 
; 782  : 	if(gGENS)

  00006	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gGENS@@3HA, 0 ; gGENS
  0000d	56		 push	 esi
  0000e	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00011	0f bf 86 b4 04
	00 00		 movsx	 eax, WORD PTR [esi+1204]
  00018	89 45 f8	 mov	 DWORD PTR _mindis$[ebp], eax
  0001b	c7 45 f0 ff ff
	ff ff		 mov	 DWORD PTR _searchtarget$[ebp], -1
  00022	74 1e		 je	 SHORT $LN13@gObjGuardS

; 783  : 	{
; 784  : 		if( gGensSystem.IsMapBattleZone(lpObj->MapNumber) )

  00024	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0002b	51		 push	 ecx
  0002c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gGensSystem@@3VGensSystem@@A ; gGensSystem
  00031	e8 00 00 00 00	 call	 ?IsMapBattleZone@GensSystem@@QAEHH@Z ; GensSystem::IsMapBattleZone
  00036	85 c0		 test	 eax, eax
  00038	74 08		 je	 SHORT $LN13@gObjGuardS

; 785  : 		{
; 786  : 			return -1;

  0003a	83 c8 ff	 or	 eax, -1
  0003d	5e		 pop	 esi

; 835  : }

  0003e	8b e5		 mov	 esp, ebp
  00040	5d		 pop	 ebp
  00041	c3		 ret	 0
$LN13@gObjGuardS:

; 787  : 		}
; 788  : 	}
; 789  : 
; 790  : 	for (n=0;n<MAX_VIEWPORT_MONSTER;n++)

  00042	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00047	81 c6 b4 08 00
	00		 add	 esi, 2228		; 000008b4H
  0004d	53		 push	 ebx
  0004e	89 75 fc	 mov	 DWORD PTR tv354[ebp], esi
  00051	c7 45 f4 4b 00
	00 00		 mov	 DWORD PTR tv206[ebp], 75 ; 0000004bH
  00058	57		 push	 edi
  00059	8d a4 24 00 00
	00 00		 npad	 7
$LL24@gObjGuardS:

; 791  : 	{
; 792  : 		tObjNum = lpObj->VpPlayer2[n].number;

  00060	0f bf 7e fa	 movsx	 edi, WORD PTR [esi-6]

; 793  : 
; 794  : 		if ( tObjNum >= 0 )

  00064	85 ff		 test	 edi, edi
  00066	0f 88 ea 00 00
	00		 js	 $LN11@gObjGuardS

; 795  : 		{
; 796  : 			BOOL bEnableAttack = FALSE; //Season 2.5 add-on

  0006c	33 db		 xor	 ebx, ebx

; 797  : 
; 798  : 			if(ZtConfig.PvP.ZtPkPartySystem && gObj[tObjNum].PartyNumber >= 0) //Season 2.5 add-on

  0006e	39 1d 38 09 00
	00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2360, ebx
  00074	74 27		 je	 SHORT $LN8@gObjGuardS
  00076	8b f7		 mov	 esi, edi
  00078	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  0007e	8b 8c 06 2c 04
	00 00		 mov	 ecx, DWORD PTR [esi+eax+1068]
  00085	85 c9		 test	 ecx, ecx
  00087	78 14		 js	 SHORT $LN8@gObjGuardS

; 799  : 			{
; 800  : 				if( gParty.GetPkLevel(gObj[tObjNum].PartyNumber) > 4 )

  00089	51		 push	 ecx
  0008a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gParty@@3VPartyClass@@A ; gParty
  0008f	e8 00 00 00 00	 call	 ?GetPkLevel@PartyClass@@QAEDH@Z ; PartyClass::GetPkLevel
  00094	3c 04		 cmp	 al, 4

; 801  : 				{
; 802  : 					bEnableAttack = TRUE;
; 803  : 				}
; 804  : 			}

  00096	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009b	eb 10		 jmp	 SHORT $LN25@gObjGuardS
$LN8@gObjGuardS:

; 805  : 			else if( gObj[tObjNum].m_PK_Level > 4 ) 

  0009d	8b f7		 mov	 esi, edi
  0009f	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  000a5	80 bc 06 3d 01
	00 00 04	 cmp	 BYTE PTR [esi+eax+317], 4
$LN25@gObjGuardS:
  000ad	7e 05		 jle	 SHORT $LN21@gObjGuardS

; 806  : 			{
; 807  : 				bEnableAttack = TRUE;

  000af	bb 01 00 00 00	 mov	 ebx, 1
$LN21@gObjGuardS:

; 808  : 			}
; 809  : 			
; 810  : 			if ( gObj[tObjNum].Type == OBJ_USER )

  000b4	66 83 7c 06 68
	01		 cmp	 WORD PTR [esi+eax+104], 1
  000ba	0f 85 96 00 00
	00		 jne	 $LN11@gObjGuardS

; 811  : 			{
; 812  : 				if(bEnableAttack == TRUE) //Season 2.5 add-on

  000c0	83 fb 01	 cmp	 ebx, 1
  000c3	0f 85 8d 00 00
	00		 jne	 $LN11@gObjGuardS

; 813  : 				{
; 814  : 					attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);
; 815  : 
; 816  : 					if ( (attr&1) != 1 )

  000c9	0f bf 94 06 46
	01 00 00	 movsx	 edx, WORD PTR [esi+eax+326]
  000d1	0f bf 8c 06 44
	01 00 00	 movsx	 ecx, WORD PTR [esi+eax+324]
  000d9	52		 push	 edx
  000da	51		 push	 ecx
  000db	0f b6 8c 06 49
	01 00 00	 movzx	 ecx, BYTE PTR [esi+eax+329]
  000e3	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  000e9	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  000ef	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  000f4	84 c3		 test	 al, bl
  000f6	75 59		 jne	 SHORT $LN20@gObjGuardS

; 817  : 					{
; 818  : 						tx = lpObj->X - gObj[tObjNum].X;

  000f8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000fd	0f bf 94 06 44
	01 00 00	 movsx	 edx, WORD PTR [esi+eax+324]
  00105	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00108	0f bf 99 44 01
	00 00		 movsx	 ebx, WORD PTR [ecx+324]
  0010f	2b da		 sub	 ebx, edx

; 819  : 						ty = lpObj->Y - gObj[tObjNum].Y;

  00111	0f bf 94 06 46
	01 00 00	 movsx	 edx, WORD PTR [esi+eax+326]
  00119	0f bf 81 46 01
	00 00		 movsx	 eax, WORD PTR [ecx+326]
  00120	2b c2		 sub	 eax, edx

; 820  : 						dis = (int)(sqrt((double)tx * tx + ty * ty));

  00122	0f af c0	 imul	 eax, eax
  00125	89 5d ec	 mov	 DWORD PTR _tx$[ebp], ebx
  00128	db 45 ec	 fild	 DWORD PTR _tx$[ebp]
  0012b	89 45 ec	 mov	 DWORD PTR tv362[ebp], eax
  0012e	db 45 ec	 fild	 DWORD PTR tv362[ebp]
  00131	d9 c1		 fld	 ST(1)
  00133	de ca		 fmulp	 ST(2), ST(0)
  00135	de c1		 faddp	 ST(1), ST(0)
  00137	e8 00 00 00 00	 call	 __CIsqrt
  0013c	e8 00 00 00 00	 call	 __ftol2_sse

; 821  : 						lpObj->VpPlayer2[n].dis = dis;

  00141	8b 4d fc	 mov	 ecx, DWORD PTR tv354[ebp]
  00144	89 01		 mov	 DWORD PTR [ecx], eax

; 822  : 
; 823  : 						if ( dis < mindis )

  00146	3b 45 f8	 cmp	 eax, DWORD PTR _mindis$[ebp]
  00149	7d 06		 jge	 SHORT $LN20@gObjGuardS

; 824  : 						{
; 825  : 							searchtarget = tObjNum;

  0014b	89 7d f0	 mov	 DWORD PTR _searchtarget$[ebp], edi

; 826  : 							mindis = dis;

  0014e	89 45 f8	 mov	 DWORD PTR _mindis$[ebp], eax
$LN20@gObjGuardS:
  00151	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN11@gObjGuardS:

; 787  : 		}
; 788  : 	}
; 789  : 
; 790  : 	for (n=0;n<MAX_VIEWPORT_MONSTER;n++)

  00156	8b 75 fc	 mov	 esi, DWORD PTR tv354[ebp]
  00159	83 c6 0c	 add	 esi, 12			; 0000000cH
  0015c	ff 4d f4	 dec	 DWORD PTR tv206[ebp]
  0015f	89 75 fc	 mov	 DWORD PTR tv354[ebp], esi
  00162	0f 85 f8 fe ff
	ff		 jne	 $LL24@gObjGuardS

; 827  : 						}
; 828  : 					}
; 829  : 				}
; 830  : 			}
; 831  : 		}
; 832  : 	}
; 833  : 
; 834  : 	return searchtarget;

  00168	8b 45 f0	 mov	 eax, DWORD PTR _searchtarget$[ebp]
  0016b	5f		 pop	 edi
  0016c	5b		 pop	 ebx
  0016d	5e		 pop	 esi

; 835  : }

  0016e	8b e5		 mov	 esp, ebp
  00170	5d		 pop	 ebp
  00171	c3		 ret	 0
?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; gObjGuardSearchEnemy
_TEXT	ENDS
PUBLIC	__real@4014000000000000
PUBLIC	__real@4039000000000000
PUBLIC	?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z ; gObjUseMonsterSpecialAbillity
EXTRN	?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z:PROC ; CGMagicAttack
;	COMDAT __real@4014000000000000
CONST	SEGMENT
__real@4014000000000000 DQ 04014000000000000r	; 5
CONST	ENDS
;	COMDAT __real@4039000000000000
CONST	SEGMENT
__real@4039000000000000 DQ 04039000000000000r	; 25
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_pAttackMsg$227889 = -8					; size = 8
_lpMonsterObj$ = 8					; size = 4
?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z PROC ; gObjUseMonsterSpecialAbillity, COMDAT

; 1629 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 1630 : 	if ( lpMonsterObj->Class == 275 )

  00007	8b 75 08	 mov	 esi, DWORD PTR _lpMonsterObj$[ebp]
  0000a	b8 13 01 00 00	 mov	 eax, 275		; 00000113H
  0000f	66 39 86 b8 00
	00 00		 cmp	 WORD PTR [esi+184], ax
  00016	0f 85 86 00 00
	00		 jne	 $LN1@gObjUseMon

; 1631 : 	{
; 1632 : 		PMSG_MAGICATTACK pAttackMsg;
; 1633 : 
; 1634 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(1);
; 1635 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(1);
; 1636 : 
; 1637 : 		pAttackMsg.NumberH = SET_NUMBERH(lpMonsterObj->TargetNumber);
; 1638 : 		pAttackMsg.NumberL = SET_NUMBERL(lpMonsterObj->TargetNumber);
; 1639 : 		pAttackMsg.Dis = 0;
; 1640 : 
; 1641 : 		if ( (lpMonsterObj->MaxLife / 25.0f) > lpMonsterObj->Life  )

  0001c	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
  00022	0f bf 8e 58 04
	00 00		 movsx	 ecx, WORD PTR [esi+1112]
  00029	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4039000000000000
  0002f	8a 96 58 04 00
	00		 mov	 dl, BYTE PTR [esi+1112]
  00035	32 c0		 xor	 al, al
  00037	88 45 ff	 mov	 BYTE PTR _pAttackMsg$227889[ebp+7], al
  0003a	c1 e9 08	 shr	 ecx, 8
  0003d	66 c7 45 fb 00
	01		 mov	 WORD PTR _pAttackMsg$227889[ebp+3], 256 ; 00000100H
  00043	88 4d fd	 mov	 BYTE PTR _pAttackMsg$227889[ebp+5], cl
  00046	88 55 fe	 mov	 BYTE PTR _pAttackMsg$227889[ebp+6], dl
  00049	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  0004f	de d9		 fcompp
  00051	df e0		 fnstsw	 ax
  00053	f6 c4 05	 test	 ah, 5
  00056	7a 20		 jp	 SHORT $LN3@gObjUseMon

; 1642 : 		{
; 1643 : 			CGMagicAttack(&pAttackMsg, lpMonsterObj->m_Index);

  00058	8b 06		 mov	 eax, DWORD PTR [esi]
  0005a	50		 push	 eax
  0005b	8d 4d f8	 lea	 ecx, DWORD PTR _pAttackMsg$227889[ebp]
  0005e	51		 push	 ecx
  0005f	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack

; 1644 : 			CGMagicAttack(&pAttackMsg, lpMonsterObj->m_Index);

  00064	8b 16		 mov	 edx, DWORD PTR [esi]
  00066	52		 push	 edx
  00067	8d 45 f8	 lea	 eax, DWORD PTR _pAttackMsg$227889[ebp]
  0006a	50		 push	 eax
  0006b	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  00070	83 c4 10	 add	 esp, 16			; 00000010H
  00073	5e		 pop	 esi

; 1649 : 		}
; 1650 : 	}
; 1651 : }

  00074	8b e5		 mov	 esp, ebp
  00076	5d		 pop	 ebp
  00077	c3		 ret	 0
$LN3@gObjUseMon:

; 1645 : 		}
; 1646 : 		else if ( (lpMonsterObj->MaxLife / 5.0f) > lpMonsterObj->Life  )

  00078	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
  0007e	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4014000000000000
  00084	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  0008a	de d9		 fcompp
  0008c	df e0		 fnstsw	 ax
  0008e	f6 c4 05	 test	 ah, 5
  00091	7a 0f		 jp	 SHORT $LN1@gObjUseMon

; 1647 : 		{
; 1648 : 			CGMagicAttack(&pAttackMsg, lpMonsterObj->m_Index);

  00093	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00095	51		 push	 ecx
  00096	8d 55 f8	 lea	 edx, DWORD PTR _pAttackMsg$227889[ebp]
  00099	52		 push	 edx
  0009a	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  0009f	83 c4 08	 add	 esp, 8
$LN1@gObjUseMon:
  000a2	5e		 pop	 esi

; 1649 : 		}
; 1650 : 	}
; 1651 : }

  000a3	8b e5		 mov	 esp, ebp
  000a5	5d		 pop	 ebp
  000a6	c3		 ret	 0
?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z ENDP ; gObjUseMonsterSpecialAbillity
_TEXT	ENDS
PUBLIC	??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@	; `string'
PUBLIC	??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@	; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?gObjMonsterBeattackRecv@@YAXPAEH@Z		; gObjMonsterBeattackRecv
EXTRN	?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z:PROC ; gObjAttack
EXTRN	?gObjGetMagic@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z:PROC ; gObjGetMagic
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT ??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@ DB 'error-L3 %s %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@
CONST	SEGMENT
??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@ DB 'gObjMonster.cpp', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjMonsterBeattackRecv@@YAXPAEH@Z
_TEXT	SEGMENT
_lpMagic$ = -524					; size = 4
tv235 = -520						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpRecv$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?gObjMonsterBeattackRecv@@YAXPAEH@Z PROC		; gObjMonsterBeattackRecv, COMDAT

; 1655 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 0c 02 00
	00		 sub	 esp, 524		; 0000020cH
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	8b 45 0c	 mov	 eax, DWORD PTR _aIndex$[ebp]
  00016	57		 push	 edi

; 1656 : 	PMSG_BEATTACK_COUNT * lpCount = (PMSG_BEATTACK_COUNT *)lpRecv;
; 1657 : 
; 1658 : 	int lOfs = sizeof(PMSG_BEATTACK_COUNT); //loc2
; 1659 : 	int tNumber; //loc3
; 1660 : 	CMagicInf * lpMagic; //loc4
; 1661 : 	PMSG_BEATTACK * lpMsg; //loc5
; 1662 : 
; 1663 : 	WORD MagicNumber = MAKE_NUMBERW(lpCount->MagicNumberH, lpCount->MagicNumberL);
; 1664 : 
; 1665 : 	lpMagic = gObjGetMagic(&gObj[aIndex], MagicNumber);

  00017	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0001d	8b 7d 08	 mov	 edi, DWORD PTR _lpRecv$[ebp]
  00020	0f b6 4f 03	 movzx	 ecx, BYTE PTR [edi+3]
  00024	0f b6 57 04	 movzx	 edx, BYTE PTR [edi+4]
  00028	66 c1 e1 08	 shl	 cx, 8
  0002c	66 0b ca	 or	 cx, dx
  0002f	0f b7 c9	 movzx	 ecx, cx
  00032	89 85 f8 fd ff
	ff		 mov	 DWORD PTR tv235[ebp], eax
  00038	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0003e	51		 push	 ecx
  0003f	50		 push	 eax
  00040	e8 00 00 00 00	 call	 ?gObjGetMagic@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagic
  00045	83 c4 08	 add	 esp, 8
  00048	89 85 f4 fd ff
	ff		 mov	 DWORD PTR _lpMagic$[ebp], eax

; 1666 : 
; 1667 : 	if ( lpMagic == NULL )

  0004e	85 c0		 test	 eax, eax
  00050	75 27		 jne	 SHORT $LN7@gObjMonste@10

; 1668 : 	{
; 1669 : 		LogAdd("error-L3 %s %d", __FILE__, __LINE__);

  00052	68 85 06 00 00	 push	 1669			; 00000685H
  00057	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@
  00061	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00067	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006a	5f		 pop	 edi

; 1689 : 	}
; 1690 : }

  0006b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006e	33 cd		 xor	 ecx, ebp
  00070	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00075	8b e5		 mov	 esp, ebp
  00077	5d		 pop	 ebp
  00078	c3		 ret	 0
$LN7@gObjMonste@10:
  00079	53		 push	 ebx
  0007a	56		 push	 esi

; 1674 : 	int pTargetNumber[128]={0};
; 1675 : 
; 1676 : 	for (int i=0;i<lpCount->Count;i++)

  0007b	0f b6 77 08	 movzx	 esi, BYTE PTR [edi+8]
  0007f	33 c9		 xor	 ecx, ecx
  00081	85 f6		 test	 esi, esi
  00083	7e 0b		 jle	 SHORT $LN4@gObjMonste@10

; 1670 : 		return;
; 1671 : 	}
; 1672 : 
; 1673 : 	int lOfs2 = lOfs;

  00085	8d 57 09	 lea	 edx, DWORD PTR [edi+9]
$LL6@gObjMonste@10:

; 1674 : 	int pTargetNumber[128]={0};
; 1675 : 
; 1676 : 	for (int i=0;i<lpCount->Count;i++)

  00088	41		 inc	 ecx

; 1677 : 	{
; 1678 : 		lpMsg = (PMSG_BEATTACK *)&lpRecv[lOfs2];
; 1679 : 		pTargetNumber[i] = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);
; 1680 : 		lOfs2+= sizeof(PMSG_BEATTACK);

  00089	83 c2 03	 add	 edx, 3
  0008c	3b ce		 cmp	 ecx, esi
  0008e	7c f8		 jl	 SHORT $LL6@gObjMonste@10
$LN4@gObjMonste@10:

; 1681 : 	}
; 1682 : 	
; 1683 : 	for (int n=0;n<lpCount->Count;n++)

  00090	33 db		 xor	 ebx, ebx
  00092	85 f6		 test	 esi, esi
  00094	7e 58		 jle	 SHORT $LN15@gObjMonste@10
  00096	8d 77 09	 lea	 esi, DWORD PTR [edi+9]
  00099	8d a4 24 00 00
	00 00		 npad	 7
$LL14@gObjMonste@10:

; 1684 : 	{
; 1685 : 		lpMsg = (PMSG_BEATTACK *)&lpRecv[lOfs];
; 1686 : 		tNumber = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);
; 1687 : 		gObjAttack(&gObj[aIndex], &gObj[tNumber], lpMagic, 1, 1, 0 ,0,0,0);

  000a0	0f b6 16	 movzx	 edx, BYTE PTR [esi]
  000a3	8b 8d f4 fd ff
	ff		 mov	 ecx, DWORD PTR _lpMagic$[ebp]
  000a9	6a 00		 push	 0
  000ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000b0	6a 00		 push	 0
  000b2	6a 00		 push	 0
  000b4	6a 00		 push	 0
  000b6	6a 01		 push	 1
  000b8	6a 01		 push	 1
  000ba	51		 push	 ecx
  000bb	66 c1 e2 08	 shl	 dx, 8
  000bf	0f b7 ca	 movzx	 ecx, dx
  000c2	0f b6 56 01	 movzx	 edx, BYTE PTR [esi+1]
  000c6	0b ca		 or	 ecx, edx
  000c8	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  000ce	03 c8		 add	 ecx, eax
  000d0	51		 push	 ecx
  000d1	8b 8d f8 fd ff
	ff		 mov	 ecx, DWORD PTR tv235[ebp]
  000d7	03 c8		 add	 ecx, eax
  000d9	51		 push	 ecx
  000da	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  000df	0f b6 57 08	 movzx	 edx, BYTE PTR [edi+8]
  000e3	43		 inc	 ebx
  000e4	83 c4 24	 add	 esp, 36			; 00000024H

; 1688 : 		lOfs+= sizeof(PMSG_BEATTACK);

  000e7	83 c6 03	 add	 esi, 3
  000ea	3b da		 cmp	 ebx, edx
  000ec	7c b2		 jl	 SHORT $LL14@gObjMonste@10
$LN15@gObjMonste@10:

; 1689 : 	}
; 1690 : }

  000ee	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f1	5e		 pop	 esi
  000f2	5b		 pop	 ebx
  000f3	33 cd		 xor	 ecx, ebp
  000f5	5f		 pop	 edi
  000f6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000fb	8b e5		 mov	 esp, ebp
  000fd	5d		 pop	 ebp
  000fe	c3		 ret	 0
?gObjMonsterBeattackRecv@@YAXPAEH@Z ENDP		; gObjMonsterBeattackRecv
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z	; PathFindMoveMsgSend
EXTRN	?PMoveProc@@YAXPAUPMSG_MOVE@@H@Z:PROC		; PMoveProc
EXTRN	?SetStandAttr@MapClass@@QAEXHH@Z:PROC		; MapClass::SetStandAttr
EXTRN	?ClearStandAttr@MapClass@@QAEXHH@Z:PROC		; MapClass::ClearStandAttr
EXTRN	?PathFinding2@MapClass@@QAE_NHHHHPAUPATH_t@@@Z:PROC ; MapClass::PathFinding2
EXTRN	?PathFinding3@MapClass@@QAE_NHHHHPAUPATH_t@@@Z:PROC ; MapClass::PathFinding3
; Function compile flags: /Ogtp
;	COMDAT ?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
tv505 = -180						; size = 4
tv584 = -176						; size = 4
_sy$228125 = -172					; size = 4
tv561 = -168						; size = 4
_sx$228124 = -164					; size = 4
_pos$228126 = -157					; size = 1
_path$ = -156						; size = 128
_pMove$ = -28						; size = 13
_bPath$ = -12						; size = 8
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z PROC	; PathFindMoveMsgSend, COMDAT

; 1969 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b4 00 00
	00		 sub	 esp, 180		; 000000b4H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi
  00014	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 1970 : 	if ( gObjSearchActiveEffect(lpObj, AT_ICE_ARROW) == TRUE || gObjSearchActiveEffect(lpObj, AT_STUN) == TRUE ) //season3 changed

  00017	6a 39		 push	 57			; 00000039H
  00019	56		 push	 esi
  0001a	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  0001f	83 c4 08	 add	 esp, 8
  00022	3c 01		 cmp	 al, 1
  00024	0f 84 f1 02 00
	00		 je	 $LN11@PathFindMo
  0002a	6a 3d		 push	 61			; 0000003dH
  0002c	56		 push	 esi
  0002d	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00032	83 c4 08	 add	 esp, 8
  00035	3c 01		 cmp	 al, 1
  00037	0f 84 de 02 00
	00		 je	 $LN11@PathFindMo

; 1971 : 	{
; 1972 : 		return FALSE;
; 1973 : 	}
; 1974 : 
; 1975 : 	if (gObjSearchActiveEffect(lpObj, AT_SLEEP) == TRUE) //season3 add-on

  0003d	6a 48		 push	 72			; 00000048H
  0003f	56		 push	 esi
  00040	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00045	83 c4 08	 add	 esp, 8
  00048	3c 01		 cmp	 al, 1

; 1976 : 	{
; 1977 : 		return FALSE;

  0004a	0f 84 cb 02 00
	00		 je	 $LN11@PathFindMo

; 1978 : 	}
; 1979 : 
; 1980 : 	PATH_t path;
; 1981 : 	PMSG_MOVE pMove;
; 1982 : 	BYTE bPath[8];
; 1983 : 	
; 1984 : 	pMove.h.c = 0xC1;
; 1985 : 	pMove.h.headcode = PROTOCOL_MOVE;
; 1986 : 	pMove.h.size = sizeof(pMove);
; 1987 : 	pMove.X = lpObj->X;
; 1988 : 	pMove.Y = lpObj->Y;
; 1989 : 
; 1990 : 	BOOL bPathFound = FALSE;
; 1991 : 
; 1992 : 	if ( lpObj->Type == OBJ_MONSTER && lpObj->m_bIsInMonsterHerd != FALSE )

  00050	66 83 7e 68 02	 cmp	 WORD PTR [esi+104], 2
  00055	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]
  0005b	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  00061	c6 45 e4 c1	 mov	 BYTE PTR _pMove$[ebp], 193 ; 000000c1H
  00065	66 c7 45 e5 0d
	d4		 mov	 WORD PTR _pMove$[ebp+1], 54285 ; 0000d40dH
  0006b	88 45 e7	 mov	 BYTE PTR _pMove$[ebp+3], al
  0006e	88 4d e8	 mov	 BYTE PTR _pMove$[ebp+4], cl
  00071	75 4a		 jne	 SHORT $LN17@PathFindMo
  00073	83 be e8 10 00
	00 00		 cmp	 DWORD PTR [esi+4328], 0
  0007a	74 41		 je	 SHORT $LN17@PathFindMo

; 1993 : 	{
; 1994 : 		bPathFound = MapC[lpObj->MapNumber].PathFinding3(lpObj->X, lpObj->Y, lpObj->MTX, lpObj->MTY, &path);

  0007c	0f bf 86 82 01
	00 00		 movsx	 eax, WORD PTR [esi+386]
  00083	0f bf 8e 80 01
	00 00		 movsx	 ecx, WORD PTR [esi+384]
  0008a	8d 95 64 ff ff
	ff		 lea	 edx, DWORD PTR _path$[ebp]
  00090	52		 push	 edx
  00091	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  00098	50		 push	 eax
  00099	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  000a0	51		 push	 ecx
  000a1	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  000a8	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  000ae	52		 push	 edx
  000af	50		 push	 eax
  000b0	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  000b6	e8 00 00 00 00	 call	 ?PathFinding3@MapClass@@QAE_NHHHHPAUPATH_t@@@Z ; MapClass::PathFinding3

; 1995 : 	}
; 1996 : 	else

  000bb	eb 3f		 jmp	 SHORT $LN21@PathFindMo
$LN17@PathFindMo:

; 1997 : 	{
; 1998 : 		bPathFound = MapC[lpObj->MapNumber].PathFinding2(lpObj->X, lpObj->Y, lpObj->MTX, lpObj->MTY, &path);

  000bd	0f bf 96 82 01
	00 00		 movsx	 edx, WORD PTR [esi+386]
  000c4	0f bf 86 80 01
	00 00		 movsx	 eax, WORD PTR [esi+384]
  000cb	8d 8d 64 ff ff
	ff		 lea	 ecx, DWORD PTR _path$[ebp]
  000d1	51		 push	 ecx
  000d2	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  000d9	52		 push	 edx
  000da	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  000e1	50		 push	 eax
  000e2	51		 push	 ecx
  000e3	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  000ea	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  000f0	52		 push	 edx
  000f1	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  000f7	e8 00 00 00 00	 call	 ?PathFinding2@MapClass@@QAE_NHHHHPAUPATH_t@@@Z ; MapClass::PathFinding2
$LN21@PathFindMo:
  000fc	0f b6 c0	 movzx	 eax, al

; 1999 : 	}
; 2000 : 
; 2001 : 	if ( bPathFound )

  000ff	85 c0		 test	 eax, eax
  00101	0f 84 14 02 00
	00		 je	 $LN11@PathFindMo

; 2008 : 
; 2009 : 		memset(bPath, 0, sizeof(bPath));

  00107	33 c0		 xor	 eax, eax
  00109	53		 push	 ebx

; 2010 : 
; 2011 : 		bPath[0] = (lpObj->Dir<<4) + ((path.PathNum-1)&0x0F);

  0010a	8a 9d 64 ff ff
	ff		 mov	 bl, BYTE PTR _path$[ebp]
  00110	89 45 f4	 mov	 DWORD PTR _bPath$[ebp], eax
  00113	89 45 f8	 mov	 DWORD PTR _bPath$[ebp+4], eax
  00116	8a 86 48 01 00
	00		 mov	 al, BYTE PTR [esi+328]
  0011c	fe cb		 dec	 bl
  0011e	8a c8		 mov	 cl, al
  00120	c0 e1 04	 shl	 cl, 4
  00123	80 e3 0f	 and	 bl, 15			; 0000000fH
  00126	02 d9		 add	 bl, cl

; 2012 : 
; 2013 : 		sx = lpObj->X;
; 2014 : 		sy = lpObj->Y;
; 2015 : 		lpObj->PathX[0] = lpObj->X;
; 2016 : 		lpObj->PathY[0] = lpObj->Y;
; 2017 : 		lpObj->PathDir[0] = lpObj->Dir;
; 2018 : 
; 2019 : 		for (int n=1;n<path.PathNum;n++)

  00128	83 bd 64 ff ff
	ff 01		 cmp	 DWORD PTR _path$[ebp], 1
  0012f	0f b7 8e 44 01
	00 00		 movzx	 ecx, WORD PTR [esi+324]
  00136	0f bf d1	 movsx	 edx, cx
  00139	89 95 5c ff ff
	ff		 mov	 DWORD PTR _sx$228124[ebp], edx
  0013f	0f b7 96 46 01
	00 00		 movzx	 edx, WORD PTR [esi+326]
  00146	57		 push	 edi
  00147	0f bf fa	 movsx	 edi, dx
  0014a	c6 85 63 ff ff
	ff 00		 mov	 BYTE PTR _pos$228126[ebp], 0
  00151	88 5d f4	 mov	 BYTE PTR _bPath$[ebp], bl
  00154	89 bd 54 ff ff
	ff		 mov	 DWORD PTR _sy$228125[ebp], edi
  0015a	66 89 8e ac 01
	00 00		 mov	 WORD PTR [esi+428], cx
  00161	66 89 96 ca 01
	00 00		 mov	 WORD PTR [esi+458], dx
  00168	88 86 e8 01 00
	00		 mov	 BYTE PTR [esi+488], al
  0016e	0f 8e d9 00 00
	00		 jle	 $LN19@PathFindMo

; 2002 : 	{
; 2003 : 		int tx;
; 2004 : 		int ty;
; 2005 : 		int sx;
; 2006 : 		int sy;
; 2007 : 		BYTE pos = 0;

  00174	8d 45 a8	 lea	 eax, DWORD PTR _path$[ebp+68]
  00177	8d 8e cc 01 00
	00		 lea	 ecx, DWORD PTR [esi+460]
  0017d	c7 85 4c ff ff
	ff 02 00 00 00	 mov	 DWORD PTR tv505[ebp], 2
  00187	89 85 58 ff ff
	ff		 mov	 DWORD PTR tv561[ebp], eax
  0018d	89 8d 50 ff ff
	ff		 mov	 DWORD PTR tv584[ebp], ecx
  00193	eb 06		 jmp	 SHORT $LN6@PathFindMo
$LL18@PathFindMo:
  00195	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR tv561[ebp]
$LN6@PathFindMo:

; 2020 : 		{
; 2021 : 			tx = path.PathX[n];
; 2022 : 			ty = path.PathY[n];

  0019b	8b 38		 mov	 edi, DWORD PTR [eax]
  0019d	8b 58 c4	 mov	 ebx, DWORD PTR [eax-60]

; 2023 : 			pos = GetPathPacketDirPos(tx-sx, ty-sy);

  001a0	8b d7		 mov	 edx, edi
  001a2	2b 95 54 ff ff
	ff		 sub	 edx, DWORD PTR _sy$228125[ebp]
  001a8	8b c3		 mov	 eax, ebx
  001aa	2b 85 5c ff ff
	ff		 sub	 eax, DWORD PTR _sx$228124[ebp]
  001b0	52		 push	 edx
  001b1	50		 push	 eax
  001b2	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos

; 2024 : 			lpObj->PathX[n] = tx;

  001b7	8b 8d 50 ff ff
	ff		 mov	 ecx, DWORD PTR tv584[ebp]
  001bd	66 89 59 e2	 mov	 WORD PTR [ecx-30], bx

; 2025 : 			lpObj->PathY[n] = ty;

  001c1	66 89 39	 mov	 WORD PTR [ecx], di

; 2026 : 			lpObj->PathDir[n] = pos;

  001c4	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR tv505[ebp]

; 2027 : 			sx = tx;
; 2028 : 			sy = ty;
; 2029 : 
; 2030 : 			if ( (n%2)==1 )

  001ca	8d 51 ff	 lea	 edx, DWORD PTR [ecx-1]
  001cd	83 c4 08	 add	 esp, 8
  001d0	81 e2 01 00 00
	80		 and	 edx, -2147483647	; 80000001H
  001d6	88 85 63 ff ff
	ff		 mov	 BYTE PTR _pos$228126[ebp], al
  001dc	88 84 0e e7 01
	00 00		 mov	 BYTE PTR [esi+ecx+487], al
  001e3	89 9d 5c ff ff
	ff		 mov	 DWORD PTR _sx$228124[ebp], ebx
  001e9	89 bd 54 ff ff
	ff		 mov	 DWORD PTR _sy$228125[ebp], edi
  001ef	79 05		 jns	 SHORT $LN20@PathFindMo
  001f1	4a		 dec	 edx
  001f2	83 ca fe	 or	 edx, -2			; fffffffeH
  001f5	42		 inc	 edx
$LN20@PathFindMo:
  001f6	83 fa 01	 cmp	 edx, 1
  001f9	75 12		 jne	 SHORT $LN3@PathFindMo

; 2031 : 			{
; 2032 : 				bPath[(n+1)/2] = (pos<<4);

  001fb	8a d8		 mov	 bl, al
  001fd	8b c1		 mov	 eax, ecx
  001ff	99		 cdq
  00200	c0 e3 04	 shl	 bl, 4
  00203	2b c2		 sub	 eax, edx
  00205	d1 f8		 sar	 eax, 1
  00207	88 5c 05 f4	 mov	 BYTE PTR _bPath$[ebp+eax], bl

; 2033 : 			}
; 2034 : 			else

  0020b	eb 15		 jmp	 SHORT $LN5@PathFindMo
$LN3@PathFindMo:

; 2035 : 			{
; 2036 : 				bPath[(n+1)/2] |= pos;

  0020d	8b c1		 mov	 eax, ecx
  0020f	99		 cdq
  00210	2b c2		 sub	 eax, edx
  00212	8a 95 63 ff ff
	ff		 mov	 dl, BYTE PTR _pos$228126[ebp]
  00218	d1 f8		 sar	 eax, 1
  0021a	08 54 05 f4	 or	 BYTE PTR _bPath$[ebp+eax], dl
  0021e	8d 44 05 f4	 lea	 eax, DWORD PTR _bPath$[ebp+eax]
$LN5@PathFindMo:

; 2012 : 
; 2013 : 		sx = lpObj->X;
; 2014 : 		sy = lpObj->Y;
; 2015 : 		lpObj->PathX[0] = lpObj->X;
; 2016 : 		lpObj->PathY[0] = lpObj->Y;
; 2017 : 		lpObj->PathDir[0] = lpObj->Dir;
; 2018 : 
; 2019 : 		for (int n=1;n<path.PathNum;n++)

  00222	83 85 50 ff ff
	ff 02		 add	 DWORD PTR tv584[ebp], 2
  00229	83 85 58 ff ff
	ff 04		 add	 DWORD PTR tv561[ebp], 4
  00230	41		 inc	 ecx
  00231	89 8d 4c ff ff
	ff		 mov	 DWORD PTR tv505[ebp], ecx
  00237	49		 dec	 ecx
  00238	3b 8d 64 ff ff
	ff		 cmp	 ecx, DWORD PTR _path$[ebp]
  0023e	0f 8c 51 ff ff
	ff		 jl	 $LL18@PathFindMo
  00244	8a 5d f4	 mov	 bl, BYTE PTR _bPath$[ebp]
  00247	8b bd 54 ff ff
	ff		 mov	 edi, DWORD PTR _sy$228125[ebp]
$LN19@PathFindMo:

; 2037 : 			}
; 2038 : 		}
; 2039 : 
; 2040 : 		lpObj->Dir = bPath[0] >> 4;
; 2041 : 		lpObj->PathCount = bPath[0] & 0x0F;

  0024d	0f b6 cb	 movzx	 ecx, bl
  00250	8a c3		 mov	 al, bl
  00252	c0 e8 04	 shr	 al, 4
  00255	83 e1 0f	 and	 ecx, 15			; 0000000fH
  00258	88 86 48 01 00
	00		 mov	 BYTE PTR [esi+328], al
  0025e	89 8e 84 01 00
	00		 mov	 DWORD PTR [esi+388], ecx

; 2042 : 		lpObj->PathCur = 1;

  00264	c7 86 88 01 00
	00 01 00 00 00	 mov	 DWORD PTR [esi+392], 1

; 2043 : 		lpObj->PathTime = GetTickCount();

  0026e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00274	89 86 f8 01 00
	00		 mov	 DWORD PTR [esi+504], eax

; 2044 : 		bPath[0] &= 0x0F;
; 2045 : 		bPath[0] |= pos<<4;

  0027a	8a 85 63 ff ff
	ff		 mov	 al, BYTE PTR _pos$228126[ebp]
  00280	c0 e0 04	 shl	 al, 4
  00283	80 e3 0f	 and	 bl, 15			; 0000000fH
  00286	0a d8		 or	 bl, al

; 2046 : 		memcpy(pMove.Path, bPath, sizeof(pMove.Path));
; 2047 : 
; 2048 : 		if ( lpObj->PathCount > 0 )

  00288	83 be 84 01 00
	00 00		 cmp	 DWORD PTR [esi+388], 0
  0028f	8b 45 f8	 mov	 eax, DWORD PTR _bPath$[ebp+4]
  00292	88 5d f4	 mov	 BYTE PTR _bPath$[ebp], bl
  00295	8b 55 f4	 mov	 edx, DWORD PTR _bPath$[ebp]
  00298	89 55 e9	 mov	 DWORD PTR _pMove$[ebp+5], edx
  0029b	89 45 ed	 mov	 DWORD PTR _pMove$[ebp+9], eax
  0029e	7e 56		 jle	 SHORT $LN1@PathFindMo

; 2049 : 		{
; 2050 : 			MapC[lpObj->MapNumber].ClearStandAttr(lpObj->m_OldX, lpObj->m_OldY);

  002a0	0f bf 8e 7a 01
	00 00		 movsx	 ecx, WORD PTR [esi+378]
  002a7	0f bf 96 78 01
	00 00		 movsx	 edx, WORD PTR [esi+376]
  002ae	51		 push	 ecx
  002af	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  002b6	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  002bc	52		 push	 edx
  002bd	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  002c3	e8 00 00 00 00	 call	 ?ClearStandAttr@MapClass@@QAEXHH@Z ; MapClass::ClearStandAttr

; 2051 : 			MapC[lpObj->MapNumber].SetStandAttr(sx, sy);

  002c8	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  002cf	8b 9d 5c ff ff
	ff		 mov	 ebx, DWORD PTR _sx$228124[ebp]
  002d5	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  002db	57		 push	 edi
  002dc	53		 push	 ebx
  002dd	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  002e3	e8 00 00 00 00	 call	 ?SetStandAttr@MapClass@@QAEXHH@Z ; MapClass::SetStandAttr

; 2052 : 			lpObj->m_OldX = sx;

  002e8	66 89 9e 78 01
	00 00		 mov	 WORD PTR [esi+376], bx

; 2053 : 			lpObj->m_OldY = sy;

  002ef	66 89 be 7a 01
	00 00		 mov	 WORD PTR [esi+378], di
$LN1@PathFindMo:

; 2054 : 		}
; 2055 : 
; 2056 : 		PMoveProc(&pMove, lpObj->m_Index);

  002f6	8b 06		 mov	 eax, DWORD PTR [esi]
  002f8	50		 push	 eax
  002f9	8d 4d e4	 lea	 ecx, DWORD PTR _pMove$[ebp]
  002fc	51		 push	 ecx
  002fd	e8 00 00 00 00	 call	 ?PMoveProc@@YAXPAUPMSG_MOVE@@H@Z ; PMoveProc
  00302	83 c4 08	 add	 esp, 8
  00305	5f		 pop	 edi
  00306	5b		 pop	 ebx

; 2057 : 
; 2058 : 		return TRUE;

  00307	b8 01 00 00 00	 mov	 eax, 1
  0030c	5e		 pop	 esi

; 2059 : 	}
; 2060 : 
; 2061 : 	return FALSE;
; 2062 : }

  0030d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00310	33 cd		 xor	 ecx, ebp
  00312	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00317	8b e5		 mov	 esp, ebp
  00319	5d		 pop	 ebp
  0031a	c3		 ret	 0
$LN11@PathFindMo:
  0031b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0031e	33 cd		 xor	 ecx, ebp
  00320	33 c0		 xor	 eax, eax
  00322	5e		 pop	 esi
  00323	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00328	8b e5		 mov	 esp, ebp
  0032a	5d		 pop	 ebp
  0032b	c3		 ret	 0
?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; PathFindMoveMsgSend
_TEXT	ENDS
PUBLIC	?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterMoveAction
EXTRN	__except_handler4:PROC
;	COMDAT xdata$x
xdata$x	SEGMENT
__sehtable$?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z DD 0fffffffeH
	DD	00H
	DD	0ffffffc8H
	DD	00H
	DD	0fffffffeH
	DD	FLAT:$LN16@gObjMonste@11
	DD	FLAT:$LN17@gObjMonste@11
; Function compile flags: /Ogtp
xdata$x	ENDS
;	COMDAT ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_searchc$ = -40						; size = 4
_mchk$228149 = -36					; size = 4
_maxmoverange$ = -32					; size = 4
_tpy$ = -26						; size = 1
_tpx$ = -25						; size = 1
__$SEHRec$ = -24					; size = 24
_lpObj$ = 8						; size = 4
?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterMoveAction, COMDAT

; 2066 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a fe		 push	 -2			; fffffffeH
  00005	68 00 00 00 00	 push	 OFFSET __sehtable$?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z
  0000a	68 00 00 00 00	 push	 OFFSET __except_handler4
  0000f	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00015	50		 push	 eax
  00016	83 ec 18	 sub	 esp, 24			; 00000018H
  00019	53		 push	 ebx
  0001a	56		 push	 esi
  0001b	57		 push	 edi
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00021	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  00024	33 c5		 xor	 eax, ebp
  00026	50		 push	 eax
  00027	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0002a	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00030	89 65 e8	 mov	 DWORD PTR __$SEHRec$[ebp], esp

; 2067 : 	if ( g_DoppelGanger.IsDGMonster(lpObj) )	//Season 5 DoppelGanger

  00033	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00036	56		 push	 esi
  00037	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  0003c	e8 00 00 00 00	 call	 ?IsDGMonster@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::IsDGMonster
  00041	84 c0		 test	 al, al
  00043	74 24		 je	 SHORT $LN12@gObjMonste@11

; 2068 : 	{
; 2069 : 		lpObj->TargetNumber = -1;

  00045	83 c8 ff	 or	 eax, -1
  00048	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax

; 2070 : 		lpObj->m_ActState.Attack = 0;
; 2071 : 		lpObj->NextActionTime = 500;
; 2072 : 		lpObj->m_ActState.Emotion = 0;

  0004f	8b 8e 18 02 00
	00		 mov	 ecx, DWORD PTR [esi+536]
  00055	81 e1 0d ff ff
	ff		 and	 ecx, -243		; ffffff0dH

; 2073 : 		lpObj->m_ActState.Move = 1;

  0005b	83 c9 04	 or	 ecx, 4
  0005e	89 8e 18 02 00
	00		 mov	 DWORD PTR [esi+536], ecx

; 2074 : 		return;

  00064	e9 a8 01 00 00	 jmp	 $LN24@gObjMonste@11
$LN12@gObjMonste@11:

; 2075 : 	}
; 2076 : 
; 2077 : 	if ( gObjSearchActiveEffect(lpObj, AT_ICE_ARROW) == TRUE || gObjSearchActiveEffect(lpObj, AT_STUN) == TRUE ) //season3 changed

  00069	6a 39		 push	 57			; 00000039H
  0006b	56		 push	 esi
  0006c	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00071	83 c4 08	 add	 esp, 8
  00074	3c 01		 cmp	 al, 1
  00076	0f 84 9f 01 00
	00		 je	 $LN10@gObjMonste@11
  0007c	6a 3d		 push	 61			; 0000003dH
  0007e	56		 push	 esi
  0007f	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00084	83 c4 08	 add	 esp, 8
  00087	3c 01		 cmp	 al, 1
  00089	0f 84 8c 01 00
	00		 je	 $LN10@gObjMonste@11

; 2078 : 	{
; 2079 : 		return;
; 2080 : 	}
; 2081 : 
; 2082 : 	if (gObjSearchActiveEffect(lpObj, AT_SLEEP) == TRUE) //season3 add-on

  0008f	6a 48		 push	 72			; 00000048H
  00091	56		 push	 esi
  00092	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00097	83 c4 08	 add	 esp, 8
  0009a	3c 01		 cmp	 al, 1
  0009c	0f 84 79 01 00
	00		 je	 $LN10@gObjMonste@11

; 2083 : 	{
; 2084 : 		return;
; 2085 : 	}
; 2086 : 
; 2087 : 	int maxmoverange = lpObj->m_MoveRange*2+1;

  000a2	0f bf 96 ae 04
	00 00		 movsx	 edx, WORD PTR [esi+1198]
  000a9	8d 44 12 01	 lea	 eax, DWORD PTR [edx+edx+1]
  000ad	89 45 e0	 mov	 DWORD PTR _maxmoverange$[ebp], eax

; 2088 : 	int searchc=10;

  000b0	b8 0a 00 00 00	 mov	 eax, 10			; 0000000aH

; 2089 : 	lpObj->NextActionTime = 1000;

  000b5	c7 86 bc 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+956], 1000 ; 000003e8H
  000bf	eb 03		 jmp	 SHORT $LN8@gObjMonste@11
$LL21@gObjMonste@11:
  000c1	8b 45 d8	 mov	 eax, DWORD PTR _searchc$[ebp]
$LN8@gObjMonste@11:

; 2090 : 	BYTE tpx;
; 2091 : 	BYTE tpy;
; 2092 : 
; 2093 : 	while ( searchc-- != 0 )

  000c4	8b c8		 mov	 ecx, eax
  000c6	48		 dec	 eax
  000c7	89 45 d8	 mov	 DWORD PTR _searchc$[ebp], eax
  000ca	85 c9		 test	 ecx, ecx
  000cc	0f 84 49 01 00
	00		 je	 $LN10@gObjMonste@11

; 2094 : 	{
; 2095 : 		__try

  000d2	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 2096 : 		{
; 2097 : 			tpx = (lpObj->X - lpObj->m_MoveRange) + (rand()%maxmoverange);

  000d9	e8 00 00 00 00	 call	 _rand
  000de	8b 4d e0	 mov	 ecx, DWORD PTR _maxmoverange$[ebp]
  000e1	99		 cdq
  000e2	f7 f9		 idiv	 ecx
  000e4	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  000eb	03 d0		 add	 edx, eax
  000ed	0f bf 8e ae 04
	00 00		 movsx	 ecx, WORD PTR [esi+1198]
  000f4	2b d1		 sub	 edx, ecx
  000f6	88 55 e7	 mov	 BYTE PTR _tpx$[ebp], dl

; 2098 : 			tpy = (lpObj->Y - lpObj->m_MoveRange) + (rand()%maxmoverange);

  000f9	e8 00 00 00 00	 call	 _rand
  000fe	8b 4d e0	 mov	 ecx, DWORD PTR _maxmoverange$[ebp]
  00101	99		 cdq
  00102	f7 f9		 idiv	 ecx
  00104	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  0010b	03 d0		 add	 edx, eax
  0010d	0f bf 8e ae 04
	00 00		 movsx	 ecx, WORD PTR [esi+1198]
  00114	2b d1		 sub	 edx, ecx
  00116	88 55 e6	 mov	 BYTE PTR _tpy$[ebp], dl

; 2099 : 		}

  00119	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  00120	eb 16		 jmp	 SHORT $LN19@gObjMonste@11
$LN16@gObjMonste@11:
$LN25@gObjMonste@11:

; 2100 : 		__except(maxmoverange=1, 1)

  00122	b8 01 00 00 00	 mov	 eax, 1
  00127	89 45 e0	 mov	 DWORD PTR _maxmoverange$[ebp], eax
$LN23@gObjMonste@11:
$LN18@gObjMonste@11:
  0012a	c3		 ret	 0
$LN17@gObjMonste@11:
  0012b	8b 65 e8	 mov	 esp, DWORD PTR __$SEHRec$[ebp]

; 2101 : 		{
; 2102 : 
; 2103 : 		}

  0012e	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  00135	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
$LN19@gObjMonste@11:

; 2104 : 
; 2105 : 		int mchk = gObjMonsterMoveCheck(lpObj, tpx, tpy);

  00138	0f b6 7d e6	 movzx	 edi, BYTE PTR _tpy$[ebp]
  0013c	0f b6 5d e7	 movzx	 ebx, BYTE PTR _tpx$[ebp]
  00140	57		 push	 edi
  00141	53		 push	 ebx
  00142	56		 push	 esi
  00143	e8 00 00 00 00	 call	 ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterMoveCheck
  00148	83 c4 0c	 add	 esp, 12			; 0000000cH
  0014b	89 45 dc	 mov	 DWORD PTR _mchk$228149[ebp], eax

; 2106 : 		BYTE attr = MapC[lpObj->MapNumber].GetAttr(tpx, tpy);

  0014e	57		 push	 edi
  0014f	53		 push	 ebx
  00150	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00157	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  0015d	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00163	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 2107 : 
; 2108 : 		if ( (lpObj->Class ==249 || lpObj->Class == 247) && mchk )	// Guard

  00168	0f b7 8e b8 00
	00 00		 movzx	 ecx, WORD PTR [esi+184]
  0016f	ba f9 00 00 00	 mov	 edx, 249		; 000000f9H
  00174	66 3b ca	 cmp	 cx, dx
  00177	74 0a		 je	 SHORT $LN4@gObjMonste@11
  00179	ba f7 00 00 00	 mov	 edx, 247		; 000000f7H
  0017e	66 3b ca	 cmp	 cx, dx
  00181	75 47		 jne	 SHORT $LN5@gObjMonste@11
$LN4@gObjMonste@11:
  00183	83 7d dc 00	 cmp	 DWORD PTR _mchk$228149[ebp], 0
  00187	74 41		 je	 SHORT $LN5@gObjMonste@11

; 2109 : 		{
; 2110 : 			if ( (attr&2)!=2)

  00189	a8 02		 test	 al, 2
  0018b	0f 85 30 ff ff
	ff		 jne	 $LL21@gObjMonste@11

; 2111 : 			{
; 2112 : 				lpObj->MTX = tpx;

  00191	0f b6 45 e7	 movzx	 eax, BYTE PTR _tpx$[ebp]
  00195	66 89 86 80 01
	00 00		 mov	 WORD PTR [esi+384], ax

; 2113 : 				lpObj->MTY = tpy;

  0019c	0f b6 4d e6	 movzx	 ecx, BYTE PTR _tpy$[ebp]
  001a0	66 89 8e 82 01
	00 00		 mov	 WORD PTR [esi+386], cx

; 2114 : 				lpObj->m_ActState.Move = 1;

  001a7	83 8e 18 02 00
	00 04		 or	 DWORD PTR [esi+536], 4

; 2115 : 				lpObj->NextActionTime = 3000;

  001ae	c7 86 bc 03 00
	00 b8 0b 00 00	 mov	 DWORD PTR [esi+956], 3000 ; 00000bb8H

; 2130 : 				return;
; 2131 : 			}
; 2132 : 		}
; 2133 : 	}
; 2134 : }

  001b8	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  001bb	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  001c2	59		 pop	 ecx
  001c3	5f		 pop	 edi
  001c4	5e		 pop	 esi
  001c5	5b		 pop	 ebx
  001c6	8b e5		 mov	 esp, ebp
  001c8	5d		 pop	 ebp
  001c9	c3		 ret	 0
$LN5@gObjMonste@11:

; 2116 : 				return;
; 2117 : 			}
; 2118 : 		}
; 2119 : 		else
; 2120 : 		{
; 2121 : 			if ( (attr&1)!=1 && (attr&2)!=2 && (attr&4)!=4 && (attr&8)!= 8 && mchk )

  001ca	a8 0f		 test	 al, 15			; 0000000fH
  001cc	0f 85 ef fe ff
	ff		 jne	 $LL21@gObjMonste@11
  001d2	83 7d dc 00	 cmp	 DWORD PTR _mchk$228149[ebp], 0
  001d6	0f 84 e5 fe ff
	ff		 je	 $LL21@gObjMonste@11

; 2122 : 			{
; 2123 : 				lpObj->TargetNumber = -1;

  001dc	83 ca ff	 or	 edx, -1
  001df	66 89 96 58 04
	00 00		 mov	 WORD PTR [esi+1112], dx

; 2127 : 				lpObj->MTX = tpx;

  001e6	0f b6 45 e7	 movzx	 eax, BYTE PTR _tpx$[ebp]
  001ea	66 89 86 80 01
	00 00		 mov	 WORD PTR [esi+384], ax

; 2128 : 				lpObj->MTY = tpy;

  001f1	0f b6 4d e6	 movzx	 ecx, BYTE PTR _tpy$[ebp]
  001f5	66 89 8e 82 01
	00 00		 mov	 WORD PTR [esi+386], cx

; 2126 : 				lpObj->m_ActState.Emotion = 0;

  001fc	8b 96 18 02 00
	00		 mov	 edx, DWORD PTR [esi+536]
  00202	81 e2 0d ff ff
	ff		 and	 edx, -243		; ffffff0dH

; 2129 : 				lpObj->m_ActState.Move = 1;

  00208	83 ca 04	 or	 edx, 4
  0020b	89 96 18 02 00
	00		 mov	 DWORD PTR [esi+536], edx
$LN24@gObjMonste@11:

; 2124 : 				lpObj->m_ActState.Attack = 0;
; 2125 : 				lpObj->NextActionTime = 500;

  00211	c7 86 bc 03 00
	00 f4 01 00 00	 mov	 DWORD PTR [esi+956], 500 ; 000001f4H
$LN10@gObjMonste@11:

; 2130 : 				return;
; 2131 : 			}
; 2132 : 		}
; 2133 : 	}
; 2134 : }

  0021b	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  0021e	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00225	59		 pop	 ecx
  00226	5f		 pop	 edi
  00227	5e		 pop	 esi
  00228	5b		 pop	 ebx
  00229	8b e5		 mov	 esp, ebp
  0022b	5d		 pop	 ebp
  0022c	c3		 ret	 0
?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterMoveAction
_TEXT	ENDS
PUBLIC	?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterBaseAct
EXTRN	?CheckWall@MapClass@@QAEHHHHH@Z:PROC		; MapClass::CheckWall
EXTRN	?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjCalDistance
EXTRN	?ChatSend@@YAXPAUOBJECTSTRUCT@@PAD@Z:PROC	; ChatSend
EXTRN	?gEvent1@@3HA:DWORD				; gEvent1
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_ty$228174 = -4						; size = 4
_lpTargetObj$ = -4					; size = 4
_tx$228173 = 8						; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterBaseAct, COMDAT

; 2138 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx
  00005	56		 push	 esi

; 2139 : 	LPOBJ lpTargetObj = NULL;
; 2140 : 
; 2141 : 	if(lpObj->TargetNumber >= 0)

  00006	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00009	0f b7 86 58 04
	00 00		 movzx	 eax, WORD PTR [esi+1112]
  00010	33 db		 xor	 ebx, ebx
  00012	89 5d fc	 mov	 DWORD PTR _lpTargetObj$[ebp], ebx
  00015	66 85 c0	 test	 ax, ax
  00018	78 14		 js	 SHORT $LN65@gObjMonste@12

; 2142 : 	{
; 2143 : 		lpTargetObj = &gObj[lpObj->TargetNumber];

  0001a	98		 cwde
  0001b	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00021	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00027	89 45 fc	 mov	 DWORD PTR _lpTargetObj$[ebp], eax

; 2144 : 	}
; 2145 : 	else

  0002a	8b d8		 mov	 ebx, eax
  0002c	eb 0a		 jmp	 SHORT $LN64@gObjMonste@12
$LN65@gObjMonste@12:

; 2146 : 	{
; 2147 : 		lpObj->m_ActState.Emotion = 0;

  0002e	81 a6 18 02 00
	00 0f ff ff ff	 and	 DWORD PTR [esi+536], -241 ; ffffff0fH
$LN64@gObjMonste@12:

; 2148 : 	}
; 2149 : 
; 2150 : 	if (gObjSearchActiveEffect(lpObj, AT_SLEEP) == TRUE) //season3 add-on

  00038	6a 48		 push	 72			; 00000048H
  0003a	56		 push	 esi
  0003b	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00040	83 c4 08	 add	 esp, 8
  00043	3c 01		 cmp	 al, 1
  00045	0f 84 22 06 00
	00		 je	 $LN3@gObjMonste@12

; 2151 : 	{
; 2152 : 		return;
; 2153 : 	}
; 2154 : 
; 2155 : 	if ( lpObj->m_ActState.Emotion == 0 )

  0004b	8b 86 18 02 00
	00		 mov	 eax, DWORD PTR [esi+536]
  00051	8b c8		 mov	 ecx, eax
  00053	c1 e9 04	 shr	 ecx, 4
  00056	83 e1 0f	 and	 ecx, 15			; 0000000fH
  00059	57		 push	 edi
  0005a	0f 85 2a 02 00
	00		 jne	 $LN62@gObjMonste@12

; 2156 : 	{
; 2157 : 		if ( lpObj->m_Attribute )

  00060	66 39 8e b6 04
	00 00		 cmp	 WORD PTR [esi+1206], cx
  00067	0f 84 ff 05 00
	00		 je	 $LN80@gObjMonste@12

; 2158 : 		{
; 2159 : 			if ( lpObj->m_ActState.Attack )

  0006d	bf f4 01 00 00	 mov	 edi, 500		; 000001f4H
  00072	a8 02		 test	 al, 2
  00074	74 19		 je	 SHORT $LN73@gObjMonste@12

; 2160 : 			{
; 2161 : 				lpObj->m_ActState.Attack = 0;

  00076	83 e0 fd	 and	 eax, -3			; fffffffdH
  00079	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax

; 2162 : 				lpObj->TargetNumber = -1;

  0007f	83 c8 ff	 or	 eax, -1
  00082	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax

; 2163 : 				lpObj->NextActionTime = 500;

  00089	89 be bc 03 00
	00		 mov	 DWORD PTR [esi+956], edi
$LN73@gObjMonste@12:

; 2164 : 				//if( lpObj->m_Attribute == 100 )	LogAdd("   .");
; 2165 : 			}
; 2166 : 
; 2167 : 			int actcode1 = rand()%2;

  0008f	e8 00 00 00 00	 call	 _rand
  00094	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00099	79 05		 jns	 SHORT $LN81@gObjMonste@12
  0009b	48		 dec	 eax
  0009c	83 c8 fe	 or	 eax, -2			; fffffffeH
  0009f	40		 inc	 eax
$LN81@gObjMonste@12:

; 2168 : 
; 2169 : 			if ( lpObj->m_Attribute == 100 )

  000a0	bb 64 00 00 00	 mov	 ebx, 100		; 00000064H
  000a5	66 39 9e b6 04
	00 00		 cmp	 WORD PTR [esi+1206], bx

; 2170 : 			{
; 2171 : 				actcode1 = 1;
; 2172 : 			}
; 2173 : 			
; 2174 : 			if ( actcode1 == 0 )

  000ac	74 16		 je	 SHORT $LN77@gObjMonste@12
  000ae	85 c0		 test	 eax, eax
  000b0	75 12		 jne	 SHORT $LN77@gObjMonste@12

; 2175 : 			{
; 2176 : 				lpObj->m_ActState.Rest = 1;

  000b2	83 8e 18 02 00
	00 01		 or	 DWORD PTR [esi+536], 1

; 2177 : 				lpObj->NextActionTime = 500;

  000b9	89 be bc 03 00
	00		 mov	 DWORD PTR [esi+956], edi
  000bf	e9 d4 00 00 00	 jmp	 $LN74@gObjMonste@12
$LN77@gObjMonste@12:

; 2178 : 			}
; 2179 : 			else if ( lpObj->m_MoveRange > 0 && (gObjSearchActiveEffect(lpObj, AT_ICE_ARROW) == FALSE) && (gObjSearchActiveEffect(lpObj, AT_STUN) == FALSE) && (gObjSearchActiveEffect(lpObj, AT_SLEEP) == FALSE) ) //season3 changed

  000c4	66 83 be ae 04
	00 00 00	 cmp	 WORD PTR [esi+1198], 0
  000cc	0f 8e c6 00 00
	00		 jle	 $LN74@gObjMonste@12
  000d2	6a 39		 push	 57			; 00000039H
  000d4	56		 push	 esi
  000d5	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  000da	83 c4 08	 add	 esp, 8
  000dd	84 c0		 test	 al, al
  000df	0f 85 b3 00 00
	00		 jne	 $LN74@gObjMonste@12
  000e5	6a 3d		 push	 61			; 0000003dH
  000e7	56		 push	 esi
  000e8	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  000ed	83 c4 08	 add	 esp, 8
  000f0	84 c0		 test	 al, al
  000f2	0f 85 a0 00 00
	00		 jne	 $LN74@gObjMonste@12
  000f8	6a 48		 push	 72			; 00000048H
  000fa	56		 push	 esi
  000fb	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  00100	83 c4 08	 add	 esp, 8
  00103	84 c0		 test	 al, al
  00105	0f 85 8d 00 00
	00		 jne	 $LN74@gObjMonste@12

; 2180 : 			{
; 2181 : 				if ( lpObj->m_Attribute != 100 )

  0010b	66 39 9e b6 04
	00 00		 cmp	 WORD PTR [esi+1206], bx
  00112	74 0b		 je	 SHORT $LN55@gObjMonste@12

; 2182 : 				{
; 2183 : 					gObjMonsterMoveAction(lpObj);

  00114	56		 push	 esi
  00115	e8 00 00 00 00	 call	 ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterMoveAction
  0011a	83 c4 04	 add	 esp, 4

; 2184 : 				}
; 2185 : 				else

  0011d	eb 79		 jmp	 SHORT $LN74@gObjMonste@12
$LN55@gObjMonste@12:

; 2186 : 				{
; 2187 : 					int tx=0;
; 2188 : 					int ty=0;
; 2189 : 
; 2190 : 					if ( lpObj->m_RecallMon >= 0 )

  0011f	8b 86 50 04 00
	00		 mov	 eax, DWORD PTR [esi+1104]
  00125	33 c9		 xor	 ecx, ecx
  00127	89 4d 08	 mov	 DWORD PTR _tx$228173[ebp], ecx
  0012a	89 4d fc	 mov	 DWORD PTR _ty$228174[ebp], ecx
  0012d	3b c1		 cmp	 eax, ecx
  0012f	7c 67		 jl	 SHORT $LN74@gObjMonste@12

; 2191 : 					{
; 2192 : 						if ( gObj[lpObj->m_RecallMon].Connected > PLAYER_LOGGED )

  00131	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00137	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0013d	83 78 04 02	 cmp	 DWORD PTR [eax+4], 2
  00141	7e 55		 jle	 SHORT $LN74@gObjMonste@12

; 2193 : 						{
; 2194 : 							LPOBJ lpRecallObj = &gObj[lpObj->m_RecallMon];
; 2195 : 
; 2196 : 							if ( lpRecallObj->m_Rest == FALSE )

  00143	38 88 25 02 00
	00		 cmp	 BYTE PTR [eax+549], cl
  00149	75 4d		 jne	 SHORT $LN74@gObjMonste@12

; 2197 : 							{
; 2198 : 								if ( gObjGetTargetPos(lpObj, lpRecallObj->X, lpRecallObj->Y, tx, ty) == TRUE )

  0014b	8d 55 fc	 lea	 edx, DWORD PTR _ty$228174[ebp]
  0014e	52		 push	 edx
  0014f	0f bf 90 46 01
	00 00		 movsx	 edx, WORD PTR [eax+326]
  00156	0f bf 80 44 01
	00 00		 movsx	 eax, WORD PTR [eax+324]
  0015d	8d 4d 08	 lea	 ecx, DWORD PTR _tx$228173[ebp]
  00160	51		 push	 ecx
  00161	52		 push	 edx
  00162	50		 push	 eax
  00163	56		 push	 esi
  00164	e8 00 00 00 00	 call	 ?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z ; gObjGetTargetPos
  00169	83 c4 14	 add	 esp, 20			; 00000014H
  0016c	83 f8 01	 cmp	 eax, 1
  0016f	75 27		 jne	 SHORT $LN74@gObjMonste@12

; 2199 : 								{
; 2200 : 									lpObj->MTX = tx;

  00171	66 8b 4d 08	 mov	 cx, WORD PTR _tx$228173[ebp]

; 2201 : 									lpObj->MTY = ty;

  00175	66 8b 55 fc	 mov	 dx, WORD PTR _ty$228174[ebp]

; 2202 : 									lpObj->m_ActState.Move = 1;

  00179	83 8e 18 02 00
	00 04		 or	 DWORD PTR [esi+536], 4
  00180	66 89 8e 80 01
	00 00		 mov	 WORD PTR [esi+384], cx
  00187	66 89 96 82 01
	00 00		 mov	 WORD PTR [esi+386], dx

; 2203 : 									lpObj->NextActionTime = 1000;

  0018e	c7 86 bc 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+956], 1000 ; 000003e8H
$LN74@gObjMonste@12:

; 2204 : 								}
; 2205 : 							}
; 2206 : 						}
; 2207 : 					}
; 2208 : 				}
; 2209 : 			}
; 2210 : 
; 2211 : 			if (lpObj->Class == 249 || lpObj->Class == 247 )

  00198	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  0019f	b9 f9 00 00 00	 mov	 ecx, 249		; 000000f9H
  001a4	66 3b c1	 cmp	 ax, cx
  001a7	74 2b		 je	 SHORT $LN48@gObjMonste@12
  001a9	ba f7 00 00 00	 mov	 edx, 247		; 000000f7H
  001ae	66 3b c2	 cmp	 ax, dx
  001b1	74 21		 je	 SHORT $LN48@gObjMonste@12

; 2232 : 					}
; 2233 : 				}
; 2234 : 			}
; 2235 : 			else 
; 2236 : 			{
; 2237 : 				if ( lpObj->m_Attribute == 100 )

  001b3	66 39 9e b6 04
	00 00		 cmp	 WORD PTR [esi+1206], bx
  001ba	75 04		 jne	 SHORT $LN41@gObjMonste@12

; 2238 : 				{
; 2239 : 					lpObj->TargetNumber = gObjMonsterSearchEnemy(lpObj, OBJ_MONSTER);

  001bc	6a 02		 push	 2

; 2240 : 					if( lpObj->m_Attribute == 100 )	
; 2241 : 					{
; 2242 : 						//if( lpObj->TargetNumber>=0) LogAdd("  .");
; 2243 : 					}
; 2244 : #ifdef IMPERIAL_CONFLICT_NEW
; 2245 : 					if( g_ImperialGuardian.IsEventMap(lpObj->MapNumber) )
; 2246 : 					{
; 2247 : 						if ( !lpObj->Live || !g_ImperialGuardian.IsAttackAbleMonster(lpObj->TargetNumber) )
; 2248 : 							lpObj->TargetNumber = -1;
; 2249 : 					}
; 2250 : #endif
; 2251 : 				}
; 2252 : 				else

  001be	eb 02		 jmp	 SHORT $LN82@gObjMonste@12
$LN41@gObjMonste@12:

; 2253 : 				{
; 2254 : 					lpObj->TargetNumber = gObjMonsterSearchEnemy(lpObj, OBJ_USER);

  001c0	6a 01		 push	 1
$LN82@gObjMonste@12:
  001c2	56		 push	 esi
  001c3	e8 00 00 00 00	 call	 ?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z ; gObjMonsterSearchEnemy
  001c8	83 c4 08	 add	 esp, 8
  001cb	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax
  001d2	eb 74		 jmp	 SHORT $LN43@gObjMonste@12
$LN48@gObjMonste@12:

; 2212 : 			{
; 2213 : 				if ( gEvent1 )

  001d4	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEvent1@@3HA, 0 ; gEvent1
  001db	74 2e		 je	 SHORT $LN45@gObjMonste@12

; 2214 : 				{
; 2215 : 					if ( !(rand()%30) )

  001dd	e8 00 00 00 00	 call	 _rand
  001e2	99		 cdq
  001e3	b9 1e 00 00 00	 mov	 ecx, 30			; 0000001eH
  001e8	f7 f9		 idiv	 ecx
  001ea	85 d2		 test	 edx, edx
  001ec	75 1d		 jne	 SHORT $LN45@gObjMonste@12

; 2216 : 					{
; 2217 : 						if ( lpObj->m_PK_Count == 0 )

  001ee	38 96 3c 01 00
	00		 cmp	 BYTE PTR [esi+316], dl
  001f4	75 15		 jne	 SHORT $LN45@gObjMonste@12

; 2218 : 						{
; 2219 : 							ChatSend(lpObj,ZtConfig.CommonServer.GuardMessage);

  001f6	68 ac 00 00 00	 push	 OFFSET ?ZtConfig@@3VcZtConfigs@@A+172
  001fb	56		 push	 esi
  001fc	e8 00 00 00 00	 call	 ?ChatSend@@YAXPAUOBJECTSTRUCT@@PAD@Z ; ChatSend
  00201	83 c4 08	 add	 esp, 8

; 2220 : 							lpObj->m_PK_Count = 0;

  00204	c6 86 3c 01 00
	00 00		 mov	 BYTE PTR [esi+316], 0
$LN45@gObjMonste@12:

; 2221 : 						}
; 2222 : 					}
; 2223 : 				}
; 2224 : 
; 2225 : 				lpObj->TargetNumber = gObjGuardSearchEnemy(lpObj);

  0020b	56		 push	 esi
  0020c	e8 00 00 00 00	 call	 ?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z ; gObjGuardSearchEnemy
  00211	83 c4 04	 add	 esp, 4
  00214	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax

; 2226 : 
; 2227 : 				if ( lpObj->TargetNumber >= 0 )

  0021b	66 85 c0	 test	 ax, ax
  0021e	78 28		 js	 SHORT $LN43@gObjMonste@12

; 2228 : 				{
; 2229 : 					if ( gObj[lpObj->TargetNumber].Class >= 248 )

  00220	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00226	0f bf d0	 movsx	 edx, ax
  00229	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  0022f	b8 f8 00 00 00	 mov	 eax, 248		; 000000f8H
  00234	66 39 84 0a b8
	00 00 00	 cmp	 WORD PTR [edx+ecx+184], ax
  0023c	72 0a		 jb	 SHORT $LN43@gObjMonste@12

; 2230 : 					{
; 2231 : 						lpObj->TargetNumber = -1;

  0023e	83 ca ff	 or	 edx, -1
  00241	66 89 96 58 04
	00 00		 mov	 WORD PTR [esi+1112], dx
$LN43@gObjMonste@12:

; 2255 : 				}
; 2256 : 			}
; 2257 : 
; 2258 : 			if ( lpObj->TargetNumber >= 0 )

  00248	66 83 be 58 04
	00 00 00	 cmp	 WORD PTR [esi+1112], 0
  00250	0f 8c 16 04 00
	00		 jl	 $LN80@gObjMonste@12

; 2259 : 			{
; 2260 : 
; 2261 : 				if(g_DoppelGanger.IsDGMonster(lpObj))	//Season 5 DoppelGanger

  00256	56		 push	 esi
  00257	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  0025c	e8 00 00 00 00	 call	 ?IsDGMonster@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::IsDGMonster
  00261	f6 d8		 neg	 al
  00263	1a c0		 sbb	 al, al
  00265	24 e5		 and	 al, 229			; 000000e5H
  00267	04 1e		 add	 al, 30			; 0000001eH
  00269	88 86 19 02 00
	00		 mov	 BYTE PTR [esi+537], al

; 2262 : 				{
; 2263 : 					lpObj->m_ActState.EmotionCount = 3;
; 2264 : 				}
; 2265 : 				else
; 2266 : 				{
; 2267 : 					lpObj->m_ActState.EmotionCount = 30;
; 2268 : 				}
; 2269 : 				lpObj->m_ActState.Emotion = 1;

  0026f	8b 86 18 02 00
	00		 mov	 eax, DWORD PTR [esi+536]
  00275	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  0027a	83 c8 10	 or	 eax, 16			; 00000010H
  0027d	5f		 pop	 edi
  0027e	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax
  00284	5e		 pop	 esi
  00285	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  00286	8b e5		 mov	 esp, ebp
  00288	5d		 pop	 ebp
  00289	c3		 ret	 0
$LN62@gObjMonste@12:

; 2270 : 			}
; 2271 : 		}
; 2272 : 	}
; 2273 : 	else if ( lpObj->m_ActState.Emotion == 1 )

  0028a	83 f9 01	 cmp	 ecx, 1
  0028d	0f 85 f1 02 00
	00		 jne	 $LN34@gObjMonste@12

; 2274 : 	{
; 2275 : 		if ( lpObj->m_ActState.EmotionCount > 0 )

  00293	8a 8e 19 02 00
	00		 mov	 cl, BYTE PTR [esi+537]
  00299	84 c9		 test	 cl, cl
  0029b	74 0a		 je	 SHORT $LN33@gObjMonste@12

; 2276 : 		{
; 2277 : 			lpObj->m_ActState.EmotionCount--;

  0029d	fe c9		 dec	 cl
  0029f	88 8e 19 02 00
	00		 mov	 BYTE PTR [esi+537], cl

; 2278 : 		}
; 2279 : 		else

  002a5	eb 0b		 jmp	 SHORT $LN32@gObjMonste@12
$LN33@gObjMonste@12:

; 2280 : 		{
; 2281 : 			lpObj->m_ActState.Emotion = 0;

  002a7	25 0f ff ff ff	 and	 eax, -241		; ffffff0fH
  002ac	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax
$LN32@gObjMonste@12:

; 2282 : 		}
; 2283 : 
; 2284 : 		if ( lpObj->TargetNumber >= 0 && lpObj->PathStartEnd == 0)

  002b2	66 83 be 58 04
	00 00 00	 cmp	 WORD PTR [esi+1112], 0
  002ba	0f 8c ac 03 00
	00		 jl	 $LN80@gObjMonste@12
  002c0	80 be 8c 01 00
	00 00		 cmp	 BYTE PTR [esi+396], 0
  002c7	0f 85 9f 03 00
	00		 jne	 $LN80@gObjMonste@12

; 2285 : 		{
; 2286 : 			if ( BC_MAP_RANGE(lpObj->MapNumber) )

  002cd	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  002d4	3c 34		 cmp	 al, 52			; 00000034H
  002d6	74 0d		 je	 SHORT $LN72@gObjMonste@12
  002d8	3c 0b		 cmp	 al, 11			; 0000000bH
  002da	72 79		 jb	 SHORT $LN76@gObjMonste@12
  002dc	b1 11		 mov	 cl, 17			; 00000011H
  002de	3a c8		 cmp	 cl, al
  002e0	1b c0		 sbb	 eax, eax
  002e2	40		 inc	 eax
  002e3	74 70		 je	 SHORT $LN76@gObjMonste@12
$LN72@gObjMonste@12:

; 2287 : 			{
; 2288 : 				int iRAND_CHANGE_TARGET = rand()%10;

  002e5	e8 00 00 00 00	 call	 _rand
  002ea	99		 cdq
  002eb	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  002f0	f7 f9		 idiv	 ecx

; 2289 : 
; 2290 : 				if ( iRAND_CHANGE_TARGET == 3 )

  002f2	83 fa 03	 cmp	 edx, 3
  002f5	75 0c		 jne	 SHORT $LN29@gObjMonste@12

; 2291 : 				{
; 2292 : 					lpObj->LastAttackerID = -1;

  002f7	83 ca ff	 or	 edx, -1
  002fa	66 89 96 5e 04
	00 00		 mov	 WORD PTR [esi+1118], dx

; 2293 : 				}
; 2294 : 
; 2295 : 				if ( iRAND_CHANGE_TARGET == 1 )

  00301	eb 52		 jmp	 SHORT $LN76@gObjMonste@12
$LN29@gObjMonste@12:
  00303	83 fa 01	 cmp	 edx, 1
  00306	75 4d		 jne	 SHORT $LN76@gObjMonste@12

; 2296 : 				{
; 2297 : 					if ( lpObj->LastAttackerID != -1 && lpObj->LastAttackerID != lpObj->TargetNumber )

  00308	0f b7 8e 5e 04
	00 00		 movzx	 ecx, WORD PTR [esi+1118]
  0030f	66 83 f9 ff	 cmp	 cx, -1
  00313	74 40		 je	 SHORT $LN76@gObjMonste@12
  00315	66 3b 8e 58 04
	00 00		 cmp	 cx, WORD PTR [esi+1112]
  0031c	74 37		 je	 SHORT $LN76@gObjMonste@12

; 2298 : 					{
; 2299 : 						if ( gObj[lpObj->LastAttackerID].Connected > PLAYER_LOGGED && lpObj->MapNumber == gObj[lpObj->LastAttackerID].MapNumber )

  0031e	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00324	0f bf c1	 movsx	 eax, cx
  00327	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0032d	83 7c 38 04 02	 cmp	 DWORD PTR [eax+edi+4], 2
  00332	7e 21		 jle	 SHORT $LN76@gObjMonste@12
  00334	8a 96 49 01 00
	00		 mov	 dl, BYTE PTR [esi+329]
  0033a	3a 94 38 49 01
	00 00		 cmp	 dl, BYTE PTR [eax+edi+329]
  00341	75 12		 jne	 SHORT $LN76@gObjMonste@12

; 2300 : 						{
; 2301 : 							lpObj->TargetNumber = lpObj->LastAttackerID;

  00343	66 89 8e 58 04
	00 00		 mov	 WORD PTR [esi+1112], cx

; 2302 : 							lpTargetObj = &gObj[lpObj->LastAttackerID];

  0034a	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00350	89 45 fc	 mov	 DWORD PTR _lpTargetObj$[ebp], eax
  00353	8b d8		 mov	 ebx, eax
$LN76@gObjMonste@12:

; 2303 : 						}
; 2304 : 					}
; 2305 : 				}
; 2306 : 			}
; 2307 : 
; 2308 : 			int dis = gObjCalDistance(lpObj, lpTargetObj);

  00355	53		 push	 ebx
  00356	56		 push	 esi
  00357	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 2309 : 			int attackrange;
; 2310 : 
; 2311 : 			if ( lpObj->m_AttackType >= 100 )
; 2312 : 			{
; 2313 : 				attackrange = lpObj->m_AttackRange+2;

  0035c	0f bf 8e b0 04
	00 00		 movsx	 ecx, WORD PTR [esi+1200]
  00363	83 c4 08	 add	 esp, 8
  00366	66 83 be b2 04
	00 00 64	 cmp	 WORD PTR [esi+1202], 100 ; 00000064H
  0036e	7c 03		 jl	 SHORT $LN24@gObjMonste@12
  00370	83 c1 02	 add	 ecx, 2
$LN24@gObjMonste@12:

; 2314 : 			}
; 2315 : 			else
; 2316 : 			{
; 2317 : 				attackrange = lpObj->m_AttackRange;
; 2318 : 			}
; 2319 : 
; 2320 : 			if ( dis <= attackrange )

  00373	3b c1		 cmp	 eax, ecx
  00375	0f 8f 37 01 00
	00		 jg	 $LN23@gObjMonste@12

; 2321 : 			{
; 2322 : 				int tuser = lpObj->TargetNumber;

  0037b	0f bf be 58 04
	00 00		 movsx	 edi, WORD PTR [esi+1112]

; 2323 : 				int map = gObj[tuser].MapNumber;

  00382	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00388	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0038e	0f b6 84 0f 49
	01 00 00	 movzx	 eax, BYTE PTR [edi+ecx+329]

; 2324 : 				BYTE attr;
; 2325 : 
; 2326 : 				if ( MapC[map].CheckWall(lpObj->X, lpObj->Y, gObj[tuser].X, gObj[tuser].Y) == TRUE )

  00396	0f bf 94 0f 46
	01 00 00	 movsx	 edx, WORD PTR [edi+ecx+326]
  0039e	69 c0 48 3d 05
	00		 imul	 eax, 343368		; 00053d48H
  003a4	8d 98 00 00 00
	00		 lea	 ebx, DWORD PTR ?MapC@@3PAVMapClass@@A[eax]
  003aa	0f bf 84 0f 44
	01 00 00	 movsx	 eax, WORD PTR [edi+ecx+324]
  003b2	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  003b9	52		 push	 edx
  003ba	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  003c1	50		 push	 eax
  003c2	51		 push	 ecx
  003c3	52		 push	 edx
  003c4	8b cb		 mov	 ecx, ebx
  003c6	e8 00 00 00 00	 call	 ?CheckWall@MapClass@@QAEHHHHH@Z ; MapClass::CheckWall
  003cb	83 f8 01	 cmp	 eax, 1
  003ce	0f 85 af 00 00
	00		 jne	 $LN22@gObjMonste@12

; 2327 : 				{
; 2328 : 					attr = MapC[map].GetAttr(gObj[tuser].X, gObj[tuser].Y);

  003d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2329 : 
; 2330 : 					if ( (attr&1) != 1 )

  003d9	0f bf 8c 07 46
	01 00 00	 movsx	 ecx, WORD PTR [edi+eax+326]
  003e1	0f bf 94 07 44
	01 00 00	 movsx	 edx, WORD PTR [edi+eax+324]
  003e9	51		 push	 ecx
  003ea	52		 push	 edx
  003eb	8b cb		 mov	 ecx, ebx
  003ed	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  003f2	a8 01		 test	 al, 1
  003f4	75 09		 jne	 SHORT $LN21@gObjMonste@12

; 2331 : 					{
; 2332 : 						lpObj->m_ActState.Attack = 1;		//Fix Monster in main?

  003f6	83 8e 18 02 00
	00 02		 or	 DWORD PTR [esi+536], 2

; 2333 : 					}
; 2334 : 					else

  003fd	eb 3e		 jmp	 SHORT $LN18@gObjMonste@12
$LN21@gObjMonste@12:

; 2335 : 					{
; 2336 : 						lpObj->TargetNumber = -1;

  003ff	83 c8 ff	 or	 eax, -1

; 2337 : 						lpObj->m_ActState.EmotionCount = 30;
; 2338 : 						if(g_DoppelGanger.IsDGMonster(lpObj))	//Season 5 DoppelGanger

  00402	56		 push	 esi
  00403	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  00408	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax
  0040f	c6 86 19 02 00
	00 1e		 mov	 BYTE PTR [esi+537], 30	; 0000001eH
  00416	e8 00 00 00 00	 call	 ?IsDGMonster@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::IsDGMonster
  0041b	84 c0		 test	 al, al
  0041d	74 09		 je	 SHORT $LN19@gObjMonste@12

; 2339 : 						{
; 2340 : 							lpObj->m_ActState.EmotionCount = 3;

  0041f	c6 86 19 02 00
	00 03		 mov	 BYTE PTR [esi+537], 3

; 2341 : 						}
; 2342 : 						else

  00426	eb 15		 jmp	 SHORT $LN18@gObjMonste@12
$LN19@gObjMonste@12:

; 2343 : 						{
; 2344 : 							lpObj->m_ActState.Emotion = 1;

  00428	8b 8e 18 02 00
	00		 mov	 ecx, DWORD PTR [esi+536]
  0042e	81 e1 1f ff ff
	ff		 and	 ecx, -225		; ffffff1fH
  00434	83 c9 10	 or	 ecx, 16			; 00000010H
  00437	89 8e 18 02 00
	00		 mov	 DWORD PTR [esi+536], ecx
$LN18@gObjMonste@12:

; 2345 : 						}
; 2346 : 					}
; 2347 : 
; 2348 : 					lpObj->Dir = GetPathPacketDirPos(lpTargetObj->X-lpObj->X, lpTargetObj->Y-lpObj->Y);

  0043d	8b 45 fc	 mov	 eax, DWORD PTR _lpTargetObj$[ebp]
  00440	0f bf 90 46 01
	00 00		 movsx	 edx, WORD PTR [eax+326]
  00447	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  0044e	2b d1		 sub	 edx, ecx
  00450	52		 push	 edx
  00451	0f bf 90 44 01
	00 00		 movsx	 edx, WORD PTR [eax+324]
  00458	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  0045f	2b d0		 sub	 edx, eax
  00461	52		 push	 edx
  00462	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos

; 2349 : 					lpObj->NextActionTime = lpObj->m_AttackSpeed;

  00467	8b 8e 8c 04 00
	00		 mov	 ecx, DWORD PTR [esi+1164]
  0046d	83 c4 08	 add	 esp, 8
  00470	5f		 pop	 edi
  00471	88 86 48 01 00
	00		 mov	 BYTE PTR [esi+328], al
  00477	89 8e bc 03 00
	00		 mov	 DWORD PTR [esi+956], ecx
  0047d	5e		 pop	 esi
  0047e	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  0047f	8b e5		 mov	 esp, ebp
  00481	5d		 pop	 ebp
  00482	c3		 ret	 0
$LN22@gObjMonste@12:

; 2350 : 					if( lpObj->m_Attribute == 100 )	{
; 2351 : 						//LogAdd("  .    %d",lpObj->NextActionTime);
; 2352 : 					}
; 2353 : 				}
; 2354 : 				else //if(lpObj->Class == 275) //Season 2.5 add-on
; 2355 : 				{
; 2356 : 					lpObj->TargetNumber = -1;
; 2357 : 					lpObj->m_ActState.Attack = 0;
; 2358 : 					lpObj->NextActionTime = 500;
; 2359 : 					lpObj->m_ActState.Emotion = 0;

  00483	8b 86 18 02 00
	00		 mov	 eax, DWORD PTR [esi+536]
  00489	83 ca ff	 or	 edx, -1
  0048c	25 0d ff ff ff	 and	 eax, -243		; ffffff0dH

; 2360 : 					lpObj->m_ActState.Move = 1;

  00491	83 c8 04	 or	 eax, 4
  00494	5f		 pop	 edi
  00495	66 89 96 58 04
	00 00		 mov	 WORD PTR [esi+1112], dx
  0049c	c7 86 bc 03 00
	00 f4 01 00 00	 mov	 DWORD PTR [esi+956], 500 ; 000001f4H
  004a6	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax
  004ac	5e		 pop	 esi
  004ad	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  004ae	8b e5		 mov	 esp, ebp
  004b0	5d		 pop	 ebp
  004b1	c3		 ret	 0
$LN23@gObjMonste@12:

; 2361 : 				}
; 2362 : 			}
; 2363 : 			else
; 2364 : 			{
; 2365 : 				if ( gObjMonsterGetTargetPos(lpObj) == TRUE )

  004b2	56		 push	 esi
  004b3	e8 00 00 00 00	 call	 ?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterGetTargetPos
  004b8	83 c4 04	 add	 esp, 4
  004bb	83 f8 01	 cmp	 eax, 1
  004be	0f 85 b0 00 00
	00		 jne	 $LN14@gObjMonste@12

; 2366 : 				{
; 2367 : 					if ( MapC[lpObj->MapNumber].CheckWall(lpObj->X, lpObj->Y, lpObj->MTX, lpObj->MTY) == TRUE )

  004c4	0f bf 8e 82 01
	00 00		 movsx	 ecx, WORD PTR [esi+386]
  004cb	0f bf 96 80 01
	00 00		 movsx	 edx, WORD PTR [esi+384]
  004d2	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  004d9	51		 push	 ecx
  004da	0f bf 8e 44 01
	00 00		 movsx	 ecx, WORD PTR [esi+324]
  004e1	52		 push	 edx
  004e2	50		 push	 eax
  004e3	51		 push	 ecx
  004e4	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  004eb	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  004f1	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  004f7	e8 00 00 00 00	 call	 ?CheckWall@MapClass@@QAEHHHHH@Z ; MapClass::CheckWall
  004fc	83 f8 01	 cmp	 eax, 1
  004ff	75 48		 jne	 SHORT $LN13@gObjMonste@12

; 2368 : 					{
; 2369 : 						lpObj->m_ActState.Move = 1;

  00501	83 8e 18 02 00
	00 04		 or	 DWORD PTR [esi+536], 4

; 2370 : 						lpObj->NextActionTime = 400;
; 2371 : 						lpObj->Dir = GetPathPacketDirPos(lpTargetObj->X-lpObj->X, lpTargetObj->Y-lpObj->Y);

  00508	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  0050f	c7 86 bc 03 00
	00 90 01 00 00	 mov	 DWORD PTR [esi+956], 400 ; 00000190H
  00519	0f bf 93 46 01
	00 00		 movsx	 edx, WORD PTR [ebx+326]
  00520	0f bf 8b 44 01
	00 00		 movsx	 ecx, WORD PTR [ebx+324]
  00527	2b d0		 sub	 edx, eax
  00529	52		 push	 edx
  0052a	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  00531	2b ca		 sub	 ecx, edx
  00533	51		 push	 ecx
  00534	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  00539	83 c4 08	 add	 esp, 8
  0053c	5f		 pop	 edi
  0053d	88 86 48 01 00
	00		 mov	 BYTE PTR [esi+328], al
  00543	5e		 pop	 esi
  00544	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  00545	8b e5		 mov	 esp, ebp
  00547	5d		 pop	 ebp
  00548	c3		 ret	 0
$LN13@gObjMonste@12:

; 2372 : 					}
; 2373 : 					else
; 2374 : 					{
; 2375 : 						gObjMonsterMoveAction(lpObj);

  00549	56		 push	 esi
  0054a	e8 00 00 00 00	 call	 ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterMoveAction

; 2376 : 						lpObj->m_ActState.Emotion = 3;

  0054f	8b 86 18 02 00
	00		 mov	 eax, DWORD PTR [esi+536]
  00555	83 c4 04	 add	 esp, 4
  00558	25 3f ff ff ff	 and	 eax, -193		; ffffff3fH
  0055d	83 c8 30	 or	 eax, 48			; 00000030H
  00560	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax
  00566	5f		 pop	 edi

; 2377 : 						lpObj->m_ActState.EmotionCount = 10;

  00567	c6 86 19 02 00
	00 0a		 mov	 BYTE PTR [esi+537], 10	; 0000000aH
  0056e	5e		 pop	 esi
  0056f	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  00570	8b e5		 mov	 esp, ebp
  00572	5d		 pop	 ebp
  00573	c3		 ret	 0
$LN14@gObjMonste@12:

; 2378 : 
; 2379 : 					}
; 2380 : 				}
; 2381 : 				else
; 2382 : 				{
; 2383 : 					gObjMonsterMoveAction(lpObj);

  00574	56		 push	 esi
  00575	e8 00 00 00 00	 call	 ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterMoveAction
  0057a	83 c4 04	 add	 esp, 4
  0057d	5f		 pop	 edi
  0057e	5e		 pop	 esi
  0057f	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  00580	8b e5		 mov	 esp, ebp
  00582	5d		 pop	 ebp
  00583	c3		 ret	 0
$LN34@gObjMonste@12:

; 2384 : 				}
; 2385 : 			}
; 2386 : 		}
; 2387 : 		else
; 2388 : 		{
; 2389 : 		}
; 2390 : 	}
; 2391 : 	else if ( lpObj->m_ActState.Emotion == 2 )

  00584	83 f9 02	 cmp	 ecx, 2
  00587	0f 85 aa 00 00
	00		 jne	 $LN8@gObjMonste@12

; 2392 : 	{
; 2393 : 		if ( lpObj->m_ActState.EmotionCount > 0 )

  0058d	8a 8e 19 02 00
	00		 mov	 cl, BYTE PTR [esi+537]
  00593	84 c9		 test	 cl, cl
  00595	74 0a		 je	 SHORT $LN7@gObjMonste@12

; 2394 : 		{
; 2395 : 			lpObj->m_ActState.EmotionCount--;

  00597	fe c9		 dec	 cl
  00599	88 8e 19 02 00
	00		 mov	 BYTE PTR [esi+537], cl

; 2396 : 		}
; 2397 : 		else

  0059f	eb 0b		 jmp	 SHORT $LN6@gObjMonste@12
$LN7@gObjMonste@12:

; 2398 : 		{
; 2399 : 			lpObj->m_ActState.Emotion = 0;

  005a1	25 0f ff ff ff	 and	 eax, -241		; ffffff0fH
  005a6	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax
$LN6@gObjMonste@12:

; 2400 : 		}
; 2401 : 
; 2402 : 		lpObj->m_ActState.Move = 1;

  005ac	83 8e 18 02 00
	00 04		 or	 DWORD PTR [esi+536], 4

; 2403 : 		lpObj->NextActionTime = 800;

  005b3	c7 86 bc 03 00
	00 20 03 00 00	 mov	 DWORD PTR [esi+956], 800 ; 00000320H

; 2404 : 
; 2405 : 		if ( lpTargetObj != NULL)

  005bd	85 db		 test	 ebx, ebx
  005bf	0f 84 a7 00 00
	00		 je	 $LN80@gObjMonste@12

; 2406 : 		{
; 2407 : 			int tdir = GetPathPacketDirPos(lpTargetObj->X-lpObj->X, lpTargetObj->Y-lpObj->Y)*2;

  005c5	0f bf 8b 46 01
	00 00		 movsx	 ecx, WORD PTR [ebx+326]
  005cc	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  005d3	0f bf 83 44 01
	00 00		 movsx	 eax, WORD PTR [ebx+324]
  005da	2b ca		 sub	 ecx, edx
  005dc	51		 push	 ecx
  005dd	0f bf 8e 44 01
	00 00		 movsx	 ecx, WORD PTR [esi+324]
  005e4	2b c1		 sub	 eax, ecx
  005e6	50		 push	 eax
  005e7	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  005ec	0f b6 c0	 movzx	 eax, al
  005ef	03 c0		 add	 eax, eax

; 2408 : 			lpObj->MTX += RoadPathTable[tdir] * (-3);

  005f1	66 8b 0c 45 00
	00 00 00	 mov	 cx, WORD PTR ?RoadPathTable@@3PAFA[eax*2]
  005f9	66 8b d1	 mov	 dx, cx
  005fc	66 03 d2	 add	 dx, dx
  005ff	66 03 d2	 add	 dx, dx
  00602	66 2b d1	 sub	 dx, cx
  00605	66 f7 da	 neg	 dx
  00608	66 01 96 80 01
	00 00		 add	 WORD PTR [esi+384], dx

; 2409 : 			lpObj->MTY += RoadPathTable[tdir+1] * (-3);

  0060f	66 8b 04 45 02
	00 00 00	 mov	 ax, WORD PTR ?RoadPathTable@@3PAFA[eax*2+2]
  00617	66 8b c8	 mov	 cx, ax
  0061a	66 03 c9	 add	 cx, cx
  0061d	66 03 c9	 add	 cx, cx
  00620	83 c4 08	 add	 esp, 8
  00623	66 2b c8	 sub	 cx, ax
  00626	66 f7 d9	 neg	 cx
  00629	66 01 8e 82 01
	00 00		 add	 WORD PTR [esi+386], cx
  00630	5f		 pop	 edi
  00631	5e		 pop	 esi
  00632	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  00633	8b e5		 mov	 esp, ebp
  00635	5d		 pop	 ebp
  00636	c3		 ret	 0
$LN8@gObjMonste@12:

; 2410 : 		}
; 2411 : 	}
; 2412 : 	else if ( lpObj->m_ActState.Emotion == 3 )

  00637	83 f9 03	 cmp	 ecx, 3
  0063a	75 30		 jne	 SHORT $LN80@gObjMonste@12

; 2413 : 	{
; 2414 : 		if ( lpObj->m_ActState.EmotionCount > 0 )

  0063c	8a 8e 19 02 00
	00		 mov	 cl, BYTE PTR [esi+537]
  00642	84 c9		 test	 cl, cl
  00644	74 0a		 je	 SHORT $LN2@gObjMonste@12

; 2415 : 		{
; 2416 : 			lpObj->m_ActState.EmotionCount--;

  00646	fe c9		 dec	 cl
  00648	88 8e 19 02 00
	00		 mov	 BYTE PTR [esi+537], cl

; 2417 : 		}
; 2418 : 		else

  0064e	eb 0b		 jmp	 SHORT $LN1@gObjMonste@12
$LN2@gObjMonste@12:

; 2419 : 		{
; 2420 : 			lpObj->m_ActState.Emotion = 0;

  00650	25 0f ff ff ff	 and	 eax, -241		; ffffff0fH
  00655	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax
$LN1@gObjMonste@12:

; 2421 : 		}
; 2422 : 
; 2423 : 		lpObj->m_ActState.Move = 0;
; 2424 : 		lpObj->m_ActState.Attack = 0;

  0065b	83 a6 18 02 00
	00 f9		 and	 DWORD PTR [esi+536], -7	; fffffff9H

; 2425 : 		lpObj->NextActionTime = 400;

  00662	c7 86 bc 03 00
	00 90 01 00 00	 mov	 DWORD PTR [esi+956], 400 ; 00000190H
$LN80@gObjMonste@12:
  0066c	5f		 pop	 edi
$LN3@gObjMonste@12:
  0066d	5e		 pop	 esi
  0066e	5b		 pop	 ebx

; 2426 : 	}
; 2427 : }

  0066f	8b e5		 mov	 esp, ebp
  00671	5d		 pop	 ebp
  00672	c3		 ret	 0
?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterBaseAct
_TEXT	ENDS
PUBLIC	?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchX
; Function compile flags: /Ogtp
;	COMDAT ?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_y$ = -12						; size = 4
_n$228243 = -8						; size = 4
_pos$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_count$ = 12						; size = 4
?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z PROC ; gObjTrapAttackEnemySearchX, COMDAT

; 2430 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	56		 push	 esi

; 2431 : 	lpObj->TargetNumber = -1;

  00007	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 2432 : 	int tObjNum;
; 2433 : 	int pos = lpObj->X;

  0000a	0f bf 8e 44 01
	00 00		 movsx	 ecx, WORD PTR [esi+324]

; 2434 : 	int y = lpObj->Y;

  00011	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  00018	83 c8 ff	 or	 eax, -1

; 2435 : 
; 2436 : 	for(int n =0;n<count;n++)

  0001b	83 7d 0c 00	 cmp	 DWORD PTR _count$[ebp], 0
  0001f	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax
  00026	89 4d fc	 mov	 DWORD PTR _pos$[ebp], ecx
  00029	89 55 f4	 mov	 DWORD PTR _y$[ebp], edx
  0002c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$228243[ebp], 0
  00033	0f 8e 88 00 00
	00		 jle	 $LN10@gObjTrapAt
  00039	53		 push	 ebx
  0003a	57		 push	 edi
  0003b	8d 78 02	 lea	 edi, DWORD PTR [eax+2]
  0003e	eb 03		 jmp	 SHORT $LN12@gObjTrapAt
$LL23@gObjTrapAt:
  00040	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
$LN12@gObjTrapAt:

; 2437 : 	{
; 2438 : 		pos++;

  00043	01 7d fc	 add	 DWORD PTR _pos$[ebp], edi

; 2439 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00046	33 d2		 xor	 edx, edx
  00048	81 c6 ae 08 00
	00		 add	 esi, 2222		; 000008aeH
  0004e	8b ff		 npad	 2
$LL24@gObjTrapAt:

; 2440 : 		{
; 2441 : 			tObjNum = lpObj->VpPlayer2[i].number;

  00050	0f bf 0e	 movsx	 ecx, WORD PTR [esi]

; 2442 : 
; 2443 : 			if(tObjNum >= 0)

  00053	85 c9		 test	 ecx, ecx
  00055	78 3b		 js	 SHORT $LN8@gObjTrapAt

; 2444 : 			{
; 2445 : 				if(gObj[tObjNum].Type==OBJ_USER)

  00057	8b c1		 mov	 eax, ecx
  00059	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0005f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00065	66 39 78 68	 cmp	 WORD PTR [eax+104], di
  00069	75 27		 jne	 SHORT $LN8@gObjTrapAt

; 2446 : 				{
; 2447 : 					if(gObj[tObjNum].Live)

  0006b	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  0006f	74 21		 je	 SHORT $LN8@gObjTrapAt

; 2448 : 					{
; 2449 : 						if(y == gObj[tObjNum].Y)

  00071	0f bf b8 46 01
	00 00		 movsx	 edi, WORD PTR [eax+326]
  00078	39 7d f4	 cmp	 DWORD PTR _y$[ebp], edi
  0007b	75 15		 jne	 SHORT $LN8@gObjTrapAt

; 2450 : 						{
; 2451 : 							if(pos == gObj[tObjNum].X)

  0007d	0f bf b8 44 01
	00 00		 movsx	 edi, WORD PTR [eax+324]
  00084	39 7d fc	 cmp	 DWORD PTR _pos$[ebp], edi
  00087	75 09		 jne	 SHORT $LN8@gObjTrapAt

; 2452 : 							{
; 2453 : 								if((gObj[tObjNum].Authority&2)!=2)

  00089	f6 80 0c 02 00
	00 02		 test	 BYTE PTR [eax+524], 2
  00090	74 23		 je	 SHORT $LN17@gObjTrapAt
$LN8@gObjTrapAt:

; 2439 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00092	bf 01 00 00 00	 mov	 edi, 1
  00097	03 d7		 add	 edx, edi
  00099	83 c6 0c	 add	 esi, 12			; 0000000cH
  0009c	83 fa 4b	 cmp	 edx, 75			; 0000004bH
  0009f	7c af		 jl	 SHORT $LL24@gObjTrapAt

; 2435 : 
; 2436 : 	for(int n =0;n<count;n++)

  000a1	8b 45 f8	 mov	 eax, DWORD PTR _n$228243[ebp]
  000a4	03 c7		 add	 eax, edi
  000a6	89 45 f8	 mov	 DWORD PTR _n$228243[ebp], eax
  000a9	3b 45 0c	 cmp	 eax, DWORD PTR _count$[ebp]
  000ac	7c 92		 jl	 SHORT $LL23@gObjTrapAt
  000ae	5f		 pop	 edi
  000af	5b		 pop	 ebx
  000b0	5e		 pop	 esi

; 2456 : 									return;
; 2457 : 								}
; 2458 : 							}
; 2459 : 						}
; 2460 : 					}
; 2461 : 				}
; 2462 : 			}
; 2463 : 		}
; 2464 : 	}
; 2465 : }

  000b1	8b e5		 mov	 esp, ebp
  000b3	5d		 pop	 ebp
  000b4	c3		 ret	 0
$LN17@gObjTrapAt:

; 2454 : 								{
; 2455 : 									lpObj->TargetNumber = tObjNum;

  000b5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  000b8	5f		 pop	 edi
  000b9	66 89 8a 58 04
	00 00		 mov	 WORD PTR [edx+1112], cx
  000c0	5b		 pop	 ebx
$LN10@gObjTrapAt:
  000c1	5e		 pop	 esi

; 2456 : 									return;
; 2457 : 								}
; 2458 : 							}
; 2459 : 						}
; 2460 : 					}
; 2461 : 				}
; 2462 : 			}
; 2463 : 		}
; 2464 : 	}
; 2465 : }

  000c2	8b e5		 mov	 esp, ebp
  000c4	5d		 pop	 ebp
  000c5	c3		 ret	 0
?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z ENDP ; gObjTrapAttackEnemySearchX
_TEXT	ENDS
PUBLIC	?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchY
; Function compile flags: /Ogtp
;	COMDAT ?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_x$ = -12						; size = 4
_n$228264 = -8						; size = 4
_pos$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_count$ = 12						; size = 4
?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z PROC ; gObjTrapAttackEnemySearchY, COMDAT

; 2468 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	56		 push	 esi

; 2469 : 	lpObj->TargetNumber = -1;

  00007	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 2470 : 	int tObjNum;
; 2471 : 	int pos = lpObj->Y;

  0000a	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]

; 2472 : 	int x = lpObj->X;

  00011	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  00018	83 c8 ff	 or	 eax, -1

; 2473 : 
; 2474 : 	for(int n =0;n<count;n++)

  0001b	83 7d 0c 00	 cmp	 DWORD PTR _count$[ebp], 0
  0001f	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax
  00026	89 4d fc	 mov	 DWORD PTR _pos$[ebp], ecx
  00029	89 55 f4	 mov	 DWORD PTR _x$[ebp], edx
  0002c	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _n$228264[ebp], 0
  00033	0f 8e 88 00 00
	00		 jle	 $LN10@gObjTrapAt@2
  00039	53		 push	 ebx
  0003a	57		 push	 edi
  0003b	8d 78 02	 lea	 edi, DWORD PTR [eax+2]
  0003e	eb 03		 jmp	 SHORT $LN12@gObjTrapAt@2
$LL23@gObjTrapAt@2:
  00040	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
$LN12@gObjTrapAt@2:

; 2475 : 	{
; 2476 : 		pos--;

  00043	29 7d fc	 sub	 DWORD PTR _pos$[ebp], edi

; 2477 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00046	33 d2		 xor	 edx, edx
  00048	81 c6 ae 08 00
	00		 add	 esi, 2222		; 000008aeH
  0004e	8b ff		 npad	 2
$LL24@gObjTrapAt@2:

; 2478 : 		{
; 2479 : 			tObjNum = lpObj->VpPlayer2[i].number;

  00050	0f bf 0e	 movsx	 ecx, WORD PTR [esi]

; 2480 : 
; 2481 : 			if(tObjNum >= 0)

  00053	85 c9		 test	 ecx, ecx
  00055	78 3b		 js	 SHORT $LN8@gObjTrapAt@2

; 2482 : 			{
; 2483 : 				if(gObj[tObjNum].Type==1)

  00057	8b c1		 mov	 eax, ecx
  00059	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0005f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00065	66 39 78 68	 cmp	 WORD PTR [eax+104], di
  00069	75 27		 jne	 SHORT $LN8@gObjTrapAt@2

; 2484 : 				{
; 2485 : 					if(gObj[tObjNum].Live)

  0006b	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  0006f	74 21		 je	 SHORT $LN8@gObjTrapAt@2

; 2486 : 					{
; 2487 : 						if(pos == gObj[tObjNum].Y)

  00071	0f bf b8 46 01
	00 00		 movsx	 edi, WORD PTR [eax+326]
  00078	39 7d fc	 cmp	 DWORD PTR _pos$[ebp], edi
  0007b	75 15		 jne	 SHORT $LN8@gObjTrapAt@2

; 2488 : 						{
; 2489 : 							if(x == gObj[tObjNum].X)

  0007d	0f bf b8 44 01
	00 00		 movsx	 edi, WORD PTR [eax+324]
  00084	39 7d f4	 cmp	 DWORD PTR _x$[ebp], edi
  00087	75 09		 jne	 SHORT $LN8@gObjTrapAt@2

; 2490 : 							{
; 2491 : 								if((gObj[tObjNum].Authority&2)!=2)

  00089	f6 80 0c 02 00
	00 02		 test	 BYTE PTR [eax+524], 2
  00090	74 23		 je	 SHORT $LN17@gObjTrapAt@2
$LN8@gObjTrapAt@2:

; 2477 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00092	bf 01 00 00 00	 mov	 edi, 1
  00097	03 d7		 add	 edx, edi
  00099	83 c6 0c	 add	 esi, 12			; 0000000cH
  0009c	83 fa 4b	 cmp	 edx, 75			; 0000004bH
  0009f	7c af		 jl	 SHORT $LL24@gObjTrapAt@2

; 2473 : 
; 2474 : 	for(int n =0;n<count;n++)

  000a1	8b 45 f8	 mov	 eax, DWORD PTR _n$228264[ebp]
  000a4	03 c7		 add	 eax, edi
  000a6	89 45 f8	 mov	 DWORD PTR _n$228264[ebp], eax
  000a9	3b 45 0c	 cmp	 eax, DWORD PTR _count$[ebp]
  000ac	7c 92		 jl	 SHORT $LL23@gObjTrapAt@2
  000ae	5f		 pop	 edi
  000af	5b		 pop	 ebx
  000b0	5e		 pop	 esi

; 2494 : 									return;
; 2495 : 								}
; 2496 : 							}
; 2497 : 						}
; 2498 : 					}
; 2499 : 				}
; 2500 : 			}
; 2501 : 		}
; 2502 : 	}
; 2503 : }

  000b1	8b e5		 mov	 esp, ebp
  000b3	5d		 pop	 ebp
  000b4	c3		 ret	 0
$LN17@gObjTrapAt@2:

; 2492 : 								{
; 2493 : 									lpObj->TargetNumber = tObjNum;

  000b5	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  000b8	5f		 pop	 edi
  000b9	66 89 8a 58 04
	00 00		 mov	 WORD PTR [edx+1112], cx
  000c0	5b		 pop	 ebx
$LN10@gObjTrapAt@2:
  000c1	5e		 pop	 esi

; 2494 : 									return;
; 2495 : 								}
; 2496 : 							}
; 2497 : 						}
; 2498 : 					}
; 2499 : 				}
; 2500 : 			}
; 2501 : 		}
; 2502 : 	}
; 2503 : }

  000c2	8b e5		 mov	 esp, ebp
  000c4	5d		 pop	 ebp
  000c5	c3		 ret	 0
?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z ENDP ; gObjTrapAttackEnemySearchY
_TEXT	ENDS
PUBLIC	?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z ; gObjTrapAttackEnemySearch
; Function compile flags: /Ogtp
;	COMDAT ?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjTrapAttackEnemySearch, COMDAT

; 2506 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi
  00005	57		 push	 edi

; 2507 : 	int tObjNum;
; 2508 : 	lpObj->TargetNumber = -1;

  00006	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]
  00009	83 c8 ff	 or	 eax, -1
  0000c	66 89 87 58 04
	00 00		 mov	 WORD PTR [edi+1112], ax

; 2509 : 
; 2510 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  00013	33 d2		 xor	 edx, edx
  00015	8d b7 ae 08 00
	00		 lea	 esi, DWORD PTR [edi+2222]
  0001b	eb 03 8d 49 00	 npad	 5
$LL18@gObjTrapAt@3:

; 2511 : 	{
; 2512 : 		tObjNum = lpObj->VpPlayer2[i].number;

  00020	0f bf 0e	 movsx	 ecx, WORD PTR [esi]

; 2513 : 
; 2514 : 		if(tObjNum >= 0)

  00023	85 c9		 test	 ecx, ecx
  00025	78 44		 js	 SHORT $LN8@gObjTrapAt@3

; 2515 : 		{
; 2516 : 			if(gObj[tObjNum].Type==1)

  00027	8b c1		 mov	 eax, ecx
  00029	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0002f	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00035	66 83 78 68 01	 cmp	 WORD PTR [eax+104], 1
  0003a	75 2f		 jne	 SHORT $LN8@gObjTrapAt@3

; 2517 : 			{
; 2518 : 				if(gObj[tObjNum].Live)

  0003c	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  00040	74 29		 je	 SHORT $LN8@gObjTrapAt@3

; 2519 : 				{
; 2520 : 					if(lpObj->Y == gObj[tObjNum].Y)

  00042	66 8b 9f 46 01
	00 00		 mov	 bx, WORD PTR [edi+326]
  00049	66 3b 98 46 01
	00 00		 cmp	 bx, WORD PTR [eax+326]
  00050	75 19		 jne	 SHORT $LN8@gObjTrapAt@3

; 2521 : 					{
; 2522 : 						if(lpObj->X == gObj[tObjNum].X)

  00052	66 8b 9f 44 01
	00 00		 mov	 bx, WORD PTR [edi+324]
  00059	66 3b 98 44 01
	00 00		 cmp	 bx, WORD PTR [eax+324]
  00060	75 09		 jne	 SHORT $LN8@gObjTrapAt@3

; 2523 : 						{
; 2524 : 							if((gObj[tObjNum].Authority&2)!=2)

  00062	f6 80 0c 02 00
	00 02		 test	 BYTE PTR [eax+524], 2
  00069	74 0e		 je	 SHORT $LN13@gObjTrapAt@3
$LN8@gObjTrapAt@3:

; 2509 : 
; 2510 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  0006b	42		 inc	 edx
  0006c	83 c6 0c	 add	 esi, 12			; 0000000cH
  0006f	83 fa 4b	 cmp	 edx, 75			; 0000004bH
  00072	7c ac		 jl	 SHORT $LL18@gObjTrapAt@3
  00074	5f		 pop	 edi
  00075	5e		 pop	 esi
  00076	5b		 pop	 ebx

; 2527 : 								return;
; 2528 : 							}
; 2529 : 						}
; 2530 : 					}
; 2531 : 				}
; 2532 : 			}
; 2533 : 		}
; 2534 : 	}
; 2535 : }

  00077	5d		 pop	 ebp
  00078	c3		 ret	 0
$LN13@gObjTrapAt@3:

; 2525 : 							{
; 2526 : 								lpObj->TargetNumber = tObjNum;

  00079	66 89 8f 58 04
	00 00		 mov	 WORD PTR [edi+1112], cx
  00080	5f		 pop	 edi
  00081	5e		 pop	 esi
  00082	5b		 pop	 ebx

; 2527 : 								return;
; 2528 : 							}
; 2529 : 						}
; 2530 : 					}
; 2531 : 				}
; 2532 : 			}
; 2533 : 		}
; 2534 : 	}
; 2535 : }

  00083	5d		 pop	 ebp
  00084	c3		 ret	 0
?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjTrapAttackEnemySearch
_TEXT	ENDS
PUBLIC	?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchRange
; Function compile flags: /Ogtp
;	COMDAT ?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_iTargetingRate$ = -8					; size = 4
_i$228300 = -4						; size = 4
tv290 = 8						; size = 4
_lpObj$ = 8						; size = 4
_iRange$ = 12						; size = 4
?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z PROC ; gObjTrapAttackEnemySearchRange, COMDAT

; 2539 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi

; 2540 : 	int tObjNum = -1;
; 2541 : 	int iTargetingRate = 0;
; 2542 : 	int iSuccessRate = 0;
; 2543 : 
; 2544 : 	lpObj->TargetNumber = -1;

  00007	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 2545 : 
; 2546 : 	if(lpObj->VPCount <= 0)

  0000a	8b 8e 30 0c 00
	00		 mov	 ecx, DWORD PTR [esi+3120]
  00010	83 c8 ff	 or	 eax, -1
  00013	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax
  0001a	85 c9		 test	 ecx, ecx
  0001c	0f 8e b9 00 00
	00		 jle	 $LN15@gObjTrapAt@4

; 2547 : 	{
; 2548 : 		return;
; 2549 : 	}
; 2550 : 
; 2551 : 	iTargetingRate = 100 / lpObj->VPCount;

  00022	b8 64 00 00 00	 mov	 eax, 100		; 00000064H
  00027	99		 cdq
  00028	f7 f9		 idiv	 ecx
  0002a	57		 push	 edi
  0002b	8b 7d 0c	 mov	 edi, DWORD PTR _iRange$[ebp]
  0002e	8d 8e ae 08 00
	00		 lea	 ecx, DWORD PTR [esi+2222]

; 2552 : 
; 2553 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  00034	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$228300[ebp], 0
  0003b	89 4d 08	 mov	 DWORD PTR tv290[ebp], ecx
  0003e	53		 push	 ebx
  0003f	89 45 f8	 mov	 DWORD PTR _iTargetingRate$[ebp], eax
$LL18@gObjTrapAt@4:

; 2554 : 	{
; 2555 : 		tObjNum = lpObj->VpPlayer2[i].number;

  00042	8b 55 08	 mov	 edx, DWORD PTR tv290[ebp]
  00045	0f bf 02	 movsx	 eax, WORD PTR [edx]

; 2556 : 
; 2557 : 		if(tObjNum >= 0)

  00048	85 c0		 test	 eax, eax
  0004a	78 79		 js	 SHORT $LN9@gObjTrapAt@4

; 2558 : 		{
; 2559 : 			if(gObj[tObjNum].Type==1)

  0004c	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00052	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00058	66 83 78 68 01	 cmp	 WORD PTR [eax+104], 1
  0005d	75 66		 jne	 SHORT $LN9@gObjTrapAt@4

; 2560 : 			{
; 2561 : 				if(gObj[tObjNum].Live)

  0005f	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  00063	74 60		 je	 SHORT $LN9@gObjTrapAt@4

; 2562 : 				{
; 2563 : 					if((lpObj->Y - iRange) <= gObj[tObjNum].Y && (lpObj->Y + iRange) >= gObj[tObjNum].Y)

  00065	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  0006c	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  00073	8b da		 mov	 ebx, edx
  00075	2b df		 sub	 ebx, edi
  00077	3b d9		 cmp	 ebx, ecx
  00079	7f 4a		 jg	 SHORT $LN9@gObjTrapAt@4
  0007b	03 d7		 add	 edx, edi
  0007d	3b d1		 cmp	 edx, ecx
  0007f	7c 44		 jl	 SHORT $LN9@gObjTrapAt@4

; 2564 : 					{
; 2565 : 						if((lpObj->X - iRange) <= gObj[tObjNum].X && (lpObj->X + iRange) >= gObj[tObjNum].X)

  00081	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  00088	0f bf 88 44 01
	00 00		 movsx	 ecx, WORD PTR [eax+324]
  0008f	8b da		 mov	 ebx, edx
  00091	2b df		 sub	 ebx, edi
  00093	3b d9		 cmp	 ebx, ecx
  00095	7f 2e		 jg	 SHORT $LN9@gObjTrapAt@4
  00097	03 d7		 add	 edx, edi
  00099	3b d1		 cmp	 edx, ecx
  0009b	7c 28		 jl	 SHORT $LN9@gObjTrapAt@4

; 2566 : 						{
; 2567 : 							if((gObj[tObjNum].Authority&2)!=2)

  0009d	f6 80 0c 02 00
	00 02		 test	 BYTE PTR [eax+524], 2
  000a4	75 1f		 jne	 SHORT $LN9@gObjTrapAt@4

; 2568 : 							{
; 2569 : 								lpObj->TargetNumber = tObjNum;

  000a6	8b 55 08	 mov	 edx, DWORD PTR tv290[ebp]
  000a9	0f bf 02	 movsx	 eax, WORD PTR [edx]
  000ac	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax

; 2570 : 								iSuccessRate = rand()%100;

  000b3	e8 00 00 00 00	 call	 _rand
  000b8	99		 cdq
  000b9	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  000be	f7 f9		 idiv	 ecx

; 2571 : 
; 2572 : 								if(iSuccessRate < iTargetingRate)

  000c0	3b 55 f8	 cmp	 edx, DWORD PTR _iTargetingRate$[ebp]
  000c3	7c 14		 jl	 SHORT $LN20@gObjTrapAt@4
$LN9@gObjTrapAt@4:

; 2552 : 
; 2553 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  000c5	8b 45 fc	 mov	 eax, DWORD PTR _i$228300[ebp]
  000c8	83 45 08 0c	 add	 DWORD PTR tv290[ebp], 12 ; 0000000cH
  000cc	40		 inc	 eax
  000cd	89 45 fc	 mov	 DWORD PTR _i$228300[ebp], eax
  000d0	83 f8 4b	 cmp	 eax, 75			; 0000004bH
  000d3	0f 8c 69 ff ff
	ff		 jl	 $LL18@gObjTrapAt@4
$LN20@gObjTrapAt@4:
  000d9	5b		 pop	 ebx
  000da	5f		 pop	 edi
$LN15@gObjTrapAt@4:
  000db	5e		 pop	 esi

; 2573 : 								{
; 2574 : 									break;
; 2575 : 								}
; 2576 : 							}
; 2577 : 						}
; 2578 : 					}
; 2579 : 				}
; 2580 : 			}
; 2581 : 		}
; 2582 : 	}
; 2583 : }

  000dc	8b e5		 mov	 esp, ebp
  000de	5d		 pop	 ebp
  000df	c3		 ret	 0
?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z ENDP ; gObjTrapAttackEnemySearchRange
_TEXT	ENDS
PUBLIC	?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterTrapAct
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterTrapAct, COMDAT

; 2587 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 2588 : 	if(lpObj->VPCount2 < 1)

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00007	83 be 34 0c 00
	00 01		 cmp	 DWORD PTR [esi+3124], 1
  0000e	0f 8c 84 00 00
	00		 jl	 $LN1@gObjMonste@13

; 2589 : 	{
; 2590 : 		return;
; 2591 : 	}
; 2592 : 
; 2593 : 	if(lpObj->m_AttackRange > 0)

  00014	0f b7 86 b0 04
	00 00		 movzx	 eax, WORD PTR [esi+1200]
  0001b	66 85 c0	 test	 ax, ax
  0001e	7e 42		 jle	 SHORT $LN9@gObjMonste@13

; 2594 : 	{
; 2595 : 		if(lpObj->Dir == 3)

  00020	8a 8e 48 01 00
	00		 mov	 cl, BYTE PTR [esi+328]
  00026	80 f9 03	 cmp	 cl, 3
  00029	75 0e		 jne	 SHORT $LN8@gObjMonste@13

; 2596 : 		{
; 2597 : 			gObjTrapAttackEnemySearchX(lpObj,lpObj->m_AttackRange+1);

  0002b	98		 cwde
  0002c	40		 inc	 eax
  0002d	50		 push	 eax
  0002e	56		 push	 esi
  0002f	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchX
  00034	83 c4 08	 add	 esp, 8
  00037	eb 32		 jmp	 SHORT $LN3@gObjMonste@13
$LN8@gObjMonste@13:

; 2598 : 		}
; 2599 : 		else if(lpObj->Dir == 1)

  00039	80 f9 01	 cmp	 cl, 1
  0003c	75 10		 jne	 SHORT $LN6@gObjMonste@13

; 2600 : 		{
; 2601 : 			gObjTrapAttackEnemySearchY(lpObj,lpObj->m_AttackRange+1);

  0003e	0f bf c8	 movsx	 ecx, ax
  00041	41		 inc	 ecx
  00042	51		 push	 ecx
  00043	56		 push	 esi
  00044	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchY
  00049	83 c4 08	 add	 esp, 8
  0004c	eb 1d		 jmp	 SHORT $LN3@gObjMonste@13
$LN6@gObjMonste@13:

; 2602 : 		}
; 2603 : //#if(GS_CASTLE==0)
; 2604 : 		else if(lpObj->Dir == 8)

  0004e	80 f9 08	 cmp	 cl, 8
  00051	75 18		 jne	 SHORT $LN3@gObjMonste@13

; 2605 : 		{
; 2606 : 			gObjTrapAttackEnemySearchRange(lpObj,lpObj->m_AttackRange);

  00053	0f bf d0	 movsx	 edx, ax
  00056	52		 push	 edx
  00057	56		 push	 esi
  00058	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchRange
  0005d	83 c4 08	 add	 esp, 8

; 2607 : 		}
; 2608 : //#endif
; 2609 : 	}
; 2610 : 	else

  00060	eb 09		 jmp	 SHORT $LN3@gObjMonste@13
$LN9@gObjMonste@13:

; 2611 : 	{
; 2612 : 		gObjTrapAttackEnemySearch(lpObj);

  00062	56		 push	 esi
  00063	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z ; gObjTrapAttackEnemySearch
  00068	83 c4 04	 add	 esp, 4
$LN3@gObjMonste@13:

; 2613 : 	}
; 2614 : 
; 2615 : 	if(lpObj->TargetNumber >= 0)

  0006b	66 83 be 58 04
	00 00 00	 cmp	 WORD PTR [esi+1112], 0
  00073	7c 16		 jl	 SHORT $LN2@gObjMonste@13

; 2616 : 	{
; 2617 : 		lpObj->m_ActState.Attack = 1;
; 2618 : 		lpObj->NextActionTime = lpObj->m_AttackSpeed;

  00075	8b 86 8c 04 00
	00		 mov	 eax, DWORD PTR [esi+1164]
  0007b	83 8e 18 02 00
	00 02		 or	 DWORD PTR [esi+536], 2
  00082	89 86 bc 03 00
	00		 mov	 DWORD PTR [esi+956], eax
  00088	5e		 pop	 esi

; 2623 : 	}
; 2624 : }

  00089	5d		 pop	 ebp
  0008a	c3		 ret	 0
$LN2@gObjMonste@13:

; 2619 : 	}
; 2620 : 	else
; 2621 : 	{
; 2622 : 		lpObj->NextActionTime = lpObj->m_MoveSpeed;

  0008b	0f bf 8e ac 04
	00 00		 movsx	 ecx, WORD PTR [esi+1196]
  00092	89 8e bc 03 00
	00		 mov	 DWORD PTR [esi+956], ecx
$LN1@gObjMonste@13:
  00098	5e		 pop	 esi

; 2623 : 	}
; 2624 : }

  00099	5d		 pop	 ebp
  0009a	c3		 ret	 0
?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterTrapAct
_TEXT	ENDS
PUBLIC	?NewOptionRand@@YAEH@Z				; NewOptionRand
; Function compile flags: /Ogtp
;	COMDAT ?NewOptionRand@@YAEH@Z
_TEXT	SEGMENT
_level$ = 8						; size = 4
?NewOptionRand@@YAEH@Z PROC				; NewOptionRand, COMDAT

; 2627 : {

  00000	53		 push	 ebx

; 2628 : 	BYTE NOption = 0;
; 2629 : 	NOption = 1 << (rand() % 6);

  00001	e8 00 00 00 00	 call	 _rand
  00006	99		 cdq
  00007	b9 06 00 00 00	 mov	 ecx, 6
  0000c	f7 f9		 idiv	 ecx
  0000e	b3 01		 mov	 bl, 1
  00010	8b ca		 mov	 ecx, edx
  00012	d2 e3		 shl	 bl, cl

; 2630 : 
; 2631 : 	if ( (NOption &2) != 0 )

  00014	f6 c3 02	 test	 bl, 2
  00017	74 26		 je	 SHORT $LN2@NewOptionR

; 2632 : 	{
; 2633 : 		if ( (rand()%2) != 0 )

  00019	e8 00 00 00 00	 call	 _rand
  0001e	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00023	79 05		 jns	 SHORT $LN7@NewOptionR
  00025	48		 dec	 eax
  00026	83 c8 fe	 or	 eax, -2			; fffffffeH
  00029	40		 inc	 eax
$LN7@NewOptionR:
  0002a	74 13		 je	 SHORT $LN2@NewOptionR

; 2634 : 		{
; 2635 : 			NOption = 1 << (rand()%6);

  0002c	e8 00 00 00 00	 call	 _rand
  00031	99		 cdq
  00032	b9 06 00 00 00	 mov	 ecx, 6
  00037	f7 f9		 idiv	 ecx
  00039	b3 01		 mov	 bl, 1
  0003b	8b ca		 mov	 ecx, edx
  0003d	d2 e3		 shl	 bl, cl
$LN2@NewOptionR:

; 2636 : 		}
; 2637 : 	}
; 2638 : 
; 2639 : 	if ( (rand()% 4) == 0 )

  0003f	e8 00 00 00 00	 call	 _rand
  00044	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  00049	79 05		 jns	 SHORT $LN8@NewOptionR
  0004b	48		 dec	 eax
  0004c	83 c8 fc	 or	 eax, -4			; fffffffcH
  0004f	40		 inc	 eax
$LN8@NewOptionR:
  00050	75 17		 jne	 SHORT $LN6@NewOptionR

; 2640 : 	{
; 2641 : 		NOption |= 1 << (rand()%6);

  00052	e8 00 00 00 00	 call	 _rand
  00057	99		 cdq
  00058	b9 06 00 00 00	 mov	 ecx, 6
  0005d	f7 f9		 idiv	 ecx
  0005f	b0 01		 mov	 al, 1
  00061	8b ca		 mov	 ecx, edx
  00063	d2 e0		 shl	 al, cl
  00065	0a c3		 or	 al, bl
  00067	5b		 pop	 ebx

; 2645 : }

  00068	c3		 ret	 0
$LN6@NewOptionR:

; 2642 : 	}
; 2643 : 
; 2644 : 	return NOption;

  00069	8a c3		 mov	 al, bl
  0006b	5b		 pop	 ebx

; 2645 : }

  0006c	c3		 ret	 0
?NewOptionRand@@YAEH@Z ENDP				; NewOptionRand
_TEXT	ENDS
PUBLIC	?NewOptionRandEx@@YAEHH@Z			; NewOptionRandEx
; Function compile flags: /Ogtp
;	COMDAT ?NewOptionRandEx@@YAEHH@Z
_TEXT	SEGMENT
_level$ = 8						; size = 4
_OptCount$ = 12						; size = 4
?NewOptionRandEx@@YAEHH@Z PROC				; NewOptionRandEx, COMDAT

; 2648 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi
  00005	57		 push	 edi

; 2649 : 	int NewOption = 0;
; 2650 : 	int count = 0;
; 2651 : 
; 2652 : 	while (true)
; 2653 : 	{
; 2654 : 		if (count >= OptCount || count >= 6)

  00006	8b 7d 0c	 mov	 edi, DWORD PTR _OptCount$[ebp]
  00009	33 db		 xor	 ebx, ebx
  0000b	33 f6		 xor	 esi, esi
  0000d	85 ff		 test	 edi, edi
  0000f	7e 26		 jle	 SHORT $LN11@NewOptionR@2
$LL5@NewOptionR@2:
  00011	83 fe 06	 cmp	 esi, 6
  00014	7d 21		 jge	 SHORT $LN11@NewOptionR@2

; 2655 : 		{
; 2656 : 			break;
; 2657 : 		}
; 2658 : 
; 2659 : 		int value = 1 << (rand() % 6);

  00016	e8 00 00 00 00	 call	 _rand
  0001b	99		 cdq
  0001c	b9 06 00 00 00	 mov	 ecx, 6
  00021	f7 f9		 idiv	 ecx
  00023	b8 01 00 00 00	 mov	 eax, 1
  00028	8b ca		 mov	 ecx, edx
  0002a	d3 e0		 shl	 eax, cl

; 2660 : 
; 2661 : 		if ((NewOption & value) == 0)

  0002c	85 c3		 test	 eax, ebx
  0002e	75 03		 jne	 SHORT $LN1@NewOptionR@2

; 2662 : 		{
; 2663 : 			NewOption |= value;

  00030	0b d8		 or	 ebx, eax

; 2664 : 			count++;

  00032	46		 inc	 esi
$LN1@NewOptionR@2:

; 2649 : 	int NewOption = 0;
; 2650 : 	int count = 0;
; 2651 : 
; 2652 : 	while (true)
; 2653 : 	{
; 2654 : 		if (count >= OptCount || count >= 6)

  00033	3b f7		 cmp	 esi, edi
  00035	7c da		 jl	 SHORT $LL5@NewOptionR@2
$LN11@NewOptionR@2:
  00037	5f		 pop	 edi
  00038	5e		 pop	 esi

; 2665 : 		}
; 2666 : 	}
; 2667 : 
; 2668 : 	return NewOption;

  00039	8a c3		 mov	 al, bl
  0003b	5b		 pop	 ebx

; 2669 : }

  0003c	5d		 pop	 ebp
  0003d	c3		 ret	 0
?NewOptionRandEx@@YAEHH@Z ENDP				; NewOptionRandEx
_TEXT	ENDS
PUBLIC	?InventoryDropItem@@YAXPAUOBJECTSTRUCT@@H@Z	; InventoryDropItem
; Function compile flags: /Ogtp
;	COMDAT ?InventoryDropItem@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_DropItem$ = 12						; size = 4
?InventoryDropItem@@YAXPAUOBJECTSTRUCT@@H@Z PROC	; InventoryDropItem, COMDAT

; 2673 : 	return;
; 2674 : }

  00000	c3		 ret	 0
?InventoryDropItem@@YAXPAUOBJECTSTRUCT@@H@Z ENDP	; InventoryDropItem
_TEXT	ENDS
PUBLIC	__real@00000000
PUBLIC	?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z ; gObjSkylandBossSheildAttack
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
tv94 = -4						; size = 4
tv309 = 8						; size = 4
_lpObj$ = 8						; size = 4
?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z PROC ; gObjSkylandBossSheildAttack, COMDAT

; 2677 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	57		 push	 edi

; 2678 : 	if ( lpObj->VPCount2 < 1 ) 

  00005	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]
  00008	ba 01 00 00 00	 mov	 edx, 1
  0000d	39 97 34 0c 00
	00		 cmp	 DWORD PTR [edi+3124], edx
  00013	0f 8c 05 01 00
	00		 jl	 $LN1@gObjSkylan

; 2679 : 		return;
; 2680 : 
; 2681 : 	if ( lpObj->m_SkyBossMonSheildLinkIndex == -1 )

  00019	8b 87 c0 10 00
	00		 mov	 eax, DWORD PTR [edi+4288]
  0001f	83 f8 ff	 cmp	 eax, -1
  00022	0f 84 f6 00 00
	00		 je	 $LN1@gObjSkylan

; 2682 : 		return;
; 2683 : 
; 2684 : 	if ( lpObj->m_SkyBossMonSheild == 0 )

  00028	83 bf c4 10 00
	00 00		 cmp	 DWORD PTR [edi+4292], 0
  0002f	0f 84 e9 00 00
	00		 je	 $LN1@gObjSkylan

; 2685 : 		return;
; 2686 : 
; 2687 : 	lpObj->TargetNumber = -1;
; 2688 : 
; 2689 : 	int tObjNum;
; 2690 : 	int shieldindex = lpObj->m_SkyBossMonSheildLinkIndex;
; 2691 : 
; 2692 : 	if ( gObj[shieldindex].Life < 0.0f )

  00035	d9 ee		 fldz
  00037	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0003d	83 c9 ff	 or	 ecx, -1
  00040	66 89 8f 58 04
	00 00		 mov	 WORD PTR [edi+1112], cx
  00047	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0004d	d8 9c 08 fc 00
	00 00		 fcomp	 DWORD PTR [eax+ecx+252]
  00054	df e0		 fnstsw	 ax
  00056	f6 c4 41	 test	 ah, 65			; 00000041H
  00059	0f 84 bf 00 00
	00		 je	 $LN1@gObjSkylan

; 2693 : 		return;
; 2694 : 
; 2695 : 	if ( lpObj->m_AttackRange > 0 )

  0005f	66 83 bf b0 04
	00 00 00	 cmp	 WORD PTR [edi+1200], 0
  00067	0f 8e 82 00 00
	00		 jle	 $LN8@gObjSkylan

; 2696 : 	{
; 2697 : 		for (int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  0006d	8d 87 ae 08 00
	00		 lea	 eax, DWORD PTR [edi+2222]
  00073	53		 push	 ebx
  00074	89 45 08	 mov	 DWORD PTR tv309[ebp], eax
  00077	c7 45 fc 4b 00
	00 00		 mov	 DWORD PTR tv94[ebp], 75	; 0000004bH
  0007e	56		 push	 esi
  0007f	90		 npad	 1
$LL22@gObjSkylan:

; 2698 : 		{
; 2699 : 			tObjNum = lpObj->VpPlayer2[i].number;

  00080	8b 45 08	 mov	 eax, DWORD PTR tv309[ebp]
  00083	0f bf 18	 movsx	 ebx, WORD PTR [eax]

; 2700 : 
; 2701 : 			if ( tObjNum >= 0 )

  00086	85 db		 test	 ebx, ebx
  00088	78 55		 js	 SHORT $LN9@gObjSkylan

; 2702 : 			{
; 2703 : 				if ( gObj[tObjNum].Type == OBJ_USER )

  0008a	8b f3		 mov	 esi, ebx
  0008c	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00092	66 39 54 0e 68	 cmp	 WORD PTR [esi+ecx+104], dx
  00097	75 46		 jne	 SHORT $LN9@gObjSkylan

; 2704 : 				{
; 2705 : 					if ( gObj[tObjNum].Live )

  00099	80 7c 0e 6a 00	 cmp	 BYTE PTR [esi+ecx+106], 0
  0009e	74 3f		 je	 SHORT $LN9@gObjSkylan

; 2706 : 					{
; 2707 : 						if ( gObjCheckTileArea(gObj[tObjNum].m_Index, lpObj->X, lpObj->Y, 2) )

  000a0	0f bf 97 46 01
	00 00		 movsx	 edx, WORD PTR [edi+326]
  000a7	0f bf 87 44 01
	00 00		 movsx	 eax, WORD PTR [edi+324]
  000ae	8b 0c 0e	 mov	 ecx, DWORD PTR [esi+ecx]
  000b1	6a 02		 push	 2
  000b3	52		 push	 edx
  000b4	50		 push	 eax
  000b5	51		 push	 ecx
  000b6	e8 00 00 00 00	 call	 ?gObjCheckTileArea@@YAHHHHH@Z ; gObjCheckTileArea

; 2708 : 						{
; 2709 : 							if ( (gObj[tObjNum].Authority&2) != 2 )

  000bb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000c1	83 c4 10	 add	 esp, 16			; 00000010H
  000c4	85 c0		 test	 eax, eax
  000c6	74 17		 je	 SHORT $LN9@gObjSkylan
  000c8	f6 84 0e 0c 02
	00 00 02	 test	 BYTE PTR [esi+ecx+524], 2
  000d0	75 0d		 jne	 SHORT $LN9@gObjSkylan

; 2710 : 							{
; 2711 : 								lpObj->TargetNumber = tObjNum;

  000d2	66 89 9f 58 04
	00 00		 mov	 WORD PTR [edi+1112], bx
  000d9	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN9@gObjSkylan:

; 2696 : 	{
; 2697 : 		for (int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  000df	83 45 08 0c	 add	 DWORD PTR tv309[ebp], 12 ; 0000000cH
  000e3	ba 01 00 00 00	 mov	 edx, 1
  000e8	29 55 fc	 sub	 DWORD PTR tv94[ebp], edx
  000eb	75 93		 jne	 SHORT $LL22@gObjSkylan
  000ed	5e		 pop	 esi
  000ee	5b		 pop	 ebx
$LN8@gObjSkylan:

; 2712 : 							}
; 2713 : 						}
; 2714 : 					}
; 2715 : 				}
; 2716 : 			}
; 2717 : 		}
; 2718 : 	}
; 2719 : 	
; 2720 : 	if ( lpObj->TargetNumber >= 0 )

  000ef	66 83 bf 58 04
	00 00 00	 cmp	 WORD PTR [edi+1112], 0
  000f7	7c 18		 jl	 SHORT $LN2@gObjSkylan

; 2721 : 	{
; 2722 : 		lpObj->m_ActState.Attack = 1;
; 2723 : 		lpObj->NextActionTime = lpObj->m_AttackSpeed;

  000f9	8b 97 8c 04 00
	00		 mov	 edx, DWORD PTR [edi+1164]
  000ff	83 8f 18 02 00
	00 02		 or	 DWORD PTR [edi+536], 2
  00106	89 97 bc 03 00
	00		 mov	 DWORD PTR [edi+956], edx
  0010c	5f		 pop	 edi

; 2728 : 	}
; 2729 : }

  0010d	8b e5		 mov	 esp, ebp
  0010f	5d		 pop	 ebp
  00110	c3		 ret	 0
$LN2@gObjSkylan:

; 2724 : 	}
; 2725 : 	else
; 2726 : 	{
; 2727 : 		lpObj->NextActionTime = lpObj->m_MoveSpeed;

  00111	0f bf 87 ac 04
	00 00		 movsx	 eax, WORD PTR [edi+1196]
  00118	89 87 bc 03 00
	00		 mov	 DWORD PTR [edi+956], eax
$LN1@gObjSkylan:
  0011e	5f		 pop	 edi

; 2728 : 	}
; 2729 : }

  0011f	8b e5		 mov	 esp, ebp
  00121	5d		 pop	 ebp
  00122	c3		 ret	 0
?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z ENDP ; gObjSkylandBossSheildAttack
_TEXT	ENDS
PUBLIC	?IsCanNotItemDtopInDevilSquare@@YAHH@Z		; IsCanNotItemDtopInDevilSquare
; Function compile flags: /Ogtp
;	COMDAT ?IsCanNotItemDtopInDevilSquare@@YAHH@Z
_TEXT	SEGMENT
_ItemType$ = 8						; size = 4
?IsCanNotItemDtopInDevilSquare@@YAHH@Z PROC		; IsCanNotItemDtopInDevilSquare, COMDAT

; 2732 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 2733 : 	int checkitemtype = ItemType  /MAX_SUBTYPE_ITEMS;

  00004	8b 75 08	 mov	 esi, DWORD PTR _ItemType$[ebp]
  00007	8b c6		 mov	 eax, esi
  00009	99		 cdq
  0000a	81 e2 ff 01 00
	00		 and	 edx, 511		; 000001ffH
  00010	03 c2		 add	 eax, edx

; 2734 : 	int checkitemindex = ItemType % MAX_SUBTYPE_ITEMS;

  00012	8b ce		 mov	 ecx, esi
  00014	c1 f8 09	 sar	 eax, 9
  00017	81 e1 ff 01 00
	80		 and	 ecx, -2147483137	; 800001ffH
  0001d	79 08		 jns	 SHORT $LN17@IsCanNotIt
  0001f	49		 dec	 ecx
  00020	81 c9 00 fe ff
	ff		 or	 ecx, -512		; fffffe00H
  00026	41		 inc	 ecx
$LN17@IsCanNotIt:

; 2735 : 
; 2736 : 	if ( checkitemtype >= 7 && checkitemtype <= 11 )

  00027	8d 50 f9	 lea	 edx, DWORD PTR [eax-7]
  0002a	83 fa 04	 cmp	 edx, 4

; 2737 : 	{
; 2738 : 		if (checkitemindex== 17 ||checkitemindex == 18||checkitemindex== 19 )
; 2739 : 		{
; 2740 : 			return FALSE;

  0002d	76 2b		 jbe	 SHORT $LN18@IsCanNotIt

; 2741 : 		}
; 2742 : 	}
; 2743 : 	else if ( checkitemtype == 0 )

  0002f	85 c0		 test	 eax, eax
  00031	75 0f		 jne	 SHORT $LN10@IsCanNotIt

; 2744 : 	{
; 2745 : 		if (checkitemindex == 17 || checkitemindex == 18)

  00033	83 f9 11	 cmp	 ecx, 17			; 00000011H
  00036	74 05		 je	 SHORT $LN1@IsCanNotIt
  00038	83 f9 12	 cmp	 ecx, 18			; 00000012H
$LN19@IsCanNotIt:

; 2751 : 	{
; 2752 : 		if (checkitemindex== 12 || checkitemindex == 13 || checkitemindex == 14||
; 2753 : 	checkitemindex == 16 || checkitemindex == 17 || checkitemindex == 18||
; 2754 : 	checkitemindex == 19)

  0003b	75 3c		 jne	 SHORT $LN2@IsCanNotIt
$LN1@IsCanNotIt:

; 2760 : 	{
; 2761 : 		return FALSE;

  0003d	33 c0		 xor	 eax, eax
  0003f	5e		 pop	 esi

; 2765 : 
; 2766 : }

  00040	5d		 pop	 ebp
  00041	c3		 ret	 0
$LN10@IsCanNotIt:

; 2746 : 		{
; 2747 : 			return FALSE;
; 2748 : 		}
; 2749 : 	}
; 2750 : 	else if (checkitemtype == 12 )

  00042	83 f8 0c	 cmp	 eax, 12			; 0000000cH
  00045	75 22		 jne	 SHORT $LN6@IsCanNotIt

; 2751 : 	{
; 2752 : 		if (checkitemindex== 12 || checkitemindex == 13 || checkitemindex == 14||
; 2753 : 	checkitemindex == 16 || checkitemindex == 17 || checkitemindex == 18||
; 2754 : 	checkitemindex == 19)

  00047	3b c8		 cmp	 ecx, eax
  00049	74 f2		 je	 SHORT $LN1@IsCanNotIt
  0004b	83 f9 0d	 cmp	 ecx, 13			; 0000000dH
  0004e	74 ed		 je	 SHORT $LN1@IsCanNotIt
  00050	83 f9 0e	 cmp	 ecx, 14			; 0000000eH
  00053	74 e8		 je	 SHORT $LN1@IsCanNotIt
  00055	83 f9 10	 cmp	 ecx, 16			; 00000010H
  00058	74 e3		 je	 SHORT $LN1@IsCanNotIt
$LN18@IsCanNotIt:
  0005a	83 f9 11	 cmp	 ecx, 17			; 00000011H
  0005d	74 de		 je	 SHORT $LN1@IsCanNotIt
  0005f	83 f9 12	 cmp	 ecx, 18			; 00000012H
  00062	74 d9		 je	 SHORT $LN1@IsCanNotIt
  00064	83 f9 13	 cmp	 ecx, 19			; 00000013H

; 2755 : 		{
; 2756 : 			return FALSE;

  00067	eb d2		 jmp	 SHORT $LN19@IsCanNotIt
$LN6@IsCanNotIt:

; 2757 : 		}
; 2758 : 	}
; 2759 : 	else if ( ItemType == ITEMGET(4,17) || ItemType ==ITEMGET(5,9)  )

  00069	81 fe 11 08 00
	00		 cmp	 esi, 2065		; 00000811H
  0006f	74 cc		 je	 SHORT $LN1@IsCanNotIt
  00071	81 fe 09 0a 00
	00		 cmp	 esi, 2569		; 00000a09H
  00077	74 c4		 je	 SHORT $LN1@IsCanNotIt
$LN2@IsCanNotIt:

; 2762 : 	}
; 2763 : 
; 2764 : 	return TRUE;

  00079	b8 01 00 00 00	 mov	 eax, 1
  0007e	5e		 pop	 esi

; 2765 : 
; 2766 : }

  0007f	5d		 pop	 ebp
  00080	c3		 ret	 0
?IsCanNotItemDtopInDevilSquare@@YAHH@Z ENDP		; IsCanNotItemDtopInDevilSquare
_TEXT	ENDS
PUBLIC	??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@ ; `string'
PUBLIC	??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@ ; `string'
PUBLIC	??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@ ; `string'
PUBLIC	?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z	; gObjRefillMonsterHP
EXTRN	?g_iCrywolfApplyMvpBenefit@@3HA:DWORD		; g_iCrywolfApplyMvpBenefit
EXTRN	?GetKundunHPRefillState@CCrywolfSync@@QAEHXZ:PROC ; CCrywolfSync::GetKundunHPRefillState
EXTRN	?GetOccupationState@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetOccupationState
EXTRN	?g_CrywolfSync@@3VCCrywolfSync@@A:BYTE		; g_CrywolfSync
EXTRN	?giKundunHPLogSaveTime@@3HA:DWORD		; giKundunHPLogSaveTime
EXTRN	?Output@CLogToFile@@QAAXPADZZ:PROC		; CLogToFile::Output
EXTRN	?giKundunRefillHP@@3HA:DWORD			; giKundunRefillHP
EXTRN	?giKundunRefillHPTime@@3HA:DWORD		; giKundunRefillHPTime
;	COMDAT ??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@ DB '['
	DB	'KUNDUN][Attacker Info] [%s][%s] HP:%d MP:%d X:%d Y:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@
CONST	SEGMENT
??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@ DB '['
	DB	'KUNDUN][Status Log] HP:%d RefillHP:%d Map:%d X:%d Y:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@
CONST	SEGMENT
??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@ DB '['
	DB	'KUNDUN] HP Log -> [%d]', 0c8H, 0b8H, 0baH, 0b9H, '  [%d]', 0c8H
	DB	0b8H, 0baH, 0b9H, 0bdH, 0c3H, 0b0H, 0a3H, '  [%7.0f]', 0c7H, 0f6H
	DB	0c0H, 0e7H, 'HP', 00H			; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
tv292 = 8						; size = 4
_iMonsterHP$ = 8					; size = 4
_lpMonsterObj$ = 8					; size = 4
_iRefillHPSec$ = 12					; size = 4
?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z PROC	; gObjRefillMonsterHP, COMDAT

; 2769 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi

; 2770 : 	int iMonsterHP = (int)lpMonsterObj->Life;

  00005	8b 75 08	 mov	 esi, DWORD PTR _lpMonsterObj$[ebp]
  00008	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  0000e	57		 push	 edi
  0000f	e8 00 00 00 00	 call	 __ftol2_sse

; 2771 : 	int iRefillHP = 0;

  00014	33 ff		 xor	 edi, edi

; 2772 : 
; 2773 : 	if(lpMonsterObj->Live==0)

  00016	80 7e 6a 00	 cmp	 BYTE PTR [esi+106], 0
  0001a	89 45 08	 mov	 DWORD PTR _iMonsterHP$[ebp], eax
  0001d	0f 84 78 01 00
	00		 je	 $LN1@gObjRefill

; 2774 : 	{
; 2775 : 		return;
; 2776 : 	}
; 2777 : 
; 2778 : 	if(lpMonsterObj->Class == 275)

  00023	b8 13 01 00 00	 mov	 eax, 275		; 00000113H
  00028	66 39 86 b8 00
	00 00		 cmp	 WORD PTR [esi+184], ax
  0002f	0f 85 36 01 00
	00		 jne	 $LN17@gObjRefill

; 2779 : 	{
; 2780 : 		LPOBJ lpObj;
; 2781 : 
; 2782 : 		if(lpMonsterObj->iObjectSecTimer > giKundunRefillHPTime)

  00035	8b 86 e0 1b 00
	00		 mov	 eax, DWORD PTR [esi+7136]
  0003b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?giKundunRefillHPTime@@3HA ; giKundunRefillHPTime
  00041	7e 55		 jle	 SHORT $LN9@gObjRefill

; 2783 : 		{
; 2784 : 			iRefillHP = rand() % ((giKundunRefillHP > 0)? giKundunRefillHP : 1) ;

  00043	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?giKundunRefillHP@@3HA ; giKundunRefillHP
  00049	85 ff		 test	 edi, edi
  0004b	7f 05		 jg	 SHORT $LN15@gObjRefill
  0004d	bf 01 00 00 00	 mov	 edi, 1
$LN15@gObjRefill:
  00052	e8 00 00 00 00	 call	 _rand

; 2785 : 
; 2786 : 			lpMonsterObj->iObjectSecTimer = 0;
; 2787 : 
; 2788 : 			KUNDUN_EVENT_LOG.Output("[KUNDUN] HP Log -> [%d]  [%d]  [%7.0f]HP",	iRefillHP, giKundunRefillHPTime, lpMonsterObj->Life);

  00057	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  0005d	99		 cdq
  0005e	f7 ff		 idiv	 edi
  00060	83 ec 08	 sub	 esp, 8
  00063	c7 86 e0 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+7136], 0
  0006d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?giKundunRefillHPTime@@3HA ; giKundunRefillHPTime
  00073	dd 1c 24	 fstp	 QWORD PTR [esp]
  00076	51		 push	 ecx
  00077	8b fa		 mov	 edi, edx
  00079	57		 push	 edi
  0007a	68 00 00 00 00	 push	 OFFSET ??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@
  0007f	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00084	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output
  00089	83 c4 18	 add	 esp, 24			; 00000018H

; 2789 : 			lpMonsterObj->iObjectSecTimer = 0;

  0008c	c7 86 e0 1b 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+7136], 0

; 2790 : 		}
; 2791 : 		else

  00096	eb 07		 jmp	 SHORT $LN8@gObjRefill
$LN9@gObjRefill:

; 2792 : 		{
; 2793 : 			lpMonsterObj->iObjectSecTimer++;

  00098	40		 inc	 eax
  00099	89 86 e0 1b 00
	00		 mov	 DWORD PTR [esi+7136], eax
$LN8@gObjRefill:

; 2794 : 		}
; 2795 : 
; 2796 : 		if(lpMonsterObj->iObjectSecTimer % giKundunHPLogSaveTime == 0)

  0009f	8b 86 e0 1b 00
	00		 mov	 eax, DWORD PTR [esi+7136]
  000a5	99		 cdq
  000a6	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?giKundunHPLogSaveTime@@3HA ; giKundunHPLogSaveTime
  000ac	85 d2		 test	 edx, edx
  000ae	0f 85 8b 00 00
	00		 jne	 $LN6@gObjRefill

; 2797 : 		{
; 2798 : 			LogAddTD("[KUNDUN][Status Log] HP:%d RefillHP:%d Map:%d X:%d Y:%d", iMonsterHP,iRefillHP,lpMonsterObj->MapNumber,lpMonsterObj->X,lpMonsterObj->Y);

  000b4	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  000bb	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  000c2	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  000c9	52		 push	 edx
  000ca	8b 55 08	 mov	 edx, DWORD PTR _iMonsterHP$[ebp]
  000cd	50		 push	 eax
  000ce	51		 push	 ecx
  000cf	57		 push	 edi
  000d0	52		 push	 edx
  000d1	68 00 00 00 00	 push	 OFFSET ??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@
  000d6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 2799 : 
; 2800 : 			if(gObjIsConnected(lpMonsterObj->LastAttackerID))

  000dc	0f bf 86 5e 04
	00 00		 movsx	 eax, WORD PTR [esi+1118]
  000e3	50		 push	 eax
  000e4	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  000e9	83 c4 1c	 add	 esp, 28			; 0000001cH
  000ec	85 c0		 test	 eax, eax
  000ee	74 4f		 je	 SHORT $LN6@gObjRefill

; 2801 : 			{
; 2802 : 				lpObj = &gObj[lpMonsterObj->LastAttackerID];

  000f0	0f bf 86 5e 04
	00 00		 movsx	 eax, WORD PTR [esi+1118]
  000f7	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  000fd	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2803 : 				LogAddTD("[KUNDUN][Attacker Info] [%s][%s] HP:%d MP:%d X:%d Y:%d", lpObj->AccountID,lpObj->Name,lpObj->Life,lpObj->Mana,lpObj->X,lpObj->Y);

  00103	0f bf 88 46 01
	00 00		 movsx	 ecx, WORD PTR [eax+326]
  0010a	d9 80 10 01 00
	00		 fld	 DWORD PTR [eax+272]
  00110	0f bf 90 44 01
	00 00		 movsx	 edx, WORD PTR [eax+324]
  00117	51		 push	 ecx
  00118	52		 push	 edx
  00119	83 ec 10	 sub	 esp, 16			; 00000010H
  0011c	8d 48 77	 lea	 ecx, DWORD PTR [eax+119]
  0011f	83 c0 6c	 add	 eax, 108		; 0000006cH
  00122	dd 5c 24 08	 fstp	 QWORD PTR [esp+8]
  00126	d9 80 90 00 00
	00		 fld	 DWORD PTR [eax+144]
  0012c	dd 1c 24	 fstp	 QWORD PTR [esp]
  0012f	51		 push	 ecx
  00130	50		 push	 eax
  00131	68 00 00 00 00	 push	 OFFSET ??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@
  00136	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0013c	83 c4 24	 add	 esp, 36			; 00000024H
$LN6@gObjRefill:

; 2804 : 			}
; 2805 : 		}
; 2806 : 
; 2807 : 		if(!g_CrywolfSync.GetOccupationState())

  0013f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00144	e8 00 00 00 00	 call	 ?GetOccupationState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetOccupationState
  00149	85 c0		 test	 eax, eax
  0014b	75 1e		 jne	 SHORT $LN17@gObjRefill

; 2808 : 		{
; 2809 : 			if(g_CrywolfSync.GetKundunHPRefillState()==1)

  0014d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00152	e8 00 00 00 00	 call	 ?GetKundunHPRefillState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetKundunHPRefillState
  00157	83 f8 01	 cmp	 eax, 1
  0015a	75 0f		 jne	 SHORT $LN17@gObjRefill

; 2810 : 			{
; 2811 : 				if(g_iCrywolfApplyMvpBenefit!=0)

  0015c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iCrywolfApplyMvpBenefit@@3HA, 0 ; g_iCrywolfApplyMvpBenefit
  00163	74 06		 je	 SHORT $LN17@gObjRefill

; 2812 : 				{
; 2813 : 					iRefillHP = 0;

  00165	33 ff		 xor	 edi, edi

; 2814 : 					iRefillHPSec = 0;

  00167	33 c0		 xor	 eax, eax
  00169	eb 03		 jmp	 SHORT $LN3@gObjRefill
$LN17@gObjRefill:
  0016b	8b 45 0c	 mov	 eax, DWORD PTR _iRefillHPSec$[ebp]
$LN3@gObjRefill:

; 2815 : 				}
; 2816 : 			}
; 2817 : 		}
; 2818 : 	}
; 2819 : 
; 2820 : 	iMonsterHP = iMonsterHP + iRefillHP + iRefillHPSec;

  0016e	03 f8		 add	 edi, eax
  00170	01 7d 08	 add	 DWORD PTR _iMonsterHP$[ebp], edi

; 2821 : 
; 2822 : 	if(lpMonsterObj->MaxLife < iMonsterHP)

  00173	db 45 08	 fild	 DWORD PTR _iMonsterHP$[ebp]
  00176	d9 5d 08	 fstp	 DWORD PTR tv292[ebp]
  00179	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
  0017f	d9 45 08	 fld	 DWORD PTR tv292[ebp]
  00182	d8 d1		 fcom	 ST(1)
  00184	df e0		 fnstsw	 ax
  00186	dd d9		 fstp	 ST(1)
  00188	f6 c4 41	 test	 ah, 65			; 00000041H
  0018b	75 08		 jne	 SHORT $LN2@gObjRefill
  0018d	dd d8		 fstp	 ST(0)

; 2823 : 	{
; 2824 : 		lpMonsterObj->Life = lpMonsterObj->MaxLife;

  0018f	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
$LN2@gObjRefill:

; 2825 : 	}
; 2826 : 	else
; 2827 : 	{
; 2828 : 		lpMonsterObj->Life = (float)iMonsterHP;

  00195	d9 9e fc 00 00
	00		 fstp	 DWORD PTR [esi+252]
$LN1@gObjRefill:
  0019b	5f		 pop	 edi
  0019c	5e		 pop	 esi
  0019d	5b		 pop	 ebx

; 2829 : 	}
; 2830 : }

  0019e	5d		 pop	 ebp
  0019f	c3		 ret	 0
?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z ENDP	; gObjRefillMonsterHP
_TEXT	ENDS
PUBLIC	?gObjMonsterDieRewardItems@@YAXPAUOBJECTSTRUCT@@0HHHHHHH@Z ; gObjMonsterDieRewardItems
EXTRN	?MonsterItemDrop@MapClass@@QAEHHHMHHEEEEEHKEQAEE@Z:PROC ; MapClass::MonsterItemDrop
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z:PROC	; ItemSerialCreateSend
EXTRN	?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z:PROC	; CMonsterItemMng::GetItem
EXTRN	?g_MonsterItemMng@@3VCMonsterItemMng@@A:BYTE	; g_MonsterItemMng
EXTRN	?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z:PROC ; gObjGetRandomItemDropLocation
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterDieRewardItems@@YAXPAUOBJECTSTRUCT@@0HHHHHHH@Z
_TEXT	SEGMENT
tv143 = -68						; size = 4
_type$ = -64						; size = 4
tv306 = -60						; size = 4
tv304 = -60						; size = 4
_dur$ = -60						; size = 4
_x$ = -56						; size = 4
_y$ = -52						; size = 4
_MaxHitUser$ = -48					; size = 4
_optionc$228458 = -44					; size = 4
_Option2$ = -40						; size = 4
_option2rand$228456 = -36				; size = 4
_Option1$ = -32						; size = 4
_NOption$ = -28						; size = 1
_exitem_drop$ = -24					; size = 4
_Option3$ = -20						; size = 4
_DropItem$ = -16					; size = 4
_item_drop$ = -12					; size = 4
_option3rand$228457 = -8				; size = 4
tv309 = -6						; size = 2
_cDropY$228445 = -1					; size = 1
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
_iCount$ = 16						; size = 4
_cDropX$228444 = 19					; size = 1
_iDropRateCommonItem$ = 20				; size = 4
_iDropRateExcellentItem$ = 24				; size = 4
_iDropRateSetItem$ = 28					; size = 4
_bMustHaveSkill$ = 32					; size = 4
_bMustHaveLuck$ = 36					; size = 4
_bMustHaveAdditionalOption$ = 40			; size = 4
?gObjMonsterDieRewardItems@@YAXPAUOBJECTSTRUCT@@0HHHHHHH@Z PROC ; gObjMonsterDieRewardItems, COMDAT

; 2833 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	56		 push	 esi

; 2842 : 	int Option2=0;
; 2843 : 	int Option3=0;
; 2844 : 	BYTE NOption=0;
; 2845 : 	int item_drop=0;
; 2846 : 	int exitem_drop=0;
; 2847 : 	CItem * DropItem=NULL;
; 2848 : 	int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00007	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  0000a	57		 push	 edi
  0000b	33 ff		 xor	 edi, edi
  0000d	56		 push	 esi
  0000e	89 7d e0	 mov	 DWORD PTR _Option1$[ebp], edi
  00011	89 7d d8	 mov	 DWORD PTR _Option2$[ebp], edi
  00014	89 7d ec	 mov	 DWORD PTR _Option3$[ebp], edi
  00017	89 7d f4	 mov	 DWORD PTR _item_drop$[ebp], edi
  0001a	89 7d e8	 mov	 DWORD PTR _exitem_drop$[ebp], edi
  0001d	89 7d f0	 mov	 DWORD PTR _DropItem$[ebp], edi
  00020	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00025	89 45 d0	 mov	 DWORD PTR _MaxHitUser$[ebp], eax

; 2849 : 	int iSetDropPer=iDropRateSetItem;
; 2850 : 	int iExtDropPer=iDropRateExcellentItem;
; 2851 : 	int iCommonDropPer=iDropRateCommonItem;
; 2852 : 
; 2853 : 	for (int i=0;i<iCount;i++)

  00028	8b 45 10	 mov	 eax, DWORD PTR _iCount$[ebp]
  0002b	83 c4 04	 add	 esp, 4
  0002e	3b c7		 cmp	 eax, edi
  00030	0f 8e 97 02 00
	00		 jle	 $LN24@gObjMonste@14

; 2834 : 	int store_count=0;
; 2835 : 	int DropItemNum=0;
; 2836 : 	int type;
; 2837 : 	int level;
; 2838 : 	int x;
; 2839 : 	int y;
; 2840 : 	float dur=0;
; 2841 : 	int Option1=0;

  00036	89 45 bc	 mov	 DWORD PTR tv143[ebp], eax
  00039	53		 push	 ebx
  0003a	8d 9b 00 00 00
	00		 npad	 6
$LL36@gObjMonste@14:

; 2854 : 	{
; 2855 : 		BYTE cDropX = lpObj->X;

  00040	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 2856 : 		BYTE cDropY = lpObj->Y;

  00046	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]

; 2857 : 
; 2858 : 		if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10))

  0004c	6a 0a		 push	 10			; 0000000aH
  0004e	6a 04		 push	 4
  00050	6a 04		 push	 4
  00052	8d 55 ff	 lea	 edx, DWORD PTR _cDropY$228445[ebp]
  00055	88 45 13	 mov	 BYTE PTR _cDropX$228444[ebp], al
  00058	88 4d ff	 mov	 BYTE PTR _cDropY$228445[ebp], cl
  0005b	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00062	52		 push	 edx
  00063	8d 45 13	 lea	 eax, DWORD PTR _cDropX$228444[ebp]
  00066	50		 push	 eax
  00067	51		 push	 ecx
  00068	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  0006d	83 c4 18	 add	 esp, 24			; 00000018H
  00070	85 c0		 test	 eax, eax
  00072	75 12		 jne	 SHORT $LN23@gObjMonste@14

; 2859 : 		{
; 2860 : 			cDropX = lpObj->X;

  00074	8a 96 44 01 00
	00		 mov	 dl, BYTE PTR [esi+324]

; 2861 : 			cDropY = lpObj->Y;

  0007a	8a 86 46 01 00
	00		 mov	 al, BYTE PTR [esi+326]
  00080	88 55 13	 mov	 BYTE PTR _cDropX$228444[ebp], dl
  00083	88 45 ff	 mov	 BYTE PTR _cDropY$228445[ebp], al
$LN23@gObjMonste@14:

; 2862 : 		}
; 2863 : 
; 2864 : 		if ( (rand()%10000) < iExtDropPer )

  00086	e8 00 00 00 00	 call	 _rand
  0008b	99		 cdq
  0008c	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00091	f7 f9		 idiv	 ecx
  00093	3b 55 18	 cmp	 edx, DWORD PTR _iDropRateExcellentItem$[ebp]
  00096	7d 34		 jge	 SHORT $LN22@gObjMonste@14

; 2865 : 		{
; 2866 : 			DropItem = g_MonsterItemMng.GetItem(lpObj->Level-25);

  00098	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  0009f	83 ea 19	 sub	 edx, 25			; 00000019H
  000a2	52		 push	 edx
  000a3	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMng@@3VCMonsterItemMng@@A ; g_MonsterItemMng
  000a8	e8 00 00 00 00	 call	 ?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z ; CMonsterItemMng::GetItem
  000ad	89 45 f0	 mov	 DWORD PTR _DropItem$[ebp], eax

; 2867 : 
; 2868 : 			if ( !DropItem )

  000b0	3b c7		 cmp	 eax, edi
  000b2	75 0b		 jne	 SHORT $LN21@gObjMonste@14

; 2869 : 			{
; 2870 : 				item_drop = 0;

  000b4	89 7d f4	 mov	 DWORD PTR _item_drop$[ebp], edi

; 2871 : 				exitem_drop=0;

  000b7	89 7d e8	 mov	 DWORD PTR _exitem_drop$[ebp], edi

; 2872 : 			}
; 2873 : 			else

  000ba	e9 04 02 00 00	 jmp	 $LN25@gObjMonste@14
$LN21@gObjMonste@14:

; 2874 : 			{
; 2875 : 				item_drop = 1;

  000bf	b8 01 00 00 00	 mov	 eax, 1
  000c4	89 45 f4	 mov	 DWORD PTR _item_drop$[ebp], eax

; 2876 : 				exitem_drop=1;

  000c7	89 45 e8	 mov	 DWORD PTR _exitem_drop$[ebp], eax

; 2877 : 			}

  000ca	eb 45		 jmp	 SHORT $LN31@gObjMonste@14
$LN22@gObjMonste@14:

; 2878 : 		}
; 2879 : 		else if ( (rand()%10000) < iCommonDropPer )

  000cc	e8 00 00 00 00	 call	 _rand
  000d1	99		 cdq
  000d2	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  000d7	f7 f9		 idiv	 ecx
  000d9	3b 55 14	 cmp	 edx, DWORD PTR _iDropRateCommonItem$[ebp]
  000dc	7d 2a		 jge	 SHORT $LN16@gObjMonste@14

; 2880 : 		{
; 2881 : 			DropItem = g_MonsterItemMng.GetItem(lpObj->Level);

  000de	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  000e5	52		 push	 edx
  000e6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMng@@3VCMonsterItemMng@@A ; g_MonsterItemMng
  000eb	e8 00 00 00 00	 call	 ?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z ; CMonsterItemMng::GetItem
  000f0	89 45 f0	 mov	 DWORD PTR _DropItem$[ebp], eax

; 2882 : 
; 2883 : 			if ( !DropItem )

  000f3	3b c7		 cmp	 eax, edi
  000f5	75 08		 jne	 SHORT $LN17@gObjMonste@14

; 2884 : 			{
; 2885 : 				item_drop = 0;

  000f7	89 7d f4	 mov	 DWORD PTR _item_drop$[ebp], edi

; 2886 : 			}
; 2887 : 			else

  000fa	e9 c4 01 00 00	 jmp	 $LN25@gObjMonste@14
$LN17@gObjMonste@14:

; 2888 : 			{
; 2889 : 				item_drop = 1;

  000ff	c7 45 f4 01 00
	00 00		 mov	 DWORD PTR _item_drop$[ebp], 1

; 2890 : 			}
; 2891 : 		}
; 2892 : 
; 2893 : 		if ( item_drop )

  00106	eb 09		 jmp	 SHORT $LN31@gObjMonste@14
$LN16@gObjMonste@14:
  00108	39 7d f4	 cmp	 DWORD PTR _item_drop$[ebp], edi
  0010b	0f 84 b2 01 00
	00		 je	 $LN25@gObjMonste@14
$LN31@gObjMonste@14:

; 2894 : 		{
; 2895 : 			type = DropItem->m_Type;

  00111	8b 45 f0	 mov	 eax, DWORD PTR _DropItem$[ebp]
  00114	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]

; 2896 : 			level = DropItem->m_Level;

  00118	0f bf 58 08	 movsx	 ebx, WORD PTR [eax+8]

; 2897 : 			dur = DropItem->m_Durability;

  0011c	8b d0		 mov	 edx, eax

; 2898 : 			x = cDropX;

  0011e	0f b6 45 13	 movzx	 eax, BYTE PTR _cDropX$228444[ebp]
  00122	d9 42 24	 fld	 DWORD PTR [edx+36]
  00125	89 4d c0	 mov	 DWORD PTR _type$[ebp], ecx
  00128	d9 5d c4	 fstp	 DWORD PTR _dur$[ebp]

; 2899 : 			y = cDropY;

  0012b	0f b6 4d ff	 movzx	 ecx, BYTE PTR _cDropY$228445[ebp]
  0012f	89 45 c8	 mov	 DWORD PTR _x$[ebp], eax
  00132	89 4d cc	 mov	 DWORD PTR _y$[ebp], ecx

; 2900 : 
; 2901 : 			int option1rand;
; 2902 : 			int option2rand;
; 2903 : 			int option3rand;
; 2904 : 			int optionc;
; 2905 : 
; 2906 : 			if ( exitem_drop )

  00135	39 7d e8	 cmp	 DWORD PTR _exitem_drop$[ebp], edi
  00138	74 40		 je	 SHORT $LN14@gObjMonste@14

; 2907 : 			{
; 2908 : 				option1rand = 100;

  0013a	bf 64 00 00 00	 mov	 edi, 100		; 00000064H

; 2909 : 				option2rand = 1;

  0013f	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _option2rand$228456[ebp], 1

; 2910 : 				option3rand = rand()%100;

  00146	e8 00 00 00 00	 call	 _rand
  0014b	99		 cdq
  0014c	8b cf		 mov	 ecx, edi
  0014e	f7 f9		 idiv	 ecx
  00150	89 55 f8	 mov	 DWORD PTR _option3rand$228457[ebp], edx

; 2911 : 				optionc = rand()%3;

  00153	e8 00 00 00 00	 call	 _rand
  00158	99		 cdq
  00159	b9 03 00 00 00	 mov	 ecx, 3
  0015e	f7 f9		 idiv	 ecx
  00160	89 55 d4	 mov	 DWORD PTR _optionc$228458[ebp], edx

; 2912 : 				NOption = NewOptionRand(lpObj->Level);

  00163	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  0016a	52		 push	 edx
  0016b	e8 00 00 00 00	 call	 ?NewOptionRand@@YAEH@Z	; NewOptionRand
  00170	83 c4 04	 add	 esp, 4
  00173	88 45 e4	 mov	 BYTE PTR _NOption$[ebp], al

; 2913 : 				level = 0;

  00176	33 db		 xor	 ebx, ebx

; 2914 : 			}
; 2915 : 			else

  00178	eb 30		 jmp	 SHORT $LN13@gObjMonste@14
$LN14@gObjMonste@14:

; 2916 : 			{
; 2917 : 				option1rand = 6;

  0017a	bf 06 00 00 00	 mov	 edi, 6

; 2918 : 				option2rand = 4;

  0017f	c7 45 dc 04 00
	00 00		 mov	 DWORD PTR _option2rand$228456[ebp], 4

; 2919 : 				option3rand = rand()%100;

  00186	e8 00 00 00 00	 call	 _rand
  0018b	99		 cdq
  0018c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00191	f7 f9		 idiv	 ecx
  00193	89 55 f8	 mov	 DWORD PTR _option3rand$228457[ebp], edx

; 2920 : 				optionc = rand()%3;

  00196	e8 00 00 00 00	 call	 _rand
  0019b	99		 cdq
  0019c	b9 03 00 00 00	 mov	 ecx, 3
  001a1	f7 f9		 idiv	 ecx

; 2921 : 				NOption = 0;

  001a3	c6 45 e4 00	 mov	 BYTE PTR _NOption$[ebp], 0
  001a7	89 55 d4	 mov	 DWORD PTR _optionc$228458[ebp], edx
$LN13@gObjMonste@14:

; 2922 : 			}
; 2923 : 
; 2924 : 			if ( (rand()%100) < option1rand )

  001aa	e8 00 00 00 00	 call	 _rand
  001af	99		 cdq
  001b0	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  001b5	f7 f9		 idiv	 ecx
  001b7	3b d7		 cmp	 edx, edi
  001b9	7d 0a		 jge	 SHORT $LN32@gObjMonste@14

; 2925 : 			{
; 2926 : 				Option1 = 1;

  001bb	bf 01 00 00 00	 mov	 edi, 1
  001c0	89 7d e0	 mov	 DWORD PTR _Option1$[ebp], edi
  001c3	eb 03		 jmp	 SHORT $LN12@gObjMonste@14
$LN32@gObjMonste@14:
  001c5	8b 7d e0	 mov	 edi, DWORD PTR _Option1$[ebp]
$LN12@gObjMonste@14:

; 2927 : 			}
; 2928 : 
; 2929 : 			if ( (rand()%100) < option2rand )

  001c8	e8 00 00 00 00	 call	 _rand
  001cd	99		 cdq
  001ce	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  001d3	f7 f9		 idiv	 ecx
  001d5	3b 55 dc	 cmp	 edx, DWORD PTR _option2rand$228456[ebp]
  001d8	7d 0a		 jge	 SHORT $LN33@gObjMonste@14

; 2930 : 			{
; 2931 : 				Option2 = 1;

  001da	b8 01 00 00 00	 mov	 eax, 1
  001df	89 45 d8	 mov	 DWORD PTR _Option2$[ebp], eax
  001e2	eb 03		 jmp	 SHORT $LN11@gObjMonste@14
$LN33@gObjMonste@14:
  001e4	8b 45 d8	 mov	 eax, DWORD PTR _Option2$[ebp]
$LN11@gObjMonste@14:

; 2932 : 			}
; 2933 : 
; 2934 : 			switch ( optionc )

  001e7	8b 4d d4	 mov	 ecx, DWORD PTR _optionc$228458[ebp]
  001ea	83 e9 00	 sub	 ecx, 0
  001ed	74 24		 je	 SHORT $LN8@gObjMonste@14
  001ef	49		 dec	 ecx
  001f0	74 12		 je	 SHORT $LN6@gObjMonste@14
  001f2	49		 dec	 ecx
  001f3	75 2b		 jne	 SHORT $LN34@gObjMonste@14

; 2944 : 				case 2:
; 2945 : 					if ( option3rand < 12 )

  001f5	83 7d f8 0c	 cmp	 DWORD PTR _option3rand$228457[ebp], 12 ; 0000000cH
  001f9	7d 25		 jge	 SHORT $LN34@gObjMonste@14

; 2946 : 						Option3=1;

  001fb	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _Option3$[ebp], 1

; 2947 : 					break;

  00202	eb 1c		 jmp	 SHORT $LN34@gObjMonste@14
$LN6@gObjMonste@14:

; 2939 : 					break;
; 2940 : 				case 1:
; 2941 : 					if ( option3rand < 8 )

  00204	83 7d f8 08	 cmp	 DWORD PTR _option3rand$228457[ebp], 8
  00208	7d 16		 jge	 SHORT $LN34@gObjMonste@14

; 2942 : 						Option3=2;

  0020a	c7 45 ec 02 00
	00 00		 mov	 DWORD PTR _Option3$[ebp], 2

; 2943 : 					break;

  00211	eb 0d		 jmp	 SHORT $LN34@gObjMonste@14
$LN8@gObjMonste@14:

; 2935 : 			{
; 2936 : 				case 0:
; 2937 : 					if ( option3rand < 4 )

  00213	83 7d f8 04	 cmp	 DWORD PTR _option3rand$228457[ebp], 4
  00217	7d 07		 jge	 SHORT $LN34@gObjMonste@14

; 2938 : 						Option3=3;

  00219	c7 45 ec 03 00
	00 00		 mov	 DWORD PTR _Option3$[ebp], 3
$LN34@gObjMonste@14:

; 2948 : 			}
; 2949 : 
; 2950 : 			if ( DropItem->m_serial )

  00220	8b 55 f0	 mov	 edx, DWORD PTR _DropItem$[ebp]

; 2951 : 			{
; 2952 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x,(BYTE) y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, (BYTE)NOption, 0);

  00223	d9 45 c4	 fld	 DWORD PTR _dur$[ebp]
  00226	80 7a 04 00	 cmp	 BYTE PTR [edx+4], 0
  0022a	74 51		 je	 SHORT $LN2@gObjMonste@14
  0022c	8b 4d e4	 mov	 ecx, DWORD PTR _NOption$[ebp]
  0022f	d9 7d fa	 fnstcw	 WORD PTR tv309[ebp]
  00232	8b 55 d0	 mov	 edx, DWORD PTR _MaxHitUser$[ebp]
  00235	6a 00		 push	 0
  00237	51		 push	 ecx
  00238	8b 4d ec	 mov	 ecx, DWORD PTR _Option3$[ebp]
  0023b	52		 push	 edx
  0023c	51		 push	 ecx
  0023d	50		 push	 eax
  0023e	0f b7 45 fa	 movzx	 eax, WORD PTR tv309[ebp]
  00242	8b 4d c0	 mov	 ecx, DWORD PTR _type$[ebp]
  00245	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0024a	89 45 c4	 mov	 DWORD PTR tv306[ebp], eax
  0024d	57		 push	 edi
  0024e	d9 6d c4	 fldcw	 WORD PTR tv306[ebp]
  00251	db 5d c4	 fistp	 DWORD PTR tv304[ebp]
  00254	8a 55 c4	 mov	 dl, BYTE PTR tv304[ebp]
  00257	0f b6 c2	 movzx	 eax, dl
  0025a	8b 55 cc	 mov	 edx, DWORD PTR _y$[ebp]
  0025d	d9 6d fa	 fldcw	 WORD PTR tv309[ebp]
  00260	50		 push	 eax
  00261	8b 45 c8	 mov	 eax, DWORD PTR _x$[ebp]
  00264	53		 push	 ebx
  00265	51		 push	 ecx
  00266	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0026d	52		 push	 edx
  0026e	8b 16		 mov	 edx, DWORD PTR [esi]
  00270	50		 push	 eax
  00271	51		 push	 ecx
  00272	52		 push	 edx
  00273	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00278	83 c4 34	 add	 esp, 52			; 00000034H

; 2953 : 			}
; 2954 : 			else

  0027b	eb 44		 jmp	 SHORT $LN37@gObjMonste@14
$LN2@gObjMonste@14:

; 2955 : 			{
; 2956 : 				MapC[lpObj->MapNumber].MonsterItemDrop(type, level, dur, x, y, Option1, Option2, Option3, NOption, 0, MaxHitUser, 0, 0, NULL, 0xFF);

  0027d	8b 4d d0	 mov	 ecx, DWORD PTR _MaxHitUser$[ebp]
  00280	8b 55 e4	 mov	 edx, DWORD PTR _NOption$[ebp]
  00283	68 ff 00 00 00	 push	 255			; 000000ffH
  00288	6a 00		 push	 0
  0028a	6a 00		 push	 0
  0028c	6a 00		 push	 0
  0028e	51		 push	 ecx
  0028f	8b 4d ec	 mov	 ecx, DWORD PTR _Option3$[ebp]
  00292	6a 00		 push	 0
  00294	52		 push	 edx
  00295	8b 55 cc	 mov	 edx, DWORD PTR _y$[ebp]
  00298	51		 push	 ecx
  00299	50		 push	 eax
  0029a	8b 45 c8	 mov	 eax, DWORD PTR _x$[ebp]
  0029d	57		 push	 edi
  0029e	52		 push	 edx
  0029f	50		 push	 eax
  002a0	51		 push	 ecx
  002a1	8b 4d c0	 mov	 ecx, DWORD PTR _type$[ebp]
  002a4	d9 1c 24	 fstp	 DWORD PTR [esp]
  002a7	53		 push	 ebx
  002a8	51		 push	 ecx
  002a9	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  002b0	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  002b6	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  002bc	e8 00 00 00 00	 call	 ?MonsterItemDrop@MapClass@@QAEHHHMHHEEEEEHKEQAEE@Z ; MapClass::MonsterItemDrop
$LN37@gObjMonste@14:
  002c1	33 ff		 xor	 edi, edi
$LN25@gObjMonste@14:

; 2849 : 	int iSetDropPer=iDropRateSetItem;
; 2850 : 	int iExtDropPer=iDropRateExcellentItem;
; 2851 : 	int iCommonDropPer=iDropRateCommonItem;
; 2852 : 
; 2853 : 	for (int i=0;i<iCount;i++)

  002c3	ff 4d bc	 dec	 DWORD PTR tv143[ebp]
  002c6	0f 85 74 fd ff
	ff		 jne	 $LL36@gObjMonste@14
  002cc	5b		 pop	 ebx
$LN24@gObjMonste@14:
  002cd	5f		 pop	 edi
  002ce	5e		 pop	 esi

; 2957 : 			}
; 2958 : 		}
; 2959 : 	}
; 2960 : }

  002cf	8b e5		 mov	 esp, ebp
  002d1	5d		 pop	 ebp
  002d2	c3		 ret	 0
?gObjMonsterDieRewardItems@@YAXPAUOBJECTSTRUCT@@0HHHHHHH@Z ENDP ; gObjMonsterDieRewardItems
_TEXT	ENDS
PUBLIC	__real@42c80000
PUBLIC	__real@43000000
PUBLIC	??_C@_0CJ@PLHMNKDH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@ ; `string'
PUBLIC	__real@437f0000
PUBLIC	__real@4059000000000000
PUBLIC	?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z	; gEventMonsterItemDrop
EXTRN	?g_iLuckyCoinDropRate@@3HA:DWORD		; g_iLuckyCoinDropRate
EXTRN	?g_bLuckyCoinEventOn@@3HA:DWORD			; g_bLuckyCoinEventOn
EXTRN	?g_iCherryBlossomEventItemDropRate@@3HA:DWORD	; g_iCherryBlossomEventItemDropRate
EXTRN	?g_bCherryBlossomEventOn@@3HA:DWORD		; g_bCherryBlossomEventOn
EXTRN	?g_iCovenantOfIllusionDropRate@@3HA:DWORD	; g_iCovenantOfIllusionDropRate
EXTRN	?g_iUseMaxLevelIllusionTemple@@3HA:DWORD	; g_iUseMaxLevelIllusionTemple
EXTRN	?g_iOldScrollDropRate@@3HA:DWORD		; g_iOldScrollDropRate
EXTRN	?g_iSantaPolymorphRingDropRate@@3HA:DWORD	; g_iSantaPolymorphRingDropRate
EXTRN	?g_iSantaPolymorphRingDropOn@@3HA:DWORD		; g_iSantaPolymorphRingDropOn
EXTRN	?zzzItemLevel@@YAHHHH@Z:PROC			; zzzItemLevel
EXTRN	?g_iHallowinDayEventItemDropRate@@3HA:DWORD	; g_iHallowinDayEventItemDropRate
EXTRN	?g_bHallowinDayEventOn@@3HA:DWORD		; g_bHallowinDayEventOn
EXTRN	?g_iDeepBlueCandyBoxDropRate@@3HA:DWORD		; g_iDeepBlueCandyBoxDropRate
EXTRN	?g_iDeepBlueCandyBoxDropLevelMax@@3HA:DWORD	; g_iDeepBlueCandyBoxDropLevelMax
EXTRN	?g_iDeepBlueCandyBoxDropLevelMin@@3HA:DWORD	; g_iDeepBlueCandyBoxDropLevelMin
EXTRN	?g_iVermilionCandyBoxDropRate@@3HA:DWORD	; g_iVermilionCandyBoxDropRate
EXTRN	?g_iVermilionCandyBoxDropLevelMax@@3HA:DWORD	; g_iVermilionCandyBoxDropLevelMax
EXTRN	?g_iVermilionCandyBoxDropLevelMin@@3HA:DWORD	; g_iVermilionCandyBoxDropLevelMin
EXTRN	?g_iLightPurpleCandyBoxDropRate@@3HA:DWORD	; g_iLightPurpleCandyBoxDropRate
EXTRN	?g_iLightPurpleCandyBoxDropLevelMax@@3HA:DWORD	; g_iLightPurpleCandyBoxDropLevelMax
EXTRN	?g_iLightPurpleCandyBoxDropLevelMin@@3HA:DWORD	; g_iLightPurpleCandyBoxDropLevelMin
EXTRN	?g_bCandyBoxEvent@@3HA:DWORD			; g_bCandyBoxEvent
EXTRN	?g_iBlueChocolateBoxDropRate@@3HA:DWORD		; g_iBlueChocolateBoxDropRate
EXTRN	?g_iBlueChocolateBoxDropLevelMax@@3HA:DWORD	; g_iBlueChocolateBoxDropLevelMax
EXTRN	?g_iBlueChocolateBoxDropLevelMin@@3HA:DWORD	; g_iBlueChocolateBoxDropLevelMin
EXTRN	?g_iRedChocolateBoxDropRate@@3HA:DWORD		; g_iRedChocolateBoxDropRate
EXTRN	?g_iRedChocolateBoxDropLevelMax@@3HA:DWORD	; g_iRedChocolateBoxDropLevelMax
EXTRN	?g_iRedChocolateBoxDropLevelMin@@3HA:DWORD	; g_iRedChocolateBoxDropLevelMin
EXTRN	?g_iPinkChocolateBoxDropRate@@3HA:DWORD		; g_iPinkChocolateBoxDropRate
EXTRN	?g_iPinkChocolateBoxDropLevelMax@@3HA:DWORD	; g_iPinkChocolateBoxDropLevelMax
EXTRN	?g_iPinkChocolateBoxDropLevelMin@@3HA:DWORD	; g_iPinkChocolateBoxDropLevelMin
EXTRN	?g_bChocolateBoxEvent@@3HA:DWORD		; g_bChocolateBoxEvent
EXTRN	?g_iBlueRibbonBoxDropRate@@3HA:DWORD		; g_iBlueRibbonBoxDropRate
EXTRN	?g_iBlueRibbonBoxDropLevelMax@@3HA:DWORD	; g_iBlueRibbonBoxDropLevelMax
EXTRN	?g_iBlueRibbonBoxDropLevelMin@@3HA:DWORD	; g_iBlueRibbonBoxDropLevelMin
EXTRN	?g_iGreenRibbonBoxDropRate@@3HA:DWORD		; g_iGreenRibbonBoxDropRate
EXTRN	?g_iGreenRibbonBoxDropLevelMax@@3HA:DWORD	; g_iGreenRibbonBoxDropLevelMax
EXTRN	?g_iGreenRibbonBoxDropLevelMin@@3HA:DWORD	; g_iGreenRibbonBoxDropLevelMin
EXTRN	?g_iRedRibbonBoxDropRate@@3HA:DWORD		; g_iRedRibbonBoxDropRate
EXTRN	?g_iRedRibbonBoxDropLevelMax@@3HA:DWORD		; g_iRedRibbonBoxDropLevelMax
EXTRN	?g_iRedRibbonBoxDropLevelMin@@3HA:DWORD		; g_iRedRibbonBoxDropLevelMin
EXTRN	?g_bRibbonBoxEvent@@3HA:DWORD			; g_bRibbonBoxEvent
EXTRN	?g_iDarkLordHeartDropRate@@3HA:DWORD		; g_iDarkLordHeartDropRate
EXTRN	?g_iBloodBoneDropRate@@3HA:DWORD		; g_iBloodBoneDropRate
EXTRN	?g_iAngelKingsPaperDropRate@@3HA:DWORD		; g_iAngelKingsPaperDropRate
EXTRN	?g_iML_BloodBoneDropRate@@3HA:DWORD		; g_iML_BloodBoneDropRate
EXTRN	?g_iML_AngelKingsPaperDropRate@@3HA:DWORD	; g_iML_AngelKingsPaperDropRate
EXTRN	?g_bBloodCastle@@3HA:DWORD			; g_bBloodCastle
EXTRN	?g_iML_CovenantOfIllusionDropRate@@3HA:DWORD	; g_iML_CovenantOfIllusionDropRate
EXTRN	?g_iML_OldScrollDropRate@@3HA:DWORD		; g_iML_OldScrollDropRate
EXTRN	?g_iIllusionTempleEvent@@3HA:DWORD		; g_iIllusionTempleEvent
EXTRN	?g_iML_KeysOfDevilSquareDropRate@@3HA:DWORD	; g_iML_KeysOfDevilSquareDropRate
EXTRN	?g_iML_EyesOfDevilSquareDropRate@@3HA:DWORD	; g_iML_EyesOfDevilSquareDropRate
EXTRN	?gDevilSquareEvent@@3HA:DWORD			; gDevilSquareEvent
EXTRN	?g_iMysteriousBeadDropRate2@@3HA:DWORD		; g_iMysteriousBeadDropRate2
EXTRN	?g_iMysteriousBeadDropRate1@@3HA:DWORD		; g_iMysteriousBeadDropRate1
EXTRN	?g_iKanturuJewelOfHarmonyDropRate@@3HA:DWORD	; g_iKanturuJewelOfHarmonyDropRate
EXTRN	?g_iKanturuMoonStoneDropRate@@3HA:DWORD		; g_iKanturuMoonStoneDropRate
EXTRN	?g_bKanturuSpecialItemDropOn@@3HA:DWORD		; g_bKanturuSpecialItemDropOn
EXTRN	?MakeRewardSetItem@@YAXHEEHH@Z:PROC		; MakeRewardSetItem
EXTRN	?gSetItemInCastleHuntZoneDropRate@@3HA:DWORD	; gSetItemInCastleHuntZoneDropRate
EXTRN	?gSetItemInCastleHuntZoneDropLevel@@3HA:DWORD	; gSetItemInCastleHuntZoneDropLevel
EXTRN	?gIsDropSetItemInCastleHuntZone@@3HA:DWORD	; gIsDropSetItemInCastleHuntZone
EXTRN	?g_iCondorFlameDropRate@@3HA:DWORD		; g_iCondorFlameDropRate
EXTRN	?gGemOfDefendDropRate@@3HA:DWORD		; gGemOfDefendDropRate
EXTRN	?gGemOfDefendDropLevel@@3HA:DWORD		; gGemOfDefendDropLevel
EXTRN	?gIsDropGemOfDefend@@3HA:DWORD			; gIsDropGemOfDefend
EXTRN	?gSoulOfDarkSpiritDropRate@@3HA:DWORD		; gSoulOfDarkSpiritDropRate
EXTRN	?gSoulOfDarkSpiritDropLevel@@3HA:DWORD		; gSoulOfDarkSpiritDropLevel
EXTRN	?gSoulOfDarkHorseDropRate@@3HA:DWORD		; gSoulOfDarkHorseDropRate
EXTRN	?gSoulOfDarkHorseropLevel@@3HA:DWORD		; gSoulOfDarkHorseropLevel
EXTRN	?gSleeveOfLordDropRate@@3HA:DWORD		; gSleeveOfLordDropRate
EXTRN	?gSleeveOfLordDropLevel@@3HA:DWORD		; gSleeveOfLordDropLevel
EXTRN	?gIsDropDarkLordItem@@3HA:DWORD			; gIsDropDarkLordItem
EXTRN	?g_iJapan1StAnivItemDropRate@@3HA:DWORD		; g_iJapan1StAnivItemDropRate
EXTRN	?g_iMarkOfTheLord@@3HA:DWORD			; g_iMarkOfTheLord
EXTRN	?g_iKundunMarkDropRate@@3HA:DWORD		; g_iKundunMarkDropRate
EXTRN	?DestroyGIocp@@YAXXZ:PROC			; DestroyGIocp
EXTRN	?szAuthKey@@3PADA:BYTE				; szAuthKey
EXTRN	?gBoxOfGoldDropRate@@3HA:DWORD			; gBoxOfGoldDropRate
EXTRN	?gEventChipEvent@@3HA:DWORD			; gEventChipEvent
EXTRN	?gGoldMedalDropRate@@3HA:DWORD			; gGoldMedalDropRate
EXTRN	?gGoldMedalDropLevelMonsterMax@@3HA:DWORD	; gGoldMedalDropLevelMonsterMax
EXTRN	?gGoldMedalDropLevelMonsterMin@@3HA:DWORD	; gGoldMedalDropLevelMonsterMin
EXTRN	?gSilverMedalDropRate@@3HA:DWORD		; gSilverMedalDropRate
EXTRN	?gSilverMedalDropLevelMonsterMax@@3HA:DWORD	; gSilverMedalDropLevelMonsterMax
EXTRN	?gSilverMedalDropLevelMonsterMin@@3HA:DWORD	; gSilverMedalDropLevelMonsterMin
EXTRN	?CheckUser@CZtLicense@@QAE_NH@Z:PROC		; CZtLicense::CheckUser
EXTRN	?g_ZtLicense@@3VCZtLicense@@A:BYTE		; g_ZtLicense
EXTRN	?gMedalEvent@@3HA:DWORD				; gMedalEvent
EXTRN	?gHeartOfLoveDropRate@@3HA:DWORD		; gHeartOfLoveDropRate
EXTRN	?gHeartOfLoveEvent@@3HA:DWORD			; gHeartOfLoveEvent
EXTRN	?DropEventItem@CItemBagZt@@QAEHH@Z:PROC		; CItemBagZt::DropEventItem
EXTRN	?StarOfXMasItemBag@@3PAVCItemBagZt@@A:DWORD	; StarOfXMasItemBag
EXTRN	?gXMasEvent@@3HA:DWORD				; gXMasEvent
EXTRN	?GetPartyCount@PartyClass@@QAEHH@Z:PROC		; PartyClass::GetPartyCount
EXTRN	?gFireCrackerDropRate@@3HA:DWORD		; gFireCrackerDropRate
EXTRN	?gLanguage@@3HA:DWORD				; gLanguage
EXTRN	?gFireCrackerEvent@@3HA:DWORD			; gFireCrackerEvent
EXTRN	?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z:PROC ; CMonsterAttr::GetAttr
EXTRN	?gMAttr@@3VCMonsterAttr@@A:BYTE			; gMAttr
EXTRN	?gItemDropRingOfTransform@@3HA:DWORD		; gItemDropRingOfTransform
EXTRN	?gIsItemDropRingOfTransform@@3HA:DWORD		; gIsItemDropRingOfTransform
EXTRN	?g_iCompoundPotionLv3DropRate@@3HA:DWORD	; g_iCompoundPotionLv3DropRate
EXTRN	?g_iCompoundPotionLv3DropLevel@@3HA:DWORD	; g_iCompoundPotionLv3DropLevel
EXTRN	?g_iCompoundPotionLv2DropRate@@3HA:DWORD	; g_iCompoundPotionLv2DropRate
EXTRN	?g_iCompoundPotionLv2DropLevel@@3HA:DWORD	; g_iCompoundPotionLv2DropLevel
EXTRN	?g_iCompoundPotionLv1DropRate@@3HA:DWORD	; g_iCompoundPotionLv1DropRate
EXTRN	?g_iCompoundPotionLv1DropLevel@@3HA:DWORD	; g_iCompoundPotionLv1DropLevel
EXTRN	?g_CompoundPotionDropOn@@3HA:DWORD		; g_CompoundPotionDropOn
EXTRN	?GetSphereItemIndex@CSocketOption@@QAEHH@Z:PROC	; CSocketOption::GetSphereItemIndex
EXTRN	?g_SocketOption@@3VCSocketOption@@A:BYTE	; g_SocketOption
EXTRN	?g_iFenrirStuff_03_DropRate@@3HA:DWORD		; g_iFenrirStuff_03_DropRate
EXTRN	?g_iFenrirStuff_03_DropMap@@3HA:DWORD		; g_iFenrirStuff_03_DropMap
EXTRN	?g_iFenrirStuff_03_DropLv_Max@@3HA:DWORD	; g_iFenrirStuff_03_DropLv_Max
EXTRN	?g_iFenrirStuff_03_DropLv_Min@@3HA:DWORD	; g_iFenrirStuff_03_DropLv_Min
EXTRN	?g_iFenrirStuff_02_DropRate@@3HA:DWORD		; g_iFenrirStuff_02_DropRate
EXTRN	?g_iFenrirStuff_02_DropMap@@3HA:DWORD		; g_iFenrirStuff_02_DropMap
EXTRN	?g_iFenrirStuff_02_DropLv_Max@@3HA:DWORD	; g_iFenrirStuff_02_DropLv_Max
EXTRN	?g_iFenrirStuff_02_DropLv_Min@@3HA:DWORD	; g_iFenrirStuff_02_DropLv_Min
EXTRN	?ItemGetNumberMake@@YAHHH@Z:PROC		; ItemGetNumberMake
EXTRN	?g_iFenrirStuff_01_DropRate@@3HA:DWORD		; g_iFenrirStuff_01_DropRate
EXTRN	?g_iFenrirStuff_01_DropMap@@3HA:DWORD		; g_iFenrirStuff_01_DropMap
EXTRN	?g_iFenrirStuff_01_DropLv_Max@@3HA:DWORD	; g_iFenrirStuff_01_DropLv_Max
EXTRN	?g_iFenrirStuff_01_DropLv_Min@@3HA:DWORD	; g_iFenrirStuff_01_DropLv_Min
EXTRN	?g_bFenrirStuffItemDrop@@3HA:DWORD		; g_bFenrirStuffItemDrop
;	COMDAT __real@42c80000
CONST	SEGMENT
__real@42c80000 DD 042c80000r			; 100
CONST	ENDS
;	COMDAT __real@43000000
CONST	SEGMENT
__real@43000000 DD 043000000r			; 128
CONST	ENDS
;	COMDAT ??_C@_0CJ@PLHMNKDH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@
CONST	SEGMENT
??_C@_0CJ@PLHMNKDH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@ DB '[Ca'
	DB	'stle HuntZone] Drop SetItem [%s][%s] ', 00H	; `string'
CONST	ENDS
;	COMDAT __real@437f0000
CONST	SEGMENT
__real@437f0000 DD 0437f0000r			; 255
CONST	ENDS
;	COMDAT __real@4059000000000000
CONST	SEGMENT
__real@4059000000000000 DQ 04059000000000000r	; 100
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z
_TEXT	SEGMENT
tv3122 = -16						; size = 4
tv3120 = -16						; size = 4
tv2950 = -16						; size = 4
tv2948 = -16						; size = 4
tv2925 = -16						; size = 4
tv2923 = -16						; size = 4
tv2900 = -16						; size = 4
tv2898 = -16						; size = 4
tv2875 = -16						; size = 4
tv2873 = -16						; size = 4
tv2849 = -16						; size = 4
tv2847 = -16						; size = 4
tv2809 = -16						; size = 4
tv2807 = -16						; size = 4
tv2783 = -16						; size = 4
tv2781 = -16						; size = 4
tv2751 = -16						; size = 4
tv2749 = -16						; size = 4
tv2572 = -16						; size = 4
tv2570 = -16						; size = 4
tv2547 = -16						; size = 4
tv2545 = -16						; size = 4
tv2522 = -16						; size = 4
tv2520 = -16						; size = 4
tv2497 = -16						; size = 4
tv2495 = -16						; size = 4
tv2464 = -16						; size = 4
tv2462 = -16						; size = 4
tv2438 = -16						; size = 4
tv2427 = -16						; size = 4
tv2404 = -16						; size = 4
tv2402 = -16						; size = 4
tv2378 = -16						; size = 4
tv2376 = -16						; size = 4
tv2353 = -16						; size = 4
tv2351 = -16						; size = 4
tv2182 = -16						; size = 4
tv2171 = -16						; size = 4
tv1957 = -16						; size = 4
tv1955 = -16						; size = 4
_MaxHitUser$229099 = -16				; size = 4
tv3131 = -12						; size = 4
_y$ = -12						; size = 4
_x$ = -8						; size = 4
_type$ = -8						; size = 4
_dur$ = -4						; size = 4
tv3125 = -2						; size = 2
tv2953 = -2						; size = 2
tv2928 = -2						; size = 2
tv2903 = -2						; size = 2
tv2878 = -2						; size = 2
tv2852 = -2						; size = 2
tv2812 = -2						; size = 2
tv2786 = -2						; size = 2
tv2754 = -2						; size = 2
tv2575 = -2						; size = 2
tv2550 = -2						; size = 2
tv2525 = -2						; size = 2
tv2500 = -2						; size = 2
tv2467 = -2						; size = 2
tv2441 = -2						; size = 2
tv2407 = -2						; size = 2
tv2381 = -2						; size = 2
tv2356 = -2						; size = 2
tv2205 = -2						; size = 2
tv1976 = -2						; size = 2
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; gEventMonsterItemDrop, COMDAT

; 4483 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H

; 4484 : 	int type;
; 4485 : 	int level;
; 4486 : 	int x;
; 4487 : 	int y;
; 4488 : 	float dur=0;
; 4489 : 	int Option1=0;
; 4490 : 	int Option2=0;
; 4491 : 	int Option3=0;
; 4492 : 
; 4493 : 	if ( g_bFenrirStuffItemDrop )

  00006	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bFenrirStuffItemDrop@@3HA, 0 ; g_bFenrirStuffItemDrop
  0000d	d9 ee		 fldz
  0000f	53		 push	 ebx
  00010	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]
  00013	56		 push	 esi
  00014	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00017	57		 push	 edi
  00018	0f 84 42 01 00
	00		 je	 $LN245@gEventMons

; 4494 : 	{
; 4495 : 		Option1=0;
; 4496 : 		Option2=0;
; 4497 : 		Option3=0;
; 4498 : 		BOOL bDropStuff=FALSE;
; 4499 : 
; 4500 : 		if ( lpObj->Level >= g_iFenrirStuff_01_DropLv_Min && lpObj->Level <= g_iFenrirStuff_01_DropLv_Max && lpObj->MapNumber == g_iFenrirStuff_01_DropMap && bDropStuff == FALSE )

  0001e	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  00025	33 ff		 xor	 edi, edi
  00027	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_01_DropLv_Min@@3HA ; g_iFenrirStuff_01_DropLv_Min
  0002d	7c 41		 jl	 SHORT $LN291@gEventMons
  0002f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_01_DropLv_Max@@3HA ; g_iFenrirStuff_01_DropLv_Max
  00035	7f 39		 jg	 SHORT $LN291@gEventMons
  00037	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0003e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_01_DropMap@@3HA ; g_iFenrirStuff_01_DropMap
  00044	75 2a		 jne	 SHORT $LN291@gEventMons

; 4501 : 		{
; 4502 : 			if ( (rand()%10000) < g_iFenrirStuff_01_DropRate ) 

  00046	e8 00 00 00 00	 call	 _rand
  0004b	99		 cdq
  0004c	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00051	f7 f9		 idiv	 ecx
  00053	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_01_DropRate@@3HA ; g_iFenrirStuff_01_DropRate
  00059	7d 15		 jge	 SHORT $LN291@gEventMons

; 4503 : 			{
; 4504 : 				bDropStuff = TRUE;
; 4505 : 				type = ItemGetNumberMake(13, 32);

  0005b	6a 20		 push	 32			; 00000020H
  0005d	6a 0d		 push	 13			; 0000000dH
  0005f	bf 01 00 00 00	 mov	 edi, 1
  00064	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00069	83 c4 08	 add	 esp, 8
  0006c	8b d8		 mov	 ebx, eax
  0006e	eb 03		 jmp	 SHORT $LN250@gEventMons
$LN291@gEventMons:
  00070	8b 5d f8	 mov	 ebx, DWORD PTR _type$[ebp]
$LN250@gEventMons:

; 4506 : 			}
; 4507 : 		}
; 4508 : 
; 4509 : 		if ( lpObj->Level >= g_iFenrirStuff_02_DropLv_Min && lpObj->Level <= g_iFenrirStuff_02_DropLv_Max && lpObj->MapNumber == g_iFenrirStuff_02_DropMap && bDropStuff == FALSE )

  00073	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  0007a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_02_DropLv_Min@@3HA ; g_iFenrirStuff_02_DropLv_Min
  00080	7c 43		 jl	 SHORT $LN302@gEventMons
  00082	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_02_DropLv_Max@@3HA ; g_iFenrirStuff_02_DropLv_Max
  00088	7f 3b		 jg	 SHORT $LN302@gEventMons
  0008a	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00091	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_02_DropMap@@3HA ; g_iFenrirStuff_02_DropMap
  00097	75 2c		 jne	 SHORT $LN302@gEventMons
  00099	85 ff		 test	 edi, edi
  0009b	75 28		 jne	 SHORT $LN302@gEventMons

; 4510 : 		{
; 4511 : 			if ( (rand()%10000) < g_iFenrirStuff_02_DropRate ) 

  0009d	e8 00 00 00 00	 call	 _rand
  000a2	99		 cdq
  000a3	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  000a8	f7 f9		 idiv	 ecx
  000aa	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_02_DropRate@@3HA ; g_iFenrirStuff_02_DropRate
  000b0	7d 13		 jge	 SHORT $LN302@gEventMons

; 4512 : 			{
; 4513 : 				bDropStuff = TRUE;
; 4514 : 				type = ItemGetNumberMake(13, 33);

  000b2	6a 21		 push	 33			; 00000021H
  000b4	6a 0d		 push	 13			; 0000000dH
  000b6	bf 01 00 00 00	 mov	 edi, 1
  000bb	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  000c0	83 c4 08	 add	 esp, 8
  000c3	8b d8		 mov	 ebx, eax
$LN302@gEventMons:

; 4515 : 			}
; 4516 : 		}
; 4517 : 
; 4518 : 		if ( lpObj->Level >= g_iFenrirStuff_03_DropLv_Min && lpObj->Level <= g_iFenrirStuff_03_DropLv_Max && lpObj->MapNumber == g_iFenrirStuff_03_DropMap && bDropStuff == FALSE )

  000c5	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  000cc	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_03_DropLv_Min@@3HA ; g_iFenrirStuff_03_DropLv_Min
  000d2	7c 40		 jl	 SHORT $LN246@gEventMons
  000d4	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_03_DropLv_Max@@3HA ; g_iFenrirStuff_03_DropLv_Max
  000da	7f 38		 jg	 SHORT $LN246@gEventMons
  000dc	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  000e3	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_03_DropMap@@3HA ; g_iFenrirStuff_03_DropMap
  000e9	75 29		 jne	 SHORT $LN246@gEventMons
  000eb	85 ff		 test	 edi, edi
  000ed	75 29		 jne	 SHORT $LN271@gEventMons

; 4519 : 		{
; 4520 : 			if ( (rand()%10000) < g_iFenrirStuff_03_DropRate ) 

  000ef	e8 00 00 00 00	 call	 _rand
  000f4	99		 cdq
  000f5	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  000fa	f7 f9		 idiv	 ecx
  000fc	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_03_DropRate@@3HA ; g_iFenrirStuff_03_DropRate
  00102	7d 5c		 jge	 SHORT $LN245@gEventMons

; 4521 : 			{
; 4522 : 				bDropStuff = TRUE;
; 4523 : 				type = ItemGetNumberMake(13, 34);

  00104	6a 22		 push	 34			; 00000022H
  00106	6a 0d		 push	 13			; 0000000dH
  00108	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0010d	83 c4 08	 add	 esp, 8
  00110	8b d8		 mov	 ebx, eax

; 4524 : 			}
; 4525 : 		}
; 4526 : 
; 4527 : 		if ( bDropStuff )

  00112	eb 04		 jmp	 SHORT $LN271@gEventMons
$LN246@gEventMons:
  00114	85 ff		 test	 edi, edi
  00116	74 48		 je	 SHORT $LN245@gEventMons
$LN271@gEventMons:

; 4528 : 		{
; 4529 : 			level = 0;
; 4530 : 			x = lpObj->X;
; 4531 : 			y = lpObj->Y;
; 4532 : 			dur = 1.0f;
; 4533 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4534 : 
; 4535 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  00118	6a 00		 push	 0
  0011a	6a 00		 push	 0
  0011c	56		 push	 esi
  0011d	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00122	83 c4 04	 add	 esp, 4
  00125	50		 push	 eax
  00126	6a 00		 push	 0
  00128	6a 00		 push	 0
  0012a	6a 00		 push	 0
  0012c	6a 01		 push	 1
  0012e	6a 00		 push	 0
  00130	53		 push	 ebx
$LN327@gEventMons:
  00131	0f b6 96 46 01
	00 00		 movzx	 edx, BYTE PTR [esi+326]
  00138	0f b6 86 44 01
	00 00		 movzx	 eax, BYTE PTR [esi+324]
  0013f	52		 push	 edx
  00140	50		 push	 eax
$LN328@gEventMons:
  00141	8b 16		 mov	 edx, DWORD PTR [esi]
$LN351@gEventMons:
  00143	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0014a	51		 push	 ecx
  0014b	52		 push	 edx
  0014c	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00151	83 c4 34	 add	 esp, 52			; 00000034H
$LN330@gEventMons:

; 4536 : 
; 4537 : 			return TRUE;

  00154	5f		 pop	 edi
  00155	5e		 pop	 esi
  00156	b8 01 00 00 00	 mov	 eax, 1
  0015b	5b		 pop	 ebx

; 5838 : }

  0015c	8b e5		 mov	 esp, ebp
  0015e	5d		 pop	 ebp
  0015f	c3		 ret	 0
$LN245@gEventMons:

; 4538 : 		}
; 4539 : 	}
; 4540 : 
; 4541 : 	int SocketSphereItemType = 0;
; 4542 :     SocketSphereItemType = g_SocketOption.GetSphereItemIndex(lpObj->Level);

  00160	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  00167	50		 push	 eax
  00168	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0016d	e8 00 00 00 00	 call	 ?GetSphereItemIndex@CSocketOption@@QAEHH@Z ; CSocketOption::GetSphereItemIndex
  00172	8b f8		 mov	 edi, eax

; 4543 :  
; 4544 :     if ( SocketSphereItemType != -1 )// Season 4.5 addon

  00174	83 ff ff	 cmp	 edi, -1
  00177	74 48		 je	 SHORT $LN244@gEventMons

; 4545 :     {
; 4546 :         int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4547 :  
; 4548 :         ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)lpObj->X, (BYTE)lpObj->Y, SocketSphereItemType, 0, 1, 0, 0, 0, MaxHitUser, 0, 0);

  00179	6a 00		 push	 0
  0017b	6a 00		 push	 0
  0017d	56		 push	 esi
  0017e	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00183	0f b6 8e 46 01
	00 00		 movzx	 ecx, BYTE PTR [esi+326]
  0018a	0f b6 96 44 01
	00 00		 movzx	 edx, BYTE PTR [esi+324]
  00191	83 c4 04	 add	 esp, 4
  00194	50		 push	 eax
  00195	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0019c	6a 00		 push	 0
  0019e	6a 00		 push	 0
  001a0	6a 00		 push	 0
  001a2	6a 01		 push	 1
  001a4	6a 00		 push	 0
  001a6	57		 push	 edi
  001a7	51		 push	 ecx
  001a8	8b 0e		 mov	 ecx, DWORD PTR [esi]
  001aa	52		 push	 edx
  001ab	50		 push	 eax
  001ac	51		 push	 ecx
  001ad	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  001b2	83 c4 34	 add	 esp, 52			; 00000034H
  001b5	5f		 pop	 edi
  001b6	5e		 pop	 esi

; 4549 :        
; 4550 :         return TRUE;

  001b7	b8 01 00 00 00	 mov	 eax, 1
  001bc	5b		 pop	 ebx

; 5838 : }

  001bd	8b e5		 mov	 esp, ebp
  001bf	5d		 pop	 ebp
  001c0	c3		 ret	 0
$LN244@gEventMons:

; 4551 :     }
; 4552 : 
; 4553 : 	if ( g_CompoundPotionDropOn == TRUE )

  001c1	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?g_CompoundPotionDropOn@@3HA, 1 ; g_CompoundPotionDropOn
  001c8	0f 85 a0 00 00
	00		 jne	 $LN304@gEventMons

; 4554 : 	{
; 4555 : 		BOOL bDropStuff = FALSE;
; 4556 : 		int iType = 0;
; 4557 : 
; 4558 : 		if ( lpObj->Level >= g_iCompoundPotionLv1DropLevel && (rand()%10000) <= g_iCompoundPotionLv1DropRate && bDropStuff == FALSE )

  001ce	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  001d5	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv1DropLevel@@3HA ; g_iCompoundPotionLv1DropLevel
  001db	7c 19		 jl	 SHORT $LN303@gEventMons
  001dd	e8 00 00 00 00	 call	 _rand
  001e2	99		 cdq
  001e3	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  001e8	f7 f9		 idiv	 ecx
  001ea	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv1DropRate@@3HA ; g_iCompoundPotionLv1DropRate
  001f0	7f 04		 jg	 SHORT $LN303@gEventMons

; 4559 : 		{
; 4560 : 			bDropStuff = TRUE;
; 4561 : 			iType = ItemGetNumberMake(14, 38);

  001f2	6a 26		 push	 38			; 00000026H

; 4562 : 		}
; 4563 : 
; 4564 : 		if ( bDropStuff == FALSE && lpObj->Level >= g_iCompoundPotionLv2DropLevel && (rand()%10000) <= g_iCompoundPotionLv2DropRate  )

  001f4	eb 4e		 jmp	 SHORT $LN323@gEventMons
$LN303@gEventMons:
  001f6	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  001fd	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv2DropLevel@@3HA ; g_iCompoundPotionLv2DropLevel
  00203	7c 19		 jl	 SHORT $LN306@gEventMons
  00205	e8 00 00 00 00	 call	 _rand
  0020a	99		 cdq
  0020b	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00210	f7 f9		 idiv	 ecx
  00212	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv2DropRate@@3HA ; g_iCompoundPotionLv2DropRate
  00218	7f 04		 jg	 SHORT $LN306@gEventMons

; 4565 : 		{
; 4566 : 			bDropStuff = TRUE;
; 4567 : 			iType = ItemGetNumberMake(14, 39);

  0021a	6a 27		 push	 39			; 00000027H

; 4568 : 		}
; 4569 : 		
; 4570 : 		if ( !bDropStuff )

  0021c	eb 26		 jmp	 SHORT $LN323@gEventMons
$LN306@gEventMons:

; 4571 : 		{
; 4572 : 			if ( lpObj->Level >= g_iCompoundPotionLv3DropLevel && (rand()%10000) <= g_iCompoundPotionLv3DropRate )

  0021e	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  00225	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv3DropLevel@@3HA ; g_iCompoundPotionLv3DropLevel
  0022b	7c 41		 jl	 SHORT $LN304@gEventMons
  0022d	e8 00 00 00 00	 call	 _rand
  00232	99		 cdq
  00233	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00238	f7 f9		 idiv	 ecx
  0023a	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv3DropRate@@3HA ; g_iCompoundPotionLv3DropRate
  00240	7f 2c		 jg	 SHORT $LN304@gEventMons

; 4573 : 			{
; 4574 : 				bDropStuff = TRUE;
; 4575 : 				iType = ItemGetNumberMake(14, 40);

  00242	6a 28		 push	 40			; 00000028H
$LN323@gEventMons:
  00244	6a 0e		 push	 14			; 0000000eH
  00246	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0024b	83 c4 08	 add	 esp, 8

; 4576 : 			}
; 4577 : 		}
; 4578 : 
; 4579 : 		if ( bDropStuff == 1 )
; 4580 : 		{
; 4581 : 			int level = 0;
; 4582 : 			int dur = 1;
; 4583 : 			int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4584 : 
; 4585 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)lpObj->X, (BYTE)lpObj->Y, iType, (BYTE)level, (BYTE)dur, 0,0,0, iMaxHitUser, 0, 0);

  0024e	6a 00		 push	 0
  00250	6a 00		 push	 0
  00252	56		 push	 esi
  00253	8b f8		 mov	 edi, eax
  00255	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0025a	83 c4 04	 add	 esp, 4
  0025d	50		 push	 eax
  0025e	6a 00		 push	 0
  00260	6a 00		 push	 0
  00262	6a 00		 push	 0
  00264	6a 01		 push	 1
  00266	6a 00		 push	 0
  00268	57		 push	 edi

; 4586 : 
; 4587 : 			return TRUE;

  00269	e9 c3 fe ff ff	 jmp	 $LN327@gEventMons
$LN304@gEventMons:

; 4588 : 		}
; 4589 : 	}
; 4590 : 
; 4591 : 	if ( gIsItemDropRingOfTransform )

  0026e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsItemDropRingOfTransform@@3HA, 0 ; gIsItemDropRingOfTransform
  00275	0f 84 dd 00 00
	00		 je	 $LN307@gEventMons

; 4592 : 	{
; 4593 : 		if ( (rand()%10000) < gItemDropRingOfTransform )

  0027b	e8 00 00 00 00	 call	 _rand
  00280	99		 cdq
  00281	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00286	f7 f9		 idiv	 ecx
  00288	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gItemDropRingOfTransform@@3HA ; gItemDropRingOfTransform
  0028e	0f 8d c4 00 00
	00		 jge	 $LN307@gEventMons

; 4594 : 		{
; 4595 : 			LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  00294	0f b7 96 b8 00
	00 00		 movzx	 edx, WORD PTR [esi+184]
  0029b	52		 push	 edx
  0029c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  002a1	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 4596 : 
; 4597 : 			if ( lpattr )

  002a6	85 c0		 test	 eax, eax
  002a8	0f 84 aa 00 00
	00		 je	 $LN307@gEventMons

; 4598 : 			{
; 4599 : 				int level = lpattr->m_Level;

  002ae	8b 48 1c	 mov	 ecx, DWORD PTR [eax+28]

; 4600 : 				int callbead_level = 0;
; 4601 : 
; 4602 : 				if ( level < 0 )

  002b1	85 c9		 test	 ecx, ecx
  002b3	79 02		 jns	 SHORT $LN234@gEventMons

; 4603 : 					level = 0;

  002b5	33 c9		 xor	 ecx, ecx
$LN234@gEventMons:

; 4604 : 
; 4605 : 				callbead_level = level / 10;

  002b7	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  002bc	f7 e9		 imul	 ecx
  002be	c1 fa 02	 sar	 edx, 2
  002c1	8b fa		 mov	 edi, edx
  002c3	c1 ef 1f	 shr	 edi, 31			; 0000001fH
  002c6	03 fa		 add	 edi, edx

; 4606 : 
; 4607 : 				if ( callbead_level > 0 )

  002c8	85 ff		 test	 edi, edi
  002ca	7e 01		 jle	 SHORT $LN233@gEventMons

; 4608 : 					callbead_level--;

  002cc	4f		 dec	 edi
$LN233@gEventMons:

; 4609 : 
; 4610 : 				if ( callbead_level > 5 )

  002cd	83 ff 05	 cmp	 edi, 5
  002d0	7e 05		 jle	 SHORT $LN232@gEventMons

; 4611 : 					callbead_level = 5;

  002d2	bf 05 00 00 00	 mov	 edi, 5
$LN232@gEventMons:

; 4612 : 
; 4613 : 				dur = rand()%100+100.0f;

  002d7	e8 00 00 00 00	 call	 _rand
  002dc	99		 cdq
  002dd	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  002e2	f7 f9		 idiv	 ecx

; 4614 : 				x = lpObj->X;

  002e4	0f bf 9e 44 01
	00 00		 movsx	 ebx, WORD PTR [esi+324]

; 4615 : 				y = lpObj->Y;
; 4616 : 				level = callbead_level;
; 4617 : 				type = ItemGetNumberMake(13, 10);

  002eb	6a 0a		 push	 10			; 0000000aH
  002ed	6a 0d		 push	 13			; 0000000dH
  002ef	89 55 f4	 mov	 DWORD PTR tv3131[ebp], edx
  002f2	db 45 f4	 fild	 DWORD PTR tv3131[ebp]
  002f5	0f bf 96 46 01
	00 00		 movsx	 edx, WORD PTR [esi+326]
  002fc	89 55 f4	 mov	 DWORD PTR _y$[ebp], edx
  002ff	dc 05 00 00 00
	00		 fadd	 QWORD PTR __real@4059000000000000
  00305	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]
  00308	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0030d	83 c4 08	 add	 esp, 8

; 4618 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4619 : 
; 4620 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00310	6a 00		 push	 0
  00312	6a 00		 push	 0
  00314	56		 push	 esi
  00315	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  00318	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0031d	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00320	83 c4 04	 add	 esp, 4
  00323	d9 7d fe	 fnstcw	 WORD PTR tv3125[ebp]
  00326	50		 push	 eax
  00327	0f b7 45 fe	 movzx	 eax, WORD PTR tv3125[ebp]
  0032b	8b 55 f8	 mov	 edx, DWORD PTR _type$[ebp]
  0032e	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00333	89 45 f0	 mov	 DWORD PTR tv3122[ebp], eax
  00336	6a 00		 push	 0
  00338	6a 00		 push	 0
  0033a	d9 6d f0	 fldcw	 WORD PTR tv3122[ebp]
  0033d	6a 00		 push	 0
  0033f	db 5d f0	 fistp	 DWORD PTR tv3120[ebp]
  00342	8a 45 f0	 mov	 al, BYTE PTR tv3120[ebp]
  00345	0f b6 c8	 movzx	 ecx, al
  00348	8b 45 f4	 mov	 eax, DWORD PTR _y$[ebp]
  0034b	d9 6d fe	 fldcw	 WORD PTR tv3125[ebp]
  0034e	51		 push	 ecx
  0034f	57		 push	 edi
  00350	52		 push	 edx
  00351	50		 push	 eax
  00352	53		 push	 ebx

; 4621 : 
; 4622 : 				return TRUE;

  00353	e9 e9 fd ff ff	 jmp	 $LN328@gEventMons
$LN307@gEventMons:

; 4623 : 			}
; 4624 : 		}
; 4625 : 	}
; 4626 : 
; 4627 : 	if ( gFireCrackerEvent ) 

  00358	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gFireCrackerEvent@@3HA, 0 ; gFireCrackerEvent
  0035f	bf 11 00 00 00	 mov	 edi, 17			; 00000011H
  00364	0f 84 68 01 00
	00		 je	 $LN312@gEventMons

; 4628 : 	{
; 4629 : 		if ( gLanguage == 0 )	// If Korea

  0036a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gLanguage@@3HA, 0 ; gLanguage
  00371	0f 85 a6 00 00
	00		 jne	 $LN230@gEventMons

; 4630 : 		{
; 4631 : 			if ( lpObj->MapNumber < 7 )

  00377	80 be 49 01 00
	00 07		 cmp	 BYTE PTR [esi+329], 7
  0037e	0f 83 4e 01 00
	00		 jae	 $LN312@gEventMons

; 4632 : 			{
; 4633 : 				LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  00384	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  0038b	50		 push	 eax
  0038c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  00391	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 4634 : 
; 4635 : 				if ( lpattr )

  00396	85 c0		 test	 eax, eax
  00398	0f 84 34 01 00
	00		 je	 $LN312@gEventMons

; 4636 : 				{
; 4637 : 					if ( lpattr->m_Level >= 17 )

  0039e	39 78 1c	 cmp	 DWORD PTR [eax+28], edi
  003a1	0f 8c 2b 01 00
	00		 jl	 $LN312@gEventMons

; 4638 : 					{
; 4639 : 						if ( (rand()%10000) < gFireCrackerDropRate )

  003a7	e8 00 00 00 00	 call	 _rand
  003ac	99		 cdq
  003ad	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  003b2	f7 f9		 idiv	 ecx
  003b4	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gFireCrackerDropRate@@3HA ; gFireCrackerDropRate
  003ba	0f 8d 12 01 00
	00		 jge	 $LN312@gEventMons

; 4640 : 						{
; 4641 : 							dur = 255.0f;
; 4642 : 							x = lpObj->X;

  003c0	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4643 : 							y = lpObj->Y;

  003c7	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 4644 : 							level = 2;
; 4645 : 							type = ItemGetNumberMake(14, 11);

  003ce	6a 0b		 push	 11			; 0000000bH
  003d0	6a 0e		 push	 14			; 0000000eH
  003d2	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  003d7	83 c4 08	 add	 esp, 8

; 4646 : 							int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4647 : 
; 4648 : 							ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  003da	6a 00		 push	 0
  003dc	6a 00		 push	 0
  003de	56		 push	 esi
  003df	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  003e2	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  003e7	83 c4 04	 add	 esp, 4
  003ea	50		 push	 eax
  003eb	6a 00		 push	 0
  003ed	6a 00		 push	 0
  003ef	6a 00		 push	 0
  003f1	68 ff 00 00 00	 push	 255			; 000000ffH
  003f6	6a 02		 push	 2
$LN332@gEventMons:
  003f8	8b 55 f8	 mov	 edx, DWORD PTR _type$[ebp]
  003fb	52		 push	 edx
  003fc	53		 push	 ebx
  003fd	57		 push	 edi
$LN333@gEventMons:
  003fe	8b 0e		 mov	 ecx, DWORD PTR [esi]
$LN352@gEventMons:
  00400	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00407	50		 push	 eax
  00408	51		 push	 ecx
  00409	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0040e	83 c4 34	 add	 esp, 52			; 00000034H
  00411	5f		 pop	 edi
  00412	5e		 pop	 esi
  00413	b8 01 00 00 00	 mov	 eax, 1
  00418	5b		 pop	 ebx

; 5838 : }

  00419	8b e5		 mov	 esp, ebp
  0041b	5d		 pop	 ebp
  0041c	c3		 ret	 0
$LN230@gEventMons:

; 4649 : 
; 4650 : 							return TRUE;
; 4651 : 						}
; 4652 : 					}
; 4653 : 				}
; 4654 : 			}
; 4655 : 		}
; 4656 : 		else	// Only Fall on Party
; 4657 : 		{
; 4658 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  0041d	56		 push	 esi
  0041e	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00423	83 c4 04	 add	 esp, 4
  00426	89 45 f0	 mov	 DWORD PTR _MaxHitUser$229099[ebp], eax

; 4659 : 
; 4660 : 			if ( MaxHitUser != -1 )

  00429	83 f8 ff	 cmp	 eax, -1
  0042c	0f 84 a0 00 00
	00		 je	 $LN312@gEventMons

; 4661 : 			{
; 4662 : 				int partycount = gParty.GetPartyCount(gObj[MaxHitUser].PartyNumber);

  00432	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00438	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0043e	8b 84 10 2c 04
	00 00		 mov	 eax, DWORD PTR [eax+edx+1068]
  00445	50		 push	 eax
  00446	b9 00 00 00 00	 mov	 ecx, OFFSET ?gParty@@3VPartyClass@@A ; gParty
  0044b	e8 00 00 00 00	 call	 ?GetPartyCount@PartyClass@@QAEHH@Z ; PartyClass::GetPartyCount

; 4663 : 
; 4664 : 				if ( partycount > 0 )

  00450	85 c0		 test	 eax, eax
  00452	7e 7e		 jle	 SHORT $LN312@gEventMons

; 4665 : 				{
; 4666 : 					LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  00454	0f b7 8e b8 00
	00 00		 movzx	 ecx, WORD PTR [esi+184]
  0045b	51		 push	 ecx
  0045c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  00461	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 4667 : 
; 4668 : 					if ( lpattr )

  00466	85 c0		 test	 eax, eax
  00468	74 68		 je	 SHORT $LN312@gEventMons

; 4669 : 					{
; 4670 : 						if ( lpattr->m_Level >= 17 )

  0046a	39 78 1c	 cmp	 DWORD PTR [eax+28], edi
  0046d	7c 63		 jl	 SHORT $LN312@gEventMons

; 4671 : 						{
; 4672 : 							if ( (rand()%10000) < gFireCrackerDropRate )

  0046f	e8 00 00 00 00	 call	 _rand
  00474	99		 cdq
  00475	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0047a	f7 f9		 idiv	 ecx
  0047c	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gFireCrackerDropRate@@3HA ; gFireCrackerDropRate
  00482	7d 4e		 jge	 SHORT $LN312@gEventMons

; 4673 : 							{
; 4674 : 								dur = 255.0f;
; 4675 : 								x = lpObj->X;

  00484	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4676 : 								y = lpObj->Y;

  0048b	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 4677 : 								level = 2;
; 4678 : 								type = ItemGetNumberMake(14, 11);

  00492	6a 0b		 push	 11			; 0000000bH
  00494	6a 0e		 push	 14			; 0000000eH
  00496	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 4679 : 
; 4680 : 								ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0049b	8b 55 f0	 mov	 edx, DWORD PTR _MaxHitUser$229099[ebp]
  0049e	6a 00		 push	 0
  004a0	8b 0e		 mov	 ecx, DWORD PTR [esi]
  004a2	6a 00		 push	 0
  004a4	52		 push	 edx
  004a5	6a 00		 push	 0
  004a7	6a 00		 push	 0
  004a9	6a 00		 push	 0
  004ab	68 ff 00 00 00	 push	 255			; 000000ffH
  004b0	6a 02		 push	 2
  004b2	50		 push	 eax
  004b3	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  004ba	53		 push	 ebx
  004bb	57		 push	 edi
  004bc	50		 push	 eax
  004bd	51		 push	 ecx
  004be	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  004c3	83 c4 3c	 add	 esp, 60			; 0000003cH
  004c6	5f		 pop	 edi
  004c7	5e		 pop	 esi
  004c8	b8 01 00 00 00	 mov	 eax, 1
  004cd	5b		 pop	 ebx

; 5838 : }

  004ce	8b e5		 mov	 esp, ebp
  004d0	5d		 pop	 ebp
  004d1	c3		 ret	 0
$LN312@gEventMons:

; 4681 : 
; 4682 : 								return TRUE;
; 4683 : 							}
; 4684 : 						}
; 4685 : 					}
; 4686 : 				}
; 4687 : 			}
; 4688 : 		}
; 4689 : 	}
; 4690 : 
; 4691 : 	if ( gXMasEvent )

  004d2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gXMasEvent@@3HA, 0 ; gXMasEvent
  004d9	74 1e		 je	 SHORT $LN293@gEventMons

; 4692 : 	{
; 4693 : 		if ( !StarOfXMasItemBag )

  004db	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?StarOfXMasItemBag@@3PAVCItemBagZt@@A ; StarOfXMasItemBag
  004e1	85 c9		 test	 ecx, ecx

; 4694 : 			return FALSE;

  004e3	0f 84 a9 15 00
	00		 je	 $LN1@gEventMons

; 4695 : 
; 4696 : 		if ( StarOfXMasItemBag->DropEventItem(lpObj->m_Index) )

  004e9	8b 16		 mov	 edx, DWORD PTR [esi]
  004eb	52		 push	 edx
  004ec	e8 00 00 00 00	 call	 ?DropEventItem@CItemBagZt@@QAEHH@Z ; CItemBagZt::DropEventItem
  004f1	85 c0		 test	 eax, eax

; 4697 : 			return TRUE;

  004f3	0f 85 5b fc ff
	ff		 jne	 $LN330@gEventMons
$LN293@gEventMons:

; 4698 : 	}
; 4699 : 
; 4700 : 	if ( gHeartOfLoveEvent )

  004f9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gHeartOfLoveEvent@@3HA, 0 ; gHeartOfLoveEvent
  00500	0f 84 9b 00 00
	00		 je	 $LN317@gEventMons

; 4701 : 	{
; 4702 : 		if ( gLanguage == 2 )

  00506	83 3d 00 00 00
	00 02		 cmp	 DWORD PTR ?gLanguage@@3HA, 2 ; gLanguage
  0050d	75 6e		 jne	 SHORT $LN215@gEventMons

; 4703 : 		{
; 4704 : 			LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  0050f	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00516	50		 push	 eax
  00517	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  0051c	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 4705 : 
; 4706 : 			if ( lpattr )

  00521	85 c0		 test	 eax, eax
  00523	74 7c		 je	 SHORT $LN317@gEventMons

; 4707 : 			{
; 4708 : 				if ( lpattr->m_Level >=15 )

  00525	83 78 1c 0f	 cmp	 DWORD PTR [eax+28], 15	; 0000000fH
$LN335@gEventMons:
  00529	7c 76		 jl	 SHORT $LN317@gEventMons

; 4709 : 				{
; 4710 : 					if ( (rand()%10000) < gHeartOfLoveDropRate )

  0052b	e8 00 00 00 00	 call	 _rand
  00530	99		 cdq
  00531	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00536	f7 f9		 idiv	 ecx
  00538	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gHeartOfLoveDropRate@@3HA ; gHeartOfLoveDropRate
  0053e	7d 61		 jge	 SHORT $LN317@gEventMons

; 4711 : 					{
; 4712 : 						dur = 255.0f;
; 4713 : 						x = lpObj->X;

  00540	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4714 : 						y = lpObj->Y;

  00547	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 4715 : 						level = 3;
; 4716 : 						type = ItemGetNumberMake(14, 11);

  0054e	6a 0b		 push	 11			; 0000000bH
  00550	6a 0e		 push	 14			; 0000000eH
  00552	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00557	83 c4 08	 add	 esp, 8

; 4717 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4718 : 
; 4719 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0055a	6a 00		 push	 0
  0055c	6a 00		 push	 0
  0055e	56		 push	 esi
  0055f	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  00562	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00567	83 c4 04	 add	 esp, 4
  0056a	50		 push	 eax
  0056b	6a 00		 push	 0
  0056d	6a 00		 push	 0
  0056f	6a 00		 push	 0
  00571	68 ff 00 00 00	 push	 255			; 000000ffH
  00576	6a 03		 push	 3

; 4720 : 
; 4721 : 						return TRUE;

  00578	e9 7b fe ff ff	 jmp	 $LN332@gEventMons
$LN215@gEventMons:

; 4722 : 					}
; 4723 : 				}
; 4724 : 			}
; 4725 : 		}
; 4726 : 		else
; 4727 : 		{
; 4728 : 			if ( lpObj->MapNumber < 7 )

  0057d	80 be 49 01 00
	00 07		 cmp	 BYTE PTR [esi+329], 7
  00584	73 1b		 jae	 SHORT $LN317@gEventMons

; 4729 : 			{
; 4730 : 				LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  00586	0f b7 96 b8 00
	00 00		 movzx	 edx, WORD PTR [esi+184]
  0058d	52		 push	 edx
  0058e	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  00593	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 4731 : 
; 4732 : 				if ( lpattr )

  00598	85 c0		 test	 eax, eax
  0059a	74 05		 je	 SHORT $LN317@gEventMons

; 4733 : 				{
; 4734 : 					if ( lpattr->m_Level >=17 )

  0059c	39 78 1c	 cmp	 DWORD PTR [eax+28], edi

; 4735 : 					{
; 4736 : 						if ( (rand()%10000) < gHeartOfLoveDropRate )
; 4737 : 						{
; 4738 : 							dur = 255.0f;
; 4739 : 							x = lpObj->X;
; 4740 : 							y = lpObj->Y;
; 4741 : 							level = 3;
; 4742 : 							type = ItemGetNumberMake(14, 11);
; 4743 : 							int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4744 : 
; 4745 : 							ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 4746 : 
; 4747 : 							return TRUE;

  0059f	eb 88		 jmp	 SHORT $LN335@gEventMons
$LN317@gEventMons:

; 4748 : 						}
; 4749 : 					}
; 4750 : 				}
; 4751 : 			}
; 4752 : 		}
; 4753 : 	}
; 4754 : 	
; 4755 : 	if ( gMedalEvent )

  005a1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gMedalEvent@@3HA, 0 ; gMedalEvent
  005a8	0f 84 e3 00 00
	00		 je	 $LN321@gEventMons

; 4756 : 	{
; 4757 : 		#if(ENABLE_NSGAME_UPDATE)
; 4758 : 
; 4759 : 		if(g_ZtLicense.CheckUser(eZtUB::NSGames))

  005ae	6a 51		 push	 81			; 00000051H
  005b0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  005b5	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  005ba	84 c0		 test	 al, al
  005bc	0f 84 cf 00 00
	00		 je	 $LN321@gEventMons

; 4760 : 		{
; 4761 : 			if ( lpObj->Level >= gSilverMedalDropLevelMonsterMin && lpObj->Level <= gSilverMedalDropLevelMonsterMax )

  005c2	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  005c9	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gSilverMedalDropLevelMonsterMin@@3HA ; gSilverMedalDropLevelMonsterMin
  005cf	7c 5e		 jl	 SHORT $LN204@gEventMons
  005d1	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gSilverMedalDropLevelMonsterMax@@3HA ; gSilverMedalDropLevelMonsterMax
  005d7	7f 56		 jg	 SHORT $LN204@gEventMons

; 4762 : 			{
; 4763 : 				if ( (rand()%10000) < gSilverMedalDropRate )

  005d9	e8 00 00 00 00	 call	 _rand
  005de	99		 cdq
  005df	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  005e4	f7 f9		 idiv	 ecx
  005e6	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSilverMedalDropRate@@3HA ; gSilverMedalDropRate
  005ec	0f 8d 9f 00 00
	00		 jge	 $LN321@gEventMons

; 4764 : 				{
; 4765 : 					dur = 255.0f;
; 4766 : 					x = lpObj->X;

  005f2	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4767 : 					y = lpObj->Y;

  005f9	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 4768 : 					level = 5;
; 4769 : 					type = ItemGetNumberMake(14, 11);

  00600	6a 0b		 push	 11			; 0000000bH
  00602	6a 0e		 push	 14			; 0000000eH
  00604	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00609	83 c4 08	 add	 esp, 8

; 4770 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4771 : 
; 4772 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0060c	6a 00		 push	 0
  0060e	6a 00		 push	 0
  00610	56		 push	 esi
  00611	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  00614	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00619	83 c4 04	 add	 esp, 4
  0061c	50		 push	 eax
  0061d	6a 00		 push	 0
  0061f	6a 00		 push	 0
  00621	6a 00		 push	 0
  00623	68 ff 00 00 00	 push	 255			; 000000ffH
  00628	6a 05		 push	 5

; 4773 : 
; 4774 : 					return TRUE;

  0062a	e9 c9 fd ff ff	 jmp	 $LN332@gEventMons
$LN204@gEventMons:

; 4775 : 				}
; 4776 : 			}
; 4777 : 			else if ( lpObj->Level >= gGoldMedalDropLevelMonsterMin && lpObj->Level <= gGoldMedalDropLevelMonsterMax )	// Gold Medal

  0062f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gGoldMedalDropLevelMonsterMin@@3HA ; gGoldMedalDropLevelMonsterMin
  00635	7c 5a		 jl	 SHORT $LN321@gEventMons
  00637	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gGoldMedalDropLevelMonsterMax@@3HA ; gGoldMedalDropLevelMonsterMax
  0063d	7f 52		 jg	 SHORT $LN321@gEventMons

; 4778 : 			{
; 4779 : 				if ( (rand()%10000) < gGoldMedalDropRate )

  0063f	e8 00 00 00 00	 call	 _rand
  00644	99		 cdq
  00645	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0064a	f7 f9		 idiv	 ecx
  0064c	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gGoldMedalDropRate@@3HA ; gGoldMedalDropRate
  00652	7d 3d		 jge	 SHORT $LN321@gEventMons

; 4780 : 				{
; 4781 : 					dur = 255.0f;
; 4782 : 					x = lpObj->X;

  00654	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4783 : 					y = lpObj->Y;

  0065b	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 4784 : 					level = 6;
; 4785 : 					type = ItemGetNumberMake(14, 11);

  00662	6a 0b		 push	 11			; 0000000bH
  00664	6a 0e		 push	 14			; 0000000eH
  00666	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0066b	83 c4 08	 add	 esp, 8

; 4786 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4787 : 
; 4788 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0066e	6a 00		 push	 0
  00670	6a 00		 push	 0
  00672	56		 push	 esi
  00673	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  00676	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0067b	83 c4 04	 add	 esp, 4
  0067e	50		 push	 eax
  0067f	6a 00		 push	 0
  00681	6a 00		 push	 0
  00683	6a 00		 push	 0
  00685	68 ff 00 00 00	 push	 255			; 000000ffH
  0068a	6a 06		 push	 6

; 4789 : 
; 4790 : 					return TRUE;

  0068c	e9 67 fd ff ff	 jmp	 $LN332@gEventMons
$LN321@gEventMons:

; 4791 : 				}
; 4792 : 			}
; 4793 : 		}
; 4794 : 		#else
; 4795 : 		else
; 4796 : 		{
; 4797 : 			if ( lpObj->MapNumber == 1 || lpObj->MapNumber == 2 )
; 4798 : 			{
; 4799 : 				if ( (rand()%10000) < gSilverMedalDropRate )
; 4800 : 				{
; 4801 : 					dur = 255.0f;
; 4802 : 					x = lpObj->X;
; 4803 : 					y = lpObj->Y;
; 4804 : 					level = 5;
; 4805 : 					type = ItemGetNumberMake(14, 11);
; 4806 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4807 : 
; 4808 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 4809 : 
; 4810 : 					return TRUE;
; 4811 : 				}
; 4812 : 			}
; 4813 : 			else if ( lpObj->MapNumber == 4 || lpObj->MapNumber == 7 || lpObj->MapNumber == 8 )	// Gold Medal
; 4814 : 			{
; 4815 : 				if ( (rand()%10000) < gGoldMedalDropRate )
; 4816 : 				{
; 4817 : 					dur = 255.0f;
; 4818 : 					x = lpObj->X;
; 4819 : 					y = lpObj->Y;
; 4820 : 					level = 6;
; 4821 : 					type = ItemGetNumberMake(14, 11);
; 4822 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4823 : 
; 4824 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 4825 : 
; 4826 : 					return TRUE;
; 4827 : 				}
; 4828 : 			}
; 4829 : 		}
; 4830 : 		#endif
; 4831 : 	}
; 4832 : 
; 4833 : 	if ( gEventChipEvent )

  00691	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEventChipEvent@@3HA, 0 ; gEventChipEvent
  00698	74 52		 je	 SHORT $LN322@gEventMons

; 4834 : 	{
; 4835 : 		if ( (rand()%10000) < gBoxOfGoldDropRate )

  0069a	e8 00 00 00 00	 call	 _rand
  0069f	99		 cdq
  006a0	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  006a5	f7 f9		 idiv	 ecx
  006a7	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gBoxOfGoldDropRate@@3HA ; gBoxOfGoldDropRate
  006ad	7d 3d		 jge	 SHORT $LN322@gEventMons

; 4836 : 		{
; 4837 : 			dur = 255.0f;
; 4838 : 			x = lpObj->X;

  006af	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4839 : 			y = lpObj->Y;

  006b6	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 4840 : 			level = 7;
; 4841 : 			type = ItemGetNumberMake(14, 11);

  006bd	6a 0b		 push	 11			; 0000000bH
  006bf	6a 0e		 push	 14			; 0000000eH
  006c1	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  006c6	83 c4 08	 add	 esp, 8

; 4842 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4843 : 
; 4844 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  006c9	6a 00		 push	 0
  006cb	6a 00		 push	 0
  006cd	56		 push	 esi
  006ce	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  006d1	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  006d6	83 c4 04	 add	 esp, 4
  006d9	50		 push	 eax
  006da	6a 00		 push	 0
  006dc	6a 00		 push	 0
  006de	6a 00		 push	 0
  006e0	68 ff 00 00 00	 push	 255			; 000000ffH
  006e5	6a 07		 push	 7

; 4845 : 
; 4846 : 			return TRUE;

  006e7	e9 0c fd ff ff	 jmp	 $LN332@gEventMons
$LN322@gEventMons:

; 4847 : 		}
; 4848 : 	}
; 4849 : 
; 4850 : 	if ( szAuthKey[16] != AUTHKEY16 )

  006ec	80 3d 10 00 00
	00 b3		 cmp	 BYTE PTR ?szAuthKey@@3PADA+16, -77 ; ffffffb3H
  006f3	74 05		 je	 SHORT $LN197@gEventMons

; 4851 : 	{
; 4852 : 		DestroyGIocp();

  006f5	e8 00 00 00 00	 call	 ?DestroyGIocp@@YAXXZ	; DestroyGIocp
$LN197@gEventMons:

; 4853 : 	}
; 4854 : 
; 4855 : 	if ( (rand()%10000) < g_iKundunMarkDropRate )

  006fa	e8 00 00 00 00	 call	 _rand
  006ff	99		 cdq
  00700	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00705	f7 f9		 idiv	 ecx
  00707	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKundunMarkDropRate@@3HA ; g_iKundunMarkDropRate
  0070d	0f 8d e1 00 00
	00		 jge	 $LN196@gEventMons

; 4856 : 	{
; 4857 : 		Option1=0;
; 4858 : 		Option2=0;
; 4859 : 		Option3=0;
; 4860 : 		dur = 1.0f;
; 4861 : 		x = lpObj->X;
; 4862 : 		y = lpObj->Y;

  00713	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  0071a	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  00721	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 4863 : 		level = 0;
; 4864 : 
; 4865 : #if(ENABLE_CHARLVL1000)
; 4866 : 
; 4867 : 		if ( lpObj->Level < 25 )

  00724	0f b7 86 be 00
	00 00		 movzx	 eax, WORD PTR [esi+190]
  0072b	89 55 f8	 mov	 DWORD PTR _x$[ebp], edx
  0072e	66 83 f8 19	 cmp	 ax, 25			; 00000019H

; 4868 : 			level = 0;

  00732	0f 8c 5a 13 00
	00		 jl	 $LN1@gEventMons

; 4869 : 		else if ( lpObj->Level < 47 )

  00738	66 83 f8 2f	 cmp	 ax, 47			; 0000002fH
  0073c	7d 07		 jge	 SHORT $LN193@gEventMons

; 4870 : 			level = 1;

  0073e	bf 01 00 00 00	 mov	 edi, 1
  00743	eb 62		 jmp	 SHORT $LN180@gEventMons
$LN193@gEventMons:

; 4871 : 		else if ( lpObj->Level < 66 )

  00745	66 83 f8 42	 cmp	 ax, 66			; 00000042H
  00749	7d 07		 jge	 SHORT $LN191@gEventMons

; 4872 : 			level = 2;

  0074b	bf 02 00 00 00	 mov	 edi, 2
  00750	eb 55		 jmp	 SHORT $LN180@gEventMons
$LN191@gEventMons:

; 4873 : 		else if ( lpObj->Level < 78 )

  00752	66 83 f8 4e	 cmp	 ax, 78			; 0000004eH
  00756	7d 07		 jge	 SHORT $LN189@gEventMons

; 4874 : 			level = 3;

  00758	bf 03 00 00 00	 mov	 edi, 3
  0075d	eb 48		 jmp	 SHORT $LN180@gEventMons
$LN189@gEventMons:

; 4875 : 		else if ( lpObj->Level < 84 )

  0075f	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  00763	7d 07		 jge	 SHORT $LN187@gEventMons

; 4876 : 			level = 4;

  00765	bf 04 00 00 00	 mov	 edi, 4
  0076a	eb 3b		 jmp	 SHORT $LN180@gEventMons
$LN187@gEventMons:

; 4877 : 		else if ( lpObj->Level < 92 )

  0076c	66 83 f8 5c	 cmp	 ax, 92			; 0000005cH
  00770	7d 07		 jge	 SHORT $LN185@gEventMons

; 4878 : 			level = 5;

  00772	bf 05 00 00 00	 mov	 edi, 5
  00777	eb 2e		 jmp	 SHORT $LN180@gEventMons
$LN185@gEventMons:

; 4879 : 		else if ( lpObj->Level < 114 )

  00779	66 83 f8 72	 cmp	 ax, 114			; 00000072H
  0077d	7d 07		 jge	 SHORT $LN183@gEventMons

; 4880 : 			level = 6;

  0077f	bf 06 00 00 00	 mov	 edi, 6
  00784	eb 21		 jmp	 SHORT $LN180@gEventMons
$LN183@gEventMons:

; 4881 : 		else if ( lpObj->Level > 115 && lpObj->Level < ZtConfig.ZtCustom.MaxLevel+1 )

  00786	66 83 f8 73	 cmp	 ax, 115			; 00000073H
  0078a	0f 8e 02 13 00
	00		 jle	 $LN1@gEventMons
  00790	8b 0d 24 00 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+36
  00796	0f bf d0	 movsx	 edx, ax
  00799	41		 inc	 ecx
  0079a	3b d1		 cmp	 edx, ecx
  0079c	0f 8d f0 12 00
	00		 jge	 $LN1@gEventMons

; 4882 : 			level = 7;

  007a2	bf 07 00 00 00	 mov	 edi, 7
$LN180@gEventMons:

; 4883 : 
; 4884 : #else
; 4885 : 
; 4886 : 		if ( lpObj->Level < 25 )
; 4887 : 			level = 0;
; 4888 : 		else if ( lpObj->Level < 47 )
; 4889 : 			level = 1;
; 4890 : 		else if ( lpObj->Level < 66 )
; 4891 : 			level = 2;
; 4892 : 		else if ( lpObj->Level < 78 )
; 4893 : 			level = 3;
; 4894 : 		else if ( lpObj->Level < 84 )
; 4895 : 			level = 4;
; 4896 : 		else if ( lpObj->Level < 92 )
; 4897 : 			level = 5;
; 4898 : 		else if ( lpObj->Level < 114 )
; 4899 : 			level = 6;
; 4900 : 		else if ( lpObj->Level > 115 && lpObj->Level < MAX_CHAR_LEVEL+1 )
; 4901 : 			level = 7;
; 4902 : 
; 4903 : #endif
; 4904 : 
; 4905 : 
; 4906 : 
; 4907 : 		if ( level == 0 )
; 4908 : 			return FALSE;
; 4909 : 
; 4910 : 		type = ItemGetNumberMake(14, 29);

  007a7	6a 1d		 push	 29			; 0000001dH
  007a9	6a 0e		 push	 14			; 0000000eH
  007ab	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  007b0	83 c4 08	 add	 esp, 8

; 4911 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4912 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  007b3	6a 00		 push	 0
  007b5	6a 00		 push	 0
  007b7	56		 push	 esi
  007b8	8b d8		 mov	 ebx, eax
  007ba	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  007bf	8b 4d f8	 mov	 ecx, DWORD PTR _x$[ebp]
  007c2	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  007c9	83 c4 04	 add	 esp, 4
  007cc	50		 push	 eax
  007cd	8b 45 f4	 mov	 eax, DWORD PTR _y$[ebp]
  007d0	6a 00		 push	 0
  007d2	6a 00		 push	 0
  007d4	6a 00		 push	 0
  007d6	6a 01		 push	 1
  007d8	57		 push	 edi
  007d9	53		 push	 ebx
  007da	50		 push	 eax
  007db	8b 06		 mov	 eax, DWORD PTR [esi]
  007dd	51		 push	 ecx
  007de	52		 push	 edx
  007df	50		 push	 eax
  007e0	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  007e5	83 c4 34	 add	 esp, 52			; 00000034H
  007e8	5f		 pop	 edi
  007e9	5e		 pop	 esi
  007ea	b8 01 00 00 00	 mov	 eax, 1
  007ef	5b		 pop	 ebx

; 5838 : }

  007f0	8b e5		 mov	 esp, ebp
  007f2	5d		 pop	 ebp
  007f3	c3		 ret	 0
$LN196@gEventMons:

; 4913 : 
; 4914 : 		return TRUE;
; 4915 : 	}
; 4916 : 
; 4917 : 	if ( (rand()%10000) < g_iMarkOfTheLord )

  007f4	e8 00 00 00 00	 call	 _rand
  007f9	99		 cdq
  007fa	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  007ff	f7 f9		 idiv	 ecx
  00801	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iMarkOfTheLord@@3HA ; g_iMarkOfTheLord
  00807	7d 3a		 jge	 SHORT $LN179@gEventMons

; 4918 : 	{
; 4919 : 		Option1=0;
; 4920 : 		Option2=0;
; 4921 : 		Option3=0;
; 4922 : 		level = 3;
; 4923 : 		dur = 1.0f;
; 4924 : 		x = lpObj->X;

  00809	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4925 : 		y = lpObj->Y;

  00810	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 4926 : 		type = ItemGetNumberMake(14, 21);

  00817	6a 15		 push	 21			; 00000015H
  00819	6a 0e		 push	 14			; 0000000eH
  0081b	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00820	83 c4 08	 add	 esp, 8

; 4927 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4928 : 
; 4929 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00823	6a 00		 push	 0
  00825	6a 00		 push	 0
  00827	56		 push	 esi
  00828	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  0082b	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00830	83 c4 04	 add	 esp, 4
  00833	50		 push	 eax
  00834	6a 00		 push	 0
  00836	6a 00		 push	 0
  00838	6a 00		 push	 0
  0083a	6a 01		 push	 1
  0083c	6a 03		 push	 3
  0083e	e9 b5 fb ff ff	 jmp	 $LN332@gEventMons
$LN179@gEventMons:

; 4930 : 
; 4931 : 		return TRUE;
; 4932 : 	}
; 4933 : 
; 4934 : #ifdef INTERNATIONAL_JAPAN
; 4935 : 	if ( (rand()%10000) < g_iJapan1StAnivItemDropRate )

  00843	e8 00 00 00 00	 call	 _rand
  00848	99		 cdq
  00849	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0084e	f7 f9		 idiv	 ecx
  00850	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iJapan1StAnivItemDropRate@@3HA ; g_iJapan1StAnivItemDropRate
  00856	0f 8d 7e 01 00
	00		 jge	 $LN175@gEventMons

; 4936 : 	{
; 4937 : 		if ( lpTargetObj->PartyNumber >= 0 )

  0085c	8b 55 0c	 mov	 edx, DWORD PTR _lpTargetObj$[ebp]
  0085f	83 ba 2c 04 00
	00 00		 cmp	 DWORD PTR [edx+1068], 0
  00866	0f 8c 6e 01 00
	00		 jl	 $LN175@gEventMons

; 4938 : 		{
; 4939 : 			dur = 255.0f;
; 4940 : 			x = lpObj->X;
; 4941 : 			y = lpObj->Y;

  0086c	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  00873	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@437f0000
  00879	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]
  00880	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]

; 4942 : 			type = ItemGetNumberMake(14,20);

  00883	6a 14		 push	 20			; 00000014H
  00885	6a 0e		 push	 14			; 0000000eH
  00887	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax
  0088a	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 4943 : 
; 4944 : 			switch ( lpObj->MapNumber )

  0088f	8a 9e 49 01 00
	00		 mov	 bl, BYTE PTR [esi+329]
  00895	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  00898	0f b6 c3	 movzx	 eax, bl
  0089b	83 c4 08	 add	 esp, 8
  0089e	83 f8 08	 cmp	 eax, 8
  008a1	0f 87 33 01 00
	00		 ja	 $LN175@gEventMons
  008a7	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN353@gEventMons[eax*4]
$LN174@gEventMons:

; 4945 : 			{
; 4946 : 				case 0:
; 4947 : 					{
; 4948 : 						level = 1;
; 4949 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4950 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  008ae	6a 00		 push	 0
  008b0	6a 00		 push	 0
  008b2	56		 push	 esi
  008b3	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  008b8	8b 4d f8	 mov	 ecx, DWORD PTR _type$[ebp]
  008bb	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  008be	83 c4 04	 add	 esp, 4
  008c1	50		 push	 eax
  008c2	8b 06		 mov	 eax, DWORD PTR [esi]
  008c4	6a 00		 push	 0
  008c6	6a 00		 push	 0
  008c8	6a 00		 push	 0
  008ca	68 ff 00 00 00	 push	 255			; 000000ffH
  008cf	6a 01		 push	 1
  008d1	51		 push	 ecx
  008d2	52		 push	 edx
  008d3	57		 push	 edi
  008d4	53		 push	 ebx
  008d5	50		 push	 eax
  008d6	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  008db	83 c4 34	 add	 esp, 52			; 00000034H
  008de	5f		 pop	 edi
  008df	5e		 pop	 esi
  008e0	b8 01 00 00 00	 mov	 eax, 1
  008e5	5b		 pop	 ebx

; 5838 : }

  008e6	8b e5		 mov	 esp, ebp
  008e8	5d		 pop	 ebp
  008e9	c3		 ret	 0
$LN173@gEventMons:

; 4951 : 						
; 4952 : 						return TRUE;
; 4953 : 					}
; 4954 : 				case 1:
; 4955 : 					{
; 4956 : 						level = 2;
; 4957 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4958 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  008ea	6a 00		 push	 0
  008ec	6a 00		 push	 0
  008ee	56		 push	 esi
  008ef	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  008f4	8b 4d f8	 mov	 ecx, DWORD PTR _type$[ebp]
  008f7	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  008fa	83 c4 04	 add	 esp, 4
  008fd	50		 push	 eax
  008fe	8b 06		 mov	 eax, DWORD PTR [esi]
  00900	6a 00		 push	 0
  00902	6a 00		 push	 0
  00904	6a 00		 push	 0
  00906	68 ff 00 00 00	 push	 255			; 000000ffH
  0090b	6a 02		 push	 2
  0090d	51		 push	 ecx
  0090e	52		 push	 edx
  0090f	57		 push	 edi
  00910	53		 push	 ebx
  00911	50		 push	 eax
  00912	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00917	83 c4 34	 add	 esp, 52			; 00000034H
  0091a	5f		 pop	 edi
  0091b	5e		 pop	 esi
  0091c	b8 01 00 00 00	 mov	 eax, 1
  00921	5b		 pop	 ebx

; 5838 : }

  00922	8b e5		 mov	 esp, ebp
  00924	5d		 pop	 ebp
  00925	c3		 ret	 0
$LN170@gEventMons:

; 4959 : 						return TRUE;
; 4960 : 					}
; 4961 : 				case 2:
; 4962 : 					{
; 4963 : 						level = 2;
; 4964 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4965 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 4966 : 						return TRUE;
; 4967 : 					}
; 4968 : 				case 3:
; 4969 : 					{
; 4970 : 						level = 1;
; 4971 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4972 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 4973 : 						return TRUE;
; 4974 : 					}
; 4975 : 				case 4:
; 4976 : 					{
; 4977 : 						level = 3;
; 4978 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4979 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00926	6a 00		 push	 0
  00928	6a 00		 push	 0
  0092a	56		 push	 esi
  0092b	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00930	8b 4d f8	 mov	 ecx, DWORD PTR _type$[ebp]
  00933	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  00936	83 c4 04	 add	 esp, 4
  00939	50		 push	 eax
  0093a	8b 06		 mov	 eax, DWORD PTR [esi]
  0093c	6a 00		 push	 0
  0093e	6a 00		 push	 0
  00940	6a 00		 push	 0
  00942	68 ff 00 00 00	 push	 255			; 000000ffH
  00947	6a 03		 push	 3
  00949	51		 push	 ecx
  0094a	52		 push	 edx
  0094b	57		 push	 edi
  0094c	53		 push	 ebx
  0094d	50		 push	 eax
  0094e	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00953	83 c4 34	 add	 esp, 52			; 00000034H
  00956	5f		 pop	 edi
  00957	5e		 pop	 esi
  00958	b8 01 00 00 00	 mov	 eax, 1
  0095d	5b		 pop	 ebx

; 5838 : }

  0095e	8b e5		 mov	 esp, ebp
  00960	5d		 pop	 ebp
  00961	c3		 ret	 0
$LN169@gEventMons:

; 4980 : 						return TRUE;
; 4981 : 					}
; 4982 : 				case 7:
; 4983 : 					{
; 4984 : 						level = 4;
; 4985 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4986 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00962	6a 00		 push	 0
  00964	6a 00		 push	 0
  00966	56		 push	 esi
  00967	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0096c	8b 4d f8	 mov	 ecx, DWORD PTR _type$[ebp]
  0096f	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  00972	83 c4 04	 add	 esp, 4
  00975	50		 push	 eax
  00976	8b 06		 mov	 eax, DWORD PTR [esi]
  00978	6a 00		 push	 0
  0097a	6a 00		 push	 0
  0097c	6a 00		 push	 0
  0097e	68 ff 00 00 00	 push	 255			; 000000ffH
  00983	6a 04		 push	 4
  00985	51		 push	 ecx
  00986	52		 push	 edx
  00987	57		 push	 edi
  00988	53		 push	 ebx
  00989	50		 push	 eax
  0098a	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0098f	83 c4 34	 add	 esp, 52			; 00000034H
  00992	5f		 pop	 edi
  00993	5e		 pop	 esi
  00994	b8 01 00 00 00	 mov	 eax, 1
  00999	5b		 pop	 ebx

; 5838 : }

  0099a	8b e5		 mov	 esp, ebp
  0099c	5d		 pop	 ebp
  0099d	c3		 ret	 0
$LN168@gEventMons:

; 4987 : 						return TRUE;
; 4988 : 					}
; 4989 : 				case 8:
; 4990 : 					{
; 4991 : 						level = 5;
; 4992 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4993 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0099e	6a 00		 push	 0
  009a0	6a 00		 push	 0
  009a2	56		 push	 esi
  009a3	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  009a8	8b 4d f8	 mov	 ecx, DWORD PTR _type$[ebp]
  009ab	8b 55 f4	 mov	 edx, DWORD PTR _y$[ebp]
  009ae	83 c4 04	 add	 esp, 4
  009b1	50		 push	 eax
  009b2	8b 06		 mov	 eax, DWORD PTR [esi]
  009b4	6a 00		 push	 0
  009b6	6a 00		 push	 0
  009b8	6a 00		 push	 0
  009ba	68 ff 00 00 00	 push	 255			; 000000ffH
  009bf	6a 05		 push	 5
  009c1	51		 push	 ecx
  009c2	52		 push	 edx
  009c3	57		 push	 edi
  009c4	53		 push	 ebx
  009c5	50		 push	 eax
  009c6	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  009cb	83 c4 34	 add	 esp, 52			; 00000034H
  009ce	5f		 pop	 edi
  009cf	5e		 pop	 esi
  009d0	b8 01 00 00 00	 mov	 eax, 1
  009d5	5b		 pop	 ebx

; 5838 : }

  009d6	8b e5		 mov	 esp, ebp
  009d8	5d		 pop	 ebp
  009d9	c3		 ret	 0
$LN175@gEventMons:

; 4994 : 						return TRUE;
; 4995 : 					}
; 4996 : 			}
; 4997 : 		}
; 4998 : 	}
; 4999 : #endif
; 5000 : 
; 5001 : 	if ( gIsDropDarkLordItem )

  009da	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsDropDarkLordItem@@3HA, 0 ; gIsDropDarkLordItem
  009e1	0f 84 52 01 00
	00		 je	 $LN161@gEventMons

; 5002 : 	{
; 5003 : 		if ( lpObj->Level >= gSleeveOfLordDropLevel )

  009e7	0f bf 8e be 00
	00 00		 movsx	 ecx, WORD PTR [esi+190]
  009ee	3b 0d 00 00 00
	00		 cmp	 ecx, DWORD PTR ?gSleeveOfLordDropLevel@@3HA ; gSleeveOfLordDropLevel
  009f4	7c 71		 jl	 SHORT $LN295@gEventMons

; 5004 : 		{
; 5005 : 			if ( (rand()%10000) < gSleeveOfLordDropRate)

  009f6	e8 00 00 00 00	 call	 _rand
  009fb	99		 cdq
  009fc	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00a01	f7 f9		 idiv	 ecx
  00a03	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSleeveOfLordDropRate@@3HA ; gSleeveOfLordDropRate
  00a09	7d 5c		 jge	 SHORT $LN295@gEventMons

; 5006 : 			{
; 5007 : 				type = ItemGetNumberMake(13,14);

  00a0b	6a 0e		 push	 14			; 0000000eH
  00a0d	6a 0d		 push	 13			; 0000000dH
  00a0f	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00a14	83 c4 08	 add	 esp, 8

; 5008 : 				level = 1;
; 5009 : 				x = lpObj->X;
; 5010 : 				y = lpObj->Y;
; 5011 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5012 : 
; 5013 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00a17	6a 00		 push	 0
  00a19	6a 00		 push	 0
  00a1b	56		 push	 esi
  00a1c	8b f8		 mov	 edi, eax
  00a1e	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00a23	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00a26	83 c4 04	 add	 esp, 4
  00a29	d9 7d fe	 fnstcw	 WORD PTR tv2953[ebp]
  00a2c	50		 push	 eax
  00a2d	0f b7 45 fe	 movzx	 eax, WORD PTR tv2953[ebp]
  00a31	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00a36	89 45 f0	 mov	 DWORD PTR tv2950[ebp], eax
  00a39	d9 6d f0	 fldcw	 WORD PTR tv2950[ebp]
  00a3c	db 5d f0	 fistp	 DWORD PTR tv2948[ebp]
  00a3f	8a 55 f0	 mov	 dl, BYTE PTR tv2948[ebp]
  00a42	d9 6d fe	 fldcw	 WORD PTR tv2953[ebp]
$LN346@gEventMons:
  00a45	6a 00		 push	 0
  00a47	6a 00		 push	 0
  00a49	0f b6 c2	 movzx	 eax, dl
  00a4c	6a 00		 push	 0
  00a4e	50		 push	 eax
  00a4f	6a 01		 push	 1
$LN340@gEventMons:
  00a51	0f b6 8e 46 01
	00 00		 movzx	 ecx, BYTE PTR [esi+326]
  00a58	0f b6 96 44 01
	00 00		 movzx	 edx, BYTE PTR [esi+324]
  00a5f	57		 push	 edi
  00a60	51		 push	 ecx
  00a61	52		 push	 edx

; 5014 : 
; 5015 : 				return TRUE;

  00a62	e9 97 f9 ff ff	 jmp	 $LN333@gEventMons
$LN295@gEventMons:

; 5016 : 			}
; 5017 : 		}
; 5018 : 
; 5019 : 		if ( lpObj->Level >= gSoulOfDarkHorseropLevel )

  00a67	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  00a6e	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSoulOfDarkHorseropLevel@@3HA ; gSoulOfDarkHorseropLevel
  00a74	7c 60		 jl	 SHORT $LN308@gEventMons

; 5020 : 		{
; 5021 : 			if ( (rand()%10000) < gSoulOfDarkHorseDropRate)

  00a76	e8 00 00 00 00	 call	 _rand
  00a7b	99		 cdq
  00a7c	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00a81	f7 f9		 idiv	 ecx
  00a83	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSoulOfDarkHorseDropRate@@3HA ; gSoulOfDarkHorseDropRate
  00a89	7d 4b		 jge	 SHORT $LN308@gEventMons

; 5022 : 			{
; 5023 : 				type = ItemGetNumberMake(13,31);

  00a8b	6a 1f		 push	 31			; 0000001fH
  00a8d	6a 0d		 push	 13			; 0000000dH
  00a8f	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00a94	83 c4 08	 add	 esp, 8

; 5024 : 				level = 0;
; 5025 : 				x = lpObj->X;
; 5026 : 				y = lpObj->Y;
; 5027 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5028 : 
; 5029 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00a97	6a 00		 push	 0
  00a99	6a 00		 push	 0
  00a9b	56		 push	 esi
  00a9c	8b f8		 mov	 edi, eax
  00a9e	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00aa3	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00aa6	83 c4 04	 add	 esp, 4
  00aa9	d9 7d fe	 fnstcw	 WORD PTR tv2928[ebp]
  00aac	50		 push	 eax
  00aad	0f b7 45 fe	 movzx	 eax, WORD PTR tv2928[ebp]
  00ab1	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00ab6	89 45 f0	 mov	 DWORD PTR tv2925[ebp], eax
  00ab9	6a 00		 push	 0
  00abb	6a 00		 push	 0
  00abd	d9 6d f0	 fldcw	 WORD PTR tv2925[ebp]
  00ac0	6a 00		 push	 0
  00ac2	db 5d f0	 fistp	 DWORD PTR tv2923[ebp]
  00ac5	8a 55 f0	 mov	 dl, BYTE PTR tv2923[ebp]
  00ac8	0f b6 c2	 movzx	 eax, dl
  00acb	50		 push	 eax
  00acc	d9 6d fe	 fldcw	 WORD PTR tv2928[ebp]
  00acf	6a 00		 push	 0

; 5030 : 
; 5031 : 				return TRUE;

  00ad1	e9 7b ff ff ff	 jmp	 $LN340@gEventMons
$LN308@gEventMons:

; 5032 : 			}
; 5033 : 		}
; 5034 : 
; 5035 : 		if ( lpObj->Level >= gSoulOfDarkSpiritDropLevel )

  00ad6	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  00add	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSoulOfDarkSpiritDropLevel@@3HA ; gSoulOfDarkSpiritDropLevel
  00ae3	7c 54		 jl	 SHORT $LN161@gEventMons

; 5036 : 		{
; 5037 : 			if ( (rand()%10000) < gSoulOfDarkSpiritDropRate )

  00ae5	e8 00 00 00 00	 call	 _rand
  00aea	99		 cdq
  00aeb	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00af0	f7 f9		 idiv	 ecx
  00af2	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSoulOfDarkSpiritDropRate@@3HA ; gSoulOfDarkSpiritDropRate
  00af8	7d 3f		 jge	 SHORT $LN161@gEventMons

; 5038 : 			{
; 5039 : 				type = ItemGetNumberMake(13,31);

  00afa	6a 1f		 push	 31			; 0000001fH
  00afc	6a 0d		 push	 13			; 0000000dH
  00afe	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00b03	83 c4 08	 add	 esp, 8

; 5040 : 				level = 1;
; 5041 : 				x = lpObj->X;
; 5042 : 				y = lpObj->Y;
; 5043 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5044 : 
; 5045 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00b06	6a 00		 push	 0
  00b08	6a 00		 push	 0
  00b0a	56		 push	 esi
  00b0b	8b f8		 mov	 edi, eax
  00b0d	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00b12	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00b15	83 c4 04	 add	 esp, 4
  00b18	d9 7d fe	 fnstcw	 WORD PTR tv2903[ebp]
  00b1b	50		 push	 eax
  00b1c	0f b7 45 fe	 movzx	 eax, WORD PTR tv2903[ebp]
  00b20	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00b25	89 45 f0	 mov	 DWORD PTR tv2900[ebp], eax
  00b28	d9 6d f0	 fldcw	 WORD PTR tv2900[ebp]
  00b2b	db 5d f0	 fistp	 DWORD PTR tv2898[ebp]
  00b2e	8a 55 f0	 mov	 dl, BYTE PTR tv2898[ebp]
  00b31	d9 6d fe	 fldcw	 WORD PTR tv2903[ebp]

; 5046 : 
; 5047 : 				return TRUE;

  00b34	e9 0c ff ff ff	 jmp	 $LN346@gEventMons
$LN161@gEventMons:

; 5048 : 			}
; 5049 : 		}
; 5050 : 	}
; 5051 : 
; 5052 : 	if ( gIsDropGemOfDefend )

  00b39	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsDropGemOfDefend@@3HA, 0 ; gIsDropGemOfDefend
  00b40	74 7d		 je	 SHORT $LN296@gEventMons

; 5053 : 	{
; 5054 : 		if ( lpObj->MapNumber != MAP_INDEX_KALIMA7 && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE )

  00b42	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00b48	3c 24		 cmp	 al, 36			; 00000024H
  00b4a	74 04		 je	 SHORT $LN159@gEventMons
  00b4c	3c 1f		 cmp	 al, 31			; 0000001fH
  00b4e	75 6f		 jne	 SHORT $LN296@gEventMons
$LN159@gEventMons:

; 5055 : 		{
; 5056 : 		}
; 5057 : 		else
; 5058 : 		{
; 5059 : 			if ( lpObj->Level >= gGemOfDefendDropLevel )

  00b50	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  00b57	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gGemOfDefendDropLevel@@3HA ; gGemOfDefendDropLevel
  00b5d	7c 60		 jl	 SHORT $LN296@gEventMons

; 5060 : 			{
; 5061 : 				if ( (rand()%10000)< gGemOfDefendDropRate )

  00b5f	e8 00 00 00 00	 call	 _rand
  00b64	99		 cdq
  00b65	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00b6a	f7 f9		 idiv	 ecx
  00b6c	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gGemOfDefendDropRate@@3HA ; gGemOfDefendDropRate
  00b72	7d 4b		 jge	 SHORT $LN296@gEventMons

; 5062 : 				{
; 5063 : 					type = ItemGetNumberMake(14,31);

  00b74	6a 1f		 push	 31			; 0000001fH
  00b76	6a 0e		 push	 14			; 0000000eH
  00b78	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00b7d	83 c4 08	 add	 esp, 8

; 5064 : 					level = 0;
; 5065 : 					x = lpObj->X;
; 5066 : 					y = lpObj->Y;
; 5067 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5068 : 
; 5069 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00b80	6a 00		 push	 0
  00b82	6a 00		 push	 0
  00b84	56		 push	 esi
  00b85	8b f8		 mov	 edi, eax
  00b87	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00b8c	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00b8f	83 c4 04	 add	 esp, 4
  00b92	d9 7d fe	 fnstcw	 WORD PTR tv2878[ebp]
  00b95	50		 push	 eax
  00b96	0f b7 45 fe	 movzx	 eax, WORD PTR tv2878[ebp]
  00b9a	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00b9f	89 45 f0	 mov	 DWORD PTR tv2875[ebp], eax
  00ba2	6a 00		 push	 0
  00ba4	6a 00		 push	 0
  00ba6	d9 6d f0	 fldcw	 WORD PTR tv2875[ebp]
  00ba9	6a 00		 push	 0
  00bab	db 5d f0	 fistp	 DWORD PTR tv2873[ebp]
  00bae	8a 55 f0	 mov	 dl, BYTE PTR tv2873[ebp]
  00bb1	0f b6 c2	 movzx	 eax, dl
  00bb4	50		 push	 eax
  00bb5	d9 6d fe	 fldcw	 WORD PTR tv2878[ebp]
  00bb8	6a 00		 push	 0

; 5070 : 
; 5071 : 					return TRUE;

  00bba	e9 92 fe ff ff	 jmp	 $LN340@gEventMons
$LN296@gEventMons:

; 5072 : 				}
; 5073 : 			}
; 5074 : 		}
; 5075 : 	}
; 5076 : 
; 5077 : 	if(lpObj->MapNumber == MAP_INDEX_BALGASS_BARRACKS) //season 2.5 add-on (S4.5 pos changed)

  00bbf	80 be 49 01 00
	00 29		 cmp	 BYTE PTR [esi+329], 41	; 00000029H
  00bc6	75 60		 jne	 SHORT $LN309@gEventMons

; 5078 : 	{
; 5079 : 		if ( (rand()%10000)< g_iCondorFlameDropRate )

  00bc8	e8 00 00 00 00	 call	 _rand
  00bcd	99		 cdq
  00bce	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00bd3	f7 f9		 idiv	 ecx
  00bd5	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCondorFlameDropRate@@3HA ; g_iCondorFlameDropRate
  00bdb	7d 4b		 jge	 SHORT $LN309@gEventMons

; 5080 : 		{
; 5081 : 			type = ItemGetNumberMake(13,52);

  00bdd	6a 34		 push	 52			; 00000034H
  00bdf	6a 0d		 push	 13			; 0000000dH
  00be1	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00be6	83 c4 08	 add	 esp, 8

; 5082 : 			level = 0;
; 5083 : 			x = lpObj->X;
; 5084 : 			y = lpObj->Y;
; 5085 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5086 : 
; 5087 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00be9	6a 00		 push	 0
  00beb	6a 00		 push	 0
  00bed	56		 push	 esi
  00bee	8b f8		 mov	 edi, eax
  00bf0	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00bf5	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00bf8	83 c4 04	 add	 esp, 4
  00bfb	d9 7d fe	 fnstcw	 WORD PTR tv2852[ebp]
  00bfe	50		 push	 eax
  00bff	0f b7 45 fe	 movzx	 eax, WORD PTR tv2852[ebp]
  00c03	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00c08	89 45 f0	 mov	 DWORD PTR tv2849[ebp], eax
  00c0b	6a 00		 push	 0
  00c0d	6a 00		 push	 0
  00c0f	d9 6d f0	 fldcw	 WORD PTR tv2849[ebp]
  00c12	6a 00		 push	 0
  00c14	db 5d f0	 fistp	 DWORD PTR tv2847[ebp]
  00c17	8a 55 f0	 mov	 dl, BYTE PTR tv2847[ebp]
  00c1a	0f b6 c2	 movzx	 eax, dl
  00c1d	50		 push	 eax
  00c1e	d9 6d fe	 fldcw	 WORD PTR tv2852[ebp]
  00c21	6a 00		 push	 0

; 5088 : 
; 5089 : 			return TRUE;

  00c23	e9 29 fe ff ff	 jmp	 $LN340@gEventMons
$LN309@gEventMons:

; 5090 : 		}
; 5091 : 	}
; 5092 : 
; 5093 : //#if(GS_CASTLE==1)
; 5094 : 	if ( gIsDropSetItemInCastleHuntZone !=0)	//Land of Trials

  00c28	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsDropSetItemInCastleHuntZone@@3HA, 0 ; gIsDropSetItemInCastleHuntZone
  00c2f	0f 84 a4 00 00
	00		 je	 $LN314@gEventMons

; 5095 : 	{
; 5096 : 		if (lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE)

  00c35	80 be 49 01 00
	00 1f		 cmp	 BYTE PTR [esi+329], 31	; 0000001fH
  00c3c	0f 85 97 00 00
	00		 jne	 $LN314@gEventMons

; 5097 : 		{
; 5098 : 
; 5099 : 		}
; 5100 : 		else
; 5101 : 		{
; 5102 : 			if ( lpObj->Level >= gSetItemInCastleHuntZoneDropLevel ) //Good

  00c42	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  00c49	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSetItemInCastleHuntZoneDropLevel@@3HA ; gSetItemInCastleHuntZoneDropLevel
  00c4f	0f 8c 84 00 00
	00		 jl	 $LN314@gEventMons

; 5103 : 			{
; 5104 : 				if ( (rand()%10000) < gSetItemInCastleHuntZoneDropRate )

  00c55	e8 00 00 00 00	 call	 _rand
  00c5a	99		 cdq
  00c5b	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00c60	f7 f9		 idiv	 ecx
  00c62	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSetItemInCastleHuntZoneDropRate@@3HA ; gSetItemInCastleHuntZoneDropRate
  00c68	7d 6f		 jge	 SHORT $LN314@gEventMons

; 5105 : 				{
; 5106 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00c6a	56		 push	 esi
  00c6b	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00c70	8b f8		 mov	 edi, eax
  00c72	83 c4 04	 add	 esp, 4

; 5107 : 
; 5108 : 					if ( OBJMAX_RANGE(MaxHitUser) )

  00c75	85 ff		 test	 edi, edi
  00c77	78 60		 js	 SHORT $LN314@gEventMons
  00c79	33 c0		 xor	 eax, eax
  00c7b	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  00c81	0f 9e c0	 setle	 al
  00c84	85 c0		 test	 eax, eax
  00c86	74 51		 je	 SHORT $LN314@gEventMons

; 5109 : 					{
; 5110 : 						LogAddTD("[Castle HuntZone] Drop SetItem [%s][%s] ", gObj[MaxHitUser].AccountID,gObj[MaxHitUser].Name);

  00c88	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00c8d	8b d7		 mov	 edx, edi
  00c8f	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00c95	03 c2		 add	 eax, edx
  00c97	8d 48 77	 lea	 ecx, DWORD PTR [eax+119]
  00c9a	51		 push	 ecx
  00c9b	83 c0 6c	 add	 eax, 108		; 0000006cH
  00c9e	50		 push	 eax
  00c9f	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@PLHMNKDH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@
  00ca4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 5111 : 						::MakeRewardSetItem(MaxHitUser, lpObj->X, lpObj->Y, 0, lpObj->MapNumber);

  00caa	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00cb1	0f b6 86 46 01
	00 00		 movzx	 eax, BYTE PTR [esi+326]
  00cb8	0f b6 8e 44 01
	00 00		 movzx	 ecx, BYTE PTR [esi+324]
  00cbf	52		 push	 edx
  00cc0	6a 00		 push	 0
  00cc2	50		 push	 eax
  00cc3	51		 push	 ecx
  00cc4	57		 push	 edi
  00cc5	e8 00 00 00 00	 call	 ?MakeRewardSetItem@@YAXHEEHH@Z ; MakeRewardSetItem
  00cca	83 c4 20	 add	 esp, 32			; 00000020H
  00ccd	5f		 pop	 edi
  00cce	5e		 pop	 esi
  00ccf	b8 01 00 00 00	 mov	 eax, 1
  00cd4	5b		 pop	 ebx

; 5838 : }

  00cd5	8b e5		 mov	 esp, ebp
  00cd7	5d		 pop	 ebp
  00cd8	c3		 ret	 0
$LN314@gEventMons:

; 5112 : 						return TRUE;
; 5113 : 					}
; 5114 : 				}
; 5115 : 			}
; 5116 : 		}
; 5117 : 	}
; 5118 : //#endif
; 5119 : 
; 5120 : //#if(GS_CASTLE==0)
; 5121 : 	if ( g_bKanturuSpecialItemDropOn )

  00cd9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bKanturuSpecialItemDropOn@@3HA, 0 ; g_bKanturuSpecialItemDropOn
  00ce0	0f 84 db 00 00
	00		 je	 $LN319@gEventMons

; 5122 : 	{
; 5123 : 		if ( lpObj->MapNumber == MAP_INDEX_KANTURU2 )

  00ce6	80 be 49 01 00
	00 26		 cmp	 BYTE PTR [esi+329], 38	; 00000026H
  00ced	75 60		 jne	 SHORT $LN318@gEventMons

; 5124 : 		{
; 5125 : 			if ( (rand()%10000) < g_iKanturuMoonStoneDropRate )

  00cef	e8 00 00 00 00	 call	 _rand
  00cf4	99		 cdq
  00cf5	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00cfa	f7 f9		 idiv	 ecx
  00cfc	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKanturuMoonStoneDropRate@@3HA ; g_iKanturuMoonStoneDropRate
  00d02	7d 4b		 jge	 SHORT $LN318@gEventMons

; 5126 : 			{
; 5127 : 				type = ItemGetNumberMake(13,38);	// Moon Stone

  00d04	6a 26		 push	 38			; 00000026H
  00d06	6a 0d		 push	 13			; 0000000dH
  00d08	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00d0d	83 c4 08	 add	 esp, 8

; 5128 : 				level = 0;
; 5129 : 				x = lpObj->X;
; 5130 : 				y = lpObj->Y;
; 5131 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5132 : 
; 5133 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00d10	6a 00		 push	 0
  00d12	6a 00		 push	 0
  00d14	56		 push	 esi
  00d15	8b f8		 mov	 edi, eax
  00d17	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00d1c	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00d1f	83 c4 04	 add	 esp, 4
  00d22	d9 7d fe	 fnstcw	 WORD PTR tv2812[ebp]
  00d25	50		 push	 eax
  00d26	0f b7 45 fe	 movzx	 eax, WORD PTR tv2812[ebp]
  00d2a	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00d2f	89 45 f0	 mov	 DWORD PTR tv2809[ebp], eax
  00d32	6a 00		 push	 0
  00d34	6a 00		 push	 0
  00d36	d9 6d f0	 fldcw	 WORD PTR tv2809[ebp]
  00d39	6a 00		 push	 0
  00d3b	db 5d f0	 fistp	 DWORD PTR tv2807[ebp]
  00d3e	8a 55 f0	 mov	 dl, BYTE PTR tv2807[ebp]
  00d41	0f b6 c2	 movzx	 eax, dl
  00d44	50		 push	 eax
  00d45	d9 6d fe	 fldcw	 WORD PTR tv2812[ebp]
  00d48	6a 00		 push	 0

; 5134 : 
; 5135 : 				return TRUE;

  00d4a	e9 02 fd ff ff	 jmp	 $LN340@gEventMons
$LN318@gEventMons:

; 5136 : 			}
; 5137 : 		}
; 5138 : 
; 5139 : 		if ( lpObj->MapNumber == MAP_INDEX_KANTURU1 ||
; 5140 : 			 lpObj->MapNumber == MAP_INDEX_KANTURU2 ||
; 5141 : 			 lpObj->MapNumber == MAP_INDEX_KANTURU_BOSS )

  00d4f	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00d55	3c 25		 cmp	 al, 37			; 00000025H
  00d57	74 08		 je	 SHORT $LN143@gEventMons
  00d59	3c 26		 cmp	 al, 38			; 00000026H
  00d5b	74 04		 je	 SHORT $LN143@gEventMons
  00d5d	3c 27		 cmp	 al, 39			; 00000027H
  00d5f	75 60		 jne	 SHORT $LN319@gEventMons
$LN143@gEventMons:

; 5142 : 		{
; 5143 : 			if ( (rand()%10000) < g_iKanturuJewelOfHarmonyDropRate )

  00d61	e8 00 00 00 00	 call	 _rand
  00d66	99		 cdq
  00d67	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00d6c	f7 f9		 idiv	 ecx
  00d6e	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKanturuJewelOfHarmonyDropRate@@3HA ; g_iKanturuJewelOfHarmonyDropRate
  00d74	7d 4b		 jge	 SHORT $LN319@gEventMons

; 5144 : 			{
; 5145 : 				type = ItemGetNumberMake(14,41);

  00d76	6a 29		 push	 41			; 00000029H
  00d78	6a 0e		 push	 14			; 0000000eH
  00d7a	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00d7f	83 c4 08	 add	 esp, 8

; 5146 : 				level = 0;
; 5147 : 				x = lpObj->X;
; 5148 : 				y = lpObj->Y;
; 5149 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5150 : 
; 5151 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00d82	6a 00		 push	 0
  00d84	6a 00		 push	 0
  00d86	56		 push	 esi
  00d87	8b f8		 mov	 edi, eax
  00d89	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00d8e	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00d91	83 c4 04	 add	 esp, 4
  00d94	d9 7d fe	 fnstcw	 WORD PTR tv2786[ebp]
  00d97	50		 push	 eax
  00d98	0f b7 45 fe	 movzx	 eax, WORD PTR tv2786[ebp]
  00d9c	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00da1	89 45 f0	 mov	 DWORD PTR tv2783[ebp], eax
  00da4	6a 00		 push	 0
  00da6	6a 00		 push	 0
  00da8	d9 6d f0	 fldcw	 WORD PTR tv2783[ebp]
  00dab	6a 00		 push	 0
  00dad	db 5d f0	 fistp	 DWORD PTR tv2781[ebp]
  00db0	8a 55 f0	 mov	 dl, BYTE PTR tv2781[ebp]
  00db3	0f b6 c2	 movzx	 eax, dl
  00db6	50		 push	 eax
  00db7	d9 6d fe	 fldcw	 WORD PTR tv2786[ebp]
  00dba	6a 00		 push	 0

; 5152 : 
; 5153 : 				return TRUE;

  00dbc	e9 90 fc ff ff	 jmp	 $LN340@gEventMons
$LN319@gEventMons:

; 5154 : 			}
; 5155 : 		}
; 5156 : 	}
; 5157 : //#endif
; 5158 : 
; 5159 : 	if ( lpObj->MapNumber == MAP_INDEX_AIDA || lpObj->MapNumber == MAP_INDEX_CRYWOLF_FIRSTZONE)

  00dc1	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00dc7	3c 21		 cmp	 al, 33			; 00000021H
  00dc9	74 08		 je	 SHORT $LN140@gEventMons
  00dcb	3c 22		 cmp	 al, 34			; 00000022H
  00dcd	0f 85 98 00 00
	00		 jne	 $LN133@gEventMons
$LN140@gEventMons:

; 5160 : 	{
; 5161 : 		bool bDropMysteriousBead = false;
; 5162 : 
; 5163 : 		switch ( lpObj->Class )

  00dd3	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00dda	05 d0 fe ff ff	 add	 eax, -304		; fffffed0H
  00ddf	83 f8 09	 cmp	 eax, 9
  00de2	0f 87 83 00 00
	00		 ja	 $LN133@gEventMons
  00de8	0f b6 90 00 00
	00 00		 movzx	 edx, BYTE PTR $LN290@gEventMons[eax]
  00def	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $LN354@gEventMons[edx*4]
$LN137@gEventMons:

; 5164 : 		{
; 5165 : 			case 304:	case 305:	case 306:
; 5166 : 			case 307:	case 308:	case 309:
; 5167 : 				if ( (rand()%10000) < g_iMysteriousBeadDropRate1 )

  00df6	e8 00 00 00 00	 call	 _rand
  00dfb	99		 cdq
  00dfc	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00e01	f7 f9		 idiv	 ecx
  00e03	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iMysteriousBeadDropRate1@@3HA ; g_iMysteriousBeadDropRate1

; 5168 : 					bDropMysteriousBead = true;
; 5169 : 				break;

  00e09	eb 13		 jmp	 SHORT $LN324@gEventMons
$LN135@gEventMons:

; 5170 : 
; 5171 : 			case 310:	case 311:	case 312:	case 313:
; 5172 : 				if ( (rand()%10000) < g_iMysteriousBeadDropRate2 )

  00e0b	e8 00 00 00 00	 call	 _rand
  00e10	99		 cdq
  00e11	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00e16	f7 f9		 idiv	 ecx
  00e18	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iMysteriousBeadDropRate2@@3HA ; g_iMysteriousBeadDropRate2
$LN324@gEventMons:
  00e1e	7d 4b		 jge	 SHORT $LN133@gEventMons

; 5173 : 					bDropMysteriousBead = true;
; 5174 : 				break;
; 5175 : 		}
; 5176 : 
; 5177 : 		if ( bDropMysteriousBead == true )
; 5178 : 		{
; 5179 : 			type = ItemGetNumberMake(12,26);

  00e20	6a 1a		 push	 26			; 0000001aH
  00e22	6a 0c		 push	 12			; 0000000cH
  00e24	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00e29	83 c4 08	 add	 esp, 8

; 5180 : 			level = 0;
; 5181 : 			x = lpObj->X;
; 5182 : 			y = lpObj->Y;
; 5183 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5184 : 
; 5185 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00e2c	6a 00		 push	 0
  00e2e	6a 00		 push	 0
  00e30	56		 push	 esi
  00e31	8b f8		 mov	 edi, eax
  00e33	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00e38	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  00e3b	83 c4 04	 add	 esp, 4
  00e3e	d9 7d fe	 fnstcw	 WORD PTR tv2754[ebp]
  00e41	50		 push	 eax
  00e42	0f b7 45 fe	 movzx	 eax, WORD PTR tv2754[ebp]
  00e46	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  00e4b	89 45 f0	 mov	 DWORD PTR tv2751[ebp], eax
  00e4e	6a 00		 push	 0
  00e50	6a 00		 push	 0
  00e52	d9 6d f0	 fldcw	 WORD PTR tv2751[ebp]
  00e55	6a 00		 push	 0
  00e57	db 5d f0	 fistp	 DWORD PTR tv2749[ebp]
  00e5a	8a 55 f0	 mov	 dl, BYTE PTR tv2749[ebp]
  00e5d	0f b6 c2	 movzx	 eax, dl
  00e60	50		 push	 eax
  00e61	d9 6d fe	 fldcw	 WORD PTR tv2754[ebp]
  00e64	6a 00		 push	 0

; 5186 : 
; 5187 : 			return TRUE;

  00e66	e9 e6 fb ff ff	 jmp	 $LN340@gEventMons
$LN133@gEventMons:

; 5188 : 		}
; 5189 : 	}
; 5190 : 
; 5191 : 	if( gDevilSquareEvent ) //season3 add-on (Master Level Devil Square)

  00e6b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gDevilSquareEvent@@3HA, 0 ; gDevilSquareEvent
  00e72	bb 5a 00 00 00	 mov	 ebx, 90			; 0000005aH
  00e77	0f 84 98 00 00
	00		 je	 $LN127@gEventMons

; 5192 : 	{
; 5193 : 		if ( !DS_MAP_RANGE(lpObj->MapNumber ) )

  00e7d	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00e83	3c 09		 cmp	 al, 9
  00e85	0f 84 8a 00 00
	00		 je	 $LN127@gEventMons
  00e8b	33 d2		 xor	 edx, edx
  00e8d	3c 20		 cmp	 al, 32			; 00000020H
  00e8f	0f 94 c2	 sete	 dl
  00e92	8b c2		 mov	 eax, edx
  00e94	85 c0		 test	 eax, eax
  00e96	75 7d		 jne	 SHORT $LN127@gEventMons

; 5194 : 		{
; 5195 : 			if ( (rand()%10000) < g_iML_EyesOfDevilSquareDropRate )

  00e98	e8 00 00 00 00	 call	 _rand
  00e9d	99		 cdq
  00e9e	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00ea3	f7 f9		 idiv	 ecx
  00ea5	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_EyesOfDevilSquareDropRate@@3HA ; g_iML_EyesOfDevilSquareDropRate
  00eab	7d 46		 jge	 SHORT $LN129@gEventMons

; 5196 : 			{
; 5197 : 				if ( lpObj->Level >= 90 )

  00ead	66 39 9e be 00
	00 00		 cmp	 WORD PTR [esi+190], bx
  00eb4	7c 3d		 jl	 SHORT $LN129@gEventMons

; 5209 : 
; 5210 : 					type = ItemGetNumberMake(14,17);

  00eb6	6a 11		 push	 17			; 00000011H
$LN347@gEventMons:

; 5198 : 				{
; 5199 : 					Option1=0;
; 5200 : 					Option2=0;
; 5201 : 					Option3=0;
; 5202 : 
; 5203 : 					dur = 128.0f;
; 5204 : 
; 5205 : 					level = 7;
; 5206 : 
; 5207 : 					x = lpObj->X;
; 5208 : 					y = lpObj->Y;

  00eb8	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]
  00ebf	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 5209 : 
; 5210 : 					type = ItemGetNumberMake(14,17);

  00ec6	6a 0e		 push	 14			; 0000000eH
  00ec8	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00ecd	83 c4 08	 add	 esp, 8

; 5211 : 
; 5212 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5213 : 
; 5214 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00ed0	6a 00		 push	 0
  00ed2	6a 00		 push	 0
  00ed4	56		 push	 esi
  00ed5	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  00ed8	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00edd	83 c4 04	 add	 esp, 4
  00ee0	50		 push	 eax
  00ee1	6a 00		 push	 0
  00ee3	6a 00		 push	 0
  00ee5	6a 00		 push	 0
  00ee7	68 80 00 00 00	 push	 128			; 00000080H
  00eec	6a 07		 push	 7

; 5215 : 
; 5216 : 					return TRUE;

  00eee	e9 05 f5 ff ff	 jmp	 $LN332@gEventMons
$LN129@gEventMons:

; 5217 : 				}
; 5218 : 			}
; 5219 : 
; 5220 : 			if ( (rand()%10000) < g_iML_KeysOfDevilSquareDropRate )

  00ef3	e8 00 00 00 00	 call	 _rand
  00ef8	99		 cdq
  00ef9	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00efe	f7 f9		 idiv	 ecx
  00f00	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_KeysOfDevilSquareDropRate@@3HA ; g_iML_KeysOfDevilSquareDropRate
  00f06	7d 0d		 jge	 SHORT $LN127@gEventMons

; 5221 : 			{
; 5222 : 				if ( lpObj->Level >= 90 )

  00f08	66 39 9e be 00
	00 00		 cmp	 WORD PTR [esi+190], bx
  00f0f	7c 04		 jl	 SHORT $LN127@gEventMons

; 5223 : 				{
; 5224 : 					Option1=0;
; 5225 : 					Option2=0;
; 5226 : 					Option3=0;
; 5227 : 
; 5228 : 					dur = 128.0f;
; 5229 : 
; 5230 : 					level = 7;
; 5231 : 
; 5232 : 					x = lpObj->X;
; 5233 : 					y = lpObj->Y;
; 5234 : 
; 5235 : 					type = ItemGetNumberMake(14,18);

  00f11	6a 12		 push	 18			; 00000012H

; 5236 : 
; 5237 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5238 : 
; 5239 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5240 : 
; 5241 : 					return TRUE;

  00f13	eb a3		 jmp	 SHORT $LN347@gEventMons
$LN127@gEventMons:

; 5242 : 				}
; 5243 : 			}
; 5244 : 		}
; 5245 : 	}
; 5246 : 
; 5247 : 	if ( g_iIllusionTempleEvent ) //Season 3 add-on (Master Level Illusion)

  00f15	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iIllusionTempleEvent@@3HA, 0 ; g_iIllusionTempleEvent
  00f1c	bf 60 00 00 00	 mov	 edi, 96			; 00000060H
  00f21	0f 84 8e 00 00
	00		 je	 $LN121@gEventMons

; 5248 : 	{
; 5249 : 		if ( !IT_MAP_RANGE(lpObj->MapNumber ) )

  00f27	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00f2e	3c 2d		 cmp	 al, 45			; 0000002dH
  00f30	72 09		 jb	 SHORT $LN279@gEventMons
  00f32	b2 32		 mov	 dl, 50			; 00000032H
  00f34	3a d0		 cmp	 dl, al
  00f36	1b c0		 sbb	 eax, eax
  00f38	40		 inc	 eax
  00f39	75 7a		 jne	 SHORT $LN121@gEventMons
$LN279@gEventMons:

; 5250 : 		{
; 5251 : 			if ( (rand()%10000) < g_iML_OldScrollDropRate )

  00f3b	e8 00 00 00 00	 call	 _rand
  00f40	99		 cdq
  00f41	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00f46	f7 f9		 idiv	 ecx
  00f48	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_OldScrollDropRate@@3HA ; g_iML_OldScrollDropRate
  00f4e	7d 43		 jge	 SHORT $LN123@gEventMons

; 5252 : 			{
; 5253 : 				if ( lpObj->Level >= 96)

  00f50	66 39 be be 00
	00 00		 cmp	 WORD PTR [esi+190], di
  00f57	7c 3a		 jl	 SHORT $LN123@gEventMons

; 5265 : 
; 5266 : 					type = ItemGetNumberMake(13,49);

  00f59	6a 31		 push	 49			; 00000031H
$LN348@gEventMons:

; 5254 : 				{
; 5255 : 					Option1=0;
; 5256 : 					Option2=0;
; 5257 : 					Option3=0;
; 5258 : 
; 5259 : 					dur = 0;
; 5260 : 
; 5261 : 					level = 6;
; 5262 : 
; 5263 : 					x = lpObj->X;
; 5264 : 					y = lpObj->Y;

  00f5b	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]
  00f62	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 5265 : 
; 5266 : 					type = ItemGetNumberMake(13,49);

  00f69	6a 0d		 push	 13			; 0000000dH
  00f6b	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00f70	83 c4 08	 add	 esp, 8

; 5267 : 
; 5268 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5269 : 
; 5270 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,	(BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  00f73	6a 00		 push	 0
  00f75	6a 00		 push	 0
  00f77	56		 push	 esi
  00f78	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  00f7b	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00f80	83 c4 04	 add	 esp, 4
  00f83	50		 push	 eax
  00f84	6a 00		 push	 0
  00f86	6a 00		 push	 0
  00f88	6a 00		 push	 0
  00f8a	6a 00		 push	 0
  00f8c	6a 06		 push	 6

; 5271 : 
; 5272 : 					return TRUE;

  00f8e	e9 65 f4 ff ff	 jmp	 $LN332@gEventMons
$LN123@gEventMons:

; 5273 : 				}				
; 5274 : 			}
; 5275 : 
; 5276 : 			if ( (rand()%10000) < g_iML_CovenantOfIllusionDropRate )

  00f93	e8 00 00 00 00	 call	 _rand
  00f98	99		 cdq
  00f99	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00f9e	f7 f9		 idiv	 ecx
  00fa0	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_CovenantOfIllusionDropRate@@3HA ; g_iML_CovenantOfIllusionDropRate
  00fa6	7d 0d		 jge	 SHORT $LN121@gEventMons

; 5277 : 			{
; 5278 : 				if ( lpObj->Level >= 96)

  00fa8	66 39 be be 00
	00 00		 cmp	 WORD PTR [esi+190], di
  00faf	7c 04		 jl	 SHORT $LN121@gEventMons

; 5279 : 				{
; 5280 : 					Option1=0;
; 5281 : 					Option2=0;
; 5282 : 					Option3=0;
; 5283 : 
; 5284 : 					dur = 0;
; 5285 : 
; 5286 : 					level = 6;
; 5287 : 
; 5288 : 					x = lpObj->X;
; 5289 : 					y = lpObj->Y;
; 5290 : 
; 5291 : 					type = ItemGetNumberMake(13,50);

  00fb1	6a 32		 push	 50			; 00000032H

; 5292 : 
; 5293 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5294 : 
; 5295 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,(BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5296 : 
; 5297 : 					return TRUE;

  00fb3	eb a6		 jmp	 SHORT $LN348@gEventMons
$LN121@gEventMons:

; 5298 : 				}
; 5299 : 			}
; 5300 : 		}
; 5301 : 	}
; 5302 : 
; 5303 : 	if ( g_bBloodCastle ) //Season 3 add-on (Master Level Blood Castle)

  00fb5	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bBloodCastle@@3HA, 0 ; g_bBloodCastle
  00fbc	0f 84 48 02 00
	00		 je	 $LN298@gEventMons

; 5304 : 	{
; 5305 : 		if ( !BC_MAP_RANGE(lpObj->MapNumber ) )

  00fc2	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00fc9	3c 34		 cmp	 al, 52			; 00000034H
  00fcb	0f 84 8a 00 00
	00		 je	 $LN294@gEventMons
  00fd1	3c 0b		 cmp	 al, 11			; 0000000bH
  00fd3	72 09		 jb	 SHORT $LN280@gEventMons
  00fd5	b2 11		 mov	 dl, 17			; 00000011H
  00fd7	3a d0		 cmp	 dl, al
  00fd9	1b c0		 sbb	 eax, eax
  00fdb	40		 inc	 eax
  00fdc	75 7d		 jne	 SHORT $LN294@gEventMons
$LN280@gEventMons:

; 5306 : 		{
; 5307 : 			if ( (rand()%10000) < g_iML_AngelKingsPaperDropRate )

  00fde	e8 00 00 00 00	 call	 _rand
  00fe3	99		 cdq
  00fe4	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00fe9	f7 f9		 idiv	 ecx
  00feb	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_AngelKingsPaperDropRate@@3HA ; g_iML_AngelKingsPaperDropRate
  00ff1	7d 46		 jge	 SHORT $LN117@gEventMons

; 5308 : 			{
; 5309 : 				if ( lpObj->Level >= 90)

  00ff3	66 39 9e be 00
	00 00		 cmp	 WORD PTR [esi+190], bx
  00ffa	7c 3d		 jl	 SHORT $LN117@gEventMons

; 5321 : 
; 5322 : 					type = ItemGetNumberMake(13,16);

  00ffc	6a 10		 push	 16			; 00000010H
$LN349@gEventMons:

; 5310 : 				{
; 5311 : 					Option1=0;
; 5312 : 					Option2=0;
; 5313 : 					Option3=0;
; 5314 : 
; 5315 : 					dur = 128.0f;
; 5316 : 
; 5317 : 					level = 8;
; 5318 : 
; 5319 : 					x = lpObj->X;
; 5320 : 					y = lpObj->Y;

  00ffe	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]
  01005	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 5321 : 
; 5322 : 					type = ItemGetNumberMake(13,16);

  0100c	6a 0d		 push	 13			; 0000000dH
  0100e	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  01013	83 c4 08	 add	 esp, 8

; 5323 : 
; 5324 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5325 : 
; 5326 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,	(BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  01016	6a 00		 push	 0
  01018	6a 00		 push	 0
  0101a	56		 push	 esi
  0101b	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  0101e	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01023	83 c4 04	 add	 esp, 4
  01026	50		 push	 eax
  01027	6a 00		 push	 0
  01029	6a 00		 push	 0
  0102b	6a 00		 push	 0
  0102d	68 80 00 00 00	 push	 128			; 00000080H
  01032	6a 08		 push	 8

; 5327 : 
; 5328 : 					return TRUE;

  01034	e9 bf f3 ff ff	 jmp	 $LN332@gEventMons
$LN117@gEventMons:

; 5329 : 				}				
; 5330 : 			}
; 5331 : 
; 5332 : 			if ( (rand()%10000) < g_iML_BloodBoneDropRate )

  01039	e8 00 00 00 00	 call	 _rand
  0103e	99		 cdq
  0103f	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01044	f7 f9		 idiv	 ecx
  01046	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_BloodBoneDropRate@@3HA ; g_iML_BloodBoneDropRate
  0104c	7d 0d		 jge	 SHORT $LN294@gEventMons

; 5333 : 			{
; 5334 : 				if ( lpObj->Level >= 90)

  0104e	66 39 9e be 00
	00 00		 cmp	 WORD PTR [esi+190], bx
  01055	7c 04		 jl	 SHORT $LN294@gEventMons

; 5335 : 				{
; 5336 : 					Option1=0;
; 5337 : 					Option2=0;
; 5338 : 					Option3=0;
; 5339 : 
; 5340 : 					dur = 128.0f;
; 5341 : 
; 5342 : 					level = 8;
; 5343 : 
; 5344 : 					x = lpObj->X;
; 5345 : 					y = lpObj->Y;
; 5346 : 
; 5347 : 					type = ItemGetNumberMake(13,17);

  01057	6a 11		 push	 17			; 00000011H

; 5348 : 
; 5349 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5350 : 
; 5351 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,	(BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5352 : 
; 5353 : 					return TRUE;

  01059	eb a3		 jmp	 SHORT $LN349@gEventMons
$LN294@gEventMons:

; 5354 : 				}
; 5355 : 			}
; 5356 : 		}
; 5357 : 	}
; 5358 : 
; 5359 : 	if ( g_bBloodCastle )

  0105b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bBloodCastle@@3HA, 0 ; g_bBloodCastle
  01062	0f 84 a2 01 00
	00		 je	 $LN298@gEventMons

; 5360 : 	{
; 5361 : 		if ( !BC_MAP_RANGE(lpObj->MapNumber ) )

  01068	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0106f	3c 34		 cmp	 al, 52			; 00000034H
  01071	0f 84 93 01 00
	00		 je	 $LN298@gEventMons
  01077	3c 0b		 cmp	 al, 11			; 0000000bH
  01079	72 0d		 jb	 SHORT $LN281@gEventMons
  0107b	b2 11		 mov	 dl, 17			; 00000011H
  0107d	3a d0		 cmp	 dl, al
  0107f	1b c0		 sbb	 eax, eax
  01081	40		 inc	 eax
  01082	0f 85 82 01 00
	00		 jne	 $LN298@gEventMons
$LN281@gEventMons:

; 5362 : 		{
; 5363 : 			Option1=0;
; 5364 : 			Option2=0;
; 5365 : 			Option3=0;
; 5366 : 
; 5367 : 			if ( (rand()%10000) < g_iAngelKingsPaperDropRate )

  01088	e8 00 00 00 00	 call	 _rand
  0108d	99		 cdq
  0108e	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01093	f7 f9		 idiv	 ecx
  01095	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iAngelKingsPaperDropRate@@3HA ; g_iAngelKingsPaperDropRate
  0109b	0f 8d b2 00 00
	00		 jge	 $LN297@gEventMons

; 5368 : 			{
; 5369 : 				dur = 128.0f;
; 5370 : 				x = lpObj->X;
; 5371 : 				y = lpObj->Y;

  010a1	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  010a8	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@43000000
  010ae	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  010b5	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]
  010b8	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 5372 : 
; 5373 : 				if ( lpObj->Level < 32 )

  010bb	0f b7 86 be 00
	00 00		 movzx	 eax, WORD PTR [esi+190]
  010c2	89 55 f8	 mov	 DWORD PTR _x$[ebp], edx
  010c5	66 83 f8 20	 cmp	 ax, 32			; 00000020H
  010c9	7d 07		 jge	 SHORT $LN111@gEventMons

; 5374 : 					level = 1;

  010cb	bf 01 00 00 00	 mov	 edi, 1
  010d0	eb 4b		 jmp	 SHORT $LN282@gEventMons
$LN111@gEventMons:

; 5375 : 				else if ( lpObj->Level < 45 )

  010d2	66 83 f8 2d	 cmp	 ax, 45			; 0000002dH
  010d6	7d 07		 jge	 SHORT $LN109@gEventMons

; 5376 : 					level = 2;

  010d8	bf 02 00 00 00	 mov	 edi, 2
  010dd	eb 3e		 jmp	 SHORT $LN282@gEventMons
$LN109@gEventMons:

; 5377 : 				else if ( lpObj->Level < 57 )

  010df	66 83 f8 39	 cmp	 ax, 57			; 00000039H
  010e3	7d 07		 jge	 SHORT $LN107@gEventMons

; 5378 : 					level = 3;

  010e5	bf 03 00 00 00	 mov	 edi, 3
  010ea	eb 31		 jmp	 SHORT $LN282@gEventMons
$LN107@gEventMons:

; 5379 : 				else if ( lpObj->Level < 68 )

  010ec	66 83 f8 44	 cmp	 ax, 68			; 00000044H
  010f0	7d 07		 jge	 SHORT $LN105@gEventMons

; 5380 : 					level = 4;

  010f2	bf 04 00 00 00	 mov	 edi, 4
  010f7	eb 24		 jmp	 SHORT $LN282@gEventMons
$LN105@gEventMons:

; 5381 : 				else if ( lpObj->Level < 76 )

  010f9	66 83 f8 4c	 cmp	 ax, 76			; 0000004cH
  010fd	7d 07		 jge	 SHORT $LN103@gEventMons

; 5382 : 					level = 5;

  010ff	bf 05 00 00 00	 mov	 edi, 5
  01104	eb 17		 jmp	 SHORT $LN282@gEventMons
$LN103@gEventMons:

; 5383 : 				else if ( lpObj->Level < 84 )

  01106	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  0110a	7d 07		 jge	 SHORT $LN101@gEventMons

; 5384 : 					level = 6;

  0110c	bf 06 00 00 00	 mov	 edi, 6
  01111	eb 0a		 jmp	 SHORT $LN282@gEventMons
$LN101@gEventMons:

; 5385 : 				else if ( lpObj->Level < 90 )

  01113	66 3b c3	 cmp	 ax, bx
  01116	7d 3b		 jge	 SHORT $LN297@gEventMons

; 5386 : 					level = 7;

  01118	bf 07 00 00 00	 mov	 edi, 7
$LN282@gEventMons:

; 5387 : 				else
; 5388 : 					level = 8;
; 5389 : 
; 5390 : 				if(level != 8)
; 5391 : 				{
; 5392 : 					type = ItemGetNumberMake(13,16);

  0111d	6a 10		 push	 16			; 00000010H
$LN343@gEventMons:
  0111f	6a 0d		 push	 13			; 0000000dH
  01121	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  01126	83 c4 08	 add	 esp, 8

; 5393 : 
; 5394 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5395 : 
; 5396 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  01129	6a 00		 push	 0
  0112b	6a 00		 push	 0
  0112d	56		 push	 esi
  0112e	8b d8		 mov	 ebx, eax
  01130	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01135	8b 4d f4	 mov	 ecx, DWORD PTR _y$[ebp]
  01138	8b 55 f8	 mov	 edx, DWORD PTR _x$[ebp]
  0113b	83 c4 04	 add	 esp, 4
  0113e	50		 push	 eax
  0113f	6a 00		 push	 0
  01141	6a 00		 push	 0
  01143	6a 00		 push	 0
  01145	68 80 00 00 00	 push	 128			; 00000080H
  0114a	57		 push	 edi
  0114b	53		 push	 ebx
  0114c	51		 push	 ecx
  0114d	52		 push	 edx
  0114e	e9 ab f2 ff ff	 jmp	 $LN333@gEventMons
$LN297@gEventMons:

; 5397 : 
; 5398 : 					return TRUE;
; 5399 : 				}				
; 5400 : 			}
; 5401 : 
; 5402 : 			if ( (rand()%10000) < g_iBloodBoneDropRate )

  01153	e8 00 00 00 00	 call	 _rand
  01158	99		 cdq
  01159	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0115e	f7 f9		 idiv	 ecx
  01160	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iBloodBoneDropRate@@3HA ; g_iBloodBoneDropRate
  01166	0f 8d 9e 00 00
	00		 jge	 $LN298@gEventMons

; 5403 : 			{
; 5404 : 				dur = 128.0f;
; 5405 : 				x = lpObj->X;
; 5406 : 				y = lpObj->Y;

  0116c	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  01173	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@43000000
  01179	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  01180	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]
  01183	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 5407 : 
; 5408 : 				if ( lpObj->Level < 32 )

  01186	0f b7 86 be 00
	00 00		 movzx	 eax, WORD PTR [esi+190]
  0118d	89 55 f8	 mov	 DWORD PTR _x$[ebp], edx
  01190	66 83 f8 20	 cmp	 ax, 32			; 00000020H
  01194	7d 09		 jge	 SHORT $LN95@gEventMons

; 5409 : 					level = 1;

  01196	bf 01 00 00 00	 mov	 edi, 1

; 5422 : 				else
; 5423 : 					level = 8;
; 5424 : 
; 5425 : 				if(level != 8)
; 5426 : 				{
; 5427 : 					type = ItemGetNumberMake(13,17);

  0119b	6a 11		 push	 17			; 00000011H

; 5428 : 
; 5429 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5430 : 
; 5431 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5432 : 
; 5433 : 					return TRUE;

  0119d	eb 80		 jmp	 SHORT $LN343@gEventMons
$LN95@gEventMons:

; 5410 : 				else if ( lpObj->Level < 45 )

  0119f	66 83 f8 2d	 cmp	 ax, 45			; 0000002dH
  011a3	7d 0c		 jge	 SHORT $LN93@gEventMons

; 5411 : 					level = 2;

  011a5	bf 02 00 00 00	 mov	 edi, 2

; 5422 : 				else
; 5423 : 					level = 8;
; 5424 : 
; 5425 : 				if(level != 8)
; 5426 : 				{
; 5427 : 					type = ItemGetNumberMake(13,17);

  011aa	6a 11		 push	 17			; 00000011H

; 5428 : 
; 5429 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5430 : 
; 5431 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5432 : 
; 5433 : 					return TRUE;

  011ac	e9 6e ff ff ff	 jmp	 $LN343@gEventMons
$LN93@gEventMons:

; 5412 : 				else if ( lpObj->Level < 57 )

  011b1	66 83 f8 39	 cmp	 ax, 57			; 00000039H
  011b5	7d 0c		 jge	 SHORT $LN91@gEventMons

; 5413 : 					level = 3;

  011b7	bf 03 00 00 00	 mov	 edi, 3

; 5422 : 				else
; 5423 : 					level = 8;
; 5424 : 
; 5425 : 				if(level != 8)
; 5426 : 				{
; 5427 : 					type = ItemGetNumberMake(13,17);

  011bc	6a 11		 push	 17			; 00000011H

; 5428 : 
; 5429 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5430 : 
; 5431 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5432 : 
; 5433 : 					return TRUE;

  011be	e9 5c ff ff ff	 jmp	 $LN343@gEventMons
$LN91@gEventMons:

; 5414 : 				else if ( lpObj->Level < 68 )

  011c3	66 83 f8 44	 cmp	 ax, 68			; 00000044H
  011c7	7d 0c		 jge	 SHORT $LN89@gEventMons

; 5415 : 					level = 4;

  011c9	bf 04 00 00 00	 mov	 edi, 4

; 5422 : 				else
; 5423 : 					level = 8;
; 5424 : 
; 5425 : 				if(level != 8)
; 5426 : 				{
; 5427 : 					type = ItemGetNumberMake(13,17);

  011ce	6a 11		 push	 17			; 00000011H

; 5428 : 
; 5429 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5430 : 
; 5431 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5432 : 
; 5433 : 					return TRUE;

  011d0	e9 4a ff ff ff	 jmp	 $LN343@gEventMons
$LN89@gEventMons:

; 5416 : 				else if ( lpObj->Level < 76 )

  011d5	66 83 f8 4c	 cmp	 ax, 76			; 0000004cH
  011d9	7d 0c		 jge	 SHORT $LN87@gEventMons

; 5417 : 					level = 5;

  011db	bf 05 00 00 00	 mov	 edi, 5

; 5422 : 				else
; 5423 : 					level = 8;
; 5424 : 
; 5425 : 				if(level != 8)
; 5426 : 				{
; 5427 : 					type = ItemGetNumberMake(13,17);

  011e0	6a 11		 push	 17			; 00000011H

; 5428 : 
; 5429 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5430 : 
; 5431 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5432 : 
; 5433 : 					return TRUE;

  011e2	e9 38 ff ff ff	 jmp	 $LN343@gEventMons
$LN87@gEventMons:

; 5418 : 				else if ( lpObj->Level < 84 )

  011e7	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  011eb	7d 0c		 jge	 SHORT $LN85@gEventMons

; 5419 : 					level = 6;

  011ed	bf 06 00 00 00	 mov	 edi, 6

; 5422 : 				else
; 5423 : 					level = 8;
; 5424 : 
; 5425 : 				if(level != 8)
; 5426 : 				{
; 5427 : 					type = ItemGetNumberMake(13,17);

  011f2	6a 11		 push	 17			; 00000011H

; 5428 : 
; 5429 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5430 : 
; 5431 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5432 : 
; 5433 : 					return TRUE;

  011f4	e9 26 ff ff ff	 jmp	 $LN343@gEventMons
$LN85@gEventMons:

; 5420 : 				else if ( lpObj->Level < 90 )

  011f9	66 3b c3	 cmp	 ax, bx
  011fc	7d 0c		 jge	 SHORT $LN298@gEventMons

; 5421 : 					level = 7;

  011fe	bf 07 00 00 00	 mov	 edi, 7

; 5422 : 				else
; 5423 : 					level = 8;
; 5424 : 
; 5425 : 				if(level != 8)
; 5426 : 				{
; 5427 : 					type = ItemGetNumberMake(13,17);

  01203	6a 11		 push	 17			; 00000011H

; 5428 : 
; 5429 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5430 : 
; 5431 : 					ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);
; 5432 : 
; 5433 : 					return TRUE;

  01205	e9 15 ff ff ff	 jmp	 $LN343@gEventMons
$LN298@gEventMons:

; 5434 : 				}
; 5435 : 			}
; 5436 : 		}
; 5437 : 	}
; 5438 : 
; 5439 : 	if ( (rand()%10000) < g_iDarkLordHeartDropRate )

  0120a	e8 00 00 00 00	 call	 _rand
  0120f	99		 cdq
  01210	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01215	f7 f9		 idiv	 ecx

; 5440 : 	{
; 5441 : 		int iDropRate = 0;
; 5442 : 
; 5443 : 		if ( lpTargetObj->MapNumber == 0 || lpTargetObj->MapNumber == 3 || lpTargetObj->MapNumber == 2 )

  01217	8b 5d 0c	 mov	 ebx, DWORD PTR _lpTargetObj$[ebp]
  0121a	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iDarkLordHeartDropRate@@3HA ; g_iDarkLordHeartDropRate
  01220	7d 3e		 jge	 SHORT $LN79@gEventMons
  01222	8a 83 49 01 00
	00		 mov	 al, BYTE PTR [ebx+329]
  01228	84 c0		 test	 al, al
  0122a	74 08		 je	 SHORT $LN78@gEventMons
  0122c	3c 03		 cmp	 al, 3
  0122e	74 04		 je	 SHORT $LN78@gEventMons
  01230	3c 02		 cmp	 al, 2
  01232	75 2c		 jne	 SHORT $LN79@gEventMons
$LN78@gEventMons:

; 5444 : 		{
; 5445 : 			type = ItemGetNumberMake(14,11);

  01234	6a 0b		 push	 11			; 0000000bH
  01236	6a 0e		 push	 14			; 0000000eH
  01238	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0123d	83 c4 08	 add	 esp, 8

; 5446 : 			level = 13;
; 5447 : 			x = lpObj->X;
; 5448 : 			y = lpObj->Y;
; 5449 : 			dur = 0;
; 5450 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5451 : 
; 5452 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  01240	6a 00		 push	 0
  01242	6a 00		 push	 0
  01244	56		 push	 esi
  01245	8b f8		 mov	 edi, eax
  01247	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0124c	83 c4 04	 add	 esp, 4
  0124f	50		 push	 eax
  01250	6a 00		 push	 0
  01252	6a 00		 push	 0
  01254	6a 00		 push	 0
  01256	6a 00		 push	 0
  01258	6a 0d		 push	 13			; 0000000dH
  0125a	57		 push	 edi

; 5453 : 
; 5454 : 			return TRUE;

  0125b	e9 d1 ee ff ff	 jmp	 $LN327@gEventMons
$LN79@gEventMons:

; 5455 : 		}
; 5456 : 	}
; 5457 : 
; 5458 : 	if ( g_bRibbonBoxEvent )

  01260	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bRibbonBoxEvent@@3HA, 0 ; g_bRibbonBoxEvent
  01267	0f 84 5f 01 00
	00		 je	 $LN305@gEventMons

; 5459 : 	{
; 5460 : 		if ( lpObj->Level >= g_iRedRibbonBoxDropLevelMin && lpObj->Level <= g_iRedRibbonBoxDropLevelMax )

  0126d	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  01274	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedRibbonBoxDropLevelMin@@3HA ; g_iRedRibbonBoxDropLevelMin
  0127a	7c 6c		 jl	 SHORT $LN76@gEventMons
  0127c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedRibbonBoxDropLevelMax@@3HA ; g_iRedRibbonBoxDropLevelMax
  01282	7f 64		 jg	 SHORT $LN76@gEventMons

; 5461 : 		{
; 5462 : 			if ( (rand()%10000) < g_iRedRibbonBoxDropRate )

  01284	e8 00 00 00 00	 call	 _rand
  01289	99		 cdq
  0128a	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0128f	f7 f9		 idiv	 ecx
  01291	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iRedRibbonBoxDropRate@@3HA ; g_iRedRibbonBoxDropRate
  01297	0f 8d 2f 01 00
	00		 jge	 $LN305@gEventMons

; 5463 : 			{
; 5464 : 				type = ItemGetNumberMake(12,32);

  0129d	6a 20		 push	 32			; 00000020H
  0129f	6a 0c		 push	 12			; 0000000cH
  012a1	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  012a6	83 c4 08	 add	 esp, 8

; 5465 : 				level = 0;
; 5466 : 				x = lpObj->X;
; 5467 : 				y = lpObj->Y;
; 5468 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5469 : 
; 5470 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  012a9	6a 00		 push	 0
  012ab	6a 00		 push	 0
  012ad	56		 push	 esi
  012ae	8b f8		 mov	 edi, eax
  012b0	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  012b5	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  012b8	83 c4 04	 add	 esp, 4
  012bb	d9 7d fe	 fnstcw	 WORD PTR tv2575[ebp]
  012be	50		 push	 eax
  012bf	0f b7 45 fe	 movzx	 eax, WORD PTR tv2575[ebp]
  012c3	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  012c8	89 45 f0	 mov	 DWORD PTR tv2572[ebp], eax
  012cb	6a 00		 push	 0
  012cd	6a 00		 push	 0
  012cf	d9 6d f0	 fldcw	 WORD PTR tv2572[ebp]
  012d2	6a 00		 push	 0
  012d4	db 5d f0	 fistp	 DWORD PTR tv2570[ebp]
  012d7	8a 55 f0	 mov	 dl, BYTE PTR tv2570[ebp]
  012da	0f b6 c2	 movzx	 eax, dl
  012dd	50		 push	 eax
  012de	d9 6d fe	 fldcw	 WORD PTR tv2575[ebp]
  012e1	6a 00		 push	 0

; 5471 : 
; 5472 : 				return TRUE;

  012e3	e9 69 f7 ff ff	 jmp	 $LN340@gEventMons
$LN76@gEventMons:

; 5473 : 			}
; 5474 : 		}
; 5475 : 		else if ( lpObj->Level >= g_iGreenRibbonBoxDropLevelMin && lpObj->Level <= g_iGreenRibbonBoxDropLevelMax )

  012e8	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iGreenRibbonBoxDropLevelMin@@3HA ; g_iGreenRibbonBoxDropLevelMin
  012ee	7c 6c		 jl	 SHORT $LN73@gEventMons
  012f0	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iGreenRibbonBoxDropLevelMax@@3HA ; g_iGreenRibbonBoxDropLevelMax
  012f6	7f 64		 jg	 SHORT $LN73@gEventMons

; 5476 : 		{
; 5477 : 			if ( (rand()%10000) < g_iGreenRibbonBoxDropRate )

  012f8	e8 00 00 00 00	 call	 _rand
  012fd	99		 cdq
  012fe	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01303	f7 f9		 idiv	 ecx
  01305	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iGreenRibbonBoxDropRate@@3HA ; g_iGreenRibbonBoxDropRate
  0130b	0f 8d bb 00 00
	00		 jge	 $LN305@gEventMons

; 5478 : 			{
; 5479 : 				type = ItemGetNumberMake(12,33);

  01311	6a 21		 push	 33			; 00000021H
  01313	6a 0c		 push	 12			; 0000000cH
  01315	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0131a	83 c4 08	 add	 esp, 8

; 5480 : 				level = 0;
; 5481 : 				x = lpObj->X;
; 5482 : 				y = lpObj->Y;
; 5483 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5484 : 
; 5485 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0131d	6a 00		 push	 0
  0131f	6a 00		 push	 0
  01321	56		 push	 esi
  01322	8b f8		 mov	 edi, eax
  01324	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01329	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  0132c	83 c4 04	 add	 esp, 4
  0132f	d9 7d fe	 fnstcw	 WORD PTR tv2550[ebp]
  01332	50		 push	 eax
  01333	0f b7 45 fe	 movzx	 eax, WORD PTR tv2550[ebp]
  01337	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0133c	89 45 f0	 mov	 DWORD PTR tv2547[ebp], eax
  0133f	6a 00		 push	 0
  01341	6a 00		 push	 0
  01343	d9 6d f0	 fldcw	 WORD PTR tv2547[ebp]
  01346	6a 00		 push	 0
  01348	db 5d f0	 fistp	 DWORD PTR tv2545[ebp]
  0134b	8a 55 f0	 mov	 dl, BYTE PTR tv2545[ebp]
  0134e	0f b6 c2	 movzx	 eax, dl
  01351	50		 push	 eax
  01352	d9 6d fe	 fldcw	 WORD PTR tv2550[ebp]
  01355	6a 00		 push	 0

; 5486 : 
; 5487 : 				return TRUE;

  01357	e9 f5 f6 ff ff	 jmp	 $LN340@gEventMons
$LN73@gEventMons:

; 5488 : 			}
; 5489 : 		}
; 5490 : 		else if ( lpObj->Level >= g_iBlueRibbonBoxDropLevelMin && lpObj->Level <= g_iBlueRibbonBoxDropLevelMax )

  0135c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueRibbonBoxDropLevelMin@@3HA ; g_iBlueRibbonBoxDropLevelMin
  01362	7c 68		 jl	 SHORT $LN305@gEventMons
  01364	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueRibbonBoxDropLevelMax@@3HA ; g_iBlueRibbonBoxDropLevelMax
  0136a	7f 60		 jg	 SHORT $LN305@gEventMons

; 5491 : 		{
; 5492 : 			if ( (rand()%10000) < g_iBlueRibbonBoxDropRate )

  0136c	e8 00 00 00 00	 call	 _rand
  01371	99		 cdq
  01372	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01377	f7 f9		 idiv	 ecx
  01379	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iBlueRibbonBoxDropRate@@3HA ; g_iBlueRibbonBoxDropRate
  0137f	7d 4b		 jge	 SHORT $LN305@gEventMons

; 5493 : 			{
; 5494 : 				type = ItemGetNumberMake(12,34);

  01381	6a 22		 push	 34			; 00000022H
  01383	6a 0c		 push	 12			; 0000000cH
  01385	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0138a	83 c4 08	 add	 esp, 8

; 5495 : 				level = 0;
; 5496 : 				x = lpObj->X;
; 5497 : 				y = lpObj->Y;
; 5498 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5499 : 
; 5500 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0138d	6a 00		 push	 0
  0138f	6a 00		 push	 0
  01391	56		 push	 esi
  01392	8b f8		 mov	 edi, eax
  01394	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01399	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  0139c	83 c4 04	 add	 esp, 4
  0139f	d9 7d fe	 fnstcw	 WORD PTR tv2525[ebp]
  013a2	50		 push	 eax
  013a3	0f b7 45 fe	 movzx	 eax, WORD PTR tv2525[ebp]
  013a7	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  013ac	89 45 f0	 mov	 DWORD PTR tv2522[ebp], eax
  013af	6a 00		 push	 0
  013b1	6a 00		 push	 0
  013b3	d9 6d f0	 fldcw	 WORD PTR tv2522[ebp]
  013b6	6a 00		 push	 0
  013b8	db 5d f0	 fistp	 DWORD PTR tv2520[ebp]
  013bb	8a 55 f0	 mov	 dl, BYTE PTR tv2520[ebp]
  013be	0f b6 c2	 movzx	 eax, dl
  013c1	50		 push	 eax
  013c2	d9 6d fe	 fldcw	 WORD PTR tv2525[ebp]
  013c5	6a 00		 push	 0

; 5501 : 
; 5502 : 				return TRUE;

  013c7	e9 85 f6 ff ff	 jmp	 $LN340@gEventMons
$LN305@gEventMons:

; 5503 : 			}
; 5504 : 		}
; 5505 : 	}
; 5506 : 
; 5507 : 	if ( g_bChocolateBoxEvent )

  013cc	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bChocolateBoxEvent@@3HA, 0 ; g_bChocolateBoxEvent
  013d3	0f 84 5f 01 00
	00		 je	 $LN310@gEventMons

; 5508 : 	{
; 5509 : 		if ( lpObj->Level >= g_iPinkChocolateBoxDropLevelMin && lpObj->Level <= g_iPinkChocolateBoxDropLevelMax )

  013d9	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  013e0	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iPinkChocolateBoxDropLevelMin@@3HA ; g_iPinkChocolateBoxDropLevelMin
  013e6	7c 6c		 jl	 SHORT $LN67@gEventMons
  013e8	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iPinkChocolateBoxDropLevelMax@@3HA ; g_iPinkChocolateBoxDropLevelMax
  013ee	7f 64		 jg	 SHORT $LN67@gEventMons

; 5510 : 		{
; 5511 : 			if ( (rand()%10000) < g_iPinkChocolateBoxDropRate )

  013f0	e8 00 00 00 00	 call	 _rand
  013f5	99		 cdq
  013f6	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  013fb	f7 f9		 idiv	 ecx
  013fd	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iPinkChocolateBoxDropRate@@3HA ; g_iPinkChocolateBoxDropRate
  01403	0f 8d 2f 01 00
	00		 jge	 $LN310@gEventMons

; 5512 : 			{
; 5513 : 				type = ItemGetNumberMake(14,32);

  01409	6a 20		 push	 32			; 00000020H
  0140b	6a 0e		 push	 14			; 0000000eH
  0140d	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  01412	83 c4 08	 add	 esp, 8

; 5514 : 				level = 0;
; 5515 : 				x = lpObj->X;
; 5516 : 				y = lpObj->Y;
; 5517 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5518 : 
; 5519 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  01415	6a 00		 push	 0
  01417	6a 00		 push	 0
  01419	56		 push	 esi
  0141a	8b f8		 mov	 edi, eax
  0141c	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01421	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  01424	83 c4 04	 add	 esp, 4
  01427	d9 7d fe	 fnstcw	 WORD PTR tv2500[ebp]
  0142a	50		 push	 eax
  0142b	0f b7 45 fe	 movzx	 eax, WORD PTR tv2500[ebp]
  0142f	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  01434	89 45 f0	 mov	 DWORD PTR tv2497[ebp], eax
  01437	6a 00		 push	 0
  01439	6a 00		 push	 0
  0143b	d9 6d f0	 fldcw	 WORD PTR tv2497[ebp]
  0143e	6a 00		 push	 0
  01440	db 5d f0	 fistp	 DWORD PTR tv2495[ebp]
  01443	8a 55 f0	 mov	 dl, BYTE PTR tv2495[ebp]
  01446	0f b6 c2	 movzx	 eax, dl
  01449	50		 push	 eax
  0144a	d9 6d fe	 fldcw	 WORD PTR tv2500[ebp]
  0144d	6a 00		 push	 0

; 5520 : 
; 5521 : 				return TRUE;

  0144f	e9 fd f5 ff ff	 jmp	 $LN340@gEventMons
$LN67@gEventMons:

; 5522 : 			}
; 5523 : 		}
; 5524 : 		else if ( lpObj->Level >= g_iRedChocolateBoxDropLevelMin && lpObj->Level <= g_iRedChocolateBoxDropLevelMax )

  01454	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedChocolateBoxDropLevelMin@@3HA ; g_iRedChocolateBoxDropLevelMin
  0145a	7c 6c		 jl	 SHORT $LN64@gEventMons
  0145c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedChocolateBoxDropLevelMax@@3HA ; g_iRedChocolateBoxDropLevelMax
  01462	7f 64		 jg	 SHORT $LN64@gEventMons

; 5525 : 		{
; 5526 : 			if ( (rand()%10000) < g_iRedChocolateBoxDropRate )

  01464	e8 00 00 00 00	 call	 _rand
  01469	99		 cdq
  0146a	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0146f	f7 f9		 idiv	 ecx
  01471	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iRedChocolateBoxDropRate@@3HA ; g_iRedChocolateBoxDropRate
  01477	0f 8d bb 00 00
	00		 jge	 $LN310@gEventMons

; 5527 : 			{
; 5528 : 				type = ItemGetNumberMake(14,33);

  0147d	6a 21		 push	 33			; 00000021H
  0147f	6a 0e		 push	 14			; 0000000eH
  01481	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  01486	83 c4 08	 add	 esp, 8

; 5529 : 				level = 0;
; 5530 : 				x = lpObj->X;
; 5531 : 				y = lpObj->Y;
; 5532 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5533 : 
; 5534 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 5535 : 					(BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  01489	6a 00		 push	 0
  0148b	6a 00		 push	 0
  0148d	56		 push	 esi
  0148e	8b f8		 mov	 edi, eax
  01490	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01495	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  01498	83 c4 04	 add	 esp, 4
  0149b	d9 7d fe	 fnstcw	 WORD PTR tv2467[ebp]
  0149e	50		 push	 eax
  0149f	0f b7 45 fe	 movzx	 eax, WORD PTR tv2467[ebp]
  014a3	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  014a8	89 45 f0	 mov	 DWORD PTR tv2464[ebp], eax
  014ab	6a 00		 push	 0
  014ad	6a 00		 push	 0
  014af	d9 6d f0	 fldcw	 WORD PTR tv2464[ebp]
  014b2	6a 00		 push	 0
  014b4	db 5d f0	 fistp	 DWORD PTR tv2462[ebp]
  014b7	8a 55 f0	 mov	 dl, BYTE PTR tv2462[ebp]
  014ba	0f b6 c2	 movzx	 eax, dl
  014bd	50		 push	 eax
  014be	d9 6d fe	 fldcw	 WORD PTR tv2467[ebp]
  014c1	6a 00		 push	 0

; 5536 : 
; 5537 : 				return TRUE;

  014c3	e9 89 f5 ff ff	 jmp	 $LN340@gEventMons
$LN64@gEventMons:

; 5538 : 			}
; 5539 : 		}
; 5540 : 		else if ( lpObj->Level >= g_iBlueChocolateBoxDropLevelMin && lpObj->Level <= g_iBlueChocolateBoxDropLevelMax )

  014c8	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueChocolateBoxDropLevelMin@@3HA ; g_iBlueChocolateBoxDropLevelMin
  014ce	7c 68		 jl	 SHORT $LN310@gEventMons
  014d0	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueChocolateBoxDropLevelMax@@3HA ; g_iBlueChocolateBoxDropLevelMax
  014d6	7f 60		 jg	 SHORT $LN310@gEventMons

; 5541 : 		{
; 5542 : 			if ( (rand()%10000) < g_iBlueChocolateBoxDropRate )

  014d8	e8 00 00 00 00	 call	 _rand
  014dd	99		 cdq
  014de	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  014e3	f7 f9		 idiv	 ecx
  014e5	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iBlueChocolateBoxDropRate@@3HA ; g_iBlueChocolateBoxDropRate
  014eb	7d 4b		 jge	 SHORT $LN310@gEventMons

; 5543 : 			{
; 5544 : 				type = ItemGetNumberMake(14,34);

  014ed	6a 22		 push	 34			; 00000022H
  014ef	6a 0e		 push	 14			; 0000000eH
  014f1	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  014f6	83 c4 08	 add	 esp, 8

; 5545 : 				level = 0;
; 5546 : 				x = lpObj->X;
; 5547 : 				y = lpObj->Y;
; 5548 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5549 : 
; 5550 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  014f9	6a 00		 push	 0
  014fb	6a 00		 push	 0
  014fd	56		 push	 esi
  014fe	8b f8		 mov	 edi, eax
  01500	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01505	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  01508	83 c4 04	 add	 esp, 4
  0150b	d9 7d fe	 fnstcw	 WORD PTR tv2441[ebp]
  0150e	50		 push	 eax
  0150f	0f b7 45 fe	 movzx	 eax, WORD PTR tv2441[ebp]
  01513	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  01518	89 45 f0	 mov	 DWORD PTR tv2438[ebp], eax
  0151b	6a 00		 push	 0
  0151d	6a 00		 push	 0
  0151f	d9 6d f0	 fldcw	 WORD PTR tv2438[ebp]
  01522	6a 00		 push	 0
  01524	db 5d f0	 fistp	 DWORD PTR tv2427[ebp]
  01527	8a 55 f0	 mov	 dl, BYTE PTR tv2427[ebp]
  0152a	0f b6 c2	 movzx	 eax, dl
  0152d	50		 push	 eax
  0152e	d9 6d fe	 fldcw	 WORD PTR tv2441[ebp]
  01531	6a 00		 push	 0

; 5551 : 
; 5552 : 				return TRUE;

  01533	e9 19 f5 ff ff	 jmp	 $LN340@gEventMons
$LN310@gEventMons:

; 5553 : 			}
; 5554 : 		}
; 5555 : 	}
; 5556 : 
; 5557 : 	if ( g_bCandyBoxEvent )

  01538	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bCandyBoxEvent@@3HA, 0 ; g_bCandyBoxEvent
  0153f	0f 84 3b 01 00
	00		 je	 $LN315@gEventMons

; 5558 : 	{
; 5559 : 		if ( lpObj->Level >= g_iLightPurpleCandyBoxDropLevelMin && lpObj->Level <= g_iLightPurpleCandyBoxDropLevelMax )

  01545	0f bf 86 be 00
	00 00		 movsx	 eax, WORD PTR [esi+190]
  0154c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iLightPurpleCandyBoxDropLevelMin@@3HA ; g_iLightPurpleCandyBoxDropLevelMin
  01552	7c 60		 jl	 SHORT $LN58@gEventMons
  01554	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iLightPurpleCandyBoxDropLevelMax@@3HA ; g_iLightPurpleCandyBoxDropLevelMax
  0155a	7f 58		 jg	 SHORT $LN58@gEventMons

; 5560 : 		{
; 5561 : 			if ( (rand()%10000) < g_iLightPurpleCandyBoxDropRate )

  0155c	e8 00 00 00 00	 call	 _rand
  01561	99		 cdq
  01562	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01567	f7 f9		 idiv	 ecx
  01569	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iLightPurpleCandyBoxDropRate@@3HA ; g_iLightPurpleCandyBoxDropRate
  0156f	0f 8d 0b 01 00
	00		 jge	 $LN315@gEventMons

; 5562 : 			{
; 5563 : 				type = ItemGetNumberMake(14,32);

  01575	6a 20		 push	 32			; 00000020H
  01577	6a 0e		 push	 14			; 0000000eH
  01579	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0157e	83 c4 08	 add	 esp, 8

; 5564 : 				level = 1;
; 5565 : 				x = lpObj->X;
; 5566 : 				y = lpObj->Y;
; 5567 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5568 : 
; 5569 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  01581	6a 00		 push	 0
  01583	6a 00		 push	 0
  01585	56		 push	 esi
  01586	8b f8		 mov	 edi, eax
  01588	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0158d	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  01590	83 c4 04	 add	 esp, 4
  01593	d9 7d fe	 fnstcw	 WORD PTR tv2407[ebp]
  01596	50		 push	 eax
  01597	0f b7 45 fe	 movzx	 eax, WORD PTR tv2407[ebp]
  0159b	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  015a0	89 45 f0	 mov	 DWORD PTR tv2404[ebp], eax
  015a3	d9 6d f0	 fldcw	 WORD PTR tv2404[ebp]
  015a6	db 5d f0	 fistp	 DWORD PTR tv2402[ebp]
  015a9	8a 55 f0	 mov	 dl, BYTE PTR tv2402[ebp]
  015ac	d9 6d fe	 fldcw	 WORD PTR tv2407[ebp]

; 5570 : 
; 5571 : 				return TRUE;

  015af	e9 91 f4 ff ff	 jmp	 $LN346@gEventMons
$LN58@gEventMons:

; 5572 : 			}
; 5573 : 		}
; 5574 : 		else if ( lpObj->Level >= g_iVermilionCandyBoxDropLevelMin && lpObj->Level <= g_iVermilionCandyBoxDropLevelMax )

  015b4	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iVermilionCandyBoxDropLevelMin@@3HA ; g_iVermilionCandyBoxDropLevelMin
  015ba	7c 60		 jl	 SHORT $LN55@gEventMons
  015bc	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iVermilionCandyBoxDropLevelMax@@3HA ; g_iVermilionCandyBoxDropLevelMax
  015c2	7f 58		 jg	 SHORT $LN55@gEventMons

; 5575 : 		{
; 5576 : 			if ( (rand()%10000) < g_iVermilionCandyBoxDropRate )

  015c4	e8 00 00 00 00	 call	 _rand
  015c9	99		 cdq
  015ca	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  015cf	f7 f9		 idiv	 ecx
  015d1	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iVermilionCandyBoxDropRate@@3HA ; g_iVermilionCandyBoxDropRate
  015d7	0f 8d a3 00 00
	00		 jge	 $LN315@gEventMons

; 5577 : 			{
; 5578 : 				type = ItemGetNumberMake(14,33);

  015dd	6a 21		 push	 33			; 00000021H
  015df	6a 0e		 push	 14			; 0000000eH
  015e1	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  015e6	83 c4 08	 add	 esp, 8

; 5579 : 				level = 1;
; 5580 : 				x = lpObj->X;
; 5581 : 				y = lpObj->Y;
; 5582 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5583 : 
; 5584 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  015e9	6a 00		 push	 0
  015eb	6a 00		 push	 0
  015ed	56		 push	 esi
  015ee	8b f8		 mov	 edi, eax
  015f0	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  015f5	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  015f8	83 c4 04	 add	 esp, 4
  015fb	d9 7d fe	 fnstcw	 WORD PTR tv2381[ebp]
  015fe	50		 push	 eax
  015ff	0f b7 45 fe	 movzx	 eax, WORD PTR tv2381[ebp]
  01603	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  01608	89 45 f0	 mov	 DWORD PTR tv2378[ebp], eax
  0160b	d9 6d f0	 fldcw	 WORD PTR tv2378[ebp]
  0160e	db 5d f0	 fistp	 DWORD PTR tv2376[ebp]
  01611	8a 55 f0	 mov	 dl, BYTE PTR tv2376[ebp]
  01614	d9 6d fe	 fldcw	 WORD PTR tv2381[ebp]

; 5585 : 
; 5586 : 				return TRUE;

  01617	e9 29 f4 ff ff	 jmp	 $LN346@gEventMons
$LN55@gEventMons:

; 5587 : 			}
; 5588 : 		}
; 5589 : 		else if ( lpObj->Level >= g_iDeepBlueCandyBoxDropLevelMin && lpObj->Level <= g_iDeepBlueCandyBoxDropLevelMax )

  0161c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iDeepBlueCandyBoxDropLevelMin@@3HA ; g_iDeepBlueCandyBoxDropLevelMin
  01622	7c 5c		 jl	 SHORT $LN315@gEventMons
  01624	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iDeepBlueCandyBoxDropLevelMax@@3HA ; g_iDeepBlueCandyBoxDropLevelMax
  0162a	7f 54		 jg	 SHORT $LN315@gEventMons

; 5590 : 		{
; 5591 : 			if ( (rand()%10000) < g_iDeepBlueCandyBoxDropRate )

  0162c	e8 00 00 00 00	 call	 _rand
  01631	99		 cdq
  01632	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01637	f7 f9		 idiv	 ecx
  01639	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iDeepBlueCandyBoxDropRate@@3HA ; g_iDeepBlueCandyBoxDropRate
  0163f	7d 3f		 jge	 SHORT $LN315@gEventMons

; 5592 : 			{
; 5593 : 				type = ItemGetNumberMake(14,34);

  01641	6a 22		 push	 34			; 00000022H
  01643	6a 0e		 push	 14			; 0000000eH
  01645	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0164a	83 c4 08	 add	 esp, 8

; 5594 : 				level = 1;
; 5595 : 				x = lpObj->X;
; 5596 : 				y = lpObj->Y;
; 5597 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5598 : 
; 5599 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  0164d	6a 00		 push	 0
  0164f	6a 00		 push	 0
  01651	56		 push	 esi
  01652	8b f8		 mov	 edi, eax
  01654	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01659	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  0165c	83 c4 04	 add	 esp, 4
  0165f	d9 7d fe	 fnstcw	 WORD PTR tv2356[ebp]
  01662	50		 push	 eax
  01663	0f b7 45 fe	 movzx	 eax, WORD PTR tv2356[ebp]
  01667	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  0166c	89 45 f0	 mov	 DWORD PTR tv2353[ebp], eax
  0166f	d9 6d f0	 fldcw	 WORD PTR tv2353[ebp]
  01672	db 5d f0	 fistp	 DWORD PTR tv2351[ebp]
  01675	8a 55 f0	 mov	 dl, BYTE PTR tv2351[ebp]
  01678	d9 6d fe	 fldcw	 WORD PTR tv2356[ebp]

; 5600 : 
; 5601 : 				return TRUE;

  0167b	e9 c5 f3 ff ff	 jmp	 $LN346@gEventMons
$LN315@gEventMons:

; 5602 : 			}
; 5603 : 		}
; 5604 : 	}
; 5605 : 
; 5606 : 	if ( g_bHallowinDayEventOn )

  01680	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bHallowinDayEventOn@@3HA, 0 ; g_bHallowinDayEventOn
  01687	0f 84 c5 00 00
	00		 je	 $LN320@gEventMons

; 5607 : 	{
; 5608 : 		bool bIsBossMonster = false;
; 5609 : 
; 5610 : 		if ( lpObj->m_Index == 349 || lpObj->m_Index == 364 || lpObj->m_Index == 361 ||
; 5611 : 			 lpObj->m_Index == 362 || lpObj->m_Index == 363 )

  0168d	8b 06		 mov	 eax, DWORD PTR [esi]
  0168f	3d 5d 01 00 00	 cmp	 eax, 349		; 0000015dH
  01694	0f 84 b8 00 00
	00		 je	 $LN320@gEventMons
  0169a	3d 6c 01 00 00	 cmp	 eax, 364		; 0000016cH
  0169f	0f 84 ad 00 00
	00		 je	 $LN320@gEventMons
  016a5	3d 69 01 00 00	 cmp	 eax, 361		; 00000169H
  016aa	0f 84 a2 00 00
	00		 je	 $LN320@gEventMons
  016b0	3d 6a 01 00 00	 cmp	 eax, 362		; 0000016aH
  016b5	0f 84 97 00 00
	00		 je	 $LN320@gEventMons
  016bb	3d 6b 01 00 00	 cmp	 eax, 363		; 0000016bH

; 5612 : 			bIsBossMonster = true;
; 5613 : 
; 5614 : 		if ( !bIsBossMonster )

  016c0	0f 84 8c 00 00
	00		 je	 $LN320@gEventMons

; 5615 : 		{
; 5616 : 			if ( (rand()%10000) < g_iHallowinDayEventItemDropRate  )

  016c6	e8 00 00 00 00	 call	 _rand
  016cb	99		 cdq
  016cc	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  016d1	f7 f9		 idiv	 ecx
  016d3	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iHallowinDayEventItemDropRate@@3HA ; g_iHallowinDayEventItemDropRate
  016d9	7d 77		 jge	 SHORT $LN320@gEventMons

; 5617 : 			{
; 5618 : 				if(zzzItemLevel(14,45,lpObj->Level+1) != 0) //season3 add-on

  016db	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  016e2	42		 inc	 edx
  016e3	52		 push	 edx
  016e4	6a 2d		 push	 45			; 0000002dH
  016e6	6a 0e		 push	 14			; 0000000eH
  016e8	e8 00 00 00 00	 call	 ?zzzItemLevel@@YAHHHH@Z	; zzzItemLevel
  016ed	83 c4 0c	 add	 esp, 12			; 0000000cH
  016f0	85 c0		 test	 eax, eax
  016f2	74 5e		 je	 SHORT $LN320@gEventMons

; 5619 : 				{
; 5620 : 					type = ItemGetNumberMake(14,45);

  016f4	6a 2d		 push	 45			; 0000002dH
  016f6	6a 0e		 push	 14			; 0000000eH
  016f8	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  016fd	83 c4 08	 add	 esp, 8

; 5621 : 					level = 0;
; 5622 : 					x = lpObj->X;
; 5623 : 					y = lpObj->Y;
; 5624 : 					int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5625 : 
; 5626 : 					ItemSerialCreateSend(lpTargetObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, iMaxHitUser, 0, 0);

  01700	6a 00		 push	 0
  01702	6a 00		 push	 0
  01704	56		 push	 esi
  01705	8b f8		 mov	 edi, eax
  01707	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0170c	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  0170f	83 c4 04	 add	 esp, 4
  01712	d9 7d fe	 fnstcw	 WORD PTR tv2205[ebp]
  01715	50		 push	 eax
  01716	0f b7 45 fe	 movzx	 eax, WORD PTR tv2205[ebp]
  0171a	0f b6 96 46 01
	00 00		 movzx	 edx, BYTE PTR [esi+326]
  01721	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  01726	89 45 f0	 mov	 DWORD PTR tv2182[ebp], eax
  01729	6a 00		 push	 0
  0172b	6a 00		 push	 0
  0172d	d9 6d f0	 fldcw	 WORD PTR tv2182[ebp]
  01730	6a 00		 push	 0
  01732	db 5d f0	 fistp	 DWORD PTR tv2171[ebp]
  01735	8a 45 f0	 mov	 al, BYTE PTR tv2171[ebp]
  01738	0f b6 c8	 movzx	 ecx, al
  0173b	0f b6 86 44 01
	00 00		 movzx	 eax, BYTE PTR [esi+324]
  01742	d9 6d fe	 fldcw	 WORD PTR tv2205[ebp]
  01745	51		 push	 ecx
  01746	6a 00		 push	 0
  01748	57		 push	 edi
  01749	52		 push	 edx
  0174a	8b 13		 mov	 edx, DWORD PTR [ebx]
  0174c	50		 push	 eax

; 5627 : 
; 5628 : 					return TRUE;

  0174d	e9 f1 e9 ff ff	 jmp	 $LN351@gEventMons
$LN320@gEventMons:

; 5629 : 				}
; 5630 : 			}
; 5631 : 		}
; 5632 : 	}
; 5633 : 
; 5634 : 	if( g_iSantaPolymorphRingDropOn ) //season 2.5 add-on

  01752	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iSantaPolymorphRingDropOn@@3HA, 0 ; g_iSantaPolymorphRingDropOn
  01759	0f 84 91 00 00
	00		 je	 $LN301@gEventMons

; 5635 : 	{
; 5636 : 		bool bIsBossMonster = false;
; 5637 : 
; 5638 : 		if ( lpObj->m_Index == 349 || lpObj->m_Index == 364 || lpObj->m_Index == 361 ||
; 5639 : 			 lpObj->m_Index == 362 || lpObj->m_Index == 363 )

  0175f	8b 06		 mov	 eax, DWORD PTR [esi]
  01761	3d 5d 01 00 00	 cmp	 eax, 349		; 0000015dH
  01766	0f 84 84 00 00
	00		 je	 $LN301@gEventMons
  0176c	3d 6c 01 00 00	 cmp	 eax, 364		; 0000016cH
  01771	74 7d		 je	 SHORT $LN301@gEventMons
  01773	3d 69 01 00 00	 cmp	 eax, 361		; 00000169H
  01778	74 76		 je	 SHORT $LN301@gEventMons
  0177a	3d 6a 01 00 00	 cmp	 eax, 362		; 0000016aH
  0177f	74 6f		 je	 SHORT $LN301@gEventMons
  01781	3d 6b 01 00 00	 cmp	 eax, 363		; 0000016bH

; 5640 : 			bIsBossMonster = true;
; 5641 : 
; 5642 : 		if ( !bIsBossMonster )

  01786	74 68		 je	 SHORT $LN301@gEventMons

; 5643 : 		{
; 5644 : 			if ( (rand()%10000) < g_iSantaPolymorphRingDropRate  )

  01788	e8 00 00 00 00	 call	 _rand
  0178d	99		 cdq
  0178e	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01793	f7 f9		 idiv	 ecx
  01795	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iSantaPolymorphRingDropRate@@3HA ; g_iSantaPolymorphRingDropRate
  0179b	7d 53		 jge	 SHORT $LN301@gEventMons

; 5645 : 			{
; 5646 : 				type = ItemGetNumberMake(13,41);

  0179d	6a 29		 push	 41			; 00000029H
  0179f	6a 0d		 push	 13			; 0000000dH
  017a1	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 5647 : 				level = 0;
; 5648 : 				dur = 100.0f;

  017a6	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@42c80000
  017ac	83 c4 08	 add	 esp, 8
  017af	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]

; 5649 : 				x = lpObj->X;
; 5650 : 				y = lpObj->Y;
; 5651 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5652 : 
; 5653 : 				ItemSerialCreateSend(lpTargetObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, iMaxHitUser, 0, 0);

  017b2	6a 00		 push	 0
  017b4	6a 00		 push	 0
  017b6	56		 push	 esi
  017b7	8b f8		 mov	 edi, eax
  017b9	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  017be	0f b6 96 46 01
	00 00		 movzx	 edx, BYTE PTR [esi+326]
  017c5	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  017cc	83 c4 04	 add	 esp, 4
  017cf	50		 push	 eax
  017d0	0f b6 86 44 01
	00 00		 movzx	 eax, BYTE PTR [esi+324]
  017d7	6a 00		 push	 0
  017d9	6a 00		 push	 0
  017db	6a 00		 push	 0
  017dd	6a 64		 push	 100			; 00000064H
  017df	6a 00		 push	 0
  017e1	57		 push	 edi
  017e2	52		 push	 edx
  017e3	8b 13		 mov	 edx, DWORD PTR [ebx]
  017e5	50		 push	 eax
  017e6	51		 push	 ecx
  017e7	52		 push	 edx
  017e8	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  017ed	83 c4 34	 add	 esp, 52			; 00000034H
$LN301@gEventMons:

; 5654 : 
; 5655 : 				//return TRUE; //no return wtf??
; 5656 : 			}
; 5657 : 		}
; 5658 : 	}
; 5659 : 
; 5660 : 	if ( g_iIllusionTempleEvent ) //Season 2.5 add-on

  017f0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iIllusionTempleEvent@@3HA, 0 ; g_iIllusionTempleEvent
  017f7	0f 84 8c 01 00
	00		 je	 $LN311@gEventMons

; 5661 : 	{
; 5662 : 		if ( !IT_MAP_RANGE(lpObj->MapNumber ) )

  017fd	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  01804	3c 2d		 cmp	 al, 45			; 0000002dH
  01806	72 0d		 jb	 SHORT $LN286@gEventMons
  01808	b1 32		 mov	 cl, 50			; 00000032H
  0180a	3a c8		 cmp	 cl, al
  0180c	1b c0		 sbb	 eax, eax
  0180e	40		 inc	 eax
  0180f	0f 85 74 01 00
	00		 jne	 $LN311@gEventMons
$LN286@gEventMons:

; 5663 : 		{
; 5664 : 			Option1=0;
; 5665 : 			Option2=0;
; 5666 : 			Option3=0;
; 5667 : 
; 5668 : 			if ( (rand()%10000) < g_iOldScrollDropRate )

  01815	e8 00 00 00 00	 call	 _rand
  0181a	99		 cdq
  0181b	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01820	f7 f9		 idiv	 ecx
  01822	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iOldScrollDropRate@@3HA ; g_iOldScrollDropRate
  01828	0f 8d a1 00 00
	00		 jge	 $LN23@gEventMons

; 5669 : 			{
; 5670 : 				dur = 0;
; 5671 : 				x = lpObj->X;
; 5672 : 				y = lpObj->Y;

  0182e	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  01835	d9 ee		 fldz
  01837	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  0183e	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]
  01841	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 5673 : 
; 5674 : 				if ( lpObj->Level >= 66)

  01844	0f b7 86 be 00
	00 00		 movzx	 eax, WORD PTR [esi+190]
  0184b	89 55 f8	 mov	 DWORD PTR _x$[ebp], edx
  0184e	66 83 f8 42	 cmp	 ax, 66			; 00000042H
  01852	7c 7b		 jl	 SHORT $LN23@gEventMons

; 5675 : 				{
; 5676 : 					if ( lpObj->Level < 72 )

  01854	66 83 f8 48	 cmp	 ax, 72			; 00000048H
  01858	7d 07		 jge	 SHORT $LN35@gEventMons

; 5677 : 					{
; 5678 : 						level = 1;

  0185a	bf 01 00 00 00	 mov	 edi, 1
  0185f	eb 3b		 jmp	 SHORT $LN287@gEventMons
$LN35@gEventMons:

; 5679 : 					}
; 5680 : 					else if ( lpObj->Level < 78 )

  01861	66 83 f8 4e	 cmp	 ax, 78			; 0000004eH
  01865	7d 07		 jge	 SHORT $LN33@gEventMons

; 5681 : 					{
; 5682 : 						level = 2;

  01867	bf 02 00 00 00	 mov	 edi, 2
  0186c	eb 2e		 jmp	 SHORT $LN287@gEventMons
$LN33@gEventMons:

; 5683 : 					}
; 5684 : 					else if ( lpObj->Level < 84 )

  0186e	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  01872	7d 07		 jge	 SHORT $LN31@gEventMons

; 5685 : 					{
; 5686 : 						level = 3;

  01874	bf 03 00 00 00	 mov	 edi, 3
  01879	eb 21		 jmp	 SHORT $LN287@gEventMons
$LN31@gEventMons:

; 5687 : 					}
; 5688 : 					else if ( lpObj->Level < 90 )

  0187b	66 83 f8 5a	 cmp	 ax, 90			; 0000005aH
  0187f	7d 07		 jge	 SHORT $LN29@gEventMons

; 5689 : 					{
; 5690 : 						level = 4;

  01881	bf 04 00 00 00	 mov	 edi, 4
  01886	eb 14		 jmp	 SHORT $LN287@gEventMons
$LN29@gEventMons:

; 5691 : 					}
; 5692 : 					else if ( lpObj->Level < 96 )

  01888	66 83 f8 60	 cmp	 ax, 96			; 00000060H

; 5693 : 					{
; 5694 : 						level = 5;

  0188c	7c 09		 jl	 SHORT $LN325@gEventMons

; 5695 : 					}
; 5696 : 					else if ( g_iUseMaxLevelIllusionTemple )

  0188e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iUseMaxLevelIllusionTemple@@3HA, 0 ; g_iUseMaxLevelIllusionTemple

; 5697 : 					{
; 5698 : 						level = 6;
; 5699 : 					}
; 5700 : 					else

  01895	75 38		 jne	 SHORT $LN23@gEventMons
$LN325@gEventMons:

; 5701 : 					{
; 5702 : 						level = 5;

  01897	bf 05 00 00 00	 mov	 edi, 5
$LN287@gEventMons:

; 5703 : 					}
; 5704 : 
; 5705 : 					if(level != 6)
; 5706 : 					{
; 5707 : 						type = ItemGetNumberMake(13,49);

  0189c	6a 31		 push	 49			; 00000031H
  0189e	6a 0d		 push	 13			; 0000000dH
  018a0	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  018a5	83 c4 08	 add	 esp, 8

; 5708 : 
; 5709 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5710 : 
; 5711 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,	(BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  018a8	6a 00		 push	 0
  018aa	6a 00		 push	 0
  018ac	56		 push	 esi
  018ad	8b d8		 mov	 ebx, eax
  018af	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  018b4	8b 4d f4	 mov	 ecx, DWORD PTR _y$[ebp]
  018b7	8b 55 f8	 mov	 edx, DWORD PTR _x$[ebp]
  018ba	83 c4 04	 add	 esp, 4
  018bd	50		 push	 eax
  018be	6a 00		 push	 0
  018c0	6a 00		 push	 0
  018c2	6a 00		 push	 0
  018c4	6a 00		 push	 0
  018c6	57		 push	 edi
  018c7	53		 push	 ebx
  018c8	51		 push	 ecx
  018c9	52		 push	 edx
  018ca	e9 2f eb ff ff	 jmp	 $LN333@gEventMons
$LN23@gEventMons:

; 5712 : 
; 5713 : 						return TRUE;
; 5714 : 					}
; 5715 : 				}				
; 5716 : 			}
; 5717 : 
; 5718 : 			if ( (rand()%10000) < g_iCovenantOfIllusionDropRate )

  018cf	e8 00 00 00 00	 call	 _rand
  018d4	99		 cdq
  018d5	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  018da	f7 f9		 idiv	 ecx
  018dc	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCovenantOfIllusionDropRate@@3HA ; g_iCovenantOfIllusionDropRate
  018e2	0f 8d a1 00 00
	00		 jge	 $LN311@gEventMons

; 5719 : 			{
; 5720 : 				dur = 0;
; 5721 : 				x = lpObj->X;
; 5722 : 				y = lpObj->Y;

  018e8	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  018ef	d9 ee		 fldz
  018f1	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  018f8	d9 5d fc	 fstp	 DWORD PTR _dur$[ebp]
  018fb	89 45 f4	 mov	 DWORD PTR _y$[ebp], eax

; 5723 : 
; 5724 : 				if ( lpObj->Level >= 70)

  018fe	0f b7 86 be 00
	00 00		 movzx	 eax, WORD PTR [esi+190]
  01905	89 55 f8	 mov	 DWORD PTR _x$[ebp], edx
  01908	66 83 f8 46	 cmp	 ax, 70			; 00000046H
  0190c	7c 7b		 jl	 SHORT $LN311@gEventMons

; 5725 : 				{
; 5726 : 					if ( lpObj->Level < 76 )

  0190e	66 83 f8 4c	 cmp	 ax, 76			; 0000004cH
  01912	7d 07		 jge	 SHORT $LN20@gEventMons

; 5727 : 					{
; 5728 : 						level = 1;

  01914	bb 01 00 00 00	 mov	 ebx, 1
  01919	eb 3b		 jmp	 SHORT $LN288@gEventMons
$LN20@gEventMons:

; 5729 : 					}
; 5730 : 					else if ( lpObj->Level < 82 )

  0191b	66 83 f8 52	 cmp	 ax, 82			; 00000052H
  0191f	7d 07		 jge	 SHORT $LN18@gEventMons

; 5731 : 					{
; 5732 : 						level = 2;

  01921	bb 02 00 00 00	 mov	 ebx, 2
  01926	eb 2e		 jmp	 SHORT $LN288@gEventMons
$LN18@gEventMons:

; 5733 : 					}
; 5734 : 					else if ( lpObj->Level < 88 )

  01928	66 83 f8 58	 cmp	 ax, 88			; 00000058H
  0192c	7d 07		 jge	 SHORT $LN16@gEventMons

; 5735 : 					{
; 5736 : 						level = 3;

  0192e	bb 03 00 00 00	 mov	 ebx, 3
  01933	eb 21		 jmp	 SHORT $LN288@gEventMons
$LN16@gEventMons:

; 5737 : 					}
; 5738 : 					else if ( lpObj->Level < 94 )

  01935	66 83 f8 5e	 cmp	 ax, 94			; 0000005eH
  01939	7d 07		 jge	 SHORT $LN14@gEventMons

; 5739 : 					{
; 5740 : 						level = 4;

  0193b	bb 04 00 00 00	 mov	 ebx, 4
  01940	eb 14		 jmp	 SHORT $LN288@gEventMons
$LN14@gEventMons:

; 5741 : 					}
; 5742 : 					else if ( lpObj->Level < 100 )

  01942	66 83 f8 64	 cmp	 ax, 100			; 00000064H

; 5743 : 					{
; 5744 : 						level = 5;

  01946	7c 09		 jl	 SHORT $LN326@gEventMons

; 5745 : 					}
; 5746 : 					else if ( g_iUseMaxLevelIllusionTemple )

  01948	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iUseMaxLevelIllusionTemple@@3HA, 0 ; g_iUseMaxLevelIllusionTemple

; 5747 : 					{
; 5748 : 						level = 6;
; 5749 : 					}
; 5750 : 					else

  0194f	75 38		 jne	 SHORT $LN311@gEventMons
$LN326@gEventMons:

; 5751 : 					{
; 5752 : 						level = 5;

  01951	bb 05 00 00 00	 mov	 ebx, 5
$LN288@gEventMons:

; 5753 : 					}
; 5754 : 
; 5755 : 					if(level != 6)
; 5756 : 					{
; 5757 : 						type = ItemGetNumberMake(13,50);

  01956	6a 32		 push	 50			; 00000032H
  01958	6a 0d		 push	 13			; 0000000dH
  0195a	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0195f	83 c4 08	 add	 esp, 8

; 5758 : 
; 5759 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5760 : 
; 5761 : 						ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, MaxHitUser, 0, 0);

  01962	6a 00		 push	 0
  01964	6a 00		 push	 0
  01966	56		 push	 esi
  01967	8b f8		 mov	 edi, eax
  01969	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0196e	8b 4d f4	 mov	 ecx, DWORD PTR _y$[ebp]
  01971	8b 55 f8	 mov	 edx, DWORD PTR _x$[ebp]
  01974	83 c4 04	 add	 esp, 4
  01977	50		 push	 eax
  01978	6a 00		 push	 0
  0197a	6a 00		 push	 0
  0197c	6a 00		 push	 0
  0197e	6a 00		 push	 0
  01980	53		 push	 ebx
  01981	57		 push	 edi
  01982	51		 push	 ecx
  01983	52		 push	 edx
  01984	e9 75 ea ff ff	 jmp	 $LN333@gEventMons
$LN311@gEventMons:

; 5762 : 
; 5763 : 						return TRUE;
; 5764 : 					}
; 5765 : 				}				
; 5766 : 			}
; 5767 : 		}
; 5768 : 	}
; 5769 : 
; 5770 : 	if( g_bCherryBlossomEventOn ) //season 3 add-on

  01989	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bCherryBlossomEventOn@@3HA, 0 ; g_bCherryBlossomEventOn
  01990	0f 84 a4 00 00
	00		 je	 $LN316@gEventMons

; 5771 : 	{
; 5772 : 		bool bIsBossMonster = false;
; 5773 : 
; 5774 : 		if ( lpObj->m_Index == 349 || lpObj->m_Index == 364 || lpObj->m_Index == 361 ||
; 5775 : 			 lpObj->m_Index == 362 || lpObj->m_Index == 363 )

  01996	8b 06		 mov	 eax, DWORD PTR [esi]
  01998	3d 5d 01 00 00	 cmp	 eax, 349		; 0000015dH
  0199d	0f 84 97 00 00
	00		 je	 $LN316@gEventMons
  019a3	3d 6c 01 00 00	 cmp	 eax, 364		; 0000016cH
  019a8	0f 84 8c 00 00
	00		 je	 $LN316@gEventMons
  019ae	3d 69 01 00 00	 cmp	 eax, 361		; 00000169H
  019b3	0f 84 81 00 00
	00		 je	 $LN316@gEventMons
  019b9	3d 6a 01 00 00	 cmp	 eax, 362		; 0000016aH
  019be	74 7a		 je	 SHORT $LN316@gEventMons
  019c0	3d 6b 01 00 00	 cmp	 eax, 363		; 0000016bH

; 5776 : 			bIsBossMonster = true;
; 5777 : 
; 5778 : 		if ( !bIsBossMonster )

  019c5	74 73		 je	 SHORT $LN316@gEventMons

; 5779 : 		{
; 5780 : 			if ( (rand()%10000) < g_iCherryBlossomEventItemDropRate  )

  019c7	e8 00 00 00 00	 call	 _rand
  019cc	99		 cdq
  019cd	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  019d2	f7 f9		 idiv	 ecx
  019d4	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCherryBlossomEventItemDropRate@@3HA ; g_iCherryBlossomEventItemDropRate
  019da	7d 5e		 jge	 SHORT $LN316@gEventMons

; 5781 : 			{
; 5782 : 				type = ItemGetNumberMake(14,84);

  019dc	6a 54		 push	 84			; 00000054H
  019de	6a 0e		 push	 14			; 0000000eH
  019e0	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  019e5	83 c4 08	 add	 esp, 8

; 5783 : 				level = 0;
; 5784 : 				x = lpObj->X;
; 5785 : 				y = lpObj->Y;
; 5786 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5787 : 
; 5788 : 				ItemSerialCreateSend(lpTargetObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, iMaxHitUser, 0, 0);

  019e8	6a 00		 push	 0
  019ea	6a 00		 push	 0
  019ec	56		 push	 esi
  019ed	8b f8		 mov	 edi, eax
  019ef	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  019f4	d9 45 fc	 fld	 DWORD PTR _dur$[ebp]
  019f7	83 c4 04	 add	 esp, 4
  019fa	d9 7d fe	 fnstcw	 WORD PTR tv1976[ebp]
  019fd	50		 push	 eax
  019fe	0f b7 45 fe	 movzx	 eax, WORD PTR tv1976[ebp]
  01a02	0f b6 8e 46 01
	00 00		 movzx	 ecx, BYTE PTR [esi+326]
  01a09	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  01a0e	89 45 f0	 mov	 DWORD PTR tv1957[ebp], eax
  01a11	6a 00		 push	 0
  01a13	6a 00		 push	 0
  01a15	d9 6d f0	 fldcw	 WORD PTR tv1957[ebp]
  01a18	6a 00		 push	 0
  01a1a	db 5d f0	 fistp	 DWORD PTR tv1955[ebp]
  01a1d	8a 55 f0	 mov	 dl, BYTE PTR tv1955[ebp]
  01a20	0f b6 c2	 movzx	 eax, dl
  01a23	0f b6 96 44 01
	00 00		 movzx	 edx, BYTE PTR [esi+324]
  01a2a	d9 6d fe	 fldcw	 WORD PTR tv1976[ebp]
  01a2d	50		 push	 eax
  01a2e	6a 00		 push	 0
  01a30	57		 push	 edi
  01a31	51		 push	 ecx
  01a32	8b 0b		 mov	 ecx, DWORD PTR [ebx]
  01a34	52		 push	 edx

; 5789 : 
; 5790 : 				return TRUE;

  01a35	e9 c6 e9 ff ff	 jmp	 $LN352@gEventMons
$LN316@gEventMons:

; 5791 : 			}
; 5792 : 		}
; 5793 : 	}
; 5794 : 
; 5795 : 	if( g_bLuckyCoinEventOn != 0)// Season 4.5 Addon

  01a3a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bLuckyCoinEventOn@@3HA, 0 ; g_bLuckyCoinEventOn
  01a41	74 4f		 je	 SHORT $LN1@gEventMons

; 5796 :     {
; 5797 :         if ( (rand()%10000) < g_iLuckyCoinDropRate  )

  01a43	e8 00 00 00 00	 call	 _rand
  01a48	99		 cdq
  01a49	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01a4e	f7 f9		 idiv	 ecx
  01a50	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iLuckyCoinDropRate@@3HA ; g_iLuckyCoinDropRate
  01a56	7d 3a		 jge	 SHORT $LN1@gEventMons

; 5798 :         {
; 5799 :             Option1=0;
; 5800 :             Option2=0;
; 5801 :             Option3=0;
; 5802 :  
; 5803 :             level = 0;
; 5804 :             dur = 1.0f;
; 5805 :  
; 5806 :             x = lpObj->X;

  01a58	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 5807 :             y = lpObj->Y;

  01a5f	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 5808 :  
; 5809 :             type = ItemGetNumberMake(14,100);

  01a66	6a 64		 push	 100			; 00000064H
  01a68	6a 0e		 push	 14			; 0000000eH
  01a6a	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  01a6f	83 c4 08	 add	 esp, 8

; 5810 :  
; 5811 :             int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5812 :  
; 5813 :             ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur, (BYTE)Option1,(BYTE)Option2,(BYTE)Option3, iMaxHitUser, 0, 0);

  01a72	6a 00		 push	 0
  01a74	6a 00		 push	 0
  01a76	56		 push	 esi
  01a77	89 45 f8	 mov	 DWORD PTR _type$[ebp], eax
  01a7a	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01a7f	83 c4 04	 add	 esp, 4
  01a82	50		 push	 eax
  01a83	6a 00		 push	 0
  01a85	6a 00		 push	 0
  01a87	6a 00		 push	 0
  01a89	6a 01		 push	 1
  01a8b	6a 00		 push	 0

; 5814 :  
; 5815 :             return TRUE;

  01a8d	e9 66 e9 ff ff	 jmp	 $LN332@gEventMons
$LN1@gEventMons:
  01a92	5f		 pop	 edi
  01a93	5e		 pop	 esi

; 5816 :  
; 5817 :         }
; 5818 :     }
; 5819 : #ifdef IMPERIAL_CONFLICT_NEW
; 5820 : 	/*if ( g_ImperialGuardian.IsEnableEvent() )
; 5821 : 	{
; 5822 : 		MONSTER_ATTRIBUTE* lpm = gMAttr.GetAttr(lpObj->Class);
; 5823 : 		if ( lpm )
; 5824 : 		{
; 5825 : 			if ( lpm->m_Level > 30 && rand() % 10000 < g_nMysteriousPaperDropRate )
; 5826 : 			{
; 5827 : 				ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, lpObj->X,lpObj->Y,
; 5828 : 					ItemGetNumberMake(14, 101), 0, 1.0, 0, 0, 0,
; 5829 : 					gObjMonsterTopHitDamageUser(lpObj), 0, 0 );
; 5830 : 
; 5831 : 				return TRUE;
; 5832 : 			}
; 5833 : 		}
; 5834 : 	}*/
; 5835 : #endif
; 5836 : 
; 5837 : 	return FALSE;

  01a94	33 c0		 xor	 eax, eax
  01a96	5b		 pop	 ebx

; 5838 : }

  01a97	8b e5		 mov	 esp, ebp
  01a99	5d		 pop	 ebp
  01a9a	c3		 ret	 0
  01a9b	90		 npad	 1
$LN353@gEventMons:
  01a9c	00 00 00 00	 DD	 $LN174@gEventMons
  01aa0	00 00 00 00	 DD	 $LN173@gEventMons
  01aa4	00 00 00 00	 DD	 $LN173@gEventMons
  01aa8	00 00 00 00	 DD	 $LN174@gEventMons
  01aac	00 00 00 00	 DD	 $LN170@gEventMons
  01ab0	00 00 00 00	 DD	 $LN175@gEventMons
  01ab4	00 00 00 00	 DD	 $LN175@gEventMons
  01ab8	00 00 00 00	 DD	 $LN169@gEventMons
  01abc	00 00 00 00	 DD	 $LN168@gEventMons
$LN354@gEventMons:
  01ac0	00 00 00 00	 DD	 $LN137@gEventMons
  01ac4	00 00 00 00	 DD	 $LN135@gEventMons
$LN290@gEventMons:
  01ac8	00		 DB	 0
  01ac9	00		 DB	 0
  01aca	00		 DB	 0
  01acb	00		 DB	 0
  01acc	00		 DB	 0
  01acd	00		 DB	 0
  01ace	01		 DB	 1
  01acf	01		 DB	 1
  01ad0	01		 DB	 1
  01ad1	01		 DB	 1
?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; gEventMonsterItemDrop
_TEXT	ENDS
PUBLIC	??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?Run@CQeustNpcTeleport@@QAEXH@Z			; CQeustNpcTeleport::Run
EXTRN	?gObjClearViewport@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; gObjClearViewport
EXTRN	?gObjViewportListProtocolDestroy@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjViewportListProtocolDestroy
EXTRN	?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z:PROC	; MsgSendV2
EXTRN	?PHeadSetBE@@YAXPAEEH@Z:PROC			; PHeadSetBE
EXTRN	?gQuestNPCTeleportTime@@3HA:DWORD		; gQuestNPCTeleportTime
;	COMDAT ??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@
CONST	SEGMENT
??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@ DB 'NPC %d', 0b7H
	DB	0ceH, ' ', 0c0H, 0ccH, 0b5H, 0bfH, 00H	; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Run@CQeustNpcTeleport@@QAEXH@Z
_TEXT	SEGMENT
_pMsg$229767 = -16					; size = 9
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?Run@CQeustNpcTeleport@@QAEXH@Z PROC			; CQeustNpcTeleport::Run, COMDAT
; _this$ = ecx

; 5841 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00014	57		 push	 edi
  00015	8b f9		 mov	 edi, ecx

; 5842 : 	if ( this->RefCount > 0 )

  00017	83 3f 00	 cmp	 DWORD PTR [edi], 0
  0001a	0f 8f ca 01 00
	00		 jg	 $LN4@Run

; 5843 : 	{
; 5844 : 		return;
; 5845 : 	}
; 5846 : 
; 5847 : 	this->TimeCount++;

  00020	ff 47 1c	 inc	 DWORD PTR [edi+28]
  00023	8b 47 1c	 mov	 eax, DWORD PTR [edi+28]

; 5848 : 
; 5849 : 	if ( this->TimeCount > gQuestNPCTeleportTime )

  00026	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gQuestNPCTeleportTime@@3HA ; gQuestNPCTeleportTime
  0002c	0f 8e b8 01 00
	00		 jle	 $LN4@Run

; 5850 : 	{
; 5851 : 		PMSG_MAGICATTACK_RESULT pMsg;
; 5852 : 
; 5853 : 		this->TimeCount = 0;
; 5854 : 
; 5855 : 		PHeadSetBE((LPBYTE)&pMsg, 0x19, sizeof(pMsg));

  00032	56		 push	 esi
  00033	6a 09		 push	 9
  00035	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$229767[ebp]
  00038	6a 19		 push	 25			; 00000019H
  0003a	50		 push	 eax
  0003b	c7 47 1c 00 00
	00 00		 mov	 DWORD PTR [edi+28], 0
  00042	e8 00 00 00 00	 call	 ?PHeadSetBE@@YAXPAEEH@Z	; PHeadSetBE

; 5856 : 
; 5857 : 		pMsg.MagicNumberH = SET_NUMBERH(6);
; 5858 : 		pMsg.MagicNumberL = SET_NUMBERL(6);
; 5859 : 
; 5860 : 		pMsg.SourceNumberH = SET_NUMBERH(aIndex);
; 5861 : 		pMsg.SourceNumberL = SET_NUMBERL(aIndex);
; 5862 : 		pMsg.TargetNumberH = SET_NUMBERH(aIndex);
; 5863 : 		pMsg.TargetNumberL = SET_NUMBERL(aIndex);
; 5864 : 
; 5865 : 		MsgSendV2(&gObj[aIndex], (LPBYTE)&pMsg, pMsg.h.size);

  00047	0f b6 4d f1	 movzx	 ecx, BYTE PTR _pMsg$229767[ebp+1]
  0004b	8b f3		 mov	 esi, ebx
  0004d	69 f6 50 2b 00
	00		 imul	 esi, 11088		; 00002b50H
  00053	8b c3		 mov	 eax, ebx
  00055	c1 e8 08	 shr	 eax, 8
  00058	51		 push	 ecx
  00059	88 45 f5	 mov	 BYTE PTR _pMsg$229767[ebp+5], al
  0005c	88 45 f7	 mov	 BYTE PTR _pMsg$229767[ebp+7], al
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00064	8d 55 f0	 lea	 edx, DWORD PTR _pMsg$229767[ebp]
  00067	52		 push	 edx
  00068	8d 0c 06	 lea	 ecx, DWORD PTR [esi+eax]
  0006b	51		 push	 ecx
  0006c	66 c7 45 f3 00
	06		 mov	 WORD PTR _pMsg$229767[ebp+3], 1536 ; 00000600H
  00072	88 5d f6	 mov	 BYTE PTR _pMsg$229767[ebp+6], bl
  00075	88 5d f8	 mov	 BYTE PTR _pMsg$229767[ebp+8], bl
  00078	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2

; 5866 : 
; 5867 : 		gObjViewportListProtocolDestroy(&gObj[aIndex]);

  0007d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00083	8d 04 16	 lea	 eax, DWORD PTR [esi+edx]
  00086	50		 push	 eax
  00087	e8 00 00 00 00	 call	 ?gObjViewportListProtocolDestroy@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolDestroy

; 5868 : 		gObjClearViewport(&gObj[aIndex]);

  0008c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00092	8d 14 0e	 lea	 edx, DWORD PTR [esi+ecx]
  00095	52		 push	 edx
  00096	e8 00 00 00 00	 call	 ?gObjClearViewport@@YAXPAUOBJECTSTRUCT@@@Z ; gObjClearViewport
  0009b	83 c4 20	 add	 esp, 32			; 00000020H
  0009e	8b ff		 npad	 2
$LL3@Run:

; 5869 : 
; 5870 : 		int tableindex;
; 5871 : 
; 5872 : 		while ( true )
; 5873 : 		{
; 5874 : 			tableindex = rand() % MAX_QUEST_TELEPORT;

  000a0	e8 00 00 00 00	 call	 _rand
  000a5	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  000aa	79 05		 jns	 SHORT $LN10@Run
  000ac	48		 dec	 eax
  000ad	83 c8 fc	 or	 eax, -4			; fffffffcH
  000b0	40		 inc	 eax
$LN10@Run:

; 5875 : 
; 5876 : 			if ( this->LastMapNumber != tableindex )

  000b1	39 47 20	 cmp	 DWORD PTR [edi+32], eax
  000b4	74 ea		 je	 SHORT $LL3@Run

; 5877 : 			{
; 5878 : 				this->LastMapNumber = tableindex;

  000b6	89 47 20	 mov	 DWORD PTR [edi+32], eax

; 5879 : 				break;
; 5880 : 			}
; 5881 : 		}
; 5882 : 
; 5883 : 		gObj[aIndex].X = this->m_QuestNPCTeleportPos[tableindex].x;

  000b9	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000bf	8b c8		 mov	 ecx, eax
  000c1	03 c9		 add	 ecx, ecx
  000c3	0f b7 54 cf 28	 movzx	 edx, WORD PTR [edi+ecx*8+40]
  000c8	66 89 94 1e 44
	01 00 00	 mov	 WORD PTR [esi+ebx+324], dx

; 5884 : 		gObj[aIndex].Y = this->m_QuestNPCTeleportPos[tableindex].y;

  000d0	0f b7 54 cf 2c	 movzx	 edx, WORD PTR [edi+ecx*8+44]
  000d5	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000db	66 89 94 1e 46
	01 00 00	 mov	 WORD PTR [esi+ebx+326], dx

; 5885 : 		gObj[aIndex].TX = gObj[aIndex].X;

  000e3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000e9	0f b7 9c 16 44
	01 00 00	 movzx	 ebx, WORD PTR [esi+edx+324]
  000f1	66 89 9c 16 7c
	01 00 00	 mov	 WORD PTR [esi+edx+380], bx

; 5886 : 		gObj[aIndex].TY = gObj[aIndex].Y;

  000f9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ff	0f b7 9c 16 46
	01 00 00	 movzx	 ebx, WORD PTR [esi+edx+326]
  00107	66 89 9c 16 7e
	01 00 00	 mov	 WORD PTR [esi+edx+382], bx

; 5887 : 		gObj[aIndex].MTX = gObj[aIndex].X;

  0010f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00115	0f b7 9c 16 44
	01 00 00	 movzx	 ebx, WORD PTR [esi+edx+324]
  0011d	66 89 9c 16 80
	01 00 00	 mov	 WORD PTR [esi+edx+384], bx

; 5888 : 		gObj[aIndex].MTY = gObj[aIndex].Y;

  00125	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0012b	0f b7 9c 16 46
	01 00 00	 movzx	 ebx, WORD PTR [esi+edx+326]
  00133	66 89 9c 16 82
	01 00 00	 mov	 WORD PTR [esi+edx+386], bx

; 5889 : 		gObj[aIndex].m_OldX = gObj[aIndex].TX;

  0013b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00141	0f b7 9c 16 7c
	01 00 00	 movzx	 ebx, WORD PTR [esi+edx+380]
  00149	66 89 9c 16 78
	01 00 00	 mov	 WORD PTR [esi+edx+376], bx

; 5890 : 		gObj[aIndex].m_OldY = gObj[aIndex].TY;

  00151	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00157	0f b7 9c 16 7e
	01 00 00	 movzx	 ebx, WORD PTR [esi+edx+382]
  0015f	66 89 9c 16 7a
	01 00 00	 mov	 WORD PTR [esi+edx+378], bx

; 5891 : 		gObj[aIndex].MapNumber = this->m_QuestNPCTeleportPos[tableindex].mapnum;

  00167	8a 4c cf 24	 mov	 cl, BYTE PTR [edi+ecx*8+36]
  0016b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00171	88 8c 16 49 01
	00 00		 mov	 BYTE PTR [esi+edx+329], cl

; 5892 : 		gObj[aIndex].Dir = this->m_QuestNPCTeleportPos[tableindex].dir;

  00178	8d 48 03	 lea	 ecx, DWORD PTR [eax+3]
  0017b	03 c9		 add	 ecx, ecx
  0017d	0f b6 14 cf	 movzx	 edx, BYTE PTR [edi+ecx*8]
  00181	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00187	88 94 0e 48 01
	00 00		 mov	 BYTE PTR [esi+ecx+328], dl

; 5893 : 		gObj[aIndex].StartX = gObj[aIndex].X;

  0018e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00194	0f b6 94 0e 44
	01 00 00	 movzx	 edx, BYTE PTR [esi+ecx+324]
  0019c	88 94 0e 76 01
	00 00		 mov	 BYTE PTR [esi+ecx+374], dl

; 5894 : 		gObj[aIndex].StartY = gObj[aIndex].Y;

  001a3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001a9	0f b6 94 0e 46
	01 00 00	 movzx	 edx, BYTE PTR [esi+ecx+326]
  001b1	88 94 0e 77 01
	00 00		 mov	 BYTE PTR [esi+ecx+375], dl

; 5895 : 		gObj[aIndex].m_State = 1;

  001b8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001be	c7 84 0e 20 02
	00 00 01 00 00
	00		 mov	 DWORD PTR [esi+ecx+544], 1

; 5896 : 		gObj[aIndex].PathCount = 0;

  001c9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 5897 : 
; 5898 : 		LogAdd("NPC %d ", tableindex);

  001cf	50		 push	 eax
  001d0	68 00 00 00 00	 push	 OFFSET ??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@
  001d5	c7 84 16 84 01
	00 00 00 00 00
	00		 mov	 DWORD PTR [esi+edx+388], 0
  001e0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  001e6	83 c4 08	 add	 esp, 8
  001e9	5e		 pop	 esi
$LN4@Run:

; 5899 : 	}
; 5900 : }

  001ea	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001ed	5f		 pop	 edi
  001ee	33 cd		 xor	 ecx, ebp
  001f0	5b		 pop	 ebx
  001f1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001f6	8b e5		 mov	 esp, ebp
  001f8	5d		 pop	 ebp
  001f9	c2 04 00	 ret	 4
?Run@CQeustNpcTeleport@@QAEXH@Z ENDP			; CQeustNpcTeleport::Run
_TEXT	ENDS
PUBLIC	?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterSelectSkillForMedusa
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_nSplashTargetCnt$ = -8					; size = 4
_nTargetCnt$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterSelectSkillForMedusa, COMDAT

; 5903 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx

; 5904 : 	int nObjNum				= -1;
; 5905 : 	int nTargetCnt			= 0;

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	33 ff		 xor	 edi, edi
  0000e	89 7d fc	 mov	 DWORD PTR _nTargetCnt$[ebp], edi

; 5906 : 	int nSkillNumber		= 1;
; 5907 : 	int nSplashTargetCnt	= 0;

  00011	89 7d f8	 mov	 DWORD PTR _nSplashTargetCnt$[ebp], edi
  00014	81 c3 ae 08 00
	00		 add	 ebx, 2222		; 000008aeH
  0001a	8d 9b 00 00 00
	00		 npad	 6
$LL20@gObjMonste@15:

; 5910 : 	{
; 5911 : 		nObjNum = lpObj->VpPlayer2[i].number;

  00020	0f bf 33	 movsx	 esi, WORD PTR [ebx]

; 5912 : 		// ----
; 5913 : 		if( nObjNum < 0 )

  00023	85 f6		 test	 esi, esi
  00025	78 59		 js	 SHORT $LN15@gObjMonste@15

; 5914 : 		{
; 5915 : 			break;
; 5916 : 		}
; 5917 : 		// ----
; 5918 : 		if( gObj[nObjNum].Class == OBJ_USER && gObj[nObjNum].Live )

  00027	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002d	8b c6		 mov	 eax, esi
  0002f	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00035	03 c1		 add	 eax, ecx
  00037	66 83 b8 b8 00
	00 00 01	 cmp	 WORD PTR [eax+184], 1
  0003f	75 09		 jne	 SHORT $LN7@gObjMonste@15
  00041	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  00045	74 03		 je	 SHORT $LN7@gObjMonste@15

; 5919 : 		{
; 5920 : 			nTargetCnt++;

  00047	ff 45 fc	 inc	 DWORD PTR _nTargetCnt$[ebp]
$LN7@gObjMonste@15:

; 5921 : 		}
; 5922 : 		// ----
; 5923 : 		int iSkillDistance = gObjCalDistance(&gObj[lpObj->TargetNumber], &gObj[nObjNum]);

  0004a	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  0004d	50		 push	 eax
  0004e	0f bf 82 58 04
	00 00		 movsx	 eax, WORD PTR [edx+1112]
  00055	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0005b	03 c1		 add	 eax, ecx
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 5924 : 		// ----
; 5925 : 		if( lpObj->TargetNumber != nObjNum )

  00063	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00066	0f bf 91 58 04
	00 00		 movsx	 edx, WORD PTR [ecx+1112]
  0006d	83 c4 08	 add	 esp, 8
  00070	3b d6		 cmp	 edx, esi
  00072	74 03		 je	 SHORT $LN10@gObjMonste@15

; 5926 : 		{
; 5927 : 			nSplashTargetCnt++;

  00074	ff 45 f8	 inc	 DWORD PTR _nSplashTargetCnt$[ebp]
$LN10@gObjMonste@15:

; 5908 : 	// ----
; 5909 : 	for( int i = 0; i < MAX_VIEWPORT; i++ )

  00077	47		 inc	 edi
  00078	83 c3 0c	 add	 ebx, 12			; 0000000cH
  0007b	83 ff 4b	 cmp	 edi, 75			; 0000004bH
  0007e	7c a0		 jl	 SHORT $LL20@gObjMonste@15
$LN15@gObjMonste@15:

; 5928 : 		}
; 5929 : 	}
; 5930 : 	// ----
; 5931 : 	if( nTargetCnt < 2 )
; 5932 : 	{
; 5933 : 		nSkillNumber = rand() % 10 + 1;

  00080	e8 00 00 00 00	 call	 _rand
  00085	83 7d fc 02	 cmp	 DWORD PTR _nTargetCnt$[ebp], 2
  00089	99		 cdq
  0008a	7d 14		 jge	 SHORT $LN5@gObjMonste@15
  0008c	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  00091	f7 f9		 idiv	 ecx
  00093	8d 72 01	 lea	 esi, DWORD PTR [edx+1]

; 5934 : 		// ---
; 5935 : 		if( nSkillNumber > 4 )

  00096	83 fe 04	 cmp	 esi, 4
  00099	7e 17		 jle	 SHORT $LN2@gObjMonste@15

; 5936 : 		{
; 5937 : 			nSkillNumber = 1;

  0009b	8d 71 f7	 lea	 esi, DWORD PTR [ecx-9]

; 5938 : 		}
; 5939 : 	}
; 5940 : 	else

  0009e	eb 12		 jmp	 SHORT $LN2@gObjMonste@15
$LN5@gObjMonste@15:

; 5941 : 	{
; 5942 : 		nSkillNumber = rand() % 20 + 1;

  000a0	b9 14 00 00 00	 mov	 ecx, 20			; 00000014H
  000a5	f7 f9		 idiv	 ecx
  000a7	8d 72 01	 lea	 esi, DWORD PTR [edx+1]

; 5943 : 		// ---
; 5944 : 		if( nSkillNumber > 4 )

  000aa	83 fe 04	 cmp	 esi, 4
  000ad	7e 03		 jle	 SHORT $LN2@gObjMonste@15

; 5945 : 		{
; 5946 : 			nSkillNumber = 4;

  000af	8d 71 f0	 lea	 esi, DWORD PTR [ecx-16]
$LN2@gObjMonste@15:

; 5947 : 		}
; 5948 : 	}
; 5949 : 	// ----
; 5950 : 	if( nSplashTargetCnt > 0 
; 5951 : 		&& nSplashTargetCnt >= (nTargetCnt / 5) 
; 5952 : 		&& rand() % 10 < 7 )

  000b2	8b 4d f8	 mov	 ecx, DWORD PTR _nSplashTargetCnt$[ebp]
  000b5	85 c9		 test	 ecx, ecx
  000b7	7e 2a		 jle	 SHORT $LN19@gObjMonste@15
  000b9	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  000be	f7 6d fc	 imul	 DWORD PTR _nTargetCnt$[ebp]
  000c1	d1 fa		 sar	 edx, 1
  000c3	8b c2		 mov	 eax, edx
  000c5	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  000c8	03 c2		 add	 eax, edx
  000ca	3b c8		 cmp	 ecx, eax
  000cc	7c 15		 jl	 SHORT $LN19@gObjMonste@15
  000ce	e8 00 00 00 00	 call	 _rand
  000d3	99		 cdq
  000d4	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  000d9	f7 f9		 idiv	 ecx

; 5953 : 	{
; 5954 : 		nSkillNumber = 3;

  000db	8d 41 f9	 lea	 eax, DWORD PTR [ecx-7]
  000de	83 fa 07	 cmp	 edx, 7
  000e1	7c 02		 jl	 SHORT $LN1@gObjMonste@15
$LN19@gObjMonste@15:

; 5955 : 	}
; 5956 : 	// ----
; 5957 : 	return nSkillNumber;

  000e3	8b c6		 mov	 eax, esi
$LN1@gObjMonste@15:
  000e5	5f		 pop	 edi
  000e6	5e		 pop	 esi
  000e7	5b		 pop	 ebx

; 5958 : }

  000e8	8b e5		 mov	 esp, ebp
  000ea	5d		 pop	 ebp
  000eb	c3		 ret	 0
?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterSelectSkillForMedusa
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z	; gObjMonsterRegen
EXTRN	?GetMonHPBenefitRate@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetMonHPBenefitRate
EXTRN	?GetCrywolfState@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetCrywolfState
EXTRN	?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z:PROC	; gObjGetRandomFreeLocation
EXTRN	?GetPosition@CMonsterSetBase@@QAEHHFAAF0@Z:PROC	; CMonsterSetBase::GetPosition
EXTRN	?RegenProc@CDoppelGanger@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CDoppelGanger::RegenProc
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?GetRaklionState@CRaklion@@QAEHXZ:PROC		; CRaklion::GetRaklionState
EXTRN	?g_Raklion@@3VCRaklion@@A:BYTE			; g_Raklion
EXTRN	?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjViewportListProtocolCreate
EXTRN	?gObjViewportListCreate@@YAXF@Z:PROC		; gObjViewportListCreate
EXTRN	?CreateFrustrum@@YAXHHH@Z:PROC			; CreateFrustrum
EXTRN	?RegenMessage@CMonsterMsg@@QAEXH@Z:PROC		; CMonsterMsg::RegenMessage
EXTRN	?g_MonsterMsg@@3VCMonsterMsg@@A:BYTE		; g_MonsterMsg
EXTRN	?gObjViewportClose@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; gObjViewportClose
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
tv496 = -24						; size = 4
tv490 = -24						; size = 4
_cX$227372 = -18					; size = 1
_cY$227373 = -17					; size = 1
_map$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z PROC		; gObjMonsterRegen, COMDAT

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00015	57		 push	 edi

; 88   : 	int map[3];
; 89   : 
; 90   : 	map[0] = 0;
; 91   : 	map[1] = 2;
; 92   : 	map[2] = 3;
; 93   : 
; 94   : 	gObjViewportListProtocolDestroy(lpObj);

  00016	56		 push	 esi
  00017	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _map$[ebp], 0
  0001e	c7 45 f4 02 00
	00 00		 mov	 DWORD PTR _map$[ebp+4], 2
  00025	c7 45 f8 03 00
	00 00		 mov	 DWORD PTR _map$[ebp+8], 3
  0002c	e8 00 00 00 00	 call	 ?gObjViewportListProtocolDestroy@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolDestroy

; 95   : 	gObjViewportClose(lpObj);

  00031	56		 push	 esi
  00032	e8 00 00 00 00	 call	 ?gObjViewportClose@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportClose

; 96   : 
; 97   : 	lpObj->m_ActState.Attack = 0;
; 98   : 	lpObj->m_ActState.EmotionCount = 0;
; 99   : 	lpObj->m_ActState.Escape = 0;
; 100  : 	lpObj->m_ActState.Move = 0;
; 101  : 	lpObj->m_ActState.Rest = 0;
; 102  : 	lpObj->m_ActState.Emotion = 0;
; 103  : 	lpObj->TargetNumber = -1;
; 104  : 	lpObj->NextActionTime = 5000;
; 105  : 
; 106  : #if(CUSTOM_MONSTER_MESSAGE)
; 107  : 	g_MonsterMsg.RegenMessage(lpObj->m_Index);

  00037	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00039	83 a6 18 02 00
	00 fd		 and	 DWORD PTR [esi+536], -3	; fffffffdH
  00040	83 c4 08	 add	 esp, 8
  00043	83 c8 ff	 or	 eax, -1
  00046	51		 push	 ecx
  00047	c6 86 19 02 00
	00 00		 mov	 BYTE PTR [esi+537], 0
  0004e	81 a6 18 02 00
	00 02 ff ff ff	 and	 DWORD PTR [esi+536], -254 ; ffffff02H
  00058	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterMsg@@3VCMonsterMsg@@A ; g_MonsterMsg
  0005d	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax
  00064	c7 86 bc 03 00
	00 88 13 00 00	 mov	 DWORD PTR [esi+956], 5000 ; 00001388H
  0006e	e8 00 00 00 00	 call	 ?RegenMessage@CMonsterMsg@@QAEXH@Z ; CMonsterMsg::RegenMessage

; 108  : #endif
; 109  : 
; 110  : 	if ( lpObj->Class == 43 )

  00073	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  0007a	83 f8 2b	 cmp	 eax, 43			; 0000002bH
  0007d	0f 85 b0 00 00
	00		 jne	 $LN39@gObjMonste@16

; 111  : 	{
; 112  : 		lpObj->MapNumber = map[ rand() % 3 ];

  00083	e8 00 00 00 00	 call	 _rand
  00088	99		 cdq
  00089	b9 03 00 00 00	 mov	 ecx, 3
  0008e	f7 f9		 idiv	 ecx

; 113  : 
; 114  : 		if ( gMSetBase.GetBoxPosition(lpObj->MapNumber, 10, 10, 240, 240, lpObj->X, lpObj->Y)== FALSE )

  00090	8d be 46 01 00
	00		 lea	 edi, DWORD PTR [esi+326]
  00096	57		 push	 edi
  00097	8d 9e 44 01 00
	00		 lea	 ebx, DWORD PTR [esi+324]
  0009d	53		 push	 ebx
  0009e	68 f0 00 00 00	 push	 240			; 000000f0H
  000a3	68 f0 00 00 00	 push	 240			; 000000f0H
  000a8	6a 0a		 push	 10			; 0000000aH
  000aa	6a 0a		 push	 10			; 0000000aH
  000ac	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  000b1	8a 54 95 f0	 mov	 dl, BYTE PTR _map$[ebp+edx*4]
  000b5	88 96 49 01 00
	00		 mov	 BYTE PTR [esi+329], dl
  000bb	0f b6 d2	 movzx	 edx, dl
  000be	52		 push	 edx
  000bf	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z ; CMonsterSetBase::GetBoxPosition
  000c4	85 c0		 test	 eax, eax
  000c6	75 34		 jne	 SHORT $LN38@gObjMonste@16
$LN8@gObjMonste@16:

; 115  : 		{
; 116  : 			lpObj->Live = FALSE;

  000c8	c6 46 6a 00	 mov	 BYTE PTR [esi+106], 0

; 117  : 			lpObj->m_State = 4;

  000cc	c7 86 20 02 00
	00 04 00 00 00	 mov	 DWORD PTR [esi+544], 4

; 118  : 			lpObj->RegenTime = GetTickCount();

  000d6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  000dc	89 86 a8 03 00
	00		 mov	 DWORD PTR [esi+936], eax

; 119  : 			lpObj->DieRegen = TRUE;

  000e2	c6 86 a2 03 00
	00 01		 mov	 BYTE PTR [esi+930], 1
$LN33@gObjMonste@16:

; 135  : 	{
; 136  : 		return FALSE;

  000e9	5f		 pop	 edi
  000ea	5e		 pop	 esi
  000eb	33 c0		 xor	 eax, eax
  000ed	5b		 pop	 ebx

; 244  : 	}
; 245  : 	return TRUE;
; 246  : }

  000ee	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f1	33 cd		 xor	 ecx, ebp
  000f3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000f8	8b e5		 mov	 esp, ebp
  000fa	5d		 pop	 ebp
  000fb	c3		 ret	 0
$LN38@gObjMonste@16:

; 120  : 			return FALSE;
; 121  : 		}
; 122  : 
; 123  : 		lpObj->TX = lpObj->X;

  000fc	0f b7 03	 movzx	 eax, WORD PTR [ebx]

; 124  : 		lpObj->TY = lpObj->Y;

  000ff	0f b7 0f	 movzx	 ecx, WORD PTR [edi]
  00102	66 89 86 7c 01
	00 00		 mov	 WORD PTR [esi+380], ax
  00109	66 89 8e 7e 01
	00 00		 mov	 WORD PTR [esi+382], cx

; 125  : 		lpObj->MTX = lpObj->X;

  00110	66 89 86 80 01
	00 00		 mov	 WORD PTR [esi+384], ax

; 126  : 		lpObj->MTY = lpObj->Y;
; 127  : 		lpObj->StartX = lpObj->X;

  00117	8a 03		 mov	 al, BYTE PTR [ebx]
  00119	66 89 8e 82 01
	00 00		 mov	 WORD PTR [esi+386], cx

; 128  : 		lpObj->StartY = lpObj->Y;

  00120	8a 0f		 mov	 cl, BYTE PTR [edi]
  00122	88 86 76 01 00
	00		 mov	 BYTE PTR [esi+374], al
  00128	88 8e 77 01 00
	00		 mov	 BYTE PTR [esi+375], cl
  0012e	e9 62 02 00 00	 jmp	 $LN46@gObjMonste@16
$LN39@gObjMonste@16:

; 129  : 	}
; 130  : 	else if ( lpObj->Class == 44 )

  00133	83 f8 2c	 cmp	 eax, 44			; 0000002cH
  00136	0f 84 59 02 00
	00		 je	 $LN46@gObjMonste@16

; 131  : 	{
; 132  : 
; 133  : 	}
; 134  : 	else if ( lpObj->Class == 53 || lpObj->Class == 54 || lpObj->Class == 55 || lpObj->Class == 56 )

  0013c	83 f8 35	 cmp	 eax, 53			; 00000035H
  0013f	74 a8		 je	 SHORT $LN33@gObjMonste@16
  00141	83 f8 36	 cmp	 eax, 54			; 00000036H
  00144	74 a3		 je	 SHORT $LN33@gObjMonste@16
  00146	83 f8 37	 cmp	 eax, 55			; 00000037H
  00149	74 9e		 je	 SHORT $LN33@gObjMonste@16
  0014b	83 f8 38	 cmp	 eax, 56			; 00000038H
  0014e	74 99		 je	 SHORT $LN33@gObjMonste@16

; 137  : 	}
; 138  : 	else if ( lpObj->Class >= 78 && lpObj->Class <= 83 )

  00150	83 f8 4e	 cmp	 eax, 78			; 0000004eH
  00153	72 05		 jb	 SHORT $LN31@gObjMonste@16
  00155	83 f8 53	 cmp	 eax, 83			; 00000053H

; 139  : 	{
; 140  : 		return FALSE;

  00158	76 8f		 jbe	 SHORT $LN33@gObjMonste@16
$LN31@gObjMonste@16:

; 141  : 	}
; 142  : 	else if ( lpObj->Class >= 493 && lpObj->Class <= 502 )//Season 4.5 addon

  0015a	ba ed 01 00 00	 mov	 edx, 493		; 000001edH
  0015f	66 3b c2	 cmp	 ax, dx
  00162	72 0e		 jb	 SHORT $LN29@gObjMonste@16
  00164	b9 f6 01 00 00	 mov	 ecx, 502		; 000001f6H
  00169	66 3b c1	 cmp	 ax, cx

; 143  :     {
; 144  :         return FALSE;

  0016c	0f 86 77 ff ff
	ff		 jbe	 $LN33@gObjMonste@16
$LN29@gObjMonste@16:

; 145  :     }
; 146  : 	else if ( (lpObj->m_Attribute < 51) ? FALSE : (lpObj->m_Attribute > 58)? FALSE : TRUE )

  00172	0f b7 8e b6 04
	00 00		 movzx	 ecx, WORD PTR [esi+1206]
  00179	ba 3a 00 00 00	 mov	 edx, 58			; 0000003aH
  0017e	66 83 f9 33	 cmp	 cx, 51			; 00000033H
  00182	7c 5c		 jl	 SHORT $LN27@gObjMonste@16
  00184	33 db		 xor	 ebx, ebx
  00186	66 3b ca	 cmp	 cx, dx
  00189	0f 9e c3	 setle	 bl
  0018c	8b cb		 mov	 ecx, ebx
  0018e	85 c9		 test	 ecx, ecx
  00190	74 4e		 je	 SHORT $LN27@gObjMonste@16

; 147  : 	{
; 148  : 		lpObj->Live = TRUE;
; 149  : 		lpObj->DieRegen = FALSE;
; 150  : 		CreateFrustrum(lpObj->X, lpObj->Y, lpObj->m_Index);

  00192	8b 16		 mov	 edx, DWORD PTR [esi]
  00194	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  0019b	0f bf 8e 44 01
	00 00		 movsx	 ecx, WORD PTR [esi+324]
  001a2	52		 push	 edx
  001a3	50		 push	 eax
  001a4	51		 push	 ecx
  001a5	c6 46 6a 01	 mov	 BYTE PTR [esi+106], 1
  001a9	c6 86 a2 03 00
	00 00		 mov	 BYTE PTR [esi+930], 0
  001b0	e8 00 00 00 00	 call	 ?CreateFrustrum@@YAXHHH@Z ; CreateFrustrum

; 151  : 		gObjClearViewport(lpObj);

  001b5	56		 push	 esi
  001b6	e8 00 00 00 00	 call	 ?gObjClearViewport@@YAXPAUOBJECTSTRUCT@@@Z ; gObjClearViewport

; 152  : 		gObjViewportListCreate(lpObj->m_Index);

  001bb	0f b7 16	 movzx	 edx, WORD PTR [esi]
  001be	52		 push	 edx
  001bf	e8 00 00 00 00	 call	 ?gObjViewportListCreate@@YAXF@Z ; gObjViewportListCreate

; 153  : 		gObjViewportListProtocolCreate(lpObj);

  001c4	56		 push	 esi
  001c5	e8 00 00 00 00	 call	 ?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolCreate
  001ca	83 c4 18	 add	 esp, 24			; 00000018H
  001cd	5f		 pop	 edi
  001ce	5e		 pop	 esi
  001cf	33 c0		 xor	 eax, eax
  001d1	5b		 pop	 ebx

; 244  : 	}
; 245  : 	return TRUE;
; 246  : }

  001d2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001d5	33 cd		 xor	 ecx, ebp
  001d7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001dc	8b e5		 mov	 esp, ebp
  001de	5d		 pop	 ebp
  001df	c3		 ret	 0
$LN27@gObjMonste@16:

; 154  : 		return FALSE;
; 155  : 	}
; 156  : 	else if ( lpObj->Class == 460 || lpObj->Class == 461 || lpObj->Class == 462)//Season 4.5 addon

  001e0	b9 cc 01 00 00	 mov	 ecx, 460		; 000001ccH
  001e5	66 3b c1	 cmp	 ax, cx
  001e8	0f 84 94 01 00
	00		 je	 $LN24@gObjMonste@16
  001ee	b9 cd 01 00 00	 mov	 ecx, 461		; 000001cdH
  001f3	66 3b c1	 cmp	 ax, cx
  001f6	0f 84 86 01 00
	00		 je	 $LN24@gObjMonste@16
  001fc	b9 ce 01 00 00	 mov	 ecx, 462		; 000001ceH
  00201	66 3b c1	 cmp	 ax, cx
  00204	0f 84 78 01 00
	00		 je	 $LN24@gObjMonste@16

; 161  :         }
; 162  :     }
; 163  : 	else if ( lpObj->Class == 459 )//Season 4.5 addon

  0020a	b9 cb 01 00 00	 mov	 ecx, 459		; 000001cbH
  0020f	66 3b c1	 cmp	 ax, cx
  00212	75 39		 jne	 SHORT $LN21@gObjMonste@16

; 164  :     {
; 165  :         if ( g_Raklion.GetRaklionState() != RAKLION_STATE_STANDBY || g_Raklion.GetRaklionState() != RAKLION_STATE_READY )

  00214	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  00219	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  0021e	83 f8 02	 cmp	 eax, 2
  00221	0f 85 c2 fe ff
	ff		 jne	 $LN33@gObjMonste@16
  00227	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  0022c	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  00231	83 f8 04	 cmp	 eax, 4
  00234	0f 84 5b 01 00
	00		 je	 $LN46@gObjMonste@16

; 135  : 	{
; 136  : 		return FALSE;

  0023a	5f		 pop	 edi
  0023b	5e		 pop	 esi
  0023c	33 c0		 xor	 eax, eax
  0023e	5b		 pop	 ebx

; 244  : 	}
; 245  : 	return TRUE;
; 246  : }

  0023f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00242	33 cd		 xor	 ecx, ebp
  00244	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00249	8b e5		 mov	 esp, ebp
  0024b	5d		 pop	 ebp
  0024c	c3		 ret	 0
$LN21@gObjMonste@16:

; 166  :         {
; 167  :             return FALSE;
; 168  :         }
; 169  :     }
; 170  :     else if ( lpObj->Class == 457 && lpObj->MapNumber == 58 || lpObj->Class == 458 && lpObj->MapNumber == 58 )//Season 4.5 addon

  0024d	b9 c9 01 00 00	 mov	 ecx, 457		; 000001c9H
  00252	66 3b c1	 cmp	 ax, cx
  00255	75 0c		 jne	 SHORT $LN15@gObjMonste@16
  00257	38 96 49 01 00
	00		 cmp	 BYTE PTR [esi+329], dl
  0025d	0f 84 86 fe ff
	ff		 je	 $LN33@gObjMonste@16
$LN15@gObjMonste@16:
  00263	b9 ca 01 00 00	 mov	 ecx, 458		; 000001caH
  00268	66 3b c1	 cmp	 ax, cx
  0026b	75 0c		 jne	 SHORT $LN17@gObjMonste@16
  0026d	38 96 49 01 00
	00		 cmp	 BYTE PTR [esi+329], dl

; 171  :     {
; 172  :         return FALSE;

  00273	0f 84 70 fe ff
	ff		 je	 $LN33@gObjMonste@16
$LN17@gObjMonste@16:

; 173  :     }
; 174  : #ifdef IMPERIAL_CONFLICT_NEW
; 175  : 	else if( lpObj->Class >= 504 && lpObj->Class <= 521 || lpObj->Class >= 523 && lpObj->Class <= 528 )
; 176  : 	{
; 177  : 		return false;
; 178  : 	}
; 179  : #endif
; 180  : 	//Season 5 DoppelGanger
; 181  : 	else if ( lpObj->Class == 532 && DG_MAP_RANGE(lpObj->MapNumber) )

  00279	ba 14 02 00 00	 mov	 edx, 532		; 00000214H
  0027e	66 3b c2	 cmp	 ax, dx
  00281	75 32		 jne	 SHORT $LN13@gObjMonste@16
  00283	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0028a	3c 41		 cmp	 al, 65			; 00000041H
  0028c	72 27		 jb	 SHORT $LN13@gObjMonste@16
  0028e	b1 44		 mov	 cl, 68			; 00000044H
  00290	3a c8		 cmp	 cl, al
  00292	1b c0		 sbb	 eax, eax
  00294	40		 inc	 eax
  00295	74 1e		 je	 SHORT $LN13@gObjMonste@16

; 182  : 	{
; 183  : 		gObjDel(lpObj->m_Index);

  00297	8b 16		 mov	 edx, DWORD PTR [esi]
  00299	52		 push	 edx
  0029a	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  0029f	83 c4 04	 add	 esp, 4
  002a2	5f		 pop	 edi
  002a3	5e		 pop	 esi
  002a4	33 c0		 xor	 eax, eax
  002a6	5b		 pop	 ebx

; 244  : 	}
; 245  : 	return TRUE;
; 246  : }

  002a7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002aa	33 cd		 xor	 ecx, ebp
  002ac	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002b1	8b e5		 mov	 esp, ebp
  002b3	5d		 pop	 ebp
  002b4	c3		 ret	 0
$LN13@gObjMonste@16:

; 184  : 		return FALSE;
; 185  : 	}
; 186  : 	else if ( g_DoppelGanger.IsDGMonster(lpObj) )

  002b5	56		 push	 esi
  002b6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  002bb	e8 00 00 00 00	 call	 ?IsDGMonster@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::IsDGMonster
  002c0	84 c0		 test	 al, al
  002c2	74 10		 je	 SHORT $LN11@gObjMonste@16

; 187  : 	{
; 188  : 		g_DoppelGanger.RegenProc(lpObj);

  002c4	56		 push	 esi
  002c5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  002ca	e8 00 00 00 00	 call	 ?RegenProc@CDoppelGanger@@QAEXPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::RegenProc
  002cf	e9 c1 00 00 00	 jmp	 $LN46@gObjMonste@16
$LN11@gObjMonste@16:

; 189  : 	}
; 190  : 	else if ( gMSetBase.GetPosition(lpObj->m_PosNum, lpObj->MapNumber, lpObj->X, lpObj->Y) == FALSE )

  002d4	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  002db	0f bf 96 b0 03
	00 00		 movsx	 edx, WORD PTR [esi+944]
  002e2	8d be 46 01 00
	00		 lea	 edi, DWORD PTR [esi+326]
  002e8	57		 push	 edi
  002e9	8d 9e 44 01 00
	00		 lea	 ebx, DWORD PTR [esi+324]
  002ef	53		 push	 ebx
  002f0	51		 push	 ecx
  002f1	52		 push	 edx
  002f2	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  002f7	e8 00 00 00 00	 call	 ?GetPosition@CMonsterSetBase@@QAEHHFAAF0@Z ; CMonsterSetBase::GetPosition
  002fc	85 c0		 test	 eax, eax
  002fe	75 4e		 jne	 SHORT $LN9@gObjMonste@16

; 191  : 	{
; 192  : //#if(GS_CASTLE==1) //HermeX
; 193  : 		if ( lpObj->m_Attribute == 62 )

  00300	66 83 be b6 04
	00 00 3e	 cmp	 WORD PTR [esi+1206], 62	; 0000003eH
  00308	0f 85 ba fd ff
	ff		 jne	 $LN8@gObjMonste@16

; 194  : 		{
; 195  : 			BYTE cX = lpObj->X;

  0030e	8a 03		 mov	 al, BYTE PTR [ebx]

; 196  : 			BYTE cY = lpObj->Y;

  00310	8a 0f		 mov	 cl, BYTE PTR [edi]

; 197  : 
; 198  : 			if(gObjGetRandomFreeLocation(lpObj->MapNumber,(BYTE&)cX,(BYTE&)cY,5,5,30) == 0 )

  00312	6a 1e		 push	 30			; 0000001eH
  00314	6a 05		 push	 5
  00316	6a 05		 push	 5
  00318	8d 55 ef	 lea	 edx, DWORD PTR _cY$227373[ebp]
  0031b	88 45 ee	 mov	 BYTE PTR _cX$227372[ebp], al
  0031e	88 4d ef	 mov	 BYTE PTR _cY$227373[ebp], cl
  00321	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00328	52		 push	 edx
  00329	8d 45 ee	 lea	 eax, DWORD PTR _cX$227372[ebp]
  0032c	50		 push	 eax
  0032d	51		 push	 ecx
  0032e	e8 00 00 00 00	 call	 ?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z ; gObjGetRandomFreeLocation
  00333	83 c4 18	 add	 esp, 24			; 00000018H
  00336	85 c0		 test	 eax, eax

; 199  : 			{
; 200  : 				return FALSE;

  00338	0f 84 ab fd ff
	ff		 je	 $LN33@gObjMonste@16

; 201  : 			}
; 202  : 			else
; 203  : 			{
; 204  : 				lpObj->X = cX;

  0033e	0f b6 55 ee	 movzx	 edx, BYTE PTR _cX$227372[ebp]

; 205  : 				lpObj->Y = cY;

  00342	0f b6 45 ef	 movzx	 eax, BYTE PTR _cY$227373[ebp]
  00346	66 89 13	 mov	 WORD PTR [ebx], dx
  00349	66 89 07	 mov	 WORD PTR [edi], ax

; 206  : 			}
; 207  : 		}
; 208  : 		else
; 209  : 		{
; 210  : 			lpObj->Live = FALSE;
; 211  : 			lpObj->m_State = 4;
; 212  : 			lpObj->RegenTime = GetTickCount();
; 213  : 			lpObj->DieRegen = TRUE;
; 214  : 			return FALSE;
; 215  : 		}
; 216  : //#else
; 217  : 		//lpObj->Live = FALSE;
; 218  : 		//lpObj->m_State = 4;
; 219  : 		//lpObj->RegenTime = GetTickCount();
; 220  : 		//lpObj->DieRegen = TRUE;
; 221  : 		//return FALSE;
; 222  : 	}
; 223  : 	else

  0034c	eb 47		 jmp	 SHORT $LN46@gObjMonste@16
$LN9@gObjMonste@16:

; 224  : 	{
; 225  : //#endif
; 226  : 		lpObj->MTX = lpObj->X;
; 227  : 		lpObj->MTY = lpObj->Y;

  0034e	0f b7 0f	 movzx	 ecx, WORD PTR [edi]
  00351	0f b7 03	 movzx	 eax, WORD PTR [ebx]

; 228  : 		lpObj->TX = lpObj->X;
; 229  : 		lpObj->TY = lpObj->Y;
; 230  : 		lpObj->StartX = lpObj->X;
; 231  : 		lpObj->StartY = lpObj->Y;

  00354	8a 17		 mov	 dl, BYTE PTR [edi]
  00356	66 89 8e 82 01
	00 00		 mov	 WORD PTR [esi+386], cx
  0035d	66 89 8e 7e 01
	00 00		 mov	 WORD PTR [esi+382], cx
  00364	8a 0b		 mov	 cl, BYTE PTR [ebx]
  00366	66 89 86 80 01
	00 00		 mov	 WORD PTR [esi+384], ax
  0036d	66 89 86 7c 01
	00 00		 mov	 WORD PTR [esi+380], ax
  00374	88 8e 76 01 00
	00		 mov	 BYTE PTR [esi+374], cl
  0037a	88 96 77 01 00
	00		 mov	 BYTE PTR [esi+375], dl
  00380	eb 13		 jmp	 SHORT $LN46@gObjMonste@16
$LN24@gObjMonste@16:

; 157  :     {
; 158  :         if(g_Raklion.GetRaklionState() != RAKLION_STATE_END)

  00382	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  00387	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  0038c	83 f8 0a	 cmp	 eax, 10			; 0000000aH

; 159  :         {
; 160  :             return FALSE;

  0038f	0f 85 54 fd ff
	ff		 jne	 $LN33@gObjMonste@16
$LN46@gObjMonste@16:

; 232  : 	}
; 233  : 
; 234  : 	gObjMonsterHitDamageInit(lpObj);

  00395	56		 push	 esi
  00396	e8 00 00 00 00	 call	 ?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageInit
  0039b	83 c4 04	 add	 esp, 4

; 235  : 
; 236  : 	if ( lpObj->MapNumber == MAP_INDEX_CRYWOLF_FIRSTZONE && g_CrywolfSync.GetCrywolfState() >= 2 && g_CrywolfSync.GetCrywolfState() <= 5  ) // Crywolf

  0039e	80 be 49 01 00
	00 22		 cmp	 BYTE PTR [esi+329], 34	; 00000022H
  003a5	75 1e		 jne	 SHORT $LN3@gObjMonste@16
  003a7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  003ac	e8 00 00 00 00	 call	 ?GetCrywolfState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetCrywolfState
  003b1	83 f8 02	 cmp	 eax, 2
  003b4	7c 0f		 jl	 SHORT $LN3@gObjMonste@16
  003b6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  003bb	e8 00 00 00 00	 call	 ?GetCrywolfState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetCrywolfState
  003c0	83 f8 05	 cmp	 eax, 5
  003c3	7e 76		 jle	 SHORT $LN1@gObjMonste@16
$LN3@gObjMonste@16:

; 237  : 	{
; 238  : 	
; 239  : 	}
; 240  : 	else if ( g_CrywolfSync.GetOccupationState() == 0 && g_iCrywolfApplyMvpBenefit != 0 )

  003c5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  003ca	e8 00 00 00 00	 call	 ?GetOccupationState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetOccupationState
  003cf	85 c0		 test	 eax, eax
  003d1	75 68		 jne	 SHORT $LN1@gObjMonste@16
  003d3	39 05 00 00 00
	00		 cmp	 DWORD PTR ?g_iCrywolfApplyMvpBenefit@@3HA, eax ; g_iCrywolfApplyMvpBenefit
  003d9	74 60		 je	 SHORT $LN1@gObjMonste@16

; 241  : 	{
; 242  : 		lpObj->Life = (float)(( lpObj->m_iScriptMaxLife * g_CrywolfSync.GetMonHPBenefitRate()  ) / 100);

  003db	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  003e0	e8 00 00 00 00	 call	 ?GetMonHPBenefitRate@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetMonHPBenefitRate
  003e5	8b c8		 mov	 ecx, eax
  003e7	0f af 8e 04 01
	00 00		 imul	 ecx, DWORD PTR [esi+260]
  003ee	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  003f3	f7 e9		 imul	 ecx
  003f5	c1 fa 05	 sar	 edx, 5
  003f8	8b c2		 mov	 eax, edx
  003fa	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  003fd	03 c2		 add	 eax, edx
  003ff	89 45 e8	 mov	 DWORD PTR tv496[ebp], eax

; 243  : 		lpObj->MaxLife = (float)((lpObj->m_iScriptMaxLife * g_CrywolfSync.GetMonHPBenefitRate() ) / 100);

  00402	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00407	db 45 e8	 fild	 DWORD PTR tv496[ebp]
  0040a	d9 9e fc 00 00
	00		 fstp	 DWORD PTR [esi+252]
  00410	e8 00 00 00 00	 call	 ?GetMonHPBenefitRate@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetMonHPBenefitRate
  00415	8b c8		 mov	 ecx, eax
  00417	0f af 8e 04 01
	00 00		 imul	 ecx, DWORD PTR [esi+260]
  0041e	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  00423	f7 e9		 imul	 ecx
  00425	c1 fa 05	 sar	 edx, 5
  00428	8b ca		 mov	 ecx, edx
  0042a	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  0042d	03 ca		 add	 ecx, edx
  0042f	89 4d e8	 mov	 DWORD PTR tv490[ebp], ecx
  00432	db 45 e8	 fild	 DWORD PTR tv490[ebp]
  00435	d9 9e 00 01 00
	00		 fstp	 DWORD PTR [esi+256]
$LN1@gObjMonste@16:

; 244  : 	}
; 245  : 	return TRUE;
; 246  : }

  0043b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0043e	5f		 pop	 edi
  0043f	5e		 pop	 esi
  00440	33 cd		 xor	 ecx, ebp
  00442	b8 01 00 00 00	 mov	 eax, 1
  00447	5b		 pop	 ebx
  00448	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0044d	8b e5		 mov	 esp, ebp
  0044f	5d		 pop	 ebp
  00450	c3		 ret	 0
?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z ENDP		; gObjMonsterRegen
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjMonsterMagicAttack
EXTRN	?CGBeattackRecv@@YAXPAEHH@Z:PROC		; CGBeattackRecv
EXTRN	?CGDurationMagicRecv@@YAXPAUPMSG_DURATION_MAGIC_RECV@@H@Z:PROC ; CGDurationMagicRecv
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
tv91 = -304						; size = 4
tv405 = -300						; size = 4
_ASBOfs$ = -296						; size = 4
_pCount$ = -292						; size = 9
_pAttack$ = -280					; size = 3
_pDuration$ = -276					; size = 13
_AttackSendBuff$ = -260					; size = 256
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_iMonsterClass$ = 12					; size = 4
?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z PROC	; gObjMonsterMagicAttack, COMDAT

; 1544 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 30 01 00
	00		 sub	 esp, 304		; 00000130H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	57		 push	 edi
  00016	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]

; 1545 : 	int tObjNum;
; 1546 : 	int count = 0;
; 1547 : 
; 1548 : 	PMSG_BEATTACK_COUNT pCount;
; 1549 : 	PMSG_BEATTACK pAttack;
; 1550 : 
; 1551 : 	BYTE AttackSendBuff[256];
; 1552 : 	int ASBOfs = 0;
; 1553 : 
; 1554 : 	PMSG_DURATION_MAGIC_RECV pDuration;
; 1555 : 
; 1556 : 	pCount.MagicNumberH = 0;
; 1557 : 	pCount.MagicNumberL = 0;
; 1558 : 
; 1559 : 	pDuration.Dir = 0;
; 1560 : 
; 1561 : 	pDuration.X = lpObj->X;

  00019	8a 87 44 01 00
	00		 mov	 al, BYTE PTR [edi+324]

; 1562 : 	pDuration.Y = lpObj->Y;
; 1563 : 
; 1564 : 	CGDurationMagicRecv(&pDuration, lpObj->m_Index);

  0001f	8b 17		 mov	 edx, DWORD PTR [edi]
  00021	0f b6 8f 46 01
	00 00		 movzx	 ecx, BYTE PTR [edi+326]
  00028	88 85 f1 fe ff
	ff		 mov	 BYTE PTR _pDuration$[ebp+5], al
  0002e	52		 push	 edx
  0002f	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _pDuration$[ebp]
  00035	50		 push	 eax
  00036	c6 85 f3 fe ff
	ff 00		 mov	 BYTE PTR _pDuration$[ebp+7], 0
  0003d	88 8d f2 fe ff
	ff		 mov	 BYTE PTR _pDuration$[ebp+6], cl
  00043	e8 00 00 00 00	 call	 ?CGDurationMagicRecv@@YAXPAUPMSG_DURATION_MAGIC_RECV@@H@Z ; CGDurationMagicRecv

; 1565 : 
; 1566 : 	pCount.h.c = 0xC1;
; 1567 : 	pCount.h.headcode = PROTOCOL_BEATTACK;
; 1568 : 	pCount.h.size = 0;
; 1569 : 	pCount.MagicNumberH = 0;
; 1570 : 	pCount.MagicNumberL = 0;
; 1571 : 	pCount.Count = 0;
; 1572 : 	pCount.X = lpObj->X;

  00048	0f b6 8f 44 01
	00 00		 movzx	 ecx, BYTE PTR [edi+324]

; 1573 : 	pCount.Y = lpObj->Y;

  0004f	8a 97 46 01 00
	00		 mov	 dl, BYTE PTR [edi+326]
  00055	88 8d e1 fe ff
	ff		 mov	 BYTE PTR _pCount$[ebp+5], cl

; 1601 : 					}
; 1602 : 				}
; 1603 : 			}
; 1604 : 		}
; 1605 : 
; 1606 : 		count++;

  0005b	8d 8f b0 08 00
	00		 lea	 ecx, DWORD PTR [edi+2224]
  00061	83 c4 08	 add	 esp, 8
  00064	c6 85 dc fe ff
	ff c1		 mov	 BYTE PTR _pCount$[ebp], 193 ; 000000c1H
  0006b	c7 85 dd fe ff
	ff 00 db 00 00	 mov	 DWORD PTR _pCount$[ebp+1], 56064 ; 0000db00H
  00075	c6 85 e4 fe ff
	ff 00		 mov	 BYTE PTR _pCount$[ebp+8], 0
  0007c	88 95 e2 fe ff
	ff		 mov	 BYTE PTR _pCount$[ebp+6], dl
  00082	c7 85 d8 fe ff
	ff 09 00 00 00	 mov	 DWORD PTR _ASBOfs$[ebp], 9
  0008c	8d b5 05 ff ff
	ff		 lea	 esi, DWORD PTR _AttackSendBuff$[ebp+9]
  00092	89 8d d4 fe ff
	ff		 mov	 DWORD PTR tv405[ebp], ecx

; 1607 : 
; 1608 : 		if ( count > MAX_VIEWPORT_MONSTER-1 )

  00098	c7 85 d0 fe ff
	ff 4b 00 00 00	 mov	 DWORD PTR tv91[ebp], 75	; 0000004bH
$LL14@gObjMonste@17:

; 1574 : 	ASBOfs = sizeof(pCount);
; 1575 : 
; 1576 : 	while ( true )
; 1577 : 	{
; 1578 : 		if ( lpObj->VpPlayer2[count].state )

  000a2	80 79 fc 00	 cmp	 BYTE PTR [ecx-4], 0
  000a6	0f 84 a8 00 00
	00		 je	 $LN7@gObjMonste@17

; 1579 : 		{
; 1580 : 			if ( lpObj->VpPlayer2[count].type == OBJ_USER )

  000ac	80 39 01	 cmp	 BYTE PTR [ecx], 1
  000af	0f 85 9f 00 00
	00		 jne	 $LN7@gObjMonste@17

; 1581 : 			{
; 1582 : 				tObjNum = lpObj->VpPlayer2[count].number;

  000b5	0f bf 59 fe	 movsx	 ebx, WORD PTR [ecx-2]

; 1583 : 
; 1584 : 				if ( tObjNum >= 0 )

  000b9	85 db		 test	 ebx, ebx
  000bb	0f 88 93 00 00
	00		 js	 $LN7@gObjMonste@17

; 1585 : 				{
; 1586 : 					if ( lpObj->Class == 77 )

  000c1	0f b7 87 b8 00
	00 00		 movzx	 eax, WORD PTR [edi+184]
  000c8	83 f8 4d	 cmp	 eax, 77			; 0000004dH
  000cb	75 26		 jne	 SHORT $LN9@gObjMonste@17

; 1587 : 					{
; 1588 : 						pAttack.NumberH = SET_NUMBERH(tObjNum);

  000cd	8b c3		 mov	 eax, ebx
  000cf	c1 e8 08	 shr	 eax, 8
  000d2	88 85 e8 fe ff
	ff		 mov	 BYTE PTR _pAttack$[ebp], al

; 1589 : 						pAttack.NumberL = SET_NUMBERL(tObjNum);
; 1590 : 						memcpy(&AttackSendBuff[ASBOfs], &pAttack, sizeof(pAttack));

  000d8	8a 85 ea fe ff
	ff		 mov	 al, BYTE PTR _pAttack$[ebp+2]
  000de	88 9d e9 fe ff
	ff		 mov	 BYTE PTR _pAttack$[ebp+1], bl
  000e4	66 8b 95 e8 fe
	ff ff		 mov	 dx, WORD PTR _pAttack$[ebp]
  000eb	66 89 16	 mov	 WORD PTR [esi], dx
  000ee	88 46 02	 mov	 BYTE PTR [esi+2], al

; 1591 : 						ASBOfs+= sizeof(pAttack);
; 1592 : 						pCount.Count++;

  000f1	eb 51		 jmp	 SHORT $LN23@gObjMonste@17
$LN9@gObjMonste@17:

; 1593 : 					}
; 1594 : 					else if ( lpObj->Class == 275 || gObjCalDistance(lpObj, &gObj[tObjNum]) < 6 )

  000f3	ba 13 01 00 00	 mov	 edx, 275		; 00000113H
  000f8	66 3b c2	 cmp	 ax, dx
  000fb	74 23		 je	 SHORT $LN21@gObjMonste@17
  000fd	8b c3		 mov	 eax, ebx
  000ff	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  00105	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0010b	50		 push	 eax
  0010c	57		 push	 edi
  0010d	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00112	8b 8d d4 fe ff
	ff		 mov	 ecx, DWORD PTR tv405[ebp]
  00118	83 c4 08	 add	 esp, 8
  0011b	83 f8 06	 cmp	 eax, 6
  0011e	7d 34		 jge	 SHORT $LN7@gObjMonste@17
$LN21@gObjMonste@17:

; 1595 : 					{
; 1596 : 						pAttack.NumberH = SET_NUMBERH(tObjNum);

  00120	8b d3		 mov	 edx, ebx
  00122	c1 ea 08	 shr	 edx, 8
  00125	88 95 e8 fe ff
	ff		 mov	 BYTE PTR _pAttack$[ebp], dl

; 1597 : 						pAttack.NumberL = SET_NUMBERL(tObjNum);
; 1598 : 						memcpy(&AttackSendBuff[ASBOfs], &pAttack, sizeof(pAttack));

  0012b	8a 95 ea fe ff
	ff		 mov	 dl, BYTE PTR _pAttack$[ebp+2]
  00131	88 9d e9 fe ff
	ff		 mov	 BYTE PTR _pAttack$[ebp+1], bl
  00137	66 8b 85 e8 fe
	ff ff		 mov	 ax, WORD PTR _pAttack$[ebp]
  0013e	66 89 06	 mov	 WORD PTR [esi], ax
  00141	88 56 02	 mov	 BYTE PTR [esi+2], dl
$LN23@gObjMonste@17:

; 1599 : 						ASBOfs+= sizeof(pAttack);

  00144	83 85 d8 fe ff
	ff 03		 add	 DWORD PTR _ASBOfs$[ebp], 3
  0014b	83 c6 03	 add	 esi, 3

; 1600 : 						pCount.Count++;

  0014e	fe 85 e4 fe ff
	ff		 inc	 BYTE PTR _pCount$[ebp+8]
$LN7@gObjMonste@17:

; 1601 : 					}
; 1602 : 				}
; 1603 : 			}
; 1604 : 		}
; 1605 : 
; 1606 : 		count++;

  00154	83 c1 0c	 add	 ecx, 12			; 0000000cH

; 1607 : 
; 1608 : 		if ( count > MAX_VIEWPORT_MONSTER-1 )

  00157	ff 8d d0 fe ff
	ff		 dec	 DWORD PTR tv91[ebp]
  0015d	89 8d d4 fe ff
	ff		 mov	 DWORD PTR tv405[ebp], ecx
  00163	0f 85 39 ff ff
	ff		 jne	 $LL14@gObjMonste@17

; 1609 : 			break;
; 1610 : 	}
; 1611 : 
; 1612 : 	if ( pCount.Count > 0 )

  00169	8a 85 e4 fe ff
	ff		 mov	 al, BYTE PTR _pCount$[ebp+8]
  0016f	84 c0		 test	 al, al
  00171	0f 84 a4 00 00
	00		 je	 $LN1@gObjMonste@17

; 1613 : 	{
; 1614 : 		pCount.h.size = ASBOfs;

  00177	8a 8d d8 fe ff
	ff		 mov	 cl, BYTE PTR _ASBOfs$[ebp]
  0017d	88 8d dd fe ff
	ff		 mov	 BYTE PTR _pCount$[ebp+1], cl

; 1615 : 		memcpy(AttackSendBuff, &pCount, sizeof(pCount));

  00183	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _pCount$[ebp]
  00189	8b 8d e0 fe ff
	ff		 mov	 ecx, DWORD PTR _pCount$[ebp+4]
  0018f	88 85 04 ff ff
	ff		 mov	 BYTE PTR _AttackSendBuff$[ebp+8], al

; 1616 : 
; 1617 : 		if ( lpObj->Class == 161 || lpObj->Class == 181 || lpObj->Class == 189 || lpObj->Class == 197 || lpObj->Class == 267 || lpObj->Class == 275 )

  00195	0f b7 87 b8 00
	00 00		 movzx	 eax, WORD PTR [edi+184]
  0019c	89 95 fc fe ff
	ff		 mov	 DWORD PTR _AttackSendBuff$[ebp], edx
  001a2	ba a1 00 00 00	 mov	 edx, 161		; 000000a1H
  001a7	89 8d 00 ff ff
	ff		 mov	 DWORD PTR _AttackSendBuff$[ebp+4], ecx
  001ad	66 3b c2	 cmp	 ax, dx
  001b0	74 57		 je	 SHORT $LN2@gObjMonste@17
  001b2	b9 b5 00 00 00	 mov	 ecx, 181		; 000000b5H
  001b7	66 3b c1	 cmp	 ax, cx
  001ba	74 4d		 je	 SHORT $LN2@gObjMonste@17
  001bc	ba bd 00 00 00	 mov	 edx, 189		; 000000bdH
  001c1	66 3b c2	 cmp	 ax, dx
  001c4	74 43		 je	 SHORT $LN2@gObjMonste@17
  001c6	b9 c5 00 00 00	 mov	 ecx, 197		; 000000c5H
  001cb	66 3b c1	 cmp	 ax, cx
  001ce	74 39		 je	 SHORT $LN2@gObjMonste@17
  001d0	ba 0b 01 00 00	 mov	 edx, 267		; 0000010bH
  001d5	66 3b c2	 cmp	 ax, dx
  001d8	74 2f		 je	 SHORT $LN2@gObjMonste@17
  001da	b9 13 01 00 00	 mov	 ecx, 275		; 00000113H
  001df	66 3b c1	 cmp	 ax, cx
  001e2	74 25		 je	 SHORT $LN2@gObjMonste@17

; 1620 : 		}
; 1621 : 		else
; 1622 : 		{
; 1623 : 			CGBeattackRecv(AttackSendBuff, lpObj->m_Index, TRUE);

  001e4	8b 17		 mov	 edx, DWORD PTR [edi]
  001e6	6a 01		 push	 1
  001e8	52		 push	 edx
  001e9	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _AttackSendBuff$[ebp]
  001ef	50		 push	 eax
  001f0	e8 00 00 00 00	 call	 ?CGBeattackRecv@@YAXPAEHH@Z ; CGBeattackRecv
  001f5	83 c4 0c	 add	 esp, 12			; 0000000cH
  001f8	5f		 pop	 edi
  001f9	5e		 pop	 esi
  001fa	5b		 pop	 ebx

; 1624 : 		}
; 1625 : 	}
; 1626 : }

  001fb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001fe	33 cd		 xor	 ecx, ebp
  00200	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00205	8b e5		 mov	 esp, ebp
  00207	5d		 pop	 ebp
  00208	c3		 ret	 0
$LN2@gObjMonste@17:

; 1618 : 		{
; 1619 : 			gObjMonsterBeattackRecv(AttackSendBuff, lpObj->m_Index);

  00209	8b 0f		 mov	 ecx, DWORD PTR [edi]
  0020b	51		 push	 ecx
  0020c	8d 95 fc fe ff
	ff		 lea	 edx, DWORD PTR _AttackSendBuff$[ebp]
  00212	52		 push	 edx
  00213	e8 00 00 00 00	 call	 ?gObjMonsterBeattackRecv@@YAXPAEH@Z ; gObjMonsterBeattackRecv
  00218	83 c4 08	 add	 esp, 8
$LN1@gObjMonste@17:

; 1624 : 		}
; 1625 : 	}
; 1626 : }

  0021b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0021e	5f		 pop	 edi
  0021f	5e		 pop	 esi
  00220	33 cd		 xor	 ecx, ebp
  00222	5b		 pop	 ebx
  00223	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00228	8b e5		 mov	 esp, ebp
  0022a	5d		 pop	 ebp
  0022b	c3		 ret	 0
?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ENDP	; gObjMonsterMagicAttack
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z	; gObjMonsterAttack
EXTRN	?CGAttack@@YAXPAUPMSG_ATTACK@@H@Z:PROC		; CGAttack
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z
_TEXT	SEGMENT
_pDuration$228074 = -20					; size = 13
_pAttackMsg$228052 = -20				; size = 13
_pAttackMsg$228091 = -16				; size = 7
_pAttackMsg$228062 = -16				; size = 8
_pAttackMsg$228039 = -16				; size = 8
_pAttackMsg$228025 = -16				; size = 8
_pAttackMsg$228010 = -16				; size = 8
_pAttackMsg$227997 = -16				; size = 8
_pAttackMsg$227982 = -16				; size = 8
_pAttackMsg$227966 = -16				; size = 8
_pAttackMsg$227953 = -16				; size = 8
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z PROC	; gObjMonsterAttack, COMDAT

; 1694 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 1695 : 	int AttackType = lpObj->m_AttackType;

  00015	0f bf 9e b2 04
	00 00		 movsx	 ebx, WORD PTR [esi+1202]
  0001c	57		 push	 edi
  0001d	8b 7d 0c	 mov	 edi, DWORD PTR _lpTargetObj$[ebp]

; 1696 : 
; 1697 : 	if ( AttackType >= 100 )

  00020	83 fb 64	 cmp	 ebx, 100		; 00000064H
  00023	7c 02		 jl	 SHORT $LN38@gObjMonste@18

; 1698 : 	{
; 1699 : 		AttackType = 0;

  00025	33 db		 xor	 ebx, ebx
$LN38@gObjMonste@18:

; 1700 : 	}
; 1701 : 
; 1702 : 	if ( lpObj->m_iMonsterStunDelay > 0)
; 1703 : 	{
; 1704 : 		//return;
; 1705 : 	}
; 1706 : 
; 1707 : 	if( lpObj->m_iMonsterSleepDelay > 0)
; 1708 : 	{
; 1709 : 		//return;
; 1710 : 	}
; 1711 : 
; 1712 : 	if ( lpObj->m_iMonsterBattleDelay > 0 )

  00027	80 be c9 03 00
	00 00		 cmp	 BYTE PTR [esi+969], 0
  0002e	0f 8f 60 06 00
	00		 jg	 $LN3@gObjMonste@18

; 1713 : 	{
; 1714 : 		return;
; 1715 : 	}
; 1716 : 
; 1717 : 	if ( lpObj->Class == 144 || lpObj->Class == 174 || lpObj->Class == 182 || lpObj->Class == 190 || lpObj->Class == 260 || lpObj->Class == 268 )

  00034	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  0003b	b9 90 00 00 00	 mov	 ecx, 144		; 00000090H
  00040	66 3b c1	 cmp	 ax, cx
  00043	74 32		 je	 SHORT $LN30@gObjMonste@18
  00045	ba ae 00 00 00	 mov	 edx, 174		; 000000aeH
  0004a	66 3b c2	 cmp	 ax, dx
  0004d	74 28		 je	 SHORT $LN30@gObjMonste@18
  0004f	b9 b6 00 00 00	 mov	 ecx, 182		; 000000b6H
  00054	66 3b c1	 cmp	 ax, cx
  00057	74 1e		 je	 SHORT $LN30@gObjMonste@18
  00059	ba be 00 00 00	 mov	 edx, 190		; 000000beH
  0005e	66 3b c2	 cmp	 ax, dx
  00061	74 14		 je	 SHORT $LN30@gObjMonste@18
  00063	b9 04 01 00 00	 mov	 ecx, 260		; 00000104H
  00068	66 3b c1	 cmp	 ax, cx
  0006b	74 0a		 je	 SHORT $LN30@gObjMonste@18
  0006d	ba 0c 01 00 00	 mov	 edx, 268		; 0000010cH
  00072	66 3b c2	 cmp	 ax, dx
  00075	75 55		 jne	 SHORT $LN31@gObjMonste@18
$LN30@gObjMonste@18:

; 1718 : 	{
; 1719 : 		if ( rand()%2 )

  00077	e8 00 00 00 00	 call	 _rand
  0007c	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00081	79 05		 jns	 SHORT $LN40@gObjMonste@18
  00083	48		 dec	 eax
  00084	83 c8 fe	 or	 eax, -2			; fffffffeH
  00087	40		 inc	 eax
$LN40@gObjMonste@18:
  00088	74 40		 je	 SHORT $LN29@gObjMonste@18
$LN49@gObjMonste@18:

; 1720 : 		{
; 1721 : 			PMSG_MAGICATTACK pAttackMsg;
; 1722 : 
; 1723 : 			pAttackMsg.MagicNumberH = SET_NUMBERH(0);

  0008a	66 c7 45 f3 00
	00		 mov	 WORD PTR _pAttackMsg$227953[ebp+3], 0
$LN47@gObjMonste@18:

; 1724 : 			pAttackMsg.MagicNumberL = SET_NUMBERL(0);
; 1725 : 
; 1726 : 			pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  00090	0f bf 86 58 04
	00 00		 movsx	 eax, WORD PTR [esi+1112]

; 1727 : 			pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1728 : 			pAttackMsg.Dis = 0;
; 1729 : 
; 1730 : 			CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  00097	8b 16		 mov	 edx, DWORD PTR [esi]
  00099	8a 8e 58 04 00
	00		 mov	 cl, BYTE PTR [esi+1112]
  0009f	c1 e8 08	 shr	 eax, 8
  000a2	88 45 f5	 mov	 BYTE PTR _pAttackMsg$227953[ebp+5], al
  000a5	52		 push	 edx
  000a6	8d 45 f0	 lea	 eax, DWORD PTR _pAttackMsg$227953[ebp]
  000a9	88 4d f6	 mov	 BYTE PTR _pAttackMsg$227953[ebp+6], cl
  000ac	c6 45 f7 00	 mov	 BYTE PTR _pAttackMsg$227953[ebp+7], 0
  000b0	50		 push	 eax
$LN48@gObjMonste@18:
  000b1	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack

; 1755 : 		}
; 1756 : 
; 1757 : 		gObjMonsterMagicAttack(lpObj, lpObj->Class);

  000b6	83 c4 08	 add	 esp, 8
  000b9	5f		 pop	 edi
  000ba	5e		 pop	 esi
  000bb	5b		 pop	 ebx

; 1962 : 				}
; 1963 : 		}
; 1964 : 	}
; 1965 : }

  000bc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000bf	33 cd		 xor	 ecx, ebp
  000c1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000c6	8b e5		 mov	 esp, ebp
  000c8	5d		 pop	 ebp
  000c9	c3		 ret	 0
$LN29@gObjMonste@18:

; 1731 : 			return;
; 1732 : 		}
; 1733 : 
; 1734 : 		AttackType = 0;

  000ca	33 db		 xor	 ebx, ebx
$LN31@gObjMonste@18:

; 1735 : 	}
; 1736 : 
; 1737 : 	if ( lpObj->Class == 161 || lpObj->Class == 181 || lpObj->Class == 189 || lpObj->Class == 197 || lpObj->Class == 267 || lpObj->Class == 275  )

  000cc	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  000d3	b9 a1 00 00 00	 mov	 ecx, 161		; 000000a1H
  000d8	66 3b c1	 cmp	 ax, cx
  000db	0f 84 45 05 00
	00		 je	 $LN27@gObjMonste@18
  000e1	ba b5 00 00 00	 mov	 edx, 181		; 000000b5H
  000e6	66 3b c2	 cmp	 ax, dx
  000e9	0f 84 37 05 00
	00		 je	 $LN27@gObjMonste@18
  000ef	b9 bd 00 00 00	 mov	 ecx, 189		; 000000bdH
  000f4	66 3b c1	 cmp	 ax, cx
  000f7	0f 84 29 05 00
	00		 je	 $LN27@gObjMonste@18
  000fd	ba c5 00 00 00	 mov	 edx, 197		; 000000c5H
  00102	66 3b c2	 cmp	 ax, dx
  00105	0f 84 1b 05 00
	00		 je	 $LN27@gObjMonste@18
  0010b	b9 0b 01 00 00	 mov	 ecx, 267		; 0000010bH
  00110	66 3b c1	 cmp	 ax, cx
  00113	0f 84 0d 05 00
	00		 je	 $LN27@gObjMonste@18
  00119	ba 13 01 00 00	 mov	 edx, 275		; 00000113H
  0011e	66 3b c2	 cmp	 ax, dx
  00121	0f 84 ff 04 00
	00		 je	 $LN27@gObjMonste@18

; 1758 : 		return;
; 1759 : 	}
; 1760 : 
; 1761 : 	if ( lpObj->Class == 149 || lpObj->Class == 179 || lpObj->Class == 187 || lpObj->Class == 195 || lpObj->Class == 265 || lpObj->Class == 273  )

  00127	b9 95 00 00 00	 mov	 ecx, 149		; 00000095H
  0012c	66 3b c1	 cmp	 ax, cx
  0012f	0f 84 cc 04 00
	00		 je	 $LN23@gObjMonste@18
  00135	ba b3 00 00 00	 mov	 edx, 179		; 000000b3H
  0013a	66 3b c2	 cmp	 ax, dx
  0013d	0f 84 be 04 00
	00		 je	 $LN23@gObjMonste@18
  00143	b9 bb 00 00 00	 mov	 ecx, 187		; 000000bbH
  00148	66 3b c1	 cmp	 ax, cx
  0014b	0f 84 b0 04 00
	00		 je	 $LN23@gObjMonste@18
  00151	ba c3 00 00 00	 mov	 edx, 195		; 000000c3H
  00156	66 3b c2	 cmp	 ax, dx
  00159	0f 84 a2 04 00
	00		 je	 $LN23@gObjMonste@18
  0015f	b9 09 01 00 00	 mov	 ecx, 265		; 00000109H
  00164	66 3b c1	 cmp	 ax, cx
  00167	0f 84 94 04 00
	00		 je	 $LN23@gObjMonste@18
  0016d	ba 11 01 00 00	 mov	 edx, 273		; 00000111H
  00172	66 3b c2	 cmp	 ax, dx
  00175	0f 84 86 04 00
	00		 je	 $LN23@gObjMonste@18

; 1776 : 	}
; 1777 : 	
; 1778 : 	if (     lpObj->Class == 145
; 1779 :           || lpObj->Class == 175
; 1780 :           || lpObj->Class == 183
; 1781 :           || lpObj->Class == 191
; 1782 :           || lpObj->Class == 261
; 1783 :           || lpObj->Class == 269
; 1784 :           || lpObj->Class == 146
; 1785 :           || lpObj->Class == 176
; 1786 :           || lpObj->Class == 184
; 1787 :           || lpObj->Class == 192
; 1788 :           || lpObj->Class == 262
; 1789 :           || lpObj->Class == 270
; 1790 :           || lpObj->Class == 147
; 1791 :           || lpObj->Class == 177
; 1792 :           || lpObj->Class == 185
; 1793 :           || lpObj->Class == 193
; 1794 :           || lpObj->Class == 263
; 1795 :           || lpObj->Class == 271
; 1796 :           || lpObj->Class == 148
; 1797 :           || lpObj->Class == 178
; 1798 :           || lpObj->Class == 186
; 1799 :           || lpObj->Class == 194
; 1800 :           || lpObj->Class == 264
; 1801 :           || lpObj->Class == 272
; 1802 :           || lpObj->Class == 160
; 1803 :           || lpObj->Class == 180
; 1804 :           || lpObj->Class == 188
; 1805 :           || lpObj->Class == 196
; 1806 :           || lpObj->Class == 266
; 1807 :           || lpObj->Class == 274 )

  0017b	b9 91 00 00 00	 mov	 ecx, 145		; 00000091H
  00180	66 3b c1	 cmp	 ax, cx
  00183	0f 84 62 01 00
	00		 je	 $LN21@gObjMonste@18
  00189	ba af 00 00 00	 mov	 edx, 175		; 000000afH
  0018e	66 3b c2	 cmp	 ax, dx
  00191	0f 84 54 01 00
	00		 je	 $LN21@gObjMonste@18
  00197	b9 b7 00 00 00	 mov	 ecx, 183		; 000000b7H
  0019c	66 3b c1	 cmp	 ax, cx
  0019f	0f 84 46 01 00
	00		 je	 $LN21@gObjMonste@18
  001a5	ba bf 00 00 00	 mov	 edx, 191		; 000000bfH
  001aa	66 3b c2	 cmp	 ax, dx
  001ad	0f 84 38 01 00
	00		 je	 $LN21@gObjMonste@18
  001b3	b9 05 01 00 00	 mov	 ecx, 261		; 00000105H
  001b8	66 3b c1	 cmp	 ax, cx
  001bb	0f 84 2a 01 00
	00		 je	 $LN21@gObjMonste@18
  001c1	ba 0d 01 00 00	 mov	 edx, 269		; 0000010dH
  001c6	66 3b c2	 cmp	 ax, dx
  001c9	0f 84 1c 01 00
	00		 je	 $LN21@gObjMonste@18
  001cf	b9 92 00 00 00	 mov	 ecx, 146		; 00000092H
  001d4	66 3b c1	 cmp	 ax, cx
  001d7	0f 84 0e 01 00
	00		 je	 $LN21@gObjMonste@18
  001dd	ba b0 00 00 00	 mov	 edx, 176		; 000000b0H
  001e2	66 3b c2	 cmp	 ax, dx
  001e5	0f 84 00 01 00
	00		 je	 $LN21@gObjMonste@18
  001eb	b9 b8 00 00 00	 mov	 ecx, 184		; 000000b8H
  001f0	66 3b c1	 cmp	 ax, cx
  001f3	0f 84 f2 00 00
	00		 je	 $LN21@gObjMonste@18
  001f9	ba c0 00 00 00	 mov	 edx, 192		; 000000c0H
  001fe	66 3b c2	 cmp	 ax, dx
  00201	0f 84 e4 00 00
	00		 je	 $LN21@gObjMonste@18
  00207	b9 06 01 00 00	 mov	 ecx, 262		; 00000106H
  0020c	66 3b c1	 cmp	 ax, cx
  0020f	0f 84 d6 00 00
	00		 je	 $LN21@gObjMonste@18
  00215	ba 0e 01 00 00	 mov	 edx, 270		; 0000010eH
  0021a	66 3b c2	 cmp	 ax, dx
  0021d	0f 84 c8 00 00
	00		 je	 $LN21@gObjMonste@18
  00223	b9 93 00 00 00	 mov	 ecx, 147		; 00000093H
  00228	66 3b c1	 cmp	 ax, cx
  0022b	0f 84 ba 00 00
	00		 je	 $LN21@gObjMonste@18
  00231	ba b1 00 00 00	 mov	 edx, 177		; 000000b1H
  00236	66 3b c2	 cmp	 ax, dx
  00239	0f 84 ac 00 00
	00		 je	 $LN21@gObjMonste@18
  0023f	b9 b9 00 00 00	 mov	 ecx, 185		; 000000b9H
  00244	66 3b c1	 cmp	 ax, cx
  00247	0f 84 9e 00 00
	00		 je	 $LN21@gObjMonste@18
  0024d	ba c1 00 00 00	 mov	 edx, 193		; 000000c1H
  00252	66 3b c2	 cmp	 ax, dx
  00255	0f 84 90 00 00
	00		 je	 $LN21@gObjMonste@18
  0025b	b9 07 01 00 00	 mov	 ecx, 263		; 00000107H
  00260	66 3b c1	 cmp	 ax, cx
  00263	0f 84 82 00 00
	00		 je	 $LN21@gObjMonste@18
  00269	ba 0f 01 00 00	 mov	 edx, 271		; 0000010fH
  0026e	66 3b c2	 cmp	 ax, dx
  00271	74 78		 je	 SHORT $LN21@gObjMonste@18
  00273	b9 94 00 00 00	 mov	 ecx, 148		; 00000094H
  00278	66 3b c1	 cmp	 ax, cx
  0027b	74 6e		 je	 SHORT $LN21@gObjMonste@18
  0027d	ba b2 00 00 00	 mov	 edx, 178		; 000000b2H
  00282	66 3b c2	 cmp	 ax, dx
  00285	74 64		 je	 SHORT $LN21@gObjMonste@18
  00287	b9 ba 00 00 00	 mov	 ecx, 186		; 000000baH
  0028c	66 3b c1	 cmp	 ax, cx
  0028f	74 5a		 je	 SHORT $LN21@gObjMonste@18
  00291	ba c2 00 00 00	 mov	 edx, 194		; 000000c2H
  00296	66 3b c2	 cmp	 ax, dx
  00299	74 50		 je	 SHORT $LN21@gObjMonste@18
  0029b	b9 08 01 00 00	 mov	 ecx, 264		; 00000108H
  002a0	66 3b c1	 cmp	 ax, cx
  002a3	74 46		 je	 SHORT $LN21@gObjMonste@18
  002a5	ba 10 01 00 00	 mov	 edx, 272		; 00000110H
  002aa	66 3b c2	 cmp	 ax, dx
  002ad	74 3c		 je	 SHORT $LN21@gObjMonste@18
  002af	b9 a0 00 00 00	 mov	 ecx, 160		; 000000a0H
  002b4	66 3b c1	 cmp	 ax, cx
  002b7	74 32		 je	 SHORT $LN21@gObjMonste@18
  002b9	ba b4 00 00 00	 mov	 edx, 180		; 000000b4H
  002be	66 3b c2	 cmp	 ax, dx
  002c1	74 28		 je	 SHORT $LN21@gObjMonste@18
  002c3	b9 bc 00 00 00	 mov	 ecx, 188		; 000000bcH
  002c8	66 3b c1	 cmp	 ax, cx
  002cb	74 1e		 je	 SHORT $LN21@gObjMonste@18
  002cd	ba c4 00 00 00	 mov	 edx, 196		; 000000c4H
  002d2	66 3b c2	 cmp	 ax, dx
  002d5	74 14		 je	 SHORT $LN21@gObjMonste@18
  002d7	b9 0a 01 00 00	 mov	 ecx, 266		; 0000010aH
  002dc	66 3b c1	 cmp	 ax, cx
  002df	74 0a		 je	 SHORT $LN21@gObjMonste@18
  002e1	ba 12 01 00 00	 mov	 edx, 274		; 00000112H
  002e6	66 3b c2	 cmp	 ax, dx
  002e9	75 20		 jne	 SHORT $LN22@gObjMonste@18
$LN21@gObjMonste@18:

; 1808 : 	{
; 1809 : 		if ( (rand()%2) )

  002eb	e8 00 00 00 00	 call	 _rand
  002f0	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  002f5	79 05		 jns	 SHORT $LN41@gObjMonste@18
  002f7	48		 dec	 eax
  002f8	83 c8 fe	 or	 eax, -2			; fffffffeH
  002fb	40		 inc	 eax
$LN41@gObjMonste@18:
  002fc	74 0b		 je	 SHORT $LN20@gObjMonste@18

; 1810 : 		{
; 1811 : 			PMSG_MAGICATTACK pAttackMsg;
; 1812 : 
; 1813 : 			pAttackMsg.MagicNumberH = SET_NUMBERH(1);

  002fe	66 c7 45 f3 00
	01		 mov	 WORD PTR _pAttackMsg$227997[ebp+3], 256 ; 00000100H

; 1814 : 			pAttackMsg.MagicNumberL = SET_NUMBERL(1);
; 1815 : 
; 1816 : 			pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1817 : 			pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1818 : 			pAttackMsg.Dis = 0;
; 1819 : 
; 1820 : 			CGMagicAttack(&pAttackMsg, lpObj->m_Index);
; 1821 : 			return;

  00304	e9 87 fd ff ff	 jmp	 $LN47@gObjMonste@18
$LN20@gObjMonste@18:

; 1822 : 		}
; 1823 : 		AttackType = 0;

  00309	33 db		 xor	 ebx, ebx
$LN22@gObjMonste@18:

; 1824 : 	}
; 1825 : 	
; 1826 : 	if (	 lpObj->Class == 89
; 1827 :           || lpObj->Class == 95
; 1828 :           || lpObj->Class == 112
; 1829 :           || lpObj->Class == 118
; 1830 :           || lpObj->Class == 124
; 1831 :           || lpObj->Class == 130
; 1832 :           || lpObj->Class == 143
; 1833 : 		  || lpObj->Class == 433)

  0030b	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00312	83 f8 59	 cmp	 eax, 89			; 00000059H
  00315	0f 84 d0 00 00
	00		 je	 $LN18@gObjMonste@18
  0031b	83 f8 5f	 cmp	 eax, 95			; 0000005fH
  0031e	0f 84 c7 00 00
	00		 je	 $LN18@gObjMonste@18
  00324	83 f8 70	 cmp	 eax, 112		; 00000070H
  00327	0f 84 be 00 00
	00		 je	 $LN18@gObjMonste@18
  0032d	83 f8 76	 cmp	 eax, 118		; 00000076H
  00330	0f 84 b5 00 00
	00		 je	 $LN18@gObjMonste@18
  00336	83 f8 7c	 cmp	 eax, 124		; 0000007cH
  00339	0f 84 ac 00 00
	00		 je	 $LN18@gObjMonste@18
  0033f	b9 82 00 00 00	 mov	 ecx, 130		; 00000082H
  00344	66 3b c1	 cmp	 ax, cx
  00347	0f 84 9e 00 00
	00		 je	 $LN18@gObjMonste@18
  0034d	ba 8f 00 00 00	 mov	 edx, 143		; 0000008fH
  00352	66 3b c2	 cmp	 ax, dx
  00355	0f 84 90 00 00
	00		 je	 $LN18@gObjMonste@18
  0035b	b9 b1 01 00 00	 mov	 ecx, 433		; 000001b1H
  00360	66 3b c1	 cmp	 ax, cx
  00363	0f 84 82 00 00
	00		 je	 $LN18@gObjMonste@18

; 1848 : 	}
; 1849 : 	else if (  lpObj->Class == 163
; 1850 :             || lpObj->Class == 165
; 1851 :             || lpObj->Class == 167
; 1852 :             || lpObj->Class == 169
; 1853 :             || lpObj->Class == 171
; 1854 :             || lpObj->Class == 173
; 1855 : 			|| lpObj->Class == 427)

  00369	ba a3 00 00 00	 mov	 edx, 163		; 000000a3H
  0036e	66 3b c2	 cmp	 ax, dx
  00371	74 53		 je	 SHORT $LN15@gObjMonste@18
  00373	b9 a5 00 00 00	 mov	 ecx, 165		; 000000a5H
  00378	66 3b c1	 cmp	 ax, cx
  0037b	74 49		 je	 SHORT $LN15@gObjMonste@18
  0037d	ba a7 00 00 00	 mov	 edx, 167		; 000000a7H
  00382	66 3b c2	 cmp	 ax, dx
  00385	74 3f		 je	 SHORT $LN15@gObjMonste@18
  00387	b9 a9 00 00 00	 mov	 ecx, 169		; 000000a9H
  0038c	66 3b c1	 cmp	 ax, cx
  0038f	74 35		 je	 SHORT $LN15@gObjMonste@18
  00391	ba ab 00 00 00	 mov	 edx, 171		; 000000abH
  00396	66 3b c2	 cmp	 ax, dx
  00399	74 2b		 je	 SHORT $LN15@gObjMonste@18
  0039b	b9 ad 00 00 00	 mov	 ecx, 173		; 000000adH
  003a0	66 3b c1	 cmp	 ax, cx
  003a3	74 21		 je	 SHORT $LN15@gObjMonste@18
  003a5	ba ab 01 00 00	 mov	 edx, 427		; 000001abH
  003aa	66 3b c2	 cmp	 ax, dx
  003ad	74 17		 je	 SHORT $LN15@gObjMonste@18

; 1867 : 	}
; 1868 : 	else if ( lpObj->Class == 66 || lpObj->Class == 73 || lpObj->Class == 77 )

  003af	83 f8 42	 cmp	 eax, 66			; 00000042H
  003b2	74 0a		 je	 SHORT $LN12@gObjMonste@18
  003b4	83 f8 49	 cmp	 eax, 73			; 00000049H
  003b7	74 05		 je	 SHORT $LN12@gObjMonste@18
  003b9	83 f8 4d	 cmp	 eax, 77			; 0000004dH
  003bc	75 76		 jne	 SHORT $LN39@gObjMonste@18
$LN12@gObjMonste@18:

; 1869 : 	{
; 1870 : 		PMSG_MAGICATTACK pAttackMsg;
; 1871 : 
; 1872 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(1);

  003be	66 c7 45 f3 00
	01		 mov	 WORD PTR _pAttackMsg$228039[ebp+3], 256 ; 00000100H

; 1873 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(1);
; 1874 : 
; 1875 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1876 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1877 : 		pAttackMsg.Dis = 0;
; 1878 : 
; 1879 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  003c4	eb 45		 jmp	 SHORT $LN45@gObjMonste@18
$LN15@gObjMonste@18:

; 1856 : 	{
; 1857 : 		PMSG_MAGICATTACK pAttackMsg;
; 1858 : 
; 1859 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(1);
; 1860 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(1);
; 1861 : 
; 1862 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  003c6	0f bf 8e 58 04
	00 00		 movsx	 ecx, WORD PTR [esi+1112]

; 1863 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1864 : 		pAttackMsg.Dis = 0;
; 1865 : 
; 1866 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  003cd	8b 06		 mov	 eax, DWORD PTR [esi]
  003cf	8a 96 58 04 00
	00		 mov	 dl, BYTE PTR [esi+1112]
  003d5	c1 e9 08	 shr	 ecx, 8
  003d8	88 4d f5	 mov	 BYTE PTR _pAttackMsg$228025[ebp+5], cl
  003db	50		 push	 eax
  003dc	8d 4d f0	 lea	 ecx, DWORD PTR _pAttackMsg$228025[ebp]
  003df	66 c7 45 f3 00
	01		 mov	 WORD PTR _pAttackMsg$228025[ebp+3], 256 ; 00000100H
  003e5	88 55 f6	 mov	 BYTE PTR _pAttackMsg$228025[ebp+6], dl
  003e8	51		 push	 ecx
  003e9	eb 3d		 jmp	 SHORT $LN46@gObjMonste@18
$LN18@gObjMonste@18:

; 1834 : 	{
; 1835 : 
; 1836 : 		PMSG_MAGICATTACK pAttackMsg;
; 1837 : 
; 1838 : 		WORD MagicNumber = rand()%2+1;

  003eb	e8 00 00 00 00	 call	 _rand
  003f0	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  003f5	79 05		 jns	 SHORT $LN42@gObjMonste@18
  003f7	48		 dec	 eax
  003f8	83 c8 fe	 or	 eax, -2			; fffffffeH
  003fb	40		 inc	 eax
$LN42@gObjMonste@18:
  003fc	40		 inc	 eax
  003fd	0f b7 c0	 movzx	 eax, ax

; 1839 : 
; 1840 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(MagicNumber);

  00400	8b d0		 mov	 edx, eax
  00402	c1 ea 08	 shr	 edx, 8
  00405	88 55 f3	 mov	 BYTE PTR _pAttackMsg$228010[ebp+3], dl

; 1841 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(MagicNumber);

  00408	88 45 f4	 mov	 BYTE PTR _pAttackMsg$228010[ebp+4], al
$LN45@gObjMonste@18:

; 1842 : 
; 1843 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  0040b	0f bf 86 58 04
	00 00		 movsx	 eax, WORD PTR [esi+1112]

; 1844 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1845 : 		pAttackMsg.Dis = 0;
; 1846 : 
; 1847 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  00412	8b 16		 mov	 edx, DWORD PTR [esi]
  00414	8a 8e 58 04 00
	00		 mov	 cl, BYTE PTR [esi+1112]
  0041a	c1 e8 08	 shr	 eax, 8
  0041d	88 45 f5	 mov	 BYTE PTR _pAttackMsg$228010[ebp+5], al
  00420	52		 push	 edx
  00421	8d 45 f0	 lea	 eax, DWORD PTR _pAttackMsg$228010[ebp]
  00424	50		 push	 eax
  00425	88 4d f6	 mov	 BYTE PTR _pAttackMsg$228010[ebp+6], cl
$LN46@gObjMonste@18:
  00428	c6 45 f7 00	 mov	 BYTE PTR _pAttackMsg$228010[ebp+7], 0
  0042c	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  00431	83 c4 08	 add	 esp, 8
$LN39@gObjMonste@18:

; 1880 : 	}
; 1881 : 	//Season 5 DoppelGanger
; 1882 : 	if(lpObj->Class == 534
; 1883 : 		|| lpObj->Class == 535
; 1884 : 		|| lpObj->Class == 536
; 1885 : 		|| lpObj->Class == 537
; 1886 : 		|| lpObj->Class == 538
; 1887 : 		|| lpObj->Class == 539)

  00434	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  0043b	b9 16 02 00 00	 mov	 ecx, 534		; 00000216H
  00440	66 3b c1	 cmp	 ax, cx
  00443	0f 84 28 01 00
	00		 je	 $LN10@gObjMonste@18
  00449	ba 17 02 00 00	 mov	 edx, 535		; 00000217H
  0044e	66 3b c2	 cmp	 ax, dx
  00451	0f 84 1a 01 00
	00		 je	 $LN10@gObjMonste@18
  00457	b9 18 02 00 00	 mov	 ecx, 536		; 00000218H
  0045c	66 3b c1	 cmp	 ax, cx
  0045f	0f 84 0c 01 00
	00		 je	 $LN10@gObjMonste@18
  00465	ba 19 02 00 00	 mov	 edx, 537		; 00000219H
  0046a	66 3b c2	 cmp	 ax, dx
  0046d	0f 84 fe 00 00
	00		 je	 $LN10@gObjMonste@18
  00473	b9 1a 02 00 00	 mov	 ecx, 538		; 0000021aH
  00478	66 3b c1	 cmp	 ax, cx
  0047b	0f 84 f0 00 00
	00		 je	 $LN10@gObjMonste@18
  00481	ba 1b 02 00 00	 mov	 edx, 539		; 0000021bH
  00486	66 3b c2	 cmp	 ax, dx
  00489	0f 84 e2 00 00
	00		 je	 $LN10@gObjMonste@18

; 1900 : 	}
; 1901 : 
; 1902 : 	else if( lpObj->Class == 561 ) //1.01.00

  0048f	b9 31 02 00 00	 mov	 ecx, 561		; 00000231H
  00494	66 3b c1	 cmp	 ax, cx
  00497	0f 85 89 00 00
	00		 jne	 $LN8@gObjMonste@18

; 1903 : 	{
; 1904 : 		int Skill = gObjMonsterSelectSkillForMedusa(lpObj);

  0049d	56		 push	 esi
  0049e	e8 00 00 00 00	 call	 ?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterSelectSkillForMedusa
  004a3	83 c4 04	 add	 esp, 4

; 1905 : 		// ----
; 1906 : 		if( Skill == 1 )

  004a6	83 f8 01	 cmp	 eax, 1
  004a9	75 28		 jne	 SHORT $LN7@gObjMonste@18

; 1907 : 		{
; 1908 : 			PMSG_MAGICATTACK pAttackMsg;
; 1909 : 			// ----
; 1910 : 			pAttackMsg.MagicNumberH = SET_NUMBERH(Skill);
; 1911 : 			pAttackMsg.MagicNumberL = SET_NUMBERL(Skill);
; 1912 : 			pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  004ab	0f bf 96 58 04
	00 00		 movsx	 edx, WORD PTR [esi+1112]

; 1913 : 			pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1914 : 			// ----
; 1915 : 			CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  004b2	8b 0e		 mov	 ecx, DWORD PTR [esi]
  004b4	8a 86 58 04 00
	00		 mov	 al, BYTE PTR [esi+1112]
  004ba	c1 ea 08	 shr	 edx, 8
  004bd	88 55 f5	 mov	 BYTE PTR _pAttackMsg$228062[ebp+5], dl
  004c0	51		 push	 ecx
  004c1	8d 55 f0	 lea	 edx, DWORD PTR _pAttackMsg$228062[ebp]
  004c4	66 c7 45 f3 00
	01		 mov	 WORD PTR _pAttackMsg$228062[ebp+3], 256 ; 00000100H
  004ca	88 45 f6	 mov	 BYTE PTR _pAttackMsg$228062[ebp+6], al
  004cd	52		 push	 edx

; 1916 : 		}
; 1917 : 		else

  004ce	e9 de fb ff ff	 jmp	 $LN48@gObjMonste@18
$LN7@gObjMonste@18:

; 1918 : 		{
; 1919 : 			PMSG_DURATION_MAGIC_RECV pDuration;
; 1920 : 			// ----
; 1921 : 			//31, 31 missing
; 1922 : 			pDuration.X		= lpObj->X;

  004d3	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]

; 1923 : 			pDuration.Y		= lpObj->Y;

  004d9	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]
  004df	88 4d f1	 mov	 BYTE PTR _pDuration$228074[ebp+5], cl
  004e2	88 55 f2	 mov	 BYTE PTR _pDuration$228074[ebp+6], dl

; 1924 : 			pDuration.MagicNumberH = SET_NUMBERH(Skill);
; 1925 : 			pDuration.MagicNumberL = SET_NUMBERL(Skill);
; 1926 : 			pDuration.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  004e5	0f bf 96 58 04
	00 00		 movsx	 edx, WORD PTR [esi+1112]
  004ec	8b c8		 mov	 ecx, eax
  004ee	c1 e9 08	 shr	 ecx, 8
  004f1	c1 ea 08	 shr	 edx, 8
  004f4	88 4d ef	 mov	 BYTE PTR _pDuration$228074[ebp+3], cl

; 1927 : 			pDuration.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1928 : 			// ----
; 1929 : 			CGDurationMagicRecv(&pDuration, lpObj->m_Index);

  004f7	8b 0e		 mov	 ecx, DWORD PTR [esi]
  004f9	88 55 f6	 mov	 BYTE PTR _pDuration$228074[ebp+10], dl
  004fc	88 45 f0	 mov	 BYTE PTR _pDuration$228074[ebp+4], al
  004ff	8a 86 58 04 00
	00		 mov	 al, BYTE PTR [esi+1112]
  00505	51		 push	 ecx
  00506	8d 55 ec	 lea	 edx, DWORD PTR _pDuration$228074[ebp]
  00509	52		 push	 edx
  0050a	88 45 f7	 mov	 BYTE PTR _pDuration$228074[ebp+11], al
  0050d	e8 00 00 00 00	 call	 ?CGDurationMagicRecv@@YAXPAUPMSG_DURATION_MAGIC_RECV@@H@Z ; CGDurationMagicRecv
  00512	83 c4 08	 add	 esp, 8
  00515	5f		 pop	 edi
  00516	5e		 pop	 esi
  00517	5b		 pop	 ebx

; 1962 : 				}
; 1963 : 		}
; 1964 : 	}
; 1965 : }

  00518	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0051b	33 cd		 xor	 ecx, ebp
  0051d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00522	8b e5		 mov	 esp, ebp
  00524	5d		 pop	 ebp
  00525	c3		 ret	 0
$LN8@gObjMonste@18:

; 1930 : 		}
; 1931 : 	}
; 1932 : 
; 1933 : 	else
; 1934 : 	{
; 1935 : 		switch ( AttackType ) 

  00526	85 db		 test	 ebx, ebx

; 1947 : 				}
; 1948 : 				break;
; 1949 : 		
; 1950 : 			default:
; 1951 : 				{
; 1952 : 					PMSG_MAGICATTACK pAttackMsg;
; 1953 : 
; 1954 : 					pAttackMsg.MagicNumberH = SET_NUMBERH(0);
; 1955 : 					pAttackMsg.MagicNumberL = SET_NUMBERL(0);
; 1956 : 
; 1957 : 					pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1958 : 					pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1959 : 					pAttackMsg.Dis = 0;
; 1960 : 
; 1961 : 					CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  00528	0f 85 5c fb ff
	ff		 jne	 $LN49@gObjMonste@18

; 1936 : 		{
; 1937 : 			case 0:
; 1938 : 				{
; 1939 : 					PMSG_ATTACK pAttackMsg;
; 1940 : 
; 1941 : 					pAttackMsg.AttackAction = 120;
; 1942 : 					pAttackMsg.DirDis = lpObj->Dir;

  0052e	0f bf 96 58 04
	00 00		 movsx	 edx, WORD PTR [esi+1112]
  00535	8a 8e 48 01 00
	00		 mov	 cl, BYTE PTR [esi+328]

; 1943 : 					pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1944 : 					pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);

  0053b	8a 86 58 04 00
	00		 mov	 al, BYTE PTR [esi+1112]
  00541	c1 ea 08	 shr	 edx, 8
  00544	88 4d f6	 mov	 BYTE PTR _pAttackMsg$228091[ebp+6], cl

; 1945 : 
; 1946 : 					CGAttack(&pAttackMsg, lpObj->m_Index);

  00547	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00549	88 55 f3	 mov	 BYTE PTR _pAttackMsg$228091[ebp+3], dl
  0054c	51		 push	 ecx
  0054d	8d 55 f0	 lea	 edx, DWORD PTR _pAttackMsg$228091[ebp]
  00550	52		 push	 edx
  00551	c6 45 f5 78	 mov	 BYTE PTR _pAttackMsg$228091[ebp+5], 120 ; 00000078H
  00555	88 45 f4	 mov	 BYTE PTR _pAttackMsg$228091[ebp+4], al
  00558	e8 00 00 00 00	 call	 ?CGAttack@@YAXPAUPMSG_ATTACK@@H@Z ; CGAttack
  0055d	83 c4 08	 add	 esp, 8
  00560	5f		 pop	 edi
  00561	5e		 pop	 esi
  00562	5b		 pop	 ebx

; 1962 : 				}
; 1963 : 		}
; 1964 : 	}
; 1965 : }

  00563	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00566	33 cd		 xor	 ecx, ebp
  00568	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0056d	8b e5		 mov	 esp, ebp
  0056f	5d		 pop	 ebp
  00570	c3		 ret	 0
$LN10@gObjMonste@18:

; 1888 : 	{
; 1889 : 		lpObj->Dir = GetPathPacketDirPos(lpTargetObj->X - lpObj->X, lpTargetObj->Y - lpObj->Y);

  00571	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  00578	0f bf 8f 46 01
	00 00		 movsx	 ecx, WORD PTR [edi+326]
  0057f	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  00586	2b c8		 sub	 ecx, eax
  00588	0f bf 87 44 01
	00 00		 movsx	 eax, WORD PTR [edi+324]
  0058f	51		 push	 ecx
  00590	2b c2		 sub	 eax, edx
  00592	50		 push	 eax
  00593	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos

; 1890 : 		PMSG_DURATION_MAGIC_RECV pAttackMsg;
; 1891 : 		pAttackMsg.MagicNumberH = 0;
; 1892 : 		pAttackMsg.MagicNumberL = 1;
; 1893 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  00598	0f bf 8e 58 04
	00 00		 movsx	 ecx, WORD PTR [esi+1112]

; 1894 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);

  0059f	0f b6 96 58 04
	00 00		 movzx	 edx, BYTE PTR [esi+1112]
  005a6	c1 e9 08	 shr	 ecx, 8

; 1895 : 		pAttackMsg.Dis = gObjCalDistance(lpObj, lpTargetObj);

  005a9	57		 push	 edi
  005aa	56		 push	 esi
  005ab	88 86 48 01 00
	00		 mov	 BYTE PTR [esi+328], al
  005b1	66 c7 45 ef 00
	01		 mov	 WORD PTR _pAttackMsg$228052[ebp+3], 256 ; 00000100H
  005b7	88 4d f6	 mov	 BYTE PTR _pAttackMsg$228052[ebp+10], cl
  005ba	88 55 f7	 mov	 BYTE PTR _pAttackMsg$228052[ebp+11], dl
  005bd	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 1896 : 		pAttackMsg.Dir = lpObj->Dir;
; 1897 : 		pAttackMsg.X = lpTargetObj->X;

  005c2	8a 8f 44 01 00
	00		 mov	 cl, BYTE PTR [edi+324]

; 1898 : 		pAttackMsg.Y = lpTargetObj->Y;

  005c8	0f b6 97 46 01
	00 00		 movzx	 edx, BYTE PTR [edi+326]
  005cf	88 45 f4	 mov	 BYTE PTR _pAttackMsg$228052[ebp+8], al
  005d2	8a 86 48 01 00
	00		 mov	 al, BYTE PTR [esi+328]
  005d8	88 45 f3	 mov	 BYTE PTR _pAttackMsg$228052[ebp+7], al

; 1899 : 		CGDurationMagicRecv(&pAttackMsg, lpObj->m_Index);

  005db	8b 06		 mov	 eax, DWORD PTR [esi]
  005dd	88 4d f1	 mov	 BYTE PTR _pAttackMsg$228052[ebp+5], cl
  005e0	50		 push	 eax
  005e1	8d 4d ec	 lea	 ecx, DWORD PTR _pAttackMsg$228052[ebp]
  005e4	51		 push	 ecx
  005e5	88 55 f2	 mov	 BYTE PTR _pAttackMsg$228052[ebp+6], dl
  005e8	e8 00 00 00 00	 call	 ?CGDurationMagicRecv@@YAXPAUPMSG_DURATION_MAGIC_RECV@@H@Z ; CGDurationMagicRecv
  005ed	83 c4 18	 add	 esp, 24			; 00000018H
  005f0	5f		 pop	 edi
  005f1	5e		 pop	 esi
  005f2	5b		 pop	 ebx

; 1962 : 				}
; 1963 : 		}
; 1964 : 	}
; 1965 : }

  005f3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  005f6	33 cd		 xor	 ecx, ebp
  005f8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  005fd	8b e5		 mov	 esp, ebp
  005ff	5d		 pop	 ebp
  00600	c3		 ret	 0
$LN23@gObjMonste@18:

; 1762 : 	{
; 1763 : 		PMSG_MAGICATTACK pAttackMsg;
; 1764 : 
; 1765 : 		WORD MagicNumber = rand()%2+1;

  00601	e8 00 00 00 00	 call	 _rand
  00606	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0060b	79 05		 jns	 SHORT $LN43@gObjMonste@18
  0060d	48		 dec	 eax
  0060e	83 c8 fe	 or	 eax, -2			; fffffffeH
  00611	40		 inc	 eax
$LN43@gObjMonste@18:
  00612	40		 inc	 eax
  00613	0f b7 c0	 movzx	 eax, ax

; 1766 : 
; 1767 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(MagicNumber);

  00616	8b d0		 mov	 edx, eax
  00618	c1 ea 08	 shr	 edx, 8
  0061b	88 55 f3	 mov	 BYTE PTR _pAttackMsg$227982[ebp+3], dl

; 1768 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(MagicNumber);

  0061e	88 45 f4	 mov	 BYTE PTR _pAttackMsg$227982[ebp+4], al

; 1769 : 
; 1770 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1771 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1772 : 		pAttackMsg.Dis = 0;
; 1773 : 
; 1774 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);
; 1775 : 		return;

  00621	e9 6a fa ff ff	 jmp	 $LN47@gObjMonste@18
$LN27@gObjMonste@18:

; 1738 : 	{
; 1739 : 		PMSG_MAGICATTACK pAttackMsg;
; 1740 : 
; 1741 : 		WORD MagicNumber = rand()%6+1;

  00626	e8 00 00 00 00	 call	 _rand
  0062b	99		 cdq
  0062c	b9 06 00 00 00	 mov	 ecx, 6
  00631	f7 f9		 idiv	 ecx

; 1742 : 
; 1743 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(MagicNumber);
; 1744 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(MagicNumber);
; 1745 : 
; 1746 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  00633	0f bf 86 58 04
	00 00		 movsx	 eax, WORD PTR [esi+1112]

; 1747 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);

  0063a	8a 8e 58 04 00
	00		 mov	 cl, BYTE PTR [esi+1112]
  00640	c1 e8 08	 shr	 eax, 8
  00643	88 45 f5	 mov	 BYTE PTR _pAttackMsg$227966[ebp+5], al

; 1748 : 		pAttackMsg.Dis = 0;
; 1749 : 
; 1750 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  00646	8d 45 f0	 lea	 eax, DWORD PTR _pAttackMsg$227966[ebp]
  00649	88 4d f6	 mov	 BYTE PTR _pAttackMsg$227966[ebp+6], cl
  0064c	c6 45 f7 00	 mov	 BYTE PTR _pAttackMsg$227966[ebp+7], 0
  00650	42		 inc	 edx
  00651	0f b7 da	 movzx	 ebx, dx
  00654	8b d3		 mov	 edx, ebx
  00656	c1 ea 08	 shr	 edx, 8
  00659	88 55 f3	 mov	 BYTE PTR _pAttackMsg$227966[ebp+3], dl
  0065c	8b 16		 mov	 edx, DWORD PTR [esi]
  0065e	52		 push	 edx
  0065f	50		 push	 eax
  00660	88 5d f4	 mov	 BYTE PTR _pAttackMsg$227966[ebp+4], bl
  00663	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  00668	83 c4 08	 add	 esp, 8

; 1751 : 
; 1752 : 		if ( MagicNumber == 1 || MagicNumber == 2 || MagicNumber == 0 )

  0066b	83 fb 01	 cmp	 ebx, 1
  0066e	74 0a		 je	 SHORT $LN25@gObjMonste@18
  00670	83 fb 02	 cmp	 ebx, 2
  00673	74 05		 je	 SHORT $LN25@gObjMonste@18
  00675	66 85 db	 test	 bx, bx
  00678	75 09		 jne	 SHORT $LN26@gObjMonste@18
$LN25@gObjMonste@18:

; 1753 : 		{
; 1754 : 			gObjUseMonsterSpecialAbillity(lpObj);	// Kundun

  0067a	56		 push	 esi
  0067b	e8 00 00 00 00	 call	 ?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z ; gObjUseMonsterSpecialAbillity
  00680	83 c4 04	 add	 esp, 4
$LN26@gObjMonste@18:

; 1755 : 		}
; 1756 : 
; 1757 : 		gObjMonsterMagicAttack(lpObj, lpObj->Class);

  00683	0f b7 8e b8 00
	00 00		 movzx	 ecx, WORD PTR [esi+184]
  0068a	51		 push	 ecx
  0068b	56		 push	 esi
  0068c	e8 00 00 00 00	 call	 ?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjMonsterMagicAttack
  00691	83 c4 08	 add	 esp, 8
$LN3@gObjMonste@18:

; 1962 : 				}
; 1963 : 		}
; 1964 : 	}
; 1965 : }

  00694	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00697	5f		 pop	 edi
  00698	5e		 pop	 esi
  00699	33 cd		 xor	 ecx, ebp
  0069b	5b		 pop	 ebx
  0069c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006a1	8b e5		 mov	 esp, ebp
  006a3	5d		 pop	 ebp
  006a4	c3		 ret	 0
?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z ENDP	; gObjMonsterAttack
_TEXT	ENDS
PUBLIC	??_C@_0DM@ILMMGJKK@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5MayaHand?5I@ ; `string'
PUBLIC	__real@3f800000
PUBLIC	__real@4049000000000000
PUBLIC	__real@3fe0000000000000
PUBLIC	??_C@_0CI@CKKBBPGB@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5Item?5?$FL?$CFd?$FN?$FL@ ; `string'
PUBLIC	??_C@_0BP@OPPMOMBL@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5SetItem?5?$AA@ ; `string'
PUBLIC	??_C@_0EA@HALHLIDI@?$FL?$KB?ZKundun?5EVENT?$FN?5In?5KALIMA?$CI7?$CJ?0?5I@ ; `string'
PUBLIC	??_C@_0CP@DAHAGAMG@?$FL?$KB?Z?$KB?ZKundun?5EVENT?$FN?5Kundun?5die?0?5K@ ; `string'
PUBLIC	??_C@_0EA@HAEMPPHD@?$FLCastle?5HuntZone?$FN?5Boss?5Monster?5I@ ; `string'
PUBLIC	??_C@_0DL@FOGBHHGM@?$FL?5RAKLION?5?$FN?$FL?5Reward?5?$FN?5Raklion?5It@ ; `string'
PUBLIC	??_C@_0DN@LPGCKLB@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5Nightmare?5@ ; `string'
PUBLIC	??_C@_0DO@MFLACNKC@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Boss?5Monster@ ; `string'
PUBLIC	??_C@_0EC@EAOBMANM@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Monster?5Dark@ ; `string'
PUBLIC	??_C@_0DE@OKIAOABG@?$FLMonsterGroupRegen?$FN?5BossName?3?5?$CFs@ ; `string'
PUBLIC	_lpTargetObj$GSCopy$
PUBLIC	__$ArrayPad$
PUBLIC	?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z ; gObjMonsterDieGiveItem
EXTRN	?KanturuMayaHandItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; KanturuMayaHandItemBagOpen
EXTRN	?g_iKanturuMayaHandItemDropRate@@3HA:DWORD	; g_iKanturuMayaHandItemDropRate
EXTRN	?g_bKanturuMayaHandItemDrop@@3HA:DWORD		; g_bKanturuMayaHandItemDrop
EXTRN	?gEvent1ItemDropTodayMax@@3HA:DWORD		; gEvent1ItemDropTodayMax
EXTRN	?gEvent1ItemDropTodayCount@@3HA:DWORD		; gEvent1ItemDropTodayCount
EXTRN	?gEvent1ItemDropTodayPercent@@3HA:DWORD		; gEvent1ItemDropTodayPercent
EXTRN	?MoneyItemDrop@MapClass@@QAEHHHH@Z:PROC		; MapClass::MoneyItemDrop
EXTRN	?Main@cDropZenManager@@QAEXPAUOBJECTSTRUCT@@AAM@Z:PROC ; cDropZenManager::Main
EXTRN	?DropZenManager@@3VcDropZenManager@@A:BYTE	; DropZenManager
EXTRN	?UserZenPlus@PremiumSystemZt@@QAEXHAAM@Z:PROC	; PremiumSystemZt::UserZenPlus
EXTRN	?g_PremiumSystemZt@@3VPremiumSystemZt@@A:BYTE	; g_PremiumSystemZt
EXTRN	?UserBonusZen@Brotherhood@@QAEXPAUOBJECTSTRUCT@@AAM@Z:PROC ; Brotherhood::UserBonusZen
EXTRN	?Zen@CPetZt@@QAEXHAAM@Z:PROC			; CPetZt::Zen
EXTRN	?g_PetZt@@3VCPetZt@@A:BYTE			; g_PetZt
EXTRN	?DropZen@cExclusiveOptions@@QAEXHAAM@Z:PROC	; cExclusiveOptions::DropZen
EXTRN	?gExclusiveOptions@@3VcExclusiveOptions@@A:BYTE	; gExclusiveOptions
EXTRN	?ZenOption@cWinQuestSystem@@QAEXHAAM@Z:PROC	; cWinQuestSystem::ZenOption
EXTRN	?DropZen@cSystemOfRage@@QAEXHAAM@Z:PROC		; cSystemOfRage::DropZen
EXTRN	?Zen@PremiumSystem@@QAEXPAUOBJECTSTRUCT@@AAM@Z:PROC ; PremiumSystem::Zen
EXTRN	?Premium@@3VPremiumSystem@@A:BYTE		; Premium
EXTRN	?UserBonusZen@cHappyHour@@QAEXAAM@Z:PROC	; cHappyHour::UserBonusZen
EXTRN	?HappyHour@@3VcHappyHour@@A:BYTE		; HappyHour
EXTRN	?ExDropZenParty@@3HA:DWORD			; ExDropZenParty
EXTRN	?BlockItemDrop@CItemDropManager@@QAE_NHHH@Z:PROC ; CItemDropManager::BlockItemDrop
EXTRN	?ItemGetDurability@@YAHHHHH@Z:PROC		; ItemGetDurability
EXTRN	?GetGemDropPenaltiyRate@CCrywolfSync@@QAEHXZ:PROC ; CCrywolfSync::GetGemDropPenaltiyRate
EXTRN	?g_iCrywolfApplyMvpPenalty@@3HA:DWORD		; g_iCrywolfApplyMvpPenalty
EXTRN	?CheckMapNumber@CSocketOption@@QAEEH@Z:PROC	; CSocketOption::CheckMapNumber
EXTRN	?CheckItemType@CSocketOption@@QAEEH@Z:PROC	; CSocketOption::CheckItemType
EXTRN	?gObjUnicornSprite@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjUnicornSprite
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
EXTRN	?gAddZen@@3MA:DWORD				; gAddZen
EXTRN	?Is380Item@CItemSystemFor380@@QAEHPBVCItem@@@Z:PROC ; CItemSystemFor380::Is380Item
EXTRN	?g_kItemSystemFor380@@3VCItemSystemFor380@@A:BYTE ; g_kItemSystemFor380
EXTRN	?gObjGetActiveEffect@@YAHPAUOBJECTSTRUCT@@H@Z:PROC ; gObjGetActiveEffect
EXTRN	?gItemDropPer@@3HA:DWORD			; gItemDropPer
EXTRN	?GetMapDropRate@CItemDropManager@@QAEHH@Z:PROC	; CItemDropManager::GetMapDropRate
EXTRN	?MonsterItemDrop@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; CQuestInfo::MonsterItemDrop
EXTRN	?g_QuestInfo@@3VCQuestInfo@@A:BYTE		; g_QuestInfo
EXTRN	?JewelsDropRate@cSystemOfRage@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cSystemOfRage::JewelsDropRate
EXTRN	?AttackEvent55BagOpen@@YAHPAUOBJECTSTRUCT@@@Z:PROC ; AttackEvent55BagOpen
EXTRN	?AttackEvent53BagOpen@@YAHPAUOBJECTSTRUCT@@@Z:PROC ; AttackEvent53BagOpen
EXTRN	?GenericBoxItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; GenericBoxItemBagOpen
EXTRN	?SearchNDropMonsterItem@CIllusionTempleEvent@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CIllusionTempleEvent::SearchNDropMonsterItem
EXTRN	?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A:BYTE ; g_IllusionTempleEvent
EXTRN	?SearchNDropMonsterItem@CChaosCastle@@QAEXHHH@Z:PROC ; CChaosCastle::SearchNDropMonsterItem
EXTRN	?GetChaosCastleIndex@CChaosCastle@@QAEHH@Z:PROC	; CChaosCastle::GetChaosCastleIndex
EXTRN	?g_ChaosCastle@@3VCChaosCastle@@A:BYTE		; g_ChaosCastle
EXTRN	?CreateSilverChest@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z:PROC ; CDoppelGanger::CreateSilverChest
EXTRN	?KundunEventItemBoxOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; KundunEventItemBoxOpen
EXTRN	?CastleHuntZoneBossRewardOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; CastleHuntZoneBossRewardOpen
EXTRN	?RaklionBossMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; RaklionBossMonsterItemBagOpen
EXTRN	?g_iRaklionSelupanItemDropRate@@3HA:DWORD	; g_iRaklionSelupanItemDropRate
EXTRN	?g_bRaklionSelupanItemDrop@@3HA:DWORD		; g_bRaklionSelupanItemDrop
EXTRN	?KanturuNightmareItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; KanturuNightmareItemBagOpen
EXTRN	?g_iKanturuNightmareItemDropRate@@3HA:DWORD	; g_iKanturuNightmareItemDropRate
EXTRN	?g_bKanturuNightmareItemDrop@@3HA:DWORD		; g_bKanturuNightmareItemDrop
EXTRN	?CrywolfBossMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; CrywolfBossMonsterItemBagOpen
EXTRN	?g_iCrywolfBossMonsterItemDropRate@@3HA:DWORD	; g_iCrywolfBossMonsterItemDropRate
EXTRN	?g_bCrywolfBossMonsterItemDrop@@3HA:DWORD	; g_bCrywolfBossMonsterItemDrop
EXTRN	?CrywolfDarkElfItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; CrywolfDarkElfItemBagOpen
EXTRN	?g_iCrywolfMonsterDarkElfItemDropRate@@3HA:DWORD ; g_iCrywolfMonsterDarkElfItemDropRate
EXTRN	?g_bCrywolfMonsterDarkElfItemDrop@@3HA:DWORD	; g_bCrywolfMonsterDarkElfItemDrop
EXTRN	?NewMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEEH@Z:PROC ; NewMonsterItemBagOpen
EXTRN	?NewYearLuckMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z:PROC ; NewYearLuckMonsterItemBagOpen
EXTRN	?ImperialReward@CImperial@@QAE_NPAUOBJECTSTRUCT@@0@Z:PROC ; CImperial::ImperialReward
EXTRN	?g_Imperial@@3VCImperial@@A:BYTE		; g_Imperial
EXTRN	?BossDrop@cGrandHero@@QAE_NPAUOBJECTSTRUCT@@0@Z:PROC ; cGrandHero::BossDrop
EXTRN	?GrandHero@@3VcGrandHero@@A:BYTE		; GrandHero
EXTRN	?ProccessItemDrop@Brotherhood@@QAE_NPAUOBJECTSTRUCT@@0@Z:PROC ; Brotherhood::ProccessItemDrop
EXTRN	?gBrotherhood@@3VBrotherhood@@A:BYTE		; gBrotherhood
EXTRN	?ProccessItemDrop@CItemDropManager@@QAE_NPAUOBJECTSTRUCT@@0@Z:PROC ; CItemDropManager::ProccessItemDrop
EXTRN	?gItemDropManager@@3VCItemDropManager@@A:BYTE	; gItemDropManager
EXTRN	?ProccessItemDrop@cBossRewardItem@@QAE_NPAUOBJECTSTRUCT@@@Z:PROC ; cBossRewardItem::ProccessItemDrop
EXTRN	?gBossRewardItem@@3VcBossRewardItem@@A:BYTE	; gBossRewardItem
EXTRN	?MonsterKiller@ZtWinQuestSystem@@QAE_NHH@Z:PROC	; ZtWinQuestSystem::MonsterKiller
EXTRN	?g_ZtWinQuestSystem@@3VZtWinQuestSystem@@A:BYTE	; g_ZtWinQuestSystem
EXTRN	?Main@cMonsterBonus@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cMonsterBonus::Main
EXTRN	?gMonsterBonus@@3VcMonsterBonus@@A:BYTE		; gMonsterBonus
EXTRN	?MonsterKiller@cWinQuestSystem@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cWinQuestSystem::MonsterKiller
EXTRN	?gWinQuestSystem@@3VcWinQuestSystem@@A:BYTE	; gWinQuestSystem
EXTRN	?RageExpFunction@cSystemOfRage@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cSystemOfRage::RageExpFunction
EXTRN	?gSystemOfRage@@3VcSystemOfRage@@A:BYTE		; gSystemOfRage
EXTRN	?MissionKill@MonsterQuest@@QAEXHH@Z:PROC	; MonsterQuest::MissionKill
EXTRN	?gMonsterQuest@@3VMonsterQuest@@A:BYTE		; gMonsterQuest
EXTRN	?MonsterKill@cZtQuest@@QAEXPAUOBJECTSTRUCT@@0@Z:PROC ; cZtQuest::MonsterKill
EXTRN	?ZtQuestSystem@@3VcZtQuest@@A:BYTE		; ZtQuestSystem
EXTRN	?MonsterKill@cBMQuest@@QAEXHH@Z:PROC		; cBMQuest::MonsterKill
EXTRN	?BMQuest@@3VcBMQuest@@A:BYTE			; BMQuest
EXTRN	?DieMessage@CMonsterMsg@@QAEXHH@Z:PROC		; CMonsterMsg::DieMessage
EXTRN	?MonsterKill@CMapQuest@@QAEXHH@Z:PROC		; CMapQuest::MonsterKill
EXTRN	?g_MapQuest@@3VCMapQuest@@A:BYTE		; g_MapQuest
EXTRN	__ftol2:PROC
;	COMDAT ??_C@_0DM@ILMMGJKK@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5MayaHand?5I@
CONST	SEGMENT
??_C@_0DM@ILMMGJKK@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5MayaHand?5I@ DB '['
	DB	' KANTURU ][ Reward ] MayaHand ItemDrop MaxHitUser [%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@4049000000000000
CONST	SEGMENT
__real@4049000000000000 DQ 04049000000000000r	; 50
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT ??_C@_0CI@CKKBBPGB@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5Item?5?$FL?$CFd?$FN?$FL@
CONST	SEGMENT
??_C@_0CI@CKKBBPGB@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5Item?5?$FL?$CFd?$FN?$FL@ DB '['
	DB	0a1H, 0dbH, 'Kundun EVENT] Drop Item [%d][%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@OPPMOMBL@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5SetItem?5?$AA@
CONST	SEGMENT
??_C@_0BP@OPPMOMBL@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5SetItem?5?$AA@ DB '['
	DB	0a1H, 0dbH, 'Kundun EVENT] Drop SetItem ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EA@HALHLIDI@?$FL?$KB?ZKundun?5EVENT?$FN?5In?5KALIMA?$CI7?$CJ?0?5I@
CONST	SEGMENT
??_C@_0EA@HALHLIDI@?$FL?$KB?ZKundun?5EVENT?$FN?5In?5KALIMA?$CI7?$CJ?0?5I@ DB '['
	DB	0a1H, 0daH, 'Kundun EVENT] In KALIMA(7), ItemDrop MaxHitUser ['
	DB	'%d][%s][%s]', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CP@DAHAGAMG@?$FL?$KB?Z?$KB?ZKundun?5EVENT?$FN?5Kundun?5die?0?5K@
CONST	SEGMENT
??_C@_0CP@DAHAGAMG@?$FL?$KB?Z?$KB?ZKundun?5EVENT?$FN?5Kundun?5die?0?5K@ DB '['
	DB	0a1H, 0daH, 0a1H, 0daH, 'Kundun EVENT] Kundun die, Killer [%s]'
	DB	'[%s]', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0EA@HAEMPPHD@?$FLCastle?5HuntZone?$FN?5Boss?5Monster?5I@
CONST	SEGMENT
??_C@_0EA@HAEMPPHD@?$FLCastle?5HuntZone?$FN?5Boss?5Monster?5I@ DB '[Castl'
	DB	'e HuntZone] Boss Monster ItemDrop MaxHitUser [%d][%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DL@FOGBHHGM@?$FL?5RAKLION?5?$FN?$FL?5Reward?5?$FN?5Raklion?5It@
CONST	SEGMENT
??_C@_0DL@FOGBHHGM@?$FL?5RAKLION?5?$FN?$FL?5Reward?5?$FN?5Raklion?5It@ DB '['
	DB	' RAKLION ][ Reward ] Raklion ItemDrop MaxHitUser [%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DN@LPGCKLB@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5Nightmare?5@
CONST	SEGMENT
??_C@_0DN@LPGCKLB@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5Nightmare?5@ DB '['
	DB	' KANTURU ][ Reward ] Nightmare ItemDrop MaxHitUser [%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DO@MFLACNKC@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Boss?5Monster@
CONST	SEGMENT
??_C@_0DO@MFLACNKC@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Boss?5Monster@ DB '['
	DB	' Crywolf ][Reward] Boss Monster ItemDrop MaxHitUser [%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EC@EAOBMANM@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Monster?5Dark@
CONST	SEGMENT
??_C@_0EC@EAOBMANM@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Monster?5Dark@ DB '['
	DB	' Crywolf ][Reward] Monster Dark Elf ItemDrop MaxHitUser [%s]['
	DB	'%s]', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@OKIAOABG@?$FLMonsterGroupRegen?$FN?5BossName?3?5?$CFs@
CONST	SEGMENT
??_C@_0DE@OKIAOABG@?$FLMonsterGroupRegen?$FN?5BossName?3?5?$CFs@ DB '[Mon'
	DB	'sterGroupRegen] BossName: %s, CharacterName: %s', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z
_TEXT	SEGMENT
_y$228961 = -60						; size = 4
_Option2$ = -60						; size = 4
_y$ = -56						; size = 4
_option3rand$228920 = -52				; size = 4
_ExtDropPer$ = -52					; size = 4
tv2751 = -48						; size = 4
tv1836 = -48						; size = 4
_optionc$228921 = -48					; size = 4
_moneyrate$ = -48					; size = 4
_iMaxCount$228603 = -48					; size = 4
_cDropY$228623 = -44					; size = 1
_cDropY$228609 = -44					; size = 1
_Option1$ = -44						; size = 4
_cDropY$228568 = -40					; size = 1
_lpTargetObj$GSCopy$ = -40				; size = 4
tv1908 = -40						; size = 4
tv1882 = -40						; size = 4
_dur$ = -40						; size = 4
_NOption$ = -36						; size = 1
_cDropX$228622 = -36					; size = 1
_cDropX$228608 = -36					; size = 1
_itemrate$ = -36					; size = 4
_cDropX$228842 = -32					; size = 1
_cDropX$228820 = -32					; size = 1
_cDropX$228592 = -32					; size = 1
_cDropX$228557 = -32					; size = 1
_cDropX$228548 = -32					; size = 1
_cDropX$228534 = -32					; size = 1
_x$ = -32						; size = 4
tv2709 = -28						; size = 4
_cDropX$228567 = -28					; size = 1
_cDropY$228843 = -28					; size = 1
_cDropY$228821 = -28					; size = 1
_cDropY$228593 = -28					; size = 1
_cDropY$228558 = -28					; size = 1
_cDropY$228549 = -28					; size = 1
_cDropY$228535 = -28					; size = 1
_iMaxNumOfRewardItem$228616 = -28			; size = 4
_cDropX$228576 = -24					; size = 1
_type$ = -24						; size = 4
_DropItem$ = -24					; size = 4
tv2697 = -22						; size = 2
_cDropY$228577 = -20					; size = 1
_money$228962 = -20					; size = 4
_level$ = -20						; size = 4
_MaxHitUser$228615 = -20				; size = 4
_item_drop$ = -20					; size = 4
_randlevel$228822 = -16					; size = 12
_randlevel$228844 = -12					; size = 8
tv2883 = -8						; size = 4
tv2694 = -8						; size = 4
tv2692 = -8						; size = 4
tv2674 = -8						; size = 4
tv2673 = -8						; size = 4
tv2628 = -8						; size = 4
_Option3$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z PROC	; gObjMonsterDieGiveItem, COMDAT

; 2964 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 3c	 sub	 esp, 60			; 0000003cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 2965 : #if(SYSTEM_ACHIEVEMENTS)
; 2966 : 	//g_Achievements.MonsterKill(lpTargetObj->m_Index, lpObj->m_Index);
; 2967 : #endif
; 2968 : 
; 2969 : #if(CUSTOM_MAPQUEST)
; 2970 : 	g_MapQuest.MonsterKill(lpTargetObj->m_Index, lpObj->m_Index);

  00015	8b 06		 mov	 eax, DWORD PTR [esi]
  00017	57		 push	 edi
  00018	8b 7d 0c	 mov	 edi, DWORD PTR _lpTargetObj$[ebp]
  0001b	8b 0f		 mov	 ecx, DWORD PTR [edi]
  0001d	50		 push	 eax
  0001e	51		 push	 ecx
  0001f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MapQuest@@3VCMapQuest@@A ; g_MapQuest

; 3348 : 		}
; 3349 : 
; 3350 : 		for ( int i=0;i<iMaxNumOfRewardItem;i++)

  00024	89 7d d8	 mov	 DWORD PTR _lpTargetObj$GSCopy$[ebp], edi
  00027	e8 00 00 00 00	 call	 ?MonsterKill@CMapQuest@@QAEXHH@Z ; CMapQuest::MonsterKill
  0002c	8b 16		 mov	 edx, DWORD PTR [esi]
  0002e	8b 07		 mov	 eax, DWORD PTR [edi]
  00030	52		 push	 edx
  00031	50		 push	 eax
  00032	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterMsg@@3VCMonsterMsg@@A ; g_MonsterMsg
  00037	e8 00 00 00 00	 call	 ?DieMessage@CMonsterMsg@@QAEXHH@Z ; CMonsterMsg::DieMessage
  0003c	8b 0e		 mov	 ecx, DWORD PTR [esi]
  0003e	8b 17		 mov	 edx, DWORD PTR [edi]
  00040	51		 push	 ecx
  00041	52		 push	 edx
  00042	b9 00 00 00 00	 mov	 ecx, OFFSET ?BMQuest@@3VcBMQuest@@A ; BMQuest
  00047	e8 00 00 00 00	 call	 ?MonsterKill@cBMQuest@@QAEXHH@Z ; cBMQuest::MonsterKill
  0004c	33 db		 xor	 ebx, ebx
  0004e	38 1d dd 00 00
	00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+221, bl
  00054	0f 84 a2 00 00
	00		 je	 $LN224@gObjMonste@19

; 2971 : #endif
; 2972 : #if(CUSTOM_MONSTER_MESSAGE)
; 2973 : 	g_MonsterMsg.DieMessage(lpTargetObj->m_Index, lpObj->m_Index);
; 2974 : #endif
; 2975 : 
; 2976 : 	BMQuest.MonsterKill(lpTargetObj->m_Index, lpObj->m_Index);
; 2977 : 
; 2978 : #if(CUSTOM_NPC_BUFFER==TRUE)
; 2979 : 	if(g_ZtLicense.user.NpcBuffer)
; 2980 : 	{
; 2981 : 		if( lpTargetObj->DropBuffTime > 0 )

  0005a	39 9f a0 28 00
	00		 cmp	 DWORD PTR [edi+10400], ebx
  00060	0f 86 96 00 00
	00		 jbe	 $LN224@gObjMonste@19

; 2982 : 		{
; 2983 : 			int DropAdd = 3;
; 2984 : 			if ( (rand()%10000) < DropAdd )

  00066	e8 00 00 00 00	 call	 _rand
  0006b	99		 cdq
  0006c	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00071	f7 f9		 idiv	 ecx
  00073	83 fa 03	 cmp	 edx, 3
  00076	0f 8d 80 00 00
	00		 jge	 $LN224@gObjMonste@19

; 2985 : 			{
; 2986 : 				int iTopHitUser = gObjMonsterTopHitDamageUser(lpTargetObj);

  0007c	57		 push	 edi
  0007d	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00082	83 c4 04	 add	 esp, 4
  00085	8b d8		 mov	 ebx, eax

; 2987 : 
; 2988 : 				int Type;
; 2989 : 				int num = rand()%5;

  00087	e8 00 00 00 00	 call	 _rand
  0008c	99		 cdq
  0008d	b9 05 00 00 00	 mov	 ecx, 5
  00092	f7 f9		 idiv	 ecx

; 2990 : 				if(num == 0)

  00094	85 d2		 test	 edx, edx
  00096	75 07		 jne	 SHORT $LN223@gObjMonste@19

; 2991 : 				Type = ITEMGET(12,15);

  00098	ba 0f 18 00 00	 mov	 edx, 6159		; 0000180fH
  0009d	eb 28		 jmp	 SHORT $LN217@gObjMonste@19
$LN223@gObjMonste@19:

; 2992 : 				else if(num == 1)

  0009f	83 fa 01	 cmp	 edx, 1
  000a2	75 07		 jne	 SHORT $LN221@gObjMonste@19

; 2993 : 				Type = ITEMGET(14,13);

  000a4	ba 0d 1c 00 00	 mov	 edx, 7181		; 00001c0dH
  000a9	eb 1c		 jmp	 SHORT $LN217@gObjMonste@19
$LN221@gObjMonste@19:

; 2994 : 				else if(num == 2)

  000ab	83 fa 02	 cmp	 edx, 2
  000ae	75 07		 jne	 SHORT $LN219@gObjMonste@19

; 2995 : 				Type =  ITEMGET(14,14);

  000b0	ba 0e 1c 00 00	 mov	 edx, 7182		; 00001c0eH
  000b5	eb 10		 jmp	 SHORT $LN217@gObjMonste@19
$LN219@gObjMonste@19:

; 2996 : 				else if(num == 3)

  000b7	83 ea 03	 sub	 edx, 3
  000ba	f7 da		 neg	 edx
  000bc	1b d2		 sbb	 edx, edx
  000be	83 e2 06	 and	 edx, 6
  000c1	81 c2 10 1c 00
	00		 add	 edx, 7184		; 00001c10H
$LN217@gObjMonste@19:

; 2997 : 				Type = ITEMGET(14,16);
; 2998 : 				else
; 2999 : 				Type = ITEMGET(14,22);
; 3000 : 
; 3001 : 				ItemSerialCreateSend(lpTargetObj->m_Index,lpTargetObj->MapNumber,lpTargetObj->X,lpTargetObj->Y,Type,0,0,0,0,0,iTopHitUser,0,0);

  000c7	0f b6 87 44 01
	00 00		 movzx	 eax, BYTE PTR [edi+324]
  000ce	0f b6 8f 49 01
	00 00		 movzx	 ecx, BYTE PTR [edi+329]
  000d5	6a 00		 push	 0
  000d7	6a 00		 push	 0
  000d9	53		 push	 ebx
  000da	6a 00		 push	 0
  000dc	6a 00		 push	 0
  000de	6a 00		 push	 0
  000e0	6a 00		 push	 0
  000e2	6a 00		 push	 0
  000e4	52		 push	 edx
  000e5	0f b6 97 46 01
	00 00		 movzx	 edx, BYTE PTR [edi+326]
  000ec	52		 push	 edx
  000ed	8b 17		 mov	 edx, DWORD PTR [edi]
  000ef	50		 push	 eax
  000f0	51		 push	 ecx
  000f1	52		 push	 edx
  000f2	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  000f7	83 c4 34	 add	 esp, 52			; 00000034H
  000fa	33 db		 xor	 ebx, ebx
$LN224@gObjMonste@19:

; 3002 : 			}
; 3003 : 		}	
; 3004 : 	}
; 3005 : #endif
; 3006 : 
; 3007 : #ifdef SEASON5_QUEST
; 3008 : 	S5Quest.MainKillMonster(lpObj,lpTargetObj);	//Season 5 Quest
; 3009 : #endif
; 3010 : 
; 3011 : 	ZtQuestSystem.MonsterKill(lpObj,lpTargetObj);

  000fc	57		 push	 edi
  000fd	56		 push	 esi
  000fe	b9 00 00 00 00	 mov	 ecx, OFFSET ?ZtQuestSystem@@3VcZtQuest@@A ; ZtQuestSystem
  00103	e8 00 00 00 00	 call	 ?MonsterKill@cZtQuest@@QAEXPAUOBJECTSTRUCT@@0@Z ; cZtQuest::MonsterKill

; 3012 : 
; 3013 : #ifdef PRIVATE_MODULE
; 3014 : 	if(g_ZtLicense.user.MonsterQuest)

  00108	80 3d d0 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+208, 0
  0010f	74 10		 je	 SHORT $LN215@gObjMonste@19

; 3015 : 	{
; 3016 : 		gMonsterQuest.MissionKill(lpObj->m_Index,lpTargetObj->m_Index);

  00111	8b 07		 mov	 eax, DWORD PTR [edi]
  00113	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00115	50		 push	 eax
  00116	51		 push	 ecx
  00117	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMonsterQuest@@3VMonsterQuest@@A ; gMonsterQuest
  0011c	e8 00 00 00 00	 call	 ?MissionKill@MonsterQuest@@QAEXHH@Z ; MonsterQuest::MissionKill
$LN215@gObjMonste@19:

; 3017 : 	}
; 3018 : #endif
; 3019 : 
; 3020 : 	if(g_ZtLicense.user.Rage)

  00121	80 3d cd 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+205, 0
  00128	74 0c		 je	 SHORT $LN214@gObjMonste@19

; 3021 : 	{
; 3022 : 		gSystemOfRage.RageExpFunction(lpTargetObj,lpObj);

  0012a	56		 push	 esi
  0012b	57		 push	 edi
  0012c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSystemOfRage@@3VcSystemOfRage@@A ; gSystemOfRage
  00131	e8 00 00 00 00	 call	 ?RageExpFunction@cSystemOfRage@@QAEXPAUOBJECTSTRUCT@@0@Z ; cSystemOfRage::RageExpFunction
$LN214@gObjMonste@19:

; 3023 : 	}
; 3024 : 
; 3025 : 
; 3026 : 	if(g_ZtLicense.user.WinQuest)

  00136	80 3d ce 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+206, 0
  0013d	74 0c		 je	 SHORT $LN213@gObjMonste@19

; 3027 : 	{
; 3028 : 		gWinQuestSystem.MonsterKiller(lpObj,lpTargetObj);

  0013f	57		 push	 edi
  00140	56		 push	 esi
  00141	b9 00 00 00 00	 mov	 ecx, OFFSET ?gWinQuestSystem@@3VcWinQuestSystem@@A ; gWinQuestSystem
  00146	e8 00 00 00 00	 call	 ?MonsterKiller@cWinQuestSystem@@QAEXPAUOBJECTSTRUCT@@0@Z ; cWinQuestSystem::MonsterKiller
$LN213@gObjMonste@19:

; 3029 : 	}
; 3030 : 
; 3031 : 	gMonsterBonus.Main(lpObj,lpTargetObj);

  0014b	57		 push	 edi
  0014c	56		 push	 esi
  0014d	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMonsterBonus@@3VcMonsterBonus@@A ; gMonsterBonus
  00152	e8 00 00 00 00	 call	 ?Main@cMonsterBonus@@QAEXPAUOBJECTSTRUCT@@0@Z ; cMonsterBonus::Main

; 3032 : 
; 3033 : #if(CUSTOM_ZT_QUEST_SYSTEM==TRUE)
; 3034 : 	if(g_ZtWinQuestSystem.MonsterKiller(lpObj->m_Index, lpTargetObj->m_Index))

  00157	8b 17		 mov	 edx, DWORD PTR [edi]
  00159	8b 06		 mov	 eax, DWORD PTR [esi]
  0015b	52		 push	 edx
  0015c	50		 push	 eax
  0015d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtWinQuestSystem@@3VZtWinQuestSystem@@A ; g_ZtWinQuestSystem
  00162	e8 00 00 00 00	 call	 ?MonsterKiller@ZtWinQuestSystem@@QAE_NHH@Z ; ZtWinQuestSystem::MonsterKiller
  00167	84 c0		 test	 al, al
  00169	0f 85 9b 1a 00
	00		 jne	 $LN188@gObjMonste@19

; 3035 : 	{
; 3036 : 		return;
; 3037 : 	}
; 3038 : #endif
; 3039 : 
; 3040 : #ifdef BOSS_REWARD_ITEM
; 3041 : 	if ( gBossRewardItem.ProccessItemDrop(lpObj) )

  0016f	56		 push	 esi
  00170	b9 00 00 00 00	 mov	 ecx, OFFSET ?gBossRewardItem@@3VcBossRewardItem@@A ; gBossRewardItem
  00175	e8 00 00 00 00	 call	 ?ProccessItemDrop@cBossRewardItem@@QAE_NPAUOBJECTSTRUCT@@@Z ; cBossRewardItem::ProccessItemDrop
  0017a	84 c0		 test	 al, al
  0017c	0f 85 88 1a 00
	00		 jne	 $LN188@gObjMonste@19

; 3042 : 		return;
; 3043 : #endif	//BOSS_REWARD_ITEM
; 3044 : 	if ( gItemDropManager.ProccessItemDrop(lpObj,lpTargetObj) )

  00182	57		 push	 edi
  00183	56		 push	 esi
  00184	b9 00 00 00 00	 mov	 ecx, OFFSET ?gItemDropManager@@3VCItemDropManager@@A ; gItemDropManager
  00189	e8 00 00 00 00	 call	 ?ProccessItemDrop@CItemDropManager@@QAE_NPAUOBJECTSTRUCT@@0@Z ; CItemDropManager::ProccessItemDrop
  0018e	84 c0		 test	 al, al
  00190	0f 85 74 1a 00
	00		 jne	 $LN188@gObjMonste@19

; 3045 : 		return;
; 3046 : 
; 3047 : #if(SYSTEMOF_BROTHER==TRUE)
; 3048 : 	if(gBrotherhood.ProccessItemDrop(lpObj,lpTargetObj))

  00196	57		 push	 edi
  00197	56		 push	 esi
  00198	b9 00 00 00 00	 mov	 ecx, OFFSET ?gBrotherhood@@3VBrotherhood@@A ; gBrotherhood
  0019d	e8 00 00 00 00	 call	 ?ProccessItemDrop@Brotherhood@@QAE_NPAUOBJECTSTRUCT@@0@Z ; Brotherhood::ProccessItemDrop
  001a2	84 c0		 test	 al, al
  001a4	0f 85 60 1a 00
	00		 jne	 $LN188@gObjMonste@19

; 3049 : 	{
; 3050 : 		return;
; 3051 : 	}
; 3052 : #endif
; 3053 : 	//MonsterKiller
; 3054 : 
; 3055 : 	int store_count=0;
; 3056 : 	int ExtDropPer=0;
; 3057 : 	int DropItemNum=0;
; 3058 : 	int type;
; 3059 : 	int level;
; 3060 : 	int x;
; 3061 : 	int y;
; 3062 : 	float dur=0;
; 3063 : 	int Option1=0;
; 3064 : 	int Option2=0;
; 3065 : 	int Option3=0;
; 3066 : 	unsigned char NOption=0;
; 3067 : 	BOOL item_drop=0;
; 3068 : 	int n;
; 3069 : 	CItem * DropItem=NULL;
; 3070 : 	
; 3071 : 
; 3072 : #if(GRAND_HERO_DEV)
; 3073 : 	if(GrandHero.BossDrop(lpObj,lpTargetObj)) return;

  001aa	57		 push	 edi
  001ab	56		 push	 esi
  001ac	b9 00 00 00 00	 mov	 ecx, OFFSET ?GrandHero@@3VcGrandHero@@A ; GrandHero
  001b1	89 5d cc	 mov	 DWORD PTR _ExtDropPer$[ebp], ebx
  001b4	89 5d d4	 mov	 DWORD PTR _Option1$[ebp], ebx
  001b7	89 5d c4	 mov	 DWORD PTR _Option2$[ebp], ebx
  001ba	89 5d f8	 mov	 DWORD PTR _Option3$[ebp], ebx
  001bd	e8 00 00 00 00	 call	 ?BossDrop@cGrandHero@@QAE_NPAUOBJECTSTRUCT@@0@Z ; cGrandHero::BossDrop
  001c2	84 c0		 test	 al, al
  001c4	0f 85 40 1a 00
	00		 jne	 $LN188@gObjMonste@19

; 3074 : #endif
; 3075 : 
; 3076 : 
; 3077 : 
; 3078 : #ifdef IMPERIAL_CONFLICT_OLD
; 3079 : 	if(IMPERIAL_MAP_RANGE(lpObj->MapNumber))	//Season 5 ImperialFort

  001ca	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  001d1	3c 45		 cmp	 al, 69			; 00000045H
  001d3	72 1f		 jb	 SHORT $LN206@gObjMonste@19
  001d5	b1 48		 mov	 cl, 72			; 00000048H
  001d7	3a c8		 cmp	 cl, al
  001d9	1b c0		 sbb	 eax, eax
  001db	40		 inc	 eax
  001dc	3b c3		 cmp	 eax, ebx
  001de	74 14		 je	 SHORT $LN206@gObjMonste@19

; 3080 : 	{
; 3081 : 		if ( g_Imperial.ImperialReward(lpTargetObj, lpObj) ) return;

  001e0	56		 push	 esi
  001e1	57		 push	 edi
  001e2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Imperial@@3VCImperial@@A ; g_Imperial
  001e7	e8 00 00 00 00	 call	 ?ImperialReward@CImperial@@QAE_NPAUOBJECTSTRUCT@@0@Z ; CImperial::ImperialReward
  001ec	84 c0		 test	 al, al
  001ee	0f 85 16 1a 00
	00		 jne	 $LN188@gObjMonste@19
$LN206@gObjMonste@19:

; 3082 : 	}
; 3083 : #endif
; 3084 : 
; 3085 : 
; 3086 : 	if( lpObj->Class == 365 )//NEW

  001f4	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  001fb	ba 6d 01 00 00	 mov	 edx, 365		; 0000016dH
  00200	66 3b c2	 cmp	 ax, dx
  00203	75 32		 jne	 SHORT $LN205@gObjMonste@19

; 3087 : 	{
; 3088 : 		int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3089 : 			
; 3090 : 		BYTE cDropX = lpObj->X;
; 3091 : 		BYTE cDropY = lpObj->Y;
; 3092 : 
; 3093 : 		NewYearLuckMonsterItemBagOpen(lpTargetObj,lpObj->MapNumber,cDropX,cDropY);

  00205	0f b6 86 46 01
	00 00		 movzx	 eax, BYTE PTR [esi+326]
  0020c	0f b6 8e 44 01
	00 00		 movzx	 ecx, BYTE PTR [esi+324]
  00213	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  0021a	50		 push	 eax
  0021b	51		 push	 ecx
  0021c	52		 push	 edx
  0021d	57		 push	 edi
  0021e	e8 00 00 00 00	 call	 ?NewYearLuckMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; NewYearLuckMonsterItemBagOpen
  00223	83 c4 10	 add	 esp, 16			; 00000010H
  00226	5f		 pop	 edi
  00227	5e		 pop	 esi
  00228	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00229	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0022c	33 cd		 xor	 ecx, ebp
  0022e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00233	8b e5		 mov	 esp, ebp
  00235	5d		 pop	 ebp
  00236	c3		 ret	 0
$LN205@gObjMonste@19:

; 3094 : 		return;
; 3095 : 	}
; 3096 : 
; 3097 : 
; 3098 : 	if( lpObj->Class == 561 )	//Medusa, 1.01.00

  00237	b9 31 02 00 00	 mov	 ecx, 561		; 00000231H
  0023c	66 3b c1	 cmp	 ax, cx
  0023f	0f 85 7f 00 00
	00		 jne	 $LN201@gObjMonste@19

; 3099 : 	{
; 3100 : 		int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3101 : 		BYTE cDropX = lpObj->X;

  00245	8a 96 44 01 00
	00		 mov	 dl, BYTE PTR [esi+324]

; 3102 : 		BYTE cDropY = lpObj->Y;

  0024b	8a 86 46 01 00
	00		 mov	 al, BYTE PTR [esi+326]

; 3103 : 		LogAdd("[MonsterGroupRegen] BossName: %s, CharacterName: %s", lpObj->Name, lpTargetObj->Name);

  00251	8d 4f 77	 lea	 ecx, DWORD PTR [edi+119]
  00254	88 55 e0	 mov	 BYTE PTR _cDropX$228534[ebp], dl
  00257	51		 push	 ecx
  00258	8d 56 77	 lea	 edx, DWORD PTR [esi+119]
  0025b	52		 push	 edx
  0025c	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@OKIAOABG@?$FLMonsterGroupRegen?$FN?5BossName?3?5?$CFs@
  00261	88 45 e4	 mov	 BYTE PTR _cDropY$228535[ebp], al
  00264	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0026a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0026d	bb 07 00 00 00	 mov	 ebx, 7
$LL203@gObjMonste@19:

; 3104 : 		for( int i = 0; i < 7; i++ )
; 3105 : 		{
; 3106 : 			if( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 2, 2, 10) )

  00272	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00279	6a 0a		 push	 10			; 0000000aH
  0027b	6a 02		 push	 2
  0027d	6a 02		 push	 2
  0027f	8d 45 e4	 lea	 eax, DWORD PTR _cDropY$228535[ebp]
  00282	50		 push	 eax
  00283	8d 4d e0	 lea	 ecx, DWORD PTR _cDropX$228534[ebp]
  00286	51		 push	 ecx
  00287	52		 push	 edx
  00288	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  0028d	83 c4 18	 add	 esp, 24			; 00000018H
  00290	85 c0		 test	 eax, eax
  00292	75 12		 jne	 SHORT $LN200@gObjMonste@19

; 3107 : 			{
; 3108 : 				cDropX = lpObj->X;

  00294	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3109 : 				cDropY = lpObj->Y;

  0029a	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  002a0	88 45 e0	 mov	 BYTE PTR _cDropX$228534[ebp], al
  002a3	88 4d e4	 mov	 BYTE PTR _cDropY$228535[ebp], cl
$LN200@gObjMonste@19:

; 3110 : 			}
; 3111 : 			// ----
; 3112 : 			NewMonsterItemBagOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY, 74);

  002a6	8b 55 e4	 mov	 edx, DWORD PTR _cDropY$228535[ebp]
  002a9	8b 45 e0	 mov	 eax, DWORD PTR _cDropX$228534[ebp]
  002ac	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  002b3	6a 4a		 push	 74			; 0000004aH
  002b5	52		 push	 edx
  002b6	50		 push	 eax
  002b7	51		 push	 ecx
  002b8	57		 push	 edi
  002b9	e8 00 00 00 00	 call	 ?NewMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEEH@Z ; NewMonsterItemBagOpen
  002be	83 c4 14	 add	 esp, 20			; 00000014H
  002c1	4b		 dec	 ebx
  002c2	75 ae		 jne	 SHORT $LL203@gObjMonste@19
$LN201@gObjMonste@19:

; 3113 : 		}
; 3114 : 	}
; 3115 : 
; 3116 : 
; 3117 : 
; 3118 : 	if ( lpObj->Class == 340 )	// Dark Elf

  002c4	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  002cb	ba 54 01 00 00	 mov	 edx, 340		; 00000154H
  002d0	66 3b c2	 cmp	 ax, dx
  002d3	0f 85 a9 00 00
	00		 jne	 $LN199@gObjMonste@19

; 3119 : 	{
; 3120 : 		if ( g_bCrywolfMonsterDarkElfItemDrop )

  002d9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bCrywolfMonsterDarkElfItemDrop@@3HA, 0 ; g_bCrywolfMonsterDarkElfItemDrop
  002e0	0f 84 24 19 00
	00		 je	 $LN188@gObjMonste@19

; 3121 : 		{
; 3122 : 			int ItemDropRate = rand()%10000;

  002e6	e8 00 00 00 00	 call	 _rand
  002eb	99		 cdq
  002ec	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  002f1	f7 f9		 idiv	 ecx

; 3123 : 
; 3124 : 			if ( ItemDropRate <= g_iCrywolfMonsterDarkElfItemDropRate )

  002f3	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCrywolfMonsterDarkElfItemDropRate@@3HA ; g_iCrywolfMonsterDarkElfItemDropRate
  002f9	0f 8f 0b 19 00
	00		 jg	 $LN188@gObjMonste@19

; 3125 : 			{
; 3126 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3127 : 
; 3128 : 				LogAddTD("[ Crywolf ][Reward] Monster Dark Elf ItemDrop MaxHitUser [%s][%s]",
; 3129 : 					lpTargetObj->AccountID, lpTargetObj->Name);

  002ff	8d 57 77	 lea	 edx, DWORD PTR [edi+119]
  00302	52		 push	 edx
  00303	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  00306	50		 push	 eax
  00307	68 00 00 00 00	 push	 OFFSET ??_C@_0EC@EAOBMANM@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Monster?5Dark@
  0030c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3130 : 
; 3131 : 				BYTE cDropX = lpObj->X;

  00312	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]

; 3132 : 				BYTE cDropY = lpObj->Y;

  00318	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]

; 3133 : 
; 3134 : 				if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10))

  0031e	6a 0a		 push	 10			; 0000000aH
  00320	6a 04		 push	 4
  00322	6a 04		 push	 4
  00324	8d 45 e4	 lea	 eax, DWORD PTR _cDropY$228549[ebp]
  00327	88 4d e0	 mov	 BYTE PTR _cDropX$228548[ebp], cl
  0032a	88 55 e4	 mov	 BYTE PTR _cDropY$228549[ebp], dl
  0032d	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00334	50		 push	 eax
  00335	8d 4d e0	 lea	 ecx, DWORD PTR _cDropX$228548[ebp]
  00338	51		 push	 ecx
  00339	52		 push	 edx
  0033a	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  0033f	83 c4 24	 add	 esp, 36			; 00000024H
  00342	85 c0		 test	 eax, eax
  00344	75 12		 jne	 SHORT $LN196@gObjMonste@19

; 3135 : 				{
; 3136 : 					cDropX = lpObj->X;

  00346	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3137 : 					cDropY = lpObj->Y;

  0034c	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  00352	88 45 e0	 mov	 BYTE PTR _cDropX$228548[ebp], al
  00355	88 4d e4	 mov	 BYTE PTR _cDropY$228549[ebp], cl
$LN196@gObjMonste@19:

; 3138 : 				}
; 3139 : 
; 3140 : 				CrywolfDarkElfItemBagOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  00358	8b 55 e4	 mov	 edx, DWORD PTR _cDropY$228549[ebp]
  0035b	8b 45 e0	 mov	 eax, DWORD PTR _cDropX$228548[ebp]
  0035e	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00365	52		 push	 edx
  00366	50		 push	 eax
  00367	51		 push	 ecx
  00368	57		 push	 edi
  00369	e8 00 00 00 00	 call	 ?CrywolfDarkElfItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; CrywolfDarkElfItemBagOpen
  0036e	83 c4 10	 add	 esp, 16			; 00000010H
  00371	5f		 pop	 edi
  00372	5e		 pop	 esi
  00373	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00374	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00377	33 cd		 xor	 ecx, ebp
  00379	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0037e	8b e5		 mov	 esp, ebp
  00380	5d		 pop	 ebp
  00381	c3		 ret	 0
$LN199@gObjMonste@19:

; 3141 : 			}
; 3142 : 		}
; 3143 : 		return;
; 3144 : 	}
; 3145 : 	
; 3146 : 	if ( lpObj->Class == 349 )	// Crywolf Boss Monster

  00382	ba 5d 01 00 00	 mov	 edx, 349		; 0000015dH
  00387	66 3b c2	 cmp	 ax, dx
  0038a	0f 85 a9 00 00
	00		 jne	 $LN195@gObjMonste@19

; 3147 : 	{
; 3148 : 		if ( g_bCrywolfBossMonsterItemDrop )

  00390	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bCrywolfBossMonsterItemDrop@@3HA, 0 ; g_bCrywolfBossMonsterItemDrop
  00397	0f 84 6d 18 00
	00		 je	 $LN188@gObjMonste@19

; 3149 : 		{
; 3150 : 			int ItemDropRate = rand()%10000;

  0039d	e8 00 00 00 00	 call	 _rand
  003a2	99		 cdq
  003a3	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  003a8	f7 f9		 idiv	 ecx

; 3151 : 
; 3152 : 			if ( ItemDropRate <= g_iCrywolfBossMonsterItemDropRate )

  003aa	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCrywolfBossMonsterItemDropRate@@3HA ; g_iCrywolfBossMonsterItemDropRate
  003b0	0f 8f 54 18 00
	00		 jg	 $LN188@gObjMonste@19

; 3153 : 			{
; 3154 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3155 : 
; 3156 : 				LogAddTD("[ Crywolf ][Reward] Boss Monster ItemDrop MaxHitUser [%s][%s]",
; 3157 : 					lpTargetObj->AccountID, lpTargetObj->Name);

  003b6	8d 57 77	 lea	 edx, DWORD PTR [edi+119]
  003b9	52		 push	 edx
  003ba	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  003bd	50		 push	 eax
  003be	68 00 00 00 00	 push	 OFFSET ??_C@_0DO@MFLACNKC@?$FL?5Crywolf?5?$FN?$FLReward?$FN?5Boss?5Monster@
  003c3	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3158 : 
; 3159 : 				BYTE cDropX = lpObj->X;

  003c9	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]

; 3160 : 				BYTE cDropY = lpObj->Y;

  003cf	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]

; 3161 : 
; 3162 : 				if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10))

  003d5	6a 0a		 push	 10			; 0000000aH
  003d7	6a 04		 push	 4
  003d9	6a 04		 push	 4
  003db	8d 45 e4	 lea	 eax, DWORD PTR _cDropY$228558[ebp]
  003de	88 4d e0	 mov	 BYTE PTR _cDropX$228557[ebp], cl
  003e1	88 55 e4	 mov	 BYTE PTR _cDropY$228558[ebp], dl
  003e4	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  003eb	50		 push	 eax
  003ec	8d 4d e0	 lea	 ecx, DWORD PTR _cDropX$228557[ebp]
  003ef	51		 push	 ecx
  003f0	52		 push	 edx
  003f1	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  003f6	83 c4 24	 add	 esp, 36			; 00000024H
  003f9	85 c0		 test	 eax, eax
  003fb	75 12		 jne	 SHORT $LN192@gObjMonste@19

; 3163 : 				{
; 3164 : 					cDropX = lpObj->X;

  003fd	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3165 : 					cDropY = lpObj->Y;

  00403	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  00409	88 45 e0	 mov	 BYTE PTR _cDropX$228557[ebp], al
  0040c	88 4d e4	 mov	 BYTE PTR _cDropY$228558[ebp], cl
$LN192@gObjMonste@19:

; 3166 : 				}
; 3167 : 
; 3168 : 				CrywolfBossMonsterItemBagOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  0040f	8b 55 e4	 mov	 edx, DWORD PTR _cDropY$228558[ebp]
  00412	8b 45 e0	 mov	 eax, DWORD PTR _cDropX$228557[ebp]
  00415	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0041c	52		 push	 edx
  0041d	50		 push	 eax
  0041e	51		 push	 ecx
  0041f	57		 push	 edi
  00420	e8 00 00 00 00	 call	 ?CrywolfBossMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; CrywolfBossMonsterItemBagOpen
  00425	83 c4 10	 add	 esp, 16			; 00000010H
  00428	5f		 pop	 edi
  00429	5e		 pop	 esi
  0042a	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  0042b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0042e	33 cd		 xor	 ecx, ebp
  00430	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00435	8b e5		 mov	 esp, ebp
  00437	5d		 pop	 ebp
  00438	c3		 ret	 0
$LN195@gObjMonste@19:

; 3169 : 			}
; 3170 : 		}
; 3171 : 		return;
; 3172 : 	}		
; 3173 : //#if ( GS_CASTLE == 0 )
; 3174 : 	if ( lpObj->Class == 362 || lpObj->Class == 363 )	// Maya Hand

  00439	ba 6a 01 00 00	 mov	 edx, 362		; 0000016aH
  0043e	66 3b c2	 cmp	 ax, dx
  00441	0f 84 18 17 00
	00		 je	 $LN190@gObjMonste@19
  00447	b9 6b 01 00 00	 mov	 ecx, 363		; 0000016bH
  0044c	66 3b c1	 cmp	 ax, cx
  0044f	0f 84 0a 17 00
	00		 je	 $LN190@gObjMonste@19

; 3197 : 			}
; 3198 : 		}
; 3199 : 		return;
; 3200 : 	}
; 3201 : 	
; 3202 : 	if ( lpObj->Class == 361 )	// NightMare

  00455	ba 69 01 00 00	 mov	 edx, 361		; 00000169H
  0045a	66 3b c2	 cmp	 ax, dx
  0045d	0f 85 2c 01 00
	00		 jne	 $LN186@gObjMonste@19

; 3203 : 	{
; 3204 : 		if ( g_bKanturuNightmareItemDrop )

  00463	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bKanturuNightmareItemDrop@@3HA, 0 ; g_bKanturuNightmareItemDrop
  0046a	0f 84 9a 17 00
	00		 je	 $LN188@gObjMonste@19

; 3205 : 		{
; 3206 : 			int ItemDropRate = rand()%10000;

  00470	e8 00 00 00 00	 call	 _rand
  00475	99		 cdq
  00476	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0047b	f7 f9		 idiv	 ecx

; 3207 : 
; 3208 : 			if ( ItemDropRate <= g_iKanturuNightmareItemDropRate )

  0047d	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKanturuNightmareItemDropRate@@3HA ; g_iKanturuNightmareItemDropRate
  00483	0f 8f 81 17 00
	00		 jg	 $LN188@gObjMonste@19

; 3209 : 			{
; 3210 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3211 : 
; 3212 : 				LogAddTD("[ KANTURU ][ Reward ] Nightmare ItemDrop MaxHitUser [%s][%s]",
; 3213 : 					lpTargetObj->AccountID, lpTargetObj->Name);

  00489	8d 57 77	 lea	 edx, DWORD PTR [edi+119]
  0048c	52		 push	 edx
  0048d	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  00490	50		 push	 eax
  00491	68 00 00 00 00	 push	 OFFSET ??_C@_0DN@LPGCKLB@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5Nightmare?5@
  00496	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3214 : 
; 3215 : 				BYTE cDropX = lpObj->X;

  0049c	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]

; 3216 : 				BYTE cDropY = lpObj->Y;

  004a2	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]
  004a8	83 c4 0c	 add	 esp, 12			; 0000000cH
  004ab	88 4d e8	 mov	 BYTE PTR _cDropX$228576[ebp], cl

; 3217 : 
; 3218 : 				if(g_ZtLicense.CheckUser(eZtUB::NSGames))

  004ae	6a 51		 push	 81			; 00000051H
  004b0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  004b5	88 55 ec	 mov	 BYTE PTR _cDropY$228577[ebp], dl
  004b8	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  004bd	84 c0		 test	 al, al
  004bf	74 70		 je	 SHORT $LN183@gObjMonste@19

; 3219 : 				{
; 3220 : 					for(int i = 0; i < 3; i++)

  004c1	bb 03 00 00 00	 mov	 ebx, 3
  004c6	eb 08 8d a4 24
	00 00 00 00 90	 npad	 10
$LL182@gObjMonste@19:

; 3221 : 					{
; 3222 : 				
; 3223 : 						if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10))

  004d0	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  004d7	6a 0a		 push	 10			; 0000000aH
  004d9	6a 04		 push	 4
  004db	6a 04		 push	 4
  004dd	8d 45 ec	 lea	 eax, DWORD PTR _cDropY$228577[ebp]
  004e0	50		 push	 eax
  004e1	8d 4d e8	 lea	 ecx, DWORD PTR _cDropX$228576[ebp]
  004e4	51		 push	 ecx
  004e5	52		 push	 edx
  004e6	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  004eb	83 c4 18	 add	 esp, 24			; 00000018H
  004ee	85 c0		 test	 eax, eax
  004f0	75 12		 jne	 SHORT $LN179@gObjMonste@19

; 3224 : 						{
; 3225 : 							cDropX = lpObj->X;

  004f2	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3226 : 							cDropY = lpObj->Y;

  004f8	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  004fe	88 45 e8	 mov	 BYTE PTR _cDropX$228576[ebp], al
  00501	88 4d ec	 mov	 BYTE PTR _cDropY$228577[ebp], cl
$LN179@gObjMonste@19:

; 3227 : 						}
; 3228 : 
; 3229 : 						KanturuNightmareItemBagOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  00504	8b 55 ec	 mov	 edx, DWORD PTR _cDropY$228577[ebp]
  00507	8b 45 e8	 mov	 eax, DWORD PTR _cDropX$228576[ebp]
  0050a	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00511	52		 push	 edx
  00512	50		 push	 eax
  00513	51		 push	 ecx
  00514	57		 push	 edi
  00515	e8 00 00 00 00	 call	 ?KanturuNightmareItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; KanturuNightmareItemBagOpen
  0051a	83 c4 10	 add	 esp, 16			; 00000010H
  0051d	4b		 dec	 ebx
  0051e	75 b0		 jne	 SHORT $LL182@gObjMonste@19
  00520	5f		 pop	 edi
  00521	5e		 pop	 esi
  00522	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00523	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00526	33 cd		 xor	 ecx, ebp
  00528	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0052d	8b e5		 mov	 esp, ebp
  0052f	5d		 pop	 ebp
  00530	c3		 ret	 0
$LN183@gObjMonste@19:

; 3230 : 					}
; 3231 : 				}
; 3232 : 				else
; 3233 : 				{
; 3234 : 
; 3235 : 					if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10))

  00531	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00538	6a 0a		 push	 10			; 0000000aH
  0053a	6a 04		 push	 4
  0053c	6a 04		 push	 4
  0053e	8d 55 ec	 lea	 edx, DWORD PTR _cDropY$228577[ebp]
  00541	52		 push	 edx
  00542	8d 45 e8	 lea	 eax, DWORD PTR _cDropX$228576[ebp]
  00545	50		 push	 eax
  00546	51		 push	 ecx
  00547	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  0054c	83 c4 18	 add	 esp, 24			; 00000018H
  0054f	85 c0		 test	 eax, eax
  00551	75 12		 jne	 SHORT $LN177@gObjMonste@19

; 3236 : 					{
; 3237 : 						cDropX = lpObj->X;

  00553	8a 96 44 01 00
	00		 mov	 dl, BYTE PTR [esi+324]

; 3238 : 						cDropY = lpObj->Y;

  00559	8a 86 46 01 00
	00		 mov	 al, BYTE PTR [esi+326]
  0055f	88 55 e8	 mov	 BYTE PTR _cDropX$228576[ebp], dl
  00562	88 45 ec	 mov	 BYTE PTR _cDropY$228577[ebp], al
$LN177@gObjMonste@19:

; 3239 : 					}
; 3240 : 
; 3241 : 					KanturuNightmareItemBagOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  00565	8b 4d ec	 mov	 ecx, DWORD PTR _cDropY$228577[ebp]
  00568	8b 55 e8	 mov	 edx, DWORD PTR _cDropX$228576[ebp]
  0056b	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00572	51		 push	 ecx
  00573	52		 push	 edx
  00574	50		 push	 eax
  00575	57		 push	 edi
  00576	e8 00 00 00 00	 call	 ?KanturuNightmareItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; KanturuNightmareItemBagOpen
  0057b	83 c4 10	 add	 esp, 16			; 00000010H
  0057e	5f		 pop	 edi
  0057f	5e		 pop	 esi
  00580	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00581	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00584	33 cd		 xor	 ecx, ebp
  00586	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0058b	8b e5		 mov	 esp, ebp
  0058d	5d		 pop	 ebp
  0058e	c3		 ret	 0
$LN186@gObjMonste@19:

; 3242 : 				}
; 3243 : 			}
; 3244 : 		}
; 3245 : 
; 3246 : 		return;
; 3247 : 	}
; 3248 : //#endif
; 3249 : 
; 3250 : 	if ( lpObj->Class == 459 && lpObj->Connected == 3 )	// Season 4.5 addon

  0058f	b9 cb 01 00 00	 mov	 ecx, 459		; 000001cbH
  00594	66 3b c1	 cmp	 ax, cx
  00597	0f 85 cd 00 00
	00		 jne	 $LN176@gObjMonste@19
  0059d	83 7e 04 03	 cmp	 DWORD PTR [esi+4], 3
  005a1	0f 85 c3 00 00
	00		 jne	 $LN176@gObjMonste@19

; 3251 : 	{
; 3252 : 		if ( g_bRaklionSelupanItemDrop != 0)

  005a7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bRaklionSelupanItemDrop@@3HA, 0 ; g_bRaklionSelupanItemDrop
  005ae	0f 84 56 16 00
	00		 je	 $LN188@gObjMonste@19

; 3253 : 		{
; 3254 : 			int ItemDropRate = rand()%10000;

  005b4	e8 00 00 00 00	 call	 _rand
  005b9	99		 cdq
  005ba	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  005bf	f7 f9		 idiv	 ecx

; 3255 : 
; 3256 : 			if ( ItemDropRate <= g_iRaklionSelupanItemDropRate )

  005c1	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iRaklionSelupanItemDropRate@@3HA ; g_iRaklionSelupanItemDropRate
  005c7	0f 8f 3d 16 00
	00		 jg	 $LN188@gObjMonste@19

; 3257 : 			{
; 3258 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3259 : 
; 3260 : 				LogAddTD("[ RAKLION ][ Reward ] Raklion ItemDrop MaxHitUser [%s][%s]",
; 3261 : 					lpTargetObj->AccountID, lpTargetObj->Name);

  005cd	8d 57 77	 lea	 edx, DWORD PTR [edi+119]
  005d0	52		 push	 edx
  005d1	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  005d4	50		 push	 eax
  005d5	68 00 00 00 00	 push	 OFFSET ??_C@_0DL@FOGBHHGM@?$FL?5RAKLION?5?$FN?$FL?5Reward?5?$FN?5Raklion?5It@
  005da	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3262 : 
; 3263 : 				BYTE cDropX = lpObj->X;

  005e0	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]

; 3264 : 				BYTE cDropY = lpObj->Y;

  005e6	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]

; 3265 : 
; 3266 : 				for(int i = 0; i < ZtConfig.CommonServer.CountItemDropSelupan; i++)	//10

  005ec	33 db		 xor	 ebx, ebx
  005ee	83 c4 0c	 add	 esp, 12			; 0000000cH
  005f1	88 4d e0	 mov	 BYTE PTR _cDropX$228592[ebp], cl
  005f4	88 55 e4	 mov	 BYTE PTR _cDropY$228593[ebp], dl
  005f7	39 1d f4 00 00
	00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+244, ebx
  005fd	0f 8e 07 16 00
	00		 jle	 $LN188@gObjMonste@19
$LL173@gObjMonste@19:

; 3267 : 				{
; 3268 : 					if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 2, 2, 10))

  00603	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  0060a	6a 0a		 push	 10			; 0000000aH
  0060c	6a 02		 push	 2
  0060e	6a 02		 push	 2
  00610	8d 45 e4	 lea	 eax, DWORD PTR _cDropY$228593[ebp]
  00613	50		 push	 eax
  00614	8d 4d e0	 lea	 ecx, DWORD PTR _cDropX$228592[ebp]
  00617	51		 push	 ecx
  00618	52		 push	 edx
  00619	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  0061e	83 c4 18	 add	 esp, 24			; 00000018H
  00621	85 c0		 test	 eax, eax
  00623	75 12		 jne	 SHORT $LN170@gObjMonste@19

; 3269 : 					{
; 3270 : 						cDropX = lpObj->X;

  00625	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3271 : 						cDropY = lpObj->Y;

  0062b	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  00631	88 45 e0	 mov	 BYTE PTR _cDropX$228592[ebp], al
  00634	88 4d e4	 mov	 BYTE PTR _cDropY$228593[ebp], cl
$LN170@gObjMonste@19:

; 3272 : 					}
; 3273 : 
; 3274 : 					RaklionBossMonsterItemBagOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  00637	8b 55 e4	 mov	 edx, DWORD PTR _cDropY$228593[ebp]
  0063a	8b 45 e0	 mov	 eax, DWORD PTR _cDropX$228592[ebp]
  0063d	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00644	52		 push	 edx
  00645	50		 push	 eax
  00646	51		 push	 ecx
  00647	57		 push	 edi
  00648	e8 00 00 00 00	 call	 ?RaklionBossMonsterItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; RaklionBossMonsterItemBagOpen
  0064d	43		 inc	 ebx
  0064e	83 c4 10	 add	 esp, 16			; 00000010H
  00651	3b 1d f4 00 00
	00		 cmp	 ebx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+244
  00657	7c aa		 jl	 SHORT $LL173@gObjMonste@19
  00659	5f		 pop	 edi
  0065a	5e		 pop	 esi
  0065b	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  0065c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0065f	33 cd		 xor	 ecx, ebp
  00661	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00666	8b e5		 mov	 esp, ebp
  00668	5d		 pop	 ebp
  00669	c3		 ret	 0
$LN176@gObjMonste@19:

; 3275 : 				}
; 3276 : 				
; 3277 : 			}
; 3278 : 		}
; 3279 : 		return;
; 3280 : 	}		
; 3281 : 
; 3282 : 
; 3283 : //#if GS_CASTLE == 1 
; 3284 : 	if(lpObj->MapNumber == MAP_INDEX_CASTLESIEGE)

  0066a	80 be 49 01 00
	00 1e		 cmp	 BYTE PTR [esi+329], 30	; 0000001eH
  00671	75 0d		 jne	 SHORT $LN168@gObjMonste@19

; 3285 : 	{
; 3286 : 		if ( lpObj->m_btCsNpcType )

  00673	80 be f8 1b 00
	00 00		 cmp	 BYTE PTR [esi+7160], 0
  0067a	0f 85 8a 15 00
	00		 jne	 $LN188@gObjMonste@19
$LN168@gObjMonste@19:

; 3287 : 			return;
; 3288 : 	}
; 3289 : 
; 3290 : 	if ( lpObj->Class == 295 )

  00680	ba 27 01 00 00	 mov	 edx, 295		; 00000127H
  00685	66 3b c2	 cmp	 ax, dx
  00688	0f 85 b6 00 00
	00		 jne	 $LN167@gObjMonste@19

; 3291 : 	{
; 3292 : 		int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3293 : 		int iMaxCount = ZtConfig.CommonServer.CountItemDropErohim;

  0068e	a1 fc 00 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+252

; 3294 : 		//if(g_ZtLicense.CheckUser(eZtUB::drynea))
; 3295 : 		//{
; 3296 : 		//	iMaxCount = ZtConfig.DryneaConfig.CountErohimItemsDrop;
; 3297 : 		//}
; 3298 : 		
; 3299 : 
; 3300 : 		for(int i = 0; i < iMaxCount; i++)

  00693	33 db		 xor	 ebx, ebx
  00695	89 45 d0	 mov	 DWORD PTR _iMaxCount$228603[ebp], eax
  00698	85 c0		 test	 eax, eax
  0069a	0f 8e 6a 15 00
	00		 jle	 $LN188@gObjMonste@19
$LL166@gObjMonste@19:

; 3301 : 		{
; 3302 : 			BYTE cDropX = lpObj->X;

  006a0	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3303 : 			BYTE cDropY = lpObj->Y;

  006a6	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  006ac	88 45 dc	 mov	 BYTE PTR _cDropX$228608[ebp], al

; 3304 : 
; 3305 : 			LogAddTD("[Castle HuntZone] Boss Monster ItemDrop MaxHitUser [%d][%s][%s]",
; 3306 : 				i, lpTargetObj->AccountID, lpTargetObj->Name);

  006af	8d 47 77	 lea	 eax, DWORD PTR [edi+119]
  006b2	50		 push	 eax
  006b3	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  006b6	50		 push	 eax
  006b7	53		 push	 ebx
  006b8	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@HAEMPPHD@?$FLCastle?5HuntZone?$FN?5Boss?5Monster?5I@
  006bd	88 4d d4	 mov	 BYTE PTR _cDropY$228609[ebp], cl
  006c0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3307 : 
; 3308 : 			if ( gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10) == FALSE )

  006c6	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  006cd	6a 0a		 push	 10			; 0000000aH
  006cf	6a 04		 push	 4
  006d1	6a 04		 push	 4
  006d3	8d 55 d4	 lea	 edx, DWORD PTR _cDropY$228609[ebp]
  006d6	52		 push	 edx
  006d7	8d 45 dc	 lea	 eax, DWORD PTR _cDropX$228608[ebp]
  006da	50		 push	 eax
  006db	51		 push	 ecx
  006dc	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  006e1	83 c4 28	 add	 esp, 40			; 00000028H
  006e4	85 c0		 test	 eax, eax
  006e6	75 12		 jne	 SHORT $LN163@gObjMonste@19

; 3309 : 			{
; 3310 : 				cDropX = lpObj->X;

  006e8	8a 96 44 01 00
	00		 mov	 dl, BYTE PTR [esi+324]

; 3311 : 				cDropY = lpObj->Y;

  006ee	8a 86 46 01 00
	00		 mov	 al, BYTE PTR [esi+326]
  006f4	88 55 dc	 mov	 BYTE PTR _cDropX$228608[ebp], dl
  006f7	88 45 d4	 mov	 BYTE PTR _cDropY$228609[ebp], al
$LN163@gObjMonste@19:

; 3312 : 			}
; 3313 : 
; 3314 : 			if ( i == 0 )

  006fa	85 db		 test	 ebx, ebx
  006fc	75 12		 jne	 SHORT $LN162@gObjMonste@19

; 3315 : 			{
; 3316 : 				cDropX = lpObj->X;

  006fe	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]

; 3317 : 				cDropY = lpObj->Y;

  00704	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]
  0070a	88 4d dc	 mov	 BYTE PTR _cDropX$228608[ebp], cl
  0070d	88 55 d4	 mov	 BYTE PTR _cDropY$228609[ebp], dl
$LN162@gObjMonste@19:

; 3318 : 			}
; 3319 : //#ifdef DRYNEA_LIST_CUSTOM
; 3320 : //		if ( (rand()%10000) < ZtConfig.DryneaConfig.ErohimItemsDrop )
; 3321 : //		{
; 3322 : //#endif
; 3323 : 			CastleHuntZoneBossRewardOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  00710	8b 45 d4	 mov	 eax, DWORD PTR _cDropY$228609[ebp]
  00713	8b 4d dc	 mov	 ecx, DWORD PTR _cDropX$228608[ebp]
  00716	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  0071d	50		 push	 eax
  0071e	51		 push	 ecx
  0071f	52		 push	 edx
  00720	57		 push	 edi
  00721	e8 00 00 00 00	 call	 ?CastleHuntZoneBossRewardOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; CastleHuntZoneBossRewardOpen
  00726	43		 inc	 ebx
  00727	83 c4 10	 add	 esp, 16			; 00000010H
  0072a	3b 5d d0	 cmp	 ebx, DWORD PTR _iMaxCount$228603[ebp]
  0072d	0f 8c 6d ff ff
	ff		 jl	 $LL166@gObjMonste@19
  00733	5f		 pop	 edi
  00734	5e		 pop	 esi
  00735	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00736	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00739	33 cd		 xor	 ecx, ebp
  0073b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00740	8b e5		 mov	 esp, ebp
  00742	5d		 pop	 ebp
  00743	c3		 ret	 0
$LN167@gObjMonste@19:

; 3324 : //#ifdef DRYNEA_LIST_CUSTOM
; 3325 : //		}
; 3326 : //#endif
; 3327 : 		}
; 3328 : 		return;
; 3329 : 	}
; 3330 : //#endif
; 3331 : 	
; 3332 : 	
; 3333 : 	if ( lpObj->Class == 275 ) 

  00744	b9 13 01 00 00	 mov	 ecx, 275		; 00000113H
  00749	66 3b c1	 cmp	 ax, cx
  0074c	0f 85 55 02 00
	00		 jne	 $LN161@gObjMonste@19

; 3334 : 	{
; 3335 : 		LogAddTD("[Kundun EVENT] Kundun die, Killer [%s][%s]",
; 3336 : 			lpTargetObj->AccountID, lpTargetObj->Name);

  00752	8d 5f 77	 lea	 ebx, DWORD PTR [edi+119]
  00755	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  00758	53		 push	 ebx
  00759	50		 push	 eax
  0075a	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@DAHAGAMG@?$FL?$KB?Z?$KB?ZKundun?5EVENT?$FN?5Kundun?5die?0?5K@
  0075f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3337 : 
; 3338 : 		KUNDUN_EVENT_LOG.Output("[Kundun EVENT] Kundun die, Killer [%s][%s]",
; 3339 : 			lpTargetObj->AccountID, lpTargetObj->Name);

  00765	53		 push	 ebx
  00766	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  00769	50		 push	 eax
  0076a	68 00 00 00 00	 push	 OFFSET ??_C@_0CP@DAHAGAMG@?$FL?$KB?Z?$KB?ZKundun?5EVENT?$FN?5Kundun?5die?0?5K@
  0076f	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00774	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output

; 3340 : 
; 3341 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00779	56		 push	 esi
  0077a	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3342 : 
; 3343 : 		int iMaxNumOfRewardItem = ZtConfig.CommonServer.CountItemDropKundun;

  0077f	8b 15 f8 00 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+248
  00785	83 c4 20	 add	 esp, 32			; 00000020H

; 3344 : 
; 3345 : 		if(g_ZtLicense.CheckUser(eZtUB::drynea))

  00788	6a 01		 push	 1
  0078a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0078f	89 45 ec	 mov	 DWORD PTR _MaxHitUser$228615[ebp], eax
  00792	89 55 e4	 mov	 DWORD PTR _iMaxNumOfRewardItem$228616[ebp], edx
  00795	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  0079a	84 c0		 test	 al, al
  0079c	74 08		 je	 SHORT $LN160@gObjMonste@19

; 3346 : 		{
; 3347 : 			iMaxNumOfRewardItem = ZtConfig.DryneaConfig.CountKundumItemsDrop;

  0079e	a1 80 0c 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+3200
  007a3	89 45 e4	 mov	 DWORD PTR _iMaxNumOfRewardItem$228616[ebp], eax
$LN160@gObjMonste@19:

; 3348 : 		}
; 3349 : 
; 3350 : 		for ( int i=0;i<iMaxNumOfRewardItem;i++)

  007a6	33 db		 xor	 ebx, ebx
  007a8	39 5d e4	 cmp	 DWORD PTR _iMaxNumOfRewardItem$228616[ebp], ebx
  007ab	0f 8e 59 14 00
	00		 jle	 $LN188@gObjMonste@19
$LL279@gObjMonste@19:

; 3351 : 		{
; 3352 : 			BYTE cDropX = lpObj->X;
; 3353 : 			BYTE cDropY = lpObj->Y;
; 3354 : 
; 3355 : 			if ( CHECK_LIMIT(MaxHitUser, OBJMAX) )

  007b1	8b 45 ec	 mov	 eax, DWORD PTR _MaxHitUser$228615[ebp]
  007b4	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]
  007ba	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]
  007c0	88 4d dc	 mov	 BYTE PTR _cDropX$228622[ebp], cl
  007c3	88 55 d4	 mov	 BYTE PTR _cDropY$228623[ebp], dl
  007c6	85 c0		 test	 eax, eax
  007c8	78 58		 js	 SHORT $LN156@gObjMonste@19
  007ca	33 c9		 xor	 ecx, ecx
  007cc	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  007d1	0f 9e c1	 setle	 cl
  007d4	8b c1		 mov	 eax, ecx
  007d6	85 c0		 test	 eax, eax
  007d8	74 48		 je	 SHORT $LN156@gObjMonste@19

; 3356 : 			{
; 3357 : 
; 3358 : 				LogAddTD("[Kundun EVENT] In KALIMA(7), ItemDrop MaxHitUser [%d][%s][%s]",
; 3359 : 					i, gObj[MaxHitUser].AccountID, gObj[MaxHitUser].Name);

  007da	8b 7d ec	 mov	 edi, DWORD PTR _MaxHitUser$228615[ebp]
  007dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  007e2	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  007e8	8d 54 07 77	 lea	 edx, DWORD PTR [edi+eax+119]
  007ec	52		 push	 edx
  007ed	8d 44 07 6c	 lea	 eax, DWORD PTR [edi+eax+108]
  007f1	50		 push	 eax
  007f2	53		 push	 ebx
  007f3	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@HALHLIDI@?$FL?$KB?ZKundun?5EVENT?$FN?5In?5KALIMA?$CI7?$CJ?0?5I@
  007f8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3360 : 
; 3361 : 				KUNDUN_EVENT_LOG.Output("[Kundun EVENT] In KALIMA(7), ItemDrop MaxHitUser [%d][%s][%s]",
; 3362 : 					i, gObj[MaxHitUser].AccountID, gObj[MaxHitUser].Name);

  007fe	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00803	8d 4c 07 77	 lea	 ecx, DWORD PTR [edi+eax+119]
  00807	51		 push	 ecx
  00808	8d 54 07 6c	 lea	 edx, DWORD PTR [edi+eax+108]
  0080c	52		 push	 edx
  0080d	53		 push	 ebx
  0080e	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@HALHLIDI@?$FL?$KB?ZKundun?5EVENT?$FN?5In?5KALIMA?$CI7?$CJ?0?5I@
  00813	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00818	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output

; 3363 : 			}
; 3364 : 			else

  0081d	8b 7d d8	 mov	 edi, DWORD PTR _lpTargetObj$GSCopy$[ebp]
  00820	eb 2c		 jmp	 SHORT $LN313@gObjMonste@19
$LN156@gObjMonste@19:

; 3365 : 			{
; 3366 : 				LogAddTD("[Kundun EVENT] In KALIMA(7), ItemDrop MaxHitUser [%d][%s][%s]",
; 3367 : 					i, lpTargetObj->AccountID, lpTargetObj->Name);

  00822	8d 47 77	 lea	 eax, DWORD PTR [edi+119]
  00825	50		 push	 eax
  00826	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  00829	50		 push	 eax
  0082a	53		 push	 ebx
  0082b	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@HALHLIDI@?$FL?$KB?ZKundun?5EVENT?$FN?5In?5KALIMA?$CI7?$CJ?0?5I@
  00830	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3368 : 
; 3369 : 				KUNDUN_EVENT_LOG.Output("[Kundun EVENT] In KALIMA(7), ItemDrop MaxHitUser [%d][%s][%s]",
; 3370 : 					i, lpTargetObj->AccountID, lpTargetObj->Name);

  00836	8d 47 77	 lea	 eax, DWORD PTR [edi+119]
  00839	50		 push	 eax
  0083a	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  0083d	50		 push	 eax
  0083e	53		 push	 ebx
  0083f	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@HALHLIDI@?$FL?$KB?ZKundun?5EVENT?$FN?5In?5KALIMA?$CI7?$CJ?0?5I@
  00844	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00849	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output
$LN313@gObjMonste@19:

; 3371 : 			}
; 3372 : 
; 3373 : 			if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10))

  0084e	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00855	83 c4 24	 add	 esp, 36			; 00000024H
  00858	6a 0a		 push	 10			; 0000000aH
  0085a	6a 04		 push	 4
  0085c	6a 04		 push	 4
  0085e	8d 45 d4	 lea	 eax, DWORD PTR _cDropY$228623[ebp]
  00861	50		 push	 eax
  00862	8d 4d dc	 lea	 ecx, DWORD PTR _cDropX$228622[ebp]
  00865	51		 push	 ecx
  00866	52		 push	 edx
  00867	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  0086c	83 c4 18	 add	 esp, 24			; 00000018H
  0086f	85 c0		 test	 eax, eax
  00871	75 12		 jne	 SHORT $LN154@gObjMonste@19

; 3374 : 			{
; 3375 : 				cDropX = lpObj->X;

  00873	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3376 : 				cDropY = lpObj->Y;

  00879	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  0087f	88 45 dc	 mov	 BYTE PTR _cDropX$228622[ebp], al
  00882	88 4d d4	 mov	 BYTE PTR _cDropY$228623[ebp], cl
$LN154@gObjMonste@19:

; 3377 : 			}
; 3378 : 
; 3379 : 			if ( lpObj->Class == 275 ) 

  00885	ba 13 01 00 00	 mov	 edx, 275		; 00000113H
  0088a	66 39 96 b8 00
	00 00		 cmp	 WORD PTR [esi+184], dx
  00891	75 52		 jne	 SHORT $LN152@gObjMonste@19

; 3380 : 			{
; 3381 : 				if ( (rand()%10000) < ZtConfig.CommonServer.KundunAncDrop )

  00893	e8 00 00 00 00	 call	 _rand
  00898	99		 cdq
  00899	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0089e	f7 f9		 idiv	 ecx
  008a0	3b 15 e0 00 00
	00		 cmp	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+224
  008a6	7d 3d		 jge	 SHORT $LN152@gObjMonste@19

; 3382 : 				{
; 3383 : 						MakeRewardSetItem(MaxHitUser, cDropX, cDropY, 1, lpObj->MapNumber);

  008a8	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  008af	8b 45 d4	 mov	 eax, DWORD PTR _cDropY$228623[ebp]
  008b2	8b 4d dc	 mov	 ecx, DWORD PTR _cDropX$228622[ebp]
  008b5	52		 push	 edx
  008b6	8b 55 ec	 mov	 edx, DWORD PTR _MaxHitUser$228615[ebp]
  008b9	6a 01		 push	 1
  008bb	50		 push	 eax
  008bc	51		 push	 ecx
  008bd	52		 push	 edx
  008be	e8 00 00 00 00	 call	 ?MakeRewardSetItem@@YAXHEEHH@Z ; MakeRewardSetItem

; 3384 : 
; 3385 : 					LogAddTD("[Kundun EVENT] Drop SetItem ");

  008c3	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@OPPMOMBL@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5SetItem?5?$AA@
  008c8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3386 : 					KUNDUN_EVENT_LOG.Output("[Kundun EVENT] Drop SetItem ");

  008ce	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@OPPMOMBL@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5SetItem?5?$AA@
  008d3	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  008d8	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output
  008dd	83 c4 20	 add	 esp, 32			; 00000020H

; 3387 : 
; 3388 : 					continue;

  008e0	e9 a7 00 00 00	 jmp	 $LN158@gObjMonste@19
$LN152@gObjMonste@19:

; 3389 : 				}
; 3390 : 			}
; 3391 : 
; 3392 : 			if ( OBJMAX_RANGE(MaxHitUser ))

  008e5	8b 45 ec	 mov	 eax, DWORD PTR _MaxHitUser$228615[ebp]
  008e8	85 c0		 test	 eax, eax
  008ea	78 58		 js	 SHORT $LN151@gObjMonste@19
  008ec	33 c9		 xor	 ecx, ecx
  008ee	3d 97 3a 00 00	 cmp	 eax, 14999		; 00003a97H
  008f3	0f 9e c1	 setle	 cl
  008f6	8b c1		 mov	 eax, ecx
  008f8	85 c0		 test	 eax, eax
  008fa	74 48		 je	 SHORT $LN151@gObjMonste@19

; 3393 : 			{
; 3394 : 				LogAddTD("[Kundun EVENT] Drop Item [%d][%s][%s]",
; 3395 : 					i, gObj[MaxHitUser].AccountID, gObj[MaxHitUser].Name);

  008fc	8b 7d ec	 mov	 edi, DWORD PTR _MaxHitUser$228615[ebp]
  008ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00904	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  0090a	8d 54 07 77	 lea	 edx, DWORD PTR [edi+eax+119]
  0090e	52		 push	 edx
  0090f	8d 44 07 6c	 lea	 eax, DWORD PTR [edi+eax+108]
  00913	50		 push	 eax
  00914	53		 push	 ebx
  00915	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@CKKBBPGB@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5Item?5?$FL?$CFd?$FN?$FL@
  0091a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3396 : 				KUNDUN_EVENT_LOG.Output("[Kundun EVENT] Drop Item [%d][%s][%s]",
; 3397 : 					i, gObj[MaxHitUser].AccountID, gObj[MaxHitUser].Name);

  00920	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00925	8d 4c 07 77	 lea	 ecx, DWORD PTR [edi+eax+119]
  00929	51		 push	 ecx
  0092a	8d 54 07 6c	 lea	 edx, DWORD PTR [edi+eax+108]
  0092e	52		 push	 edx
  0092f	53		 push	 ebx
  00930	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@CKKBBPGB@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5Item?5?$FL?$CFd?$FN?$FL@
  00935	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  0093a	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output

; 3398 : 			}
; 3399 : 			else

  0093f	8b 7d d8	 mov	 edi, DWORD PTR _lpTargetObj$GSCopy$[ebp]
  00942	eb 2c		 jmp	 SHORT $LN314@gObjMonste@19
$LN151@gObjMonste@19:

; 3400 : 			{
; 3401 : 				LogAddTD("[Kundun EVENT] Drop Item [%d][%s][%s]",
; 3402 : 					i, lpTargetObj->AccountID, lpTargetObj->Name);

  00944	8d 47 77	 lea	 eax, DWORD PTR [edi+119]
  00947	50		 push	 eax
  00948	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  0094b	50		 push	 eax
  0094c	53		 push	 ebx
  0094d	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@CKKBBPGB@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5Item?5?$FL?$CFd?$FN?$FL@
  00952	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3403 : 				KUNDUN_EVENT_LOG.Output("[Kundun EVENT] Drop Item [%d][%s][%s]",
; 3404 : 					i, lpTargetObj->AccountID, lpTargetObj->Name);

  00958	8d 47 77	 lea	 eax, DWORD PTR [edi+119]
  0095b	50		 push	 eax
  0095c	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  0095f	50		 push	 eax
  00960	53		 push	 ebx
  00961	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@CKKBBPGB@?$FL?$KB?$NLKundun?5EVENT?$FN?5Drop?5Item?5?$FL?$CFd?$FN?$FL@
  00966	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  0096b	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output
$LN314@gObjMonste@19:

; 3405 : 			}
; 3406 : 
; 3407 : 			KundunEventItemBoxOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  00970	8b 45 d4	 mov	 eax, DWORD PTR _cDropY$228623[ebp]
  00973	8b 4d dc	 mov	 ecx, DWORD PTR _cDropX$228622[ebp]
  00976	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  0097d	83 c4 24	 add	 esp, 36			; 00000024H
  00980	50		 push	 eax
  00981	51		 push	 ecx
  00982	52		 push	 edx
  00983	57		 push	 edi
  00984	e8 00 00 00 00	 call	 ?KundunEventItemBoxOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; KundunEventItemBoxOpen
  00989	83 c4 10	 add	 esp, 16			; 00000010H
$LN158@gObjMonste@19:

; 3348 : 		}
; 3349 : 
; 3350 : 		for ( int i=0;i<iMaxNumOfRewardItem;i++)

  0098c	43		 inc	 ebx
  0098d	3b 5d e4	 cmp	 ebx, DWORD PTR _iMaxNumOfRewardItem$228616[ebp]
  00990	0f 8c 1b fe ff
	ff		 jl	 $LL279@gObjMonste@19
  00996	5f		 pop	 edi
  00997	5e		 pop	 esi
  00998	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00999	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0099c	33 cd		 xor	 ecx, ebp
  0099e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  009a3	8b e5		 mov	 esp, ebp
  009a5	5d		 pop	 ebp
  009a6	c3		 ret	 0
$LN161@gObjMonste@19:

; 3408 : 		}
; 3409 : 
; 3410 : 		return;
; 3411 : 	}
; 3412 : 
; 3413 : 	//Season 5 DoppelGanger
; 3414 : 	if ( lpObj->Class == 529 || lpObj->Class == 530 )

  009a7	b9 11 02 00 00	 mov	 ecx, 529		; 00000211H
  009ac	66 3b c1	 cmp	 ax, cx
  009af	74 0a		 je	 SHORT $LN148@gObjMonste@19
  009b1	ba 12 02 00 00	 mov	 edx, 530		; 00000212H
  009b6	66 3b c2	 cmp	 ax, dx
  009b9	75 13		 jne	 SHORT $LN147@gObjMonste@19
$LN148@gObjMonste@19:

; 3415 : 	{
; 3416 : 		if ( g_DoppelGanger.CreateSilverChest(lpObj) == true )

  009bb	56		 push	 esi
  009bc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  009c1	e8 00 00 00 00	 call	 ?CreateSilverChest@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::CreateSilverChest
  009c6	3c 01		 cmp	 al, 1
  009c8	0f 84 3c 12 00
	00		 je	 $LN188@gObjMonste@19
$LN147@gObjMonste@19:

; 3417 : 		{
; 3418 : 			return;
; 3419 : 		}
; 3420 : 	}
; 3421 : 	
; 3422 : 	if ( lpObj->Class == 249 || lpTargetObj->Class == 249 ||
; 3423 : 		lpObj->Class == 247 || lpTargetObj->Class == 247 )	

  009ce	0f b7 8e b8 00
	00 00		 movzx	 ecx, WORD PTR [esi+184]
  009d5	b8 f9 00 00 00	 mov	 eax, 249		; 000000f9H
  009da	66 3b c8	 cmp	 cx, ax
  009dd	0f 84 27 12 00
	00		 je	 $LN188@gObjMonste@19
  009e3	0f b7 87 b8 00
	00 00		 movzx	 eax, WORD PTR [edi+184]
  009ea	ba f9 00 00 00	 mov	 edx, 249		; 000000f9H
  009ef	66 3b c2	 cmp	 ax, dx
  009f2	0f 84 12 12 00
	00		 je	 $LN188@gObjMonste@19
  009f8	ba f7 00 00 00	 mov	 edx, 247		; 000000f7H
  009fd	66 3b ca	 cmp	 cx, dx
  00a00	0f 84 04 12 00
	00		 je	 $LN188@gObjMonste@19
  00a06	66 3b c2	 cmp	 ax, dx
  00a09	0f 84 fb 11 00
	00		 je	 $LN188@gObjMonste@19

; 3424 : 	{
; 3425 : 		return;
; 3426 : 	}
; 3427 : 
; 3428 : 	if ( lpObj->m_RecallMon >= 0 )

  00a0f	83 be 50 04 00
	00 00		 cmp	 DWORD PTR [esi+1104], 0
  00a16	0f 8d ee 11 00
	00		 jge	 $LN188@gObjMonste@19

; 3429 : 	{
; 3430 : 		return;
; 3431 : 	}
; 3432 : 	
; 3433 : 	if ( lpObj->Class == 131 )	

  00a1c	b8 83 00 00 00	 mov	 eax, 131		; 00000083H
  00a21	66 3b c8	 cmp	 cx, ax
  00a24	0f 84 e0 11 00
	00		 je	 $LN188@gObjMonste@19

; 3434 : 	{
; 3435 : 		return;
; 3436 : 	}
; 3437 : 	
; 3438 : 	if ( BC_STATUE_RANGE(lpObj->Class-132) )

  00a2a	8b c1		 mov	 eax, ecx
  00a2c	05 7c ff ff ff	 add	 eax, -132		; ffffff7cH
  00a31	78 12		 js	 SHORT $LN271@gObjMonste@19
  00a33	33 d2		 xor	 edx, edx
  00a35	83 f8 02	 cmp	 eax, 2
  00a38	0f 9e c2	 setle	 dl
  00a3b	8b c2		 mov	 eax, edx
  00a3d	85 c0		 test	 eax, eax
  00a3f	0f 85 c5 11 00
	00		 jne	 $LN188@gObjMonste@19
$LN271@gObjMonste@19:

; 3439 : 	{
; 3440 : 		return;
; 3441 : 	}
; 3442 : 	
; 3443 : 	if( lpObj->Class == 460 || lpObj->Class == 461 || lpObj->Class == 462) // Season 4.5 Addon

  00a45	b8 cc 01 00 00	 mov	 eax, 460		; 000001ccH
  00a4a	66 3b c8	 cmp	 cx, ax
  00a4d	0f 84 b7 11 00
	00		 je	 $LN188@gObjMonste@19
  00a53	ba cd 01 00 00	 mov	 edx, 461		; 000001cdH
  00a58	66 3b ca	 cmp	 cx, dx
  00a5b	0f 84 a9 11 00
	00		 je	 $LN188@gObjMonste@19
  00a61	b8 ce 01 00 00	 mov	 eax, 462		; 000001ceH
  00a66	66 3b c8	 cmp	 cx, ax
  00a69	0f 84 9b 11 00
	00		 je	 $LN188@gObjMonste@19

; 3444 : 	{
; 3445 : 		return;
; 3446 : 	}
; 3447 : 
; 3448 : 
; 3449 : 	if ( CC_MAP_RANGE(lpObj->MapNumber) )

  00a6f	8a 8e 49 01 00
	00		 mov	 cl, BYTE PTR [esi+329]
  00a75	80 f9 35	 cmp	 cl, 53			; 00000035H
  00a78	74 0e		 je	 SHORT $LN272@gObjMonste@19
  00a7a	80 f9 12	 cmp	 cl, 18			; 00000012H
  00a7d	72 44		 jb	 SHORT $LN139@gObjMonste@19
  00a7f	b2 17		 mov	 dl, 23			; 00000017H
  00a81	3a d1		 cmp	 dl, cl
  00a83	1b c0		 sbb	 eax, eax
  00a85	40		 inc	 eax
  00a86	74 3b		 je	 SHORT $LN139@gObjMonste@19
$LN272@gObjMonste@19:

; 3450 : 	{
; 3451 : 		g_ChaosCastle.SearchNDropMonsterItem(g_ChaosCastle.GetChaosCastleIndex(lpObj->MapNumber), lpObj->m_Index, lpTargetObj->m_Index);

  00a88	8b 07		 mov	 eax, DWORD PTR [edi]
  00a8a	8b 16		 mov	 edx, DWORD PTR [esi]
  00a8c	50		 push	 eax
  00a8d	0f b6 c1	 movzx	 eax, cl
  00a90	52		 push	 edx
  00a91	50		 push	 eax
  00a92	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCastle@@3VCChaosCastle@@A ; g_ChaosCastle
  00a97	e8 00 00 00 00	 call	 ?GetChaosCastleIndex@CChaosCastle@@QAEHH@Z ; CChaosCastle::GetChaosCastleIndex
  00a9c	50		 push	 eax
  00a9d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCastle@@3VCChaosCastle@@A ; g_ChaosCastle
  00aa2	e8 00 00 00 00	 call	 ?SearchNDropMonsterItem@CChaosCastle@@QAEXHHH@Z ; CChaosCastle::SearchNDropMonsterItem

; 3452 : 		
; 3453 : 		gObjDel(lpObj->m_Index);

  00aa7	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00aa9	51		 push	 ecx
  00aaa	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  00aaf	83 c4 04	 add	 esp, 4
  00ab2	5f		 pop	 edi
  00ab3	5e		 pop	 esi
  00ab4	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00ab5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00ab8	33 cd		 xor	 ecx, ebp
  00aba	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00abf	8b e5		 mov	 esp, ebp
  00ac1	5d		 pop	 ebp
  00ac2	c3		 ret	 0
$LN139@gObjMonste@19:

; 3454 : 		
; 3455 : 		return;
; 3456 : 	}
; 3457 : 
; 3458 : 	if ( lpObj->m_bIsInMonsterHerd )

  00ac3	83 be e8 10 00
	00 00		 cmp	 DWORD PTR [esi+4328], 0
  00aca	74 1a		 je	 SHORT $LN136@gObjMonste@19

; 3459 : 	{
; 3460 : 		MonsterHerd * lpMH = lpObj->m_lpMonsterHerd;

  00acc	8b 8e f0 10 00
	00		 mov	 ecx, DWORD PTR [esi+4336]

; 3461 : 
; 3462 : 		if ( lpMH )

  00ad2	85 c9		 test	 ecx, ecx
  00ad4	74 10		 je	 SHORT $LN136@gObjMonste@19

; 3463 : 		{
; 3464 : 			if ( lpMH->MonsterHerdItemDrop(lpObj) )

  00ad6	8b 11		 mov	 edx, DWORD PTR [ecx]
  00ad8	8b 42 30	 mov	 eax, DWORD PTR [edx+48]
  00adb	56		 push	 esi
  00adc	ff d0		 call	 eax
  00ade	85 c0		 test	 eax, eax
  00ae0	0f 85 24 11 00
	00		 jne	 $LN188@gObjMonste@19
$LN136@gObjMonste@19:

; 3465 : 			{
; 3466 : 				return;
; 3467 : 			}
; 3468 : 		}
; 3469 : 	}
; 3470 : 	
; 3471 : 	//IT CHECKS
; 3472 : 	if ( IT_MAP_RANGE(lpObj->MapNumber) )

  00ae6	8a 8e 49 01 00
	00		 mov	 cl, BYTE PTR [esi+329]
  00aec	80 f9 2d	 cmp	 cl, 45			; 0000002dH
  00aef	72 25		 jb	 SHORT $LN135@gObjMonste@19
  00af1	b2 32		 mov	 dl, 50			; 00000032H
  00af3	3a d1		 cmp	 dl, cl
  00af5	1b c0		 sbb	 eax, eax
  00af7	40		 inc	 eax
  00af8	74 1c		 je	 SHORT $LN135@gObjMonste@19

; 3473 : 	{
; 3474 : 		 int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3475 :          g_IllusionTempleEvent.SearchNDropMonsterItem(lpTargetObj);

  00afa	57		 push	 edi
  00afb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTempleEvent@@3VCIllusionTempleEvent@@A ; g_IllusionTempleEvent
  00b00	e8 00 00 00 00	 call	 ?SearchNDropMonsterItem@CIllusionTempleEvent@@QAEXPAUOBJECTSTRUCT@@@Z ; CIllusionTempleEvent::SearchNDropMonsterItem
  00b05	5f		 pop	 edi
  00b06	5e		 pop	 esi
  00b07	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00b08	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00b0b	33 cd		 xor	 ecx, ebp
  00b0d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00b12	8b e5		 mov	 esp, ebp
  00b14	5d		 pop	 ebp
  00b15	c3		 ret	 0
$LN135@gObjMonste@19:

; 3476 : 
; 3477 : 		 return;
; 3478 : 	}
; 3479 : 
; 3480 : 	if( lpObj->Class == 413)

  00b16	0f b7 96 b8 00
	00 00		 movzx	 edx, WORD PTR [esi+184]
  00b1d	b8 9d 01 00 00	 mov	 eax, 413		; 0000019dH
  00b22	66 3b d0	 cmp	 dx, ax
  00b25	75 2b		 jne	 SHORT $LN134@gObjMonste@19

; 3481 : 	{
; 3482 : 		GenericBoxItemBagOpen(lpTargetObj,lpObj->MapNumber,lpObj->X,lpObj->Y);

  00b27	0f b6 96 46 01
	00 00		 movzx	 edx, BYTE PTR [esi+326]
  00b2e	0f b6 86 44 01
	00 00		 movzx	 eax, BYTE PTR [esi+324]
  00b35	52		 push	 edx
  00b36	50		 push	 eax
  00b37	51		 push	 ecx
  00b38	57		 push	 edi
  00b39	e8 00 00 00 00	 call	 ?GenericBoxItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; GenericBoxItemBagOpen
  00b3e	83 c4 10	 add	 esp, 16			; 00000010H
  00b41	5f		 pop	 edi
  00b42	5e		 pop	 esi
  00b43	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00b44	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00b47	33 cd		 xor	 ecx, ebp
  00b49	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00b4e	8b e5		 mov	 esp, ebp
  00b50	5d		 pop	 ebp
  00b51	c3		 ret	 0
$LN134@gObjMonste@19:

; 3483 : 		return;
; 3484 : 	}
; 3485 : 
; 3486 : 	int itemrate = lpObj->m_ItemRate;

  00b52	0f bf 86 b8 04
	00 00		 movsx	 eax, WORD PTR [esi+1208]

; 3487 : 	int moneyrate = lpObj->m_MoneyRate;

  00b59	0f bf 8e ba 04
	00 00		 movsx	 ecx, WORD PTR [esi+1210]

; 3488 : 
; 3489 : 	if ( itemrate < 1 )

  00b60	bb 01 00 00 00	 mov	 ebx, 1
  00b65	89 45 dc	 mov	 DWORD PTR _itemrate$[ebp], eax
  00b68	89 4d d0	 mov	 DWORD PTR _moneyrate$[ebp], ecx
  00b6b	3b c3		 cmp	 eax, ebx
  00b6d	7d 03		 jge	 SHORT $LN133@gObjMonste@19

; 3490 : 		itemrate = 1;

  00b6f	89 5d dc	 mov	 DWORD PTR _itemrate$[ebp], ebx
$LN133@gObjMonste@19:

; 3491 : 
; 3492 : 	if ( moneyrate < 1 )

  00b72	3b cb		 cmp	 ecx, ebx
  00b74	7d 03		 jge	 SHORT $LN132@gObjMonste@19

; 3493 : 		moneyrate = 1;

  00b76	89 5d d0	 mov	 DWORD PTR _moneyrate$[ebp], ebx
$LN132@gObjMonste@19:

; 3494 : /*
; 3495 : 	if ( lpObj->Class == 44 ) // Dragon
; 3496 : 	{
; 3497 : 		dur = 0;//Season 4.5 remake;
; 3498 : 		x = lpObj->X;
; 3499 : 		y = lpObj->Y;
; 3500 : 		level = 0;
; 3501 : 
; 3502 : 		if ( (rand()%4) > 0 )
; 3503 : 		{
; 3504 : 			for ( int n=0;n<4;n++)
; 3505 : 			{
; 3506 : 				int x = lpObj->X-2;
; 3507 : 				int y = lpObj->Y-2;
; 3508 : 				x+= rand()%3;
; 3509 : 				y+= rand()%3;
; 3510 : 
; 3511 : 				MapC[lpObj->MapNumber].MoneyItemDrop(10000, x, y);
; 3512 : 			}
; 3513 : 
; 3514 : 			return;
; 3515 : 		}
; 3516 : 		
; 3517 : 		if ( (rand()%3) < 2 )
; 3518 : 		{
; 3519 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3520 : 			type = ItemGetNumberMake(14, 13);
; 3521 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3522 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3523 : 
; 3524 : 			return;
; 3525 : 		}
; 3526 : 
; 3527 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3528 : 		type = ItemGetNumberMake(14, 14);
; 3529 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3530 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3531 : 
; 3532 : 		return;
; 3533 : 	}
; 3534 : 	*/
; 3535 : 	if (lpObj->Class == 44)	//Dragon

  00b79	83 fa 2c	 cmp	 edx, 44			; 0000002cH
  00b7c	75 11		 jne	 SHORT $LN130@gObjMonste@19

; 3536 : 	{
; 3537 : 		dur = 255.0f;
; 3538 : 		x = lpObj->X;
; 3539 : 		y = lpObj->Y;
; 3540 : 
; 3541 : 		//int ItemType = GetPrivateProfileInt("Dragon","ItemType",14,ExDefGID);
; 3542 : 		//int ItemIndex = GetPrivateProfileInt("Dragon","ItemIndex",13,ExDefGID);
; 3543 : 		//level = GetPrivateProfileInt("Dragon","ItemLevel",0,ExDefGID);
; 3544 : 
; 3545 : 		//level = ZtConfig.GoldenDrop.level44;
; 3546 : 		//type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType44, ZtConfig.GoldenDrop.ItemIndex44);
; 3547 : 		//int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3548 : 		//ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3549 : 		//	(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3550 : 
; 3551 : 		if ( AttackEvent53BagOpen(lpObj)==1 )

  00b7e	56		 push	 esi
  00b7f	e8 00 00 00 00	 call	 ?AttackEvent53BagOpen@@YAHPAUOBJECTSTRUCT@@@Z ; AttackEvent53BagOpen
  00b84	83 c4 04	 add	 esp, 4
  00b87	3b c3		 cmp	 eax, ebx
  00b89	0f 84 7b 10 00
	00		 je	 $LN188@gObjMonste@19
$LN130@gObjMonste@19:

; 3552 : 		{
; 3553 : 			return;
; 3554 : 		}	
; 3555 : 	}
; 3556 : 	///////////////////////////
; 3557 : 	//	GoldenInvasionDrop	//
; 3558 : 	//////////////////////////
; 3559 : 	if (lpObj->Class == 43)	//GoldenBudgeDragon

  00b8f	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00b96	83 f8 2b	 cmp	 eax, 43			; 0000002bH
  00b99	0f 85 76 00 00
	00		 jne	 $LN129@gObjMonste@19

; 3564 : 		//int ItemType = GetPrivateProfileInt("GoldenBudgeDragon","ItemType",14,ExDefGID);
; 3565 : 		//int ItemIndex = GetPrivateProfileInt("GoldenBudgeDragon","ItemIndex",11,ExDefGID);
; 3566 : 		//level = GetPrivateProfileInt("GoldenBudgeDragon","ItemLevel",8,ExDefGID);
; 3567 : 		level = ZtConfig.GoldenDrop.level43;

  00b9f	8b 0d 5c 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2396

; 3568 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType43, ZtConfig.GoldenDrop.ItemIndex43);

  00ba5	8b 15 58 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2392
  00bab	a1 54 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2388
$LN325@gObjMonste@19:

; 3560 : 	{
; 3561 : 		dur = 255.0f;
; 3562 : 		x = lpObj->X;
; 3563 : 		y = lpObj->Y;

  00bb0	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]
  00bb7	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 3568 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType43, ZtConfig.GoldenDrop.ItemIndex43);

  00bbe	52		 push	 edx
  00bbf	50		 push	 eax
  00bc0	89 4d ec	 mov	 DWORD PTR _level$[ebp], ecx
  00bc3	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00bc8	83 c4 08	 add	 esp, 8

; 3569 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3570 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3571 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  00bcb	6a 00		 push	 0
  00bcd	6a 00		 push	 0
  00bcf	56		 push	 esi
  00bd0	89 45 e8	 mov	 DWORD PTR _type$[ebp], eax
  00bd3	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00bd8	8b 4d ec	 mov	 ecx, DWORD PTR _level$[ebp]
  00bdb	8b 55 e8	 mov	 edx, DWORD PTR _type$[ebp]
  00bde	83 c4 04	 add	 esp, 4
  00be1	50		 push	 eax
  00be2	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00be9	6a 00		 push	 0
  00beb	6a 00		 push	 0
  00bed	6a 00		 push	 0
  00bef	68 ff 00 00 00	 push	 255			; 000000ffH
  00bf4	51		 push	 ecx
  00bf5	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00bf7	52		 push	 edx
  00bf8	53		 push	 ebx
  00bf9	57		 push	 edi
  00bfa	50		 push	 eax
  00bfb	51		 push	 ecx
$LN319@gObjMonste@19:
  00bfc	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00c01	83 c4 34	 add	 esp, 52			; 00000034H
  00c04	5f		 pop	 edi
  00c05	5e		 pop	 esi
  00c06	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00c07	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00c0a	33 cd		 xor	 ecx, ebp
  00c0c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00c11	8b e5		 mov	 esp, ebp
  00c13	5d		 pop	 ebp
  00c14	c3		 ret	 0
$LN129@gObjMonste@19:

; 3572 : 
; 3573 : 		return;
; 3574 : 	}
; 3575 : 	if (lpObj->Class == 78)	//GoldenGoblin

  00c15	83 f8 4e	 cmp	 eax, 78			; 0000004eH
  00c18	0f 85 76 00 00
	00		 jne	 $LN128@gObjMonste@19

; 3579 : 		y = lpObj->Y;
; 3580 : 		//int ItemType = GetPrivateProfileInt("GoldenGoblin","ItemType",14,ExDefGID);
; 3581 : 		//int ItemIndex = GetPrivateProfileInt("GoldenGoblin","ItemIndex",11,ExDefGID);
; 3582 : 		//level = GetPrivateProfileInt("GoldenGoblin","ItemLevel",8,ExDefGID);
; 3583 : 		level = ZtConfig.GoldenDrop.level78;

  00c1e	8b 15 68 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2408

; 3584 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType78, ZtConfig.GoldenDrop.ItemIndex78);

  00c24	a1 64 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2404
  00c29	8b 0d 60 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2400
$LN324@gObjMonste@19:

; 3576 : 	{
; 3577 : 		dur = 255.0f;
; 3578 : 		x = lpObj->X;

  00c2f	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]
  00c36	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 3584 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType78, ZtConfig.GoldenDrop.ItemIndex78);

  00c3d	50		 push	 eax
  00c3e	51		 push	 ecx
  00c3f	89 55 ec	 mov	 DWORD PTR _level$[ebp], edx
  00c42	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00c47	83 c4 08	 add	 esp, 8

; 3585 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3586 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3587 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  00c4a	6a 00		 push	 0
  00c4c	6a 00		 push	 0
  00c4e	56		 push	 esi
  00c4f	89 45 e8	 mov	 DWORD PTR _type$[ebp], eax
  00c52	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00c57	8b 55 ec	 mov	 edx, DWORD PTR _level$[ebp]
  00c5a	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00c61	83 c4 04	 add	 esp, 4
  00c64	50		 push	 eax
  00c65	8b 45 e8	 mov	 eax, DWORD PTR _type$[ebp]
  00c68	6a 00		 push	 0
  00c6a	6a 00		 push	 0
  00c6c	6a 00		 push	 0
  00c6e	68 ff 00 00 00	 push	 255			; 000000ffH
  00c73	52		 push	 edx
  00c74	8b 16		 mov	 edx, DWORD PTR [esi]
  00c76	50		 push	 eax
  00c77	53		 push	 ebx
  00c78	57		 push	 edi
  00c79	51		 push	 ecx
  00c7a	52		 push	 edx
$LN321@gObjMonste@19:
  00c7b	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00c80	83 c4 34	 add	 esp, 52			; 00000034H
  00c83	5f		 pop	 edi
  00c84	5e		 pop	 esi
  00c85	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00c86	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00c89	33 cd		 xor	 ecx, ebp
  00c8b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00c90	8b e5		 mov	 esp, ebp
  00c92	5d		 pop	 ebp
  00c93	c3		 ret	 0
$LN128@gObjMonste@19:

; 3588 : 
; 3589 : 		return;
; 3590 : 	}
; 3591 : 	if (lpObj->Class == 493)	//GoldenDarkKnight

  00c94	b9 ed 01 00 00	 mov	 ecx, 493		; 000001edH
  00c99	66 3b c1	 cmp	 ax, cx
  00c9c	75 16		 jne	 SHORT $LN127@gObjMonste@19

; 3592 : 	{
; 3593 : 		dur = 255.0f;
; 3594 : 		x = lpObj->X;
; 3595 : 		y = lpObj->Y;
; 3596 : 		//int ItemType = GetPrivateProfileInt("GoldenDarkKnight","ItemType",14,ExDefGID);
; 3597 : 		//int ItemIndex = GetPrivateProfileInt("GoldenDarkKnight","ItemIndex",11,ExDefGID);
; 3598 : 		//level = GetPrivateProfileInt("GoldenDarkKnight","ItemLevel",8,ExDefGID);
; 3599 : 		level = ZtConfig.GoldenDrop.level493;

  00c9e	8b 15 74 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2420

; 3600 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType493, ZtConfig.GoldenDrop.ItemIndex493);

  00ca4	a1 70 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2416
  00ca9	8b 0d 6c 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2412

; 3601 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3602 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3603 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3604 : 
; 3605 : 		return;

  00caf	e9 7b ff ff ff	 jmp	 $LN324@gObjMonste@19
$LN127@gObjMonste@19:

; 3606 : 	}
; 3607 : /*
; 3608 : 	if (lpObj->Class == 43 || 
; 3609 : 		lpObj->Class == 78 || //Season 4.5 addon
; 3610 : 		lpObj->Class == 493) //Season 4.5 addon
; 3611 : 	{
; 3612 : 		dur = 255.0f;
; 3613 : 		x = lpObj->X;
; 3614 : 		y = lpObj->Y;
; 3615 : 		level = 8;
; 3616 : 		type = ItemGetNumberMake(14, 11);
; 3617 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3618 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3619 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3620 : 
; 3621 : 		return;
; 3622 : 	}
; 3623 : */
; 3624 : 	if (lpObj->Class == 53)	//GoldenTitan

  00cb4	83 f8 35	 cmp	 eax, 53			; 00000035H
  00cb7	75 62		 jne	 SHORT $LN126@gObjMonste@19

; 3625 : 	{
; 3626 : 		dur = 255.0f;
; 3627 : 		x = lpObj->X;
; 3628 : 		y = lpObj->Y;
; 3629 : 		//int ItemType = GetPrivateProfileInt("GoldenTitan","ItemType",14,ExDefGID);
; 3630 : 		//int ItemIndex = GetPrivateProfileInt("GoldenTitan","ItemIndex",11,ExDefGID);
; 3631 : 		//level = GetPrivateProfileInt("GoldenTitan","ItemLevel",8,ExDefGID);
; 3632 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3633 : 		level = ZtConfig.GoldenDrop.level53;
; 3634 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType53, ZtConfig.GoldenDrop.ItemIndex53);

  00cb9	8b 0d 7c 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2428
  00cbf	8b 15 78 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2424
  00cc5	a1 80 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2432
  00cca	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]
  00cd1	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]
  00cd8	51		 push	 ecx
  00cd9	52		 push	 edx
  00cda	89 45 ec	 mov	 DWORD PTR _level$[ebp], eax
  00cdd	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00ce2	83 c4 08	 add	 esp, 8

; 3635 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3636 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3637 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  00ce5	6a 00		 push	 0
  00ce7	6a 00		 push	 0
  00ce9	56		 push	 esi
  00cea	89 45 e8	 mov	 DWORD PTR _type$[ebp], eax
  00ced	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00cf2	8b 4d e8	 mov	 ecx, DWORD PTR _type$[ebp]
  00cf5	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00cfc	83 c4 04	 add	 esp, 4
  00cff	50		 push	 eax
  00d00	8b 45 ec	 mov	 eax, DWORD PTR _level$[ebp]
  00d03	6a 00		 push	 0
  00d05	6a 00		 push	 0
  00d07	6a 00		 push	 0
  00d09	68 ff 00 00 00	 push	 255			; 000000ffH
  00d0e	50		 push	 eax
  00d0f	8b 06		 mov	 eax, DWORD PTR [esi]
  00d11	51		 push	 ecx
  00d12	53		 push	 ebx
  00d13	57		 push	 edi
  00d14	52		 push	 edx
  00d15	50		 push	 eax

; 3638 : 
; 3639 : 		return;

  00d16	e9 60 ff ff ff	 jmp	 $LN321@gObjMonste@19
$LN126@gObjMonste@19:

; 3640 : 	}
; 3641 : 	if (lpObj->Class == 54)	//GoldenSoldier

  00d1b	83 f8 36	 cmp	 eax, 54			; 00000036H
  00d1e	75 16		 jne	 SHORT $LN125@gObjMonste@19

; 3642 : 	{
; 3643 : 		dur = 255.0f;
; 3644 : 		x = lpObj->X;
; 3645 : 		y = lpObj->Y;
; 3646 : 		//int ItemType = GetPrivateProfileInt("GoldenSoldier","ItemType",14,ExDefGID);
; 3647 : 		//int ItemIndex = GetPrivateProfileInt("GoldenSoldier","ItemIndex",11,ExDefGID);
; 3648 : 		//level = GetPrivateProfileInt("GoldenSoldier","ItemLevel",8,ExDefGID);
; 3649 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3650 : 		level = ZtConfig.GoldenDrop.level54;

  00d20	8b 0d 8c 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2444

; 3651 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType54, ZtConfig.GoldenDrop.ItemIndex54);

  00d26	8b 15 88 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2440
  00d2c	a1 84 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2436

; 3652 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3653 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3654 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3655 : 		return;

  00d31	e9 7a fe ff ff	 jmp	 $LN325@gObjMonste@19
$LN125@gObjMonste@19:

; 3656 : 	}
; 3657 : /*
; 3658 : 	if (lpObj->Class == 53 || // Golden Titan
; 3659 : 		lpObj->Class == 54 ) //Season 4.5 addon
; 3660 : 	{
; 3661 : 		dur = 255.0f;
; 3662 : 		x = lpObj->X;
; 3663 : 		y = lpObj->Y;
; 3664 : 		level = 8;
; 3665 : 		type = ItemGetNumberMake(14, 11);
; 3666 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3667 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3668 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3669 : 
; 3670 : 		return;
; 3671 : 	}
; 3672 : */
; 3673 : 	if (lpObj->Class == 80)	//GoldenLizardKing

  00d36	83 f8 50	 cmp	 eax, 80			; 00000050H
  00d39	75 62		 jne	 SHORT $LN124@gObjMonste@19

; 3678 : 		//int ItemType = GetPrivateProfileInt("GoldenLizardKing","ItemType",14,ExDefGID);
; 3679 : 		//int ItemIndex = GetPrivateProfileInt("GoldenLizardKing","ItemIndex",11,ExDefGID);
; 3680 : 		//level = GetPrivateProfileInt("GoldenLizardKing","ItemLevel",9,ExDefGID);
; 3681 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3682 : 		level = ZtConfig.GoldenDrop.level80;

  00d3b	8b 15 98 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2456

; 3683 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType80, ZtConfig.GoldenDrop.ItemIndex80);

  00d41	a1 94 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2452
  00d46	8b 0d 90 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2448
$LN326@gObjMonste@19:

; 3674 : 	{
; 3675 : 		dur = 255.0f;
; 3676 : 		x = lpObj->X;
; 3677 : 		y = lpObj->Y;

  00d4c	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]
  00d53	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 3683 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType80, ZtConfig.GoldenDrop.ItemIndex80);

  00d5a	50		 push	 eax
  00d5b	51		 push	 ecx
  00d5c	89 55 ec	 mov	 DWORD PTR _level$[ebp], edx
  00d5f	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00d64	83 c4 08	 add	 esp, 8

; 3684 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3685 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3686 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  00d67	6a 00		 push	 0
  00d69	6a 00		 push	 0
  00d6b	56		 push	 esi
  00d6c	89 45 e8	 mov	 DWORD PTR _type$[ebp], eax
  00d6f	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00d74	8b 55 ec	 mov	 edx, DWORD PTR _level$[ebp]
  00d77	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  00d7e	83 c4 04	 add	 esp, 4
  00d81	50		 push	 eax
  00d82	8b 45 e8	 mov	 eax, DWORD PTR _type$[ebp]
  00d85	6a 00		 push	 0
  00d87	6a 00		 push	 0
  00d89	6a 00		 push	 0
  00d8b	68 ff 00 00 00	 push	 255			; 000000ffH
  00d90	52		 push	 edx
  00d91	8b 16		 mov	 edx, DWORD PTR [esi]
  00d93	50		 push	 eax
  00d94	53		 push	 ebx
  00d95	57		 push	 edi
  00d96	51		 push	 ecx
  00d97	52		 push	 edx

; 3687 : 		return;

  00d98	e9 5f fe ff ff	 jmp	 $LN319@gObjMonste@19
$LN124@gObjMonste@19:

; 3688 : 	}
; 3689 : 	if (lpObj->Class == 81)	//GoldenVepar

  00d9d	83 f8 51	 cmp	 eax, 81			; 00000051H
  00da0	75 62		 jne	 SHORT $LN123@gObjMonste@19

; 3694 : 		//int ItemType = GetPrivateProfileInt("GoldenVepar","ItemType",14,ExDefGID);
; 3695 : 		//int ItemIndex = GetPrivateProfileInt("GoldenVepar","ItemIndex",11,ExDefGID);
; 3696 : 		//level = GetPrivateProfileInt("GoldenVepar","ItemLevel",9,ExDefGID);
; 3697 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3698 : 		level = ZtConfig.GoldenDrop.level81;

  00da2	a1 a4 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2468

; 3699 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType81, ZtConfig.GoldenDrop.ItemIndex81);

  00da7	8b 0d a0 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2464
  00dad	8b 15 9c 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2460
$LN327@gObjMonste@19:

; 3690 : 	{
; 3691 : 		dur = 255.0f;
; 3692 : 		x = lpObj->X;
; 3693 : 		y = lpObj->Y;

  00db3	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]
  00dba	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]

; 3699 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType81, ZtConfig.GoldenDrop.ItemIndex81);

  00dc1	51		 push	 ecx
  00dc2	52		 push	 edx
  00dc3	89 45 ec	 mov	 DWORD PTR _level$[ebp], eax
  00dc6	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00dcb	83 c4 08	 add	 esp, 8

; 3700 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3701 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3702 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  00dce	6a 00		 push	 0
  00dd0	6a 00		 push	 0
  00dd2	56		 push	 esi
  00dd3	89 45 e8	 mov	 DWORD PTR _type$[ebp], eax
  00dd6	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00ddb	8b 4d e8	 mov	 ecx, DWORD PTR _type$[ebp]
  00dde	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00de5	83 c4 04	 add	 esp, 4
  00de8	50		 push	 eax
  00de9	8b 45 ec	 mov	 eax, DWORD PTR _level$[ebp]
  00dec	6a 00		 push	 0
  00dee	6a 00		 push	 0
  00df0	6a 00		 push	 0
  00df2	68 ff 00 00 00	 push	 255			; 000000ffH
  00df7	50		 push	 eax
  00df8	8b 06		 mov	 eax, DWORD PTR [esi]
  00dfa	51		 push	 ecx
  00dfb	53		 push	 ebx
  00dfc	57		 push	 edi
  00dfd	52		 push	 edx
  00dfe	50		 push	 eax

; 3703 : 		return;

  00dff	e9 f8 fd ff ff	 jmp	 $LN319@gObjMonste@19
$LN123@gObjMonste@19:

; 3704 : 	}
; 3705 : 	if (lpObj->Class == 494)	//GoldenDevil

  00e04	b9 ee 01 00 00	 mov	 ecx, 494		; 000001eeH
  00e09	66 3b c1	 cmp	 ax, cx
  00e0c	75 16		 jne	 SHORT $LN122@gObjMonste@19

; 3706 : 	{
; 3707 : 		dur = 255.0f;
; 3708 : 		x = lpObj->X;
; 3709 : 		y = lpObj->Y;
; 3710 : 		//int ItemType = GetPrivateProfileInt("GoldenDevil","ItemType",14,ExDefGID);
; 3711 : 		//int ItemIndex = GetPrivateProfileInt("GoldenDevil","ItemIndex",11,ExDefGID);
; 3712 : 		//level = GetPrivateProfileInt("GoldenDevil","ItemLevel",9,ExDefGID);
; 3713 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3714 : 		level = ZtConfig.GoldenDrop.level494;

  00e0e	8b 15 b0 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2480

; 3715 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType494, ZtConfig.GoldenDrop.ItemIndex494);

  00e14	a1 ac 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2476
  00e19	8b 0d a8 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2472

; 3716 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3717 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3718 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3719 : 		return;

  00e1f	e9 28 ff ff ff	 jmp	 $LN326@gObjMonste@19
$LN122@gObjMonste@19:

; 3720 : 	}
; 3721 : /*
; 3722 : 	//IDENTICAL
; 3723 : 	if (lpObj->Class == 80 || //Season 4.5 addon
; 3724 : 		lpObj->Class == 81 || //Season 4.5 addon
; 3725 : 		lpObj->Class == 494) //Season 4.5 addon
; 3726 : 	{
; 3727 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3728 : 		x = lpObj->X;
; 3729 : 		y = lpObj->Y;
; 3730 : 		dur = 255.0f;
; 3731 : 		level = 9;
; 3732 : 		type = ItemGetNumberMake(14, 11);
; 3733 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3734 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3735 : 
; 3736 : 		return;
; 3737 : 	}
; 3738 : */
; 3739 : 	if (lpObj->Class == 82)	//GoldenTantalos

  00e24	83 f8 52	 cmp	 eax, 82			; 00000052H
  00e27	75 16		 jne	 SHORT $LN121@gObjMonste@19

; 3740 : 	{
; 3741 : 		dur = 255.0f;
; 3742 : 		x = lpObj->X;
; 3743 : 		y = lpObj->Y;
; 3744 : 		//int ItemType = GetPrivateProfileInt("GoldenTantalos","ItemType",14,ExDefGID);
; 3745 : 		//int ItemIndex = GetPrivateProfileInt("GoldenTantalos","ItemIndex",11,ExDefGID);
; 3746 : 		//level = GetPrivateProfileInt("GoldenTantalos","ItemLevel",10,ExDefGID);
; 3747 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3748 : 		level = ZtConfig.GoldenDrop.level82;

  00e29	a1 bc 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2492

; 3749 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType82, ZtConfig.GoldenDrop.ItemIndex82);

  00e2e	8b 0d b8 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2488
  00e34	8b 15 b4 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2484

; 3750 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3751 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3752 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3753 : 		return;

  00e3a	e9 74 ff ff ff	 jmp	 $LN327@gObjMonste@19
$LN121@gObjMonste@19:

; 3754 : 	}
; 3755 : 	if (lpObj->Class == 83)	//GoldenWheel

  00e3f	83 f8 53	 cmp	 eax, 83			; 00000053H
  00e42	75 16		 jne	 SHORT $LN120@gObjMonste@19

; 3756 : 	{
; 3757 : 		dur = 255.0f;
; 3758 : 		x = lpObj->X;
; 3759 : 		y = lpObj->Y;
; 3760 : 		//int ItemType = GetPrivateProfileInt("GoldenWheel","ItemType",14,ExDefGID);
; 3761 : 		//int ItemIndex = GetPrivateProfileInt("GoldenWheel","ItemIndex",11,ExDefGID);
; 3762 : 		//level = GetPrivateProfileInt("GoldenWheel","ItemLevel",10,ExDefGID);
; 3763 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3764 : 		level = ZtConfig.GoldenDrop.level83;

  00e44	8b 0d c8 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2504

; 3765 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType83, ZtConfig.GoldenDrop.ItemIndex83);

  00e4a	8b 15 c4 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2500
  00e50	a1 c0 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2496

; 3766 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3767 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3768 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3769 : 		return;

  00e55	e9 56 fd ff ff	 jmp	 $LN325@gObjMonste@19
$LN120@gObjMonste@19:

; 3770 : 	}
; 3771 : 	if (lpObj->Class == 495)	//GoldenGolem

  00e5a	ba ef 01 00 00	 mov	 edx, 495		; 000001efH
  00e5f	66 3b c2	 cmp	 ax, dx
  00e62	75 16		 jne	 SHORT $LN119@gObjMonste@19

; 3772 : 	{
; 3773 : 		dur = 255.0f;
; 3774 : 		x = lpObj->X;
; 3775 : 		y = lpObj->Y;
; 3776 : 		//int ItemType = GetPrivateProfileInt("GoldenGolem","ItemType",14,ExDefGID);
; 3777 : 		//int ItemIndex = GetPrivateProfileInt("GoldenGolem","ItemIndex",11,ExDefGID);
; 3778 : 		//level = GetPrivateProfileInt("GoldenGolem","ItemLevel",10,ExDefGID);
; 3779 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3780 : 		level = ZtConfig.GoldenDrop.level495;

  00e64	a1 d4 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2516

; 3781 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType495, ZtConfig.GoldenDrop.ItemIndex495);

  00e69	8b 0d d0 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2512
  00e6f	8b 15 cc 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2508

; 3782 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3783 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3784 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3785 : 		return;

  00e75	e9 39 ff ff ff	 jmp	 $LN327@gObjMonste@19
$LN119@gObjMonste@19:

; 3786 : 	}
; 3787 : 	if (lpObj->Class == 496)	//GoldenCrust

  00e7a	b9 f0 01 00 00	 mov	 ecx, 496		; 000001f0H
  00e7f	66 3b c1	 cmp	 ax, cx
  00e82	75 16		 jne	 SHORT $LN118@gObjMonste@19

; 3788 : 	{
; 3789 : 		dur = 255.0f;
; 3790 : 		x = lpObj->X;
; 3791 : 		y = lpObj->Y;
; 3792 : 		//int ItemType = GetPrivateProfileInt("GoldenCrust","ItemType",14,ExDefGID);
; 3793 : 		//int ItemIndex = GetPrivateProfileInt("GoldenCrust","ItemIndex",11,ExDefGID);
; 3794 : 		//level = GetPrivateProfileInt("GoldenCrust","ItemLevel",10,ExDefGID);
; 3795 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3796 : 		level = ZtConfig.GoldenDrop.level496;

  00e84	8b 15 e0 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2528

; 3797 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType496, ZtConfig.GoldenDrop.ItemIndex496);

  00e8a	a1 dc 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2524
  00e8f	8b 0d d8 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2520

; 3798 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3799 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3800 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3801 : 		return;

  00e95	e9 b2 fe ff ff	 jmp	 $LN326@gObjMonste@19
$LN118@gObjMonste@19:

; 3802 : 	}
; 3803 : /*
; 3804 : 	//IDENTICAL
; 3805 : 	if (lpObj->Class == 82 || //Season 4.5 addon
; 3806 : 		lpObj->Class == 83 || //Season 4.5 addon
; 3807 : 		lpObj->Class == 495 || //Season 4.5 addon
; 3808 : 		lpObj->Class == 496) //Season 4.5 addon
; 3809 : 	{
; 3810 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3811 : 		x = lpObj->X;
; 3812 : 		y = lpObj->Y;
; 3813 : 		dur = 255.0f;
; 3814 : 		level = 10;
; 3815 : 		type = ItemGetNumberMake(14, 11);
; 3816 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3817 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3818 : 
; 3819 : 		return;
; 3820 : 	}
; 3821 : */
; 3822 : 	if (lpObj->Class == 497)	//GoldenSatyrus

  00e9a	b9 f1 01 00 00	 mov	 ecx, 497		; 000001f1H
  00e9f	66 3b c1	 cmp	 ax, cx
  00ea2	75 16		 jne	 SHORT $LN117@gObjMonste@19

; 3823 : 	{
; 3824 : 		dur = 255.0f;
; 3825 : 		x = lpObj->X;
; 3826 : 		y = lpObj->Y;
; 3827 : 		//int ItemType = GetPrivateProfileInt("GoldenSatyrus","ItemType",14,ExDefGID);
; 3828 : 		//int ItemIndex = GetPrivateProfileInt("GoldenSatyrus","ItemIndex",11,ExDefGID);
; 3829 : 		//level = GetPrivateProfileInt("GoldenSatyrus","ItemLevel",11,ExDefGID);
; 3830 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3831 : 		level = ZtConfig.GoldenDrop.level497;

  00ea4	8b 15 ec 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2540

; 3832 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType497, ZtConfig.GoldenDrop.ItemIndex497);

  00eaa	a1 e8 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2536
  00eaf	8b 0d e4 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2532

; 3833 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3834 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3835 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3836 : 		return;

  00eb5	e9 92 fe ff ff	 jmp	 $LN326@gObjMonste@19
$LN117@gObjMonste@19:

; 3837 : 	}
; 3838 : 	if (lpObj->Class == 498)	//GoldenTwinTale

  00eba	b9 f2 01 00 00	 mov	 ecx, 498		; 000001f2H
  00ebf	66 3b c1	 cmp	 ax, cx
  00ec2	75 16		 jne	 SHORT $LN116@gObjMonste@19

; 3839 : 	{
; 3840 : 		dur = 255.0f;
; 3841 : 		x = lpObj->X;
; 3842 : 		y = lpObj->Y;
; 3843 : 		//int ItemType = GetPrivateProfileInt("GoldenTwinTale","ItemType",14,ExDefGID);
; 3844 : 		//int ItemIndex = GetPrivateProfileInt("GoldenTwinTale","ItemIndex",11,ExDefGID);
; 3845 : 		//level = GetPrivateProfileInt("GoldenTwinTale","ItemLevel",11,ExDefGID);
; 3846 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3847 : 		level = ZtConfig.GoldenDrop.level498;

  00ec4	8b 15 f8 09 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2552

; 3848 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType498, ZtConfig.GoldenDrop.ItemIndex498);

  00eca	a1 f4 09 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2548
  00ecf	8b 0d f0 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2544

; 3849 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3850 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3851 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3852 : 		return;

  00ed5	e9 72 fe ff ff	 jmp	 $LN326@gObjMonste@19
$LN116@gObjMonste@19:

; 3853 : 	}
; 3854 : 	/*
; 3855 : 	//IDENTICAL
; 3856 : 	if (lpObj->Class == 497 || //Season 4.5 addon
; 3857 : 		lpObj->Class == 498) //Season 4.5 addon
; 3858 : 	{
; 3859 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3860 : 		x = lpObj->X;
; 3861 : 		y = lpObj->Y;
; 3862 : 		dur = 255.0f;
; 3863 : 		level = 11;
; 3864 : 		type = ItemGetNumberMake(14, 11);
; 3865 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3866 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3867 : 
; 3868 : 		return;
; 3869 : 	}
; 3870 : 	*/
; 3871 : 	if (lpObj->Class == 499)	//GoldenIronKnight

  00eda	b9 f3 01 00 00	 mov	 ecx, 499		; 000001f3H
  00edf	66 3b c1	 cmp	 ax, cx
  00ee2	75 16		 jne	 SHORT $LN115@gObjMonste@19

; 3872 : 	{
; 3873 : 		dur = 255.0f;
; 3874 : 		x = lpObj->X;
; 3875 : 		y = lpObj->Y;
; 3876 : 		//int ItemType = GetPrivateProfileInt("GoldenIronKnight","ItemType",14,ExDefGID);
; 3877 : 		//int ItemIndex = GetPrivateProfileInt("GoldenIronKnight","ItemIndex",11,ExDefGID);
; 3878 : 		//level = GetPrivateProfileInt("GoldenIronKnight","ItemLevel",12,ExDefGID);
; 3879 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3880 : 		level = ZtConfig.GoldenDrop.level499;

  00ee4	8b 15 04 0a 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2564

; 3881 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType499, ZtConfig.GoldenDrop.ItemIndex499);

  00eea	a1 00 0a 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2560
  00eef	8b 0d fc 09 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2556

; 3882 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3883 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3884 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3885 : 		return;

  00ef5	e9 52 fe ff ff	 jmp	 $LN326@gObjMonste@19
$LN115@gObjMonste@19:

; 3886 : 	}
; 3887 : 	if (lpObj->Class == 500)	//GoldenNapin

  00efa	b9 f4 01 00 00	 mov	 ecx, 500		; 000001f4H
  00eff	66 3b c1	 cmp	 ax, cx
  00f02	75 16		 jne	 SHORT $LN114@gObjMonste@19

; 3888 : 	{
; 3889 : 		dur = 255.0f;
; 3890 : 		x = lpObj->X;
; 3891 : 		y = lpObj->Y;
; 3892 : 		//int ItemType = GetPrivateProfileInt("GoldenNapin","ItemType",14,ExDefGID);
; 3893 : 		//int ItemIndex = GetPrivateProfileInt("GoldenNapin","ItemIndex",11,ExDefGID);
; 3894 : 		//level = GetPrivateProfileInt("GoldenNapin","ItemLevel",12,ExDefGID);
; 3895 : 		//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3896 : 		level = ZtConfig.GoldenDrop.level500;

  00f04	8b 15 10 0a 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2576

; 3897 : 		type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType500, ZtConfig.GoldenDrop.ItemIndex500);

  00f0a	a1 0c 0a 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2572
  00f0f	8b 0d 08 0a 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2568

; 3898 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3899 : 		ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 3900 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);
; 3901 : 		return;

  00f15	e9 32 fe ff ff	 jmp	 $LN326@gObjMonste@19
$LN114@gObjMonste@19:

; 3902 : 	}
; 3903 : 	/*
; 3904 : 	//IDENTICAL
; 3905 : 	if (lpObj->Class == 499 || //Season 4.5 addon
; 3906 : 		lpObj->Class == 500) //Season 4.5 addon
; 3907 : 	{
; 3908 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3909 : 		x = lpObj->X;
; 3910 : 		y = lpObj->Y;
; 3911 : 		dur = 255.0f;
; 3912 : 		level = 12;
; 3913 : 		type = ItemGetNumberMake(14, 11);
; 3914 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3915 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3916 : 
; 3917 : 		return;
; 3918 : 	}
; 3919 : 	*/
; 3920 : //===========================//
; 3921 : 
; 3922 : 	//IDENTICAL??
; 3923 : 	if ( lpObj->Class == 79 )//Season 4.5 REMAKE GoldenDragon

  00f1a	83 f8 4f	 cmp	 eax, 79			; 0000004fH
  00f1d	0f 85 e0 00 00
	00		 jne	 $LN113@gObjMonste@19

; 3924 : 	{
; 3925 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00f23	56		 push	 esi
  00f24	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3926 : 		BYTE cDropX = lpObj->X;
; 3927 : 		BYTE cDropY = lpObj->Y;

  00f29	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]

; 3928 : 		dur = 255.0f;
; 3929 : 		int randlevel[3];
; 3930 : 		//int ItemType = GetPrivateProfileInt("GoldenDragon","ItemType",14,ExDefGID);
; 3931 : 		//int ItemIndex = GetPrivateProfileInt("GoldenDragon","ItemIndex",11,ExDefGID);
; 3932 : 		//int randlevel1 = GetPrivateProfileInt("GoldenDragon","randlevel1",8,ExDefGID);
; 3933 : 		//int randlevel2 = GetPrivateProfileInt("GoldenDragon","randlevel2",9,ExDefGID);
; 3934 : 		//int randlevel3 = GetPrivateProfileInt("GoldenDragon","randlevel3",10,ExDefGID);
; 3935 : 		//int countitem = GetPrivateProfileInt("GoldenDragon","countitem",5,ExDefGID);
; 3936 : 
; 3937 : 		int randlevel1 = ZtConfig.GoldenDrop.randlevel1_79;
; 3938 : 		int randlevel2 = ZtConfig.GoldenDrop.randlevel2_79;
; 3939 : 		int randlevel3 = ZtConfig.GoldenDrop.randlevel3_79;
; 3940 : 		int countitem = ZtConfig.GoldenDrop.countitem79;
; 3941 : 
; 3942 : 		randlevel[0] = randlevel1;

  00f2f	8b 15 1c 0a 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2588
  00f35	8b d8		 mov	 ebx, eax
  00f37	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]
  00f3d	88 4d e4	 mov	 BYTE PTR _cDropY$228821[ebp], cl
  00f40	8b 0d 28 0a 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2600
  00f46	88 45 e0	 mov	 BYTE PTR _cDropX$228820[ebp], al
  00f49	a1 20 0a 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2592
  00f4e	83 c4 04	 add	 esp, 4
  00f51	89 55 f0	 mov	 DWORD PTR _randlevel$228822[ebp], edx

; 3943 : 		randlevel[1] = randlevel2;

  00f54	89 45 f4	 mov	 DWORD PTR _randlevel$228822[ebp+4], eax

; 3944 : 		randlevel[2] = randlevel2;

  00f57	89 45 f8	 mov	 DWORD PTR _randlevel$228822[ebp+8], eax

; 3945 : 
; 3946 : 		for(int i = 0; i < countitem; i++)

  00f5a	85 c9		 test	 ecx, ecx
  00f5c	0f 8e a8 0c 00
	00		 jle	 $LN188@gObjMonste@19

; 3924 : 	{
; 3925 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00f62	89 4d d8	 mov	 DWORD PTR tv1908[ebp], ecx
$LL112@gObjMonste@19:

; 3947 : 		{
; 3948 : 			if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 2, 2, 10))

  00f65	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  00f6c	6a 0a		 push	 10			; 0000000aH
  00f6e	6a 02		 push	 2
  00f70	6a 02		 push	 2
  00f72	8d 45 e4	 lea	 eax, DWORD PTR _cDropY$228821[ebp]
  00f75	50		 push	 eax
  00f76	8d 4d e0	 lea	 ecx, DWORD PTR _cDropX$228820[ebp]
  00f79	51		 push	 ecx
  00f7a	52		 push	 edx
  00f7b	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  00f80	83 c4 18	 add	 esp, 24			; 00000018H
  00f83	85 c0		 test	 eax, eax
  00f85	75 12		 jne	 SHORT $LN109@gObjMonste@19

; 3949 : 			{
; 3950 : 				cDropX = lpObj->X;

  00f87	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3951 : 				cDropY = lpObj->Y;

  00f8d	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  00f93	88 45 e0	 mov	 BYTE PTR _cDropX$228820[ebp], al
  00f96	88 4d e4	 mov	 BYTE PTR _cDropY$228821[ebp], cl
$LN109@gObjMonste@19:

; 3952 : 			}
; 3953 : 
; 3954 : 			level = randlevel[rand() % 3];

  00f99	e8 00 00 00 00	 call	 _rand
  00f9e	99		 cdq
  00f9f	b9 03 00 00 00	 mov	 ecx, 3
  00fa4	f7 f9		 idiv	 ecx

; 3955 : 			//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3956 : 			type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType79, ZtConfig.GoldenDrop.ItemIndex79);

  00fa6	a1 14 0a 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2580
  00fab	8b 7c 95 f0	 mov	 edi, DWORD PTR _randlevel$228822[ebp+edx*4]
  00faf	8b 15 18 0a 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2584
  00fb5	52		 push	 edx
  00fb6	50		 push	 eax
  00fb7	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3957 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)cDropX, (BYTE)cDropY, type, (BYTE)level, (BYTE)dur,
; 3958 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  00fbc	8b 4d e4	 mov	 ecx, DWORD PTR _cDropY$228821[ebp]
  00fbf	8b 55 e0	 mov	 edx, DWORD PTR _cDropX$228820[ebp]
  00fc2	6a 00		 push	 0
  00fc4	6a 00		 push	 0
  00fc6	53		 push	 ebx
  00fc7	6a 00		 push	 0
  00fc9	6a 00		 push	 0
  00fcb	6a 00		 push	 0
  00fcd	68 ff 00 00 00	 push	 255			; 000000ffH
  00fd2	57		 push	 edi
  00fd3	50		 push	 eax
  00fd4	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  00fdb	51		 push	 ecx
  00fdc	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00fde	52		 push	 edx
  00fdf	50		 push	 eax
  00fe0	51		 push	 ecx
  00fe1	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  00fe6	83 c4 3c	 add	 esp, 60			; 0000003cH
  00fe9	ff 4d d8	 dec	 DWORD PTR tv1908[ebp]
  00fec	0f 85 73 ff ff
	ff		 jne	 $LL112@gObjMonste@19
  00ff2	5f		 pop	 edi
  00ff3	5e		 pop	 esi
  00ff4	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  00ff5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00ff8	33 cd		 xor	 ecx, ebp
  00ffa	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00fff	8b e5		 mov	 esp, ebp
  01001	5d		 pop	 ebp
  01002	c3		 ret	 0
$LN113@gObjMonste@19:

; 3959 : 
; 3960 : 		}
; 3961 : 		
; 3962 : 		return;
; 3963 : 	}
; 3964 : 
; 3965 : 	//IDENTICAL??
; 3966 : 	if ( lpObj->Class == 501 )//Season 4.5 REMAKE	GoldenGreatDragon

  01003	ba f5 01 00 00	 mov	 edx, 501		; 000001f5H
  01008	66 3b c2	 cmp	 ax, dx
  0100b	0f 85 e2 00 00
	00		 jne	 $LN108@gObjMonste@19

; 3967 : 	{
; 3968 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  01011	56		 push	 esi
  01012	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3969 : 		BYTE cDropX = lpObj->X;
; 3970 : 		BYTE cDropY = lpObj->Y;

  01017	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]

; 3971 : 		dur = 255.0f;
; 3972 : 		int randlevel[2];
; 3973 : 		//int ItemType = GetPrivateProfileInt("GoldenGreatDragon","ItemType",14,ExDefGID);
; 3974 : 		//int ItemIndex = GetPrivateProfileInt("GoldenGreatDragon","ItemIndex",11,ExDefGID);
; 3975 : 		//int randlevel1 = GetPrivateProfileInt("GoldenGreatDragon","randlevel1",11,ExDefGID);
; 3976 : 		//int randlevel2 = GetPrivateProfileInt("GoldenGreatDragon","randlevel2",12,ExDefGID);
; 3977 : 		//int countitem = GetPrivateProfileInt("GoldenGreatDragon","countitem",5,ExDefGID);
; 3978 : 
; 3979 : 		int randlevel1 = ZtConfig.GoldenDrop.randlevel1_501;
; 3980 : 		int randlevel2 = ZtConfig.GoldenDrop.randlevel2_501;
; 3981 : 		int countitem = ZtConfig.GoldenDrop.countitem501;
; 3982 : 
; 3983 : 		randlevel[0] = randlevel1;

  0101d	8b 15 34 0a 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2612
  01023	8b d8		 mov	 ebx, eax
  01025	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]
  0102b	88 45 e0	 mov	 BYTE PTR _cDropX$228842[ebp], al
  0102e	a1 3c 0a 00 00	 mov	 eax, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2620
  01033	88 4d e4	 mov	 BYTE PTR _cDropY$228843[ebp], cl

; 3984 : 		randlevel[1] = randlevel2;

  01036	8b 0d 38 0a 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2616
  0103c	83 c4 04	 add	 esp, 4
  0103f	89 55 f4	 mov	 DWORD PTR _randlevel$228844[ebp], edx
  01042	89 4d f8	 mov	 DWORD PTR _randlevel$228844[ebp+4], ecx

; 3985 : 
; 3986 : 
; 3987 : 		for(int i = 0; i < countitem; i++)

  01045	85 c0		 test	 eax, eax
  01047	0f 8e bd 0b 00
	00		 jle	 $LN188@gObjMonste@19

; 3967 : 	{
; 3968 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  0104d	89 45 d8	 mov	 DWORD PTR tv1882[ebp], eax
$LL107@gObjMonste@19:

; 3988 : 		{
; 3989 : 			if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 2, 2, 10))

  01050	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  01057	6a 0a		 push	 10			; 0000000aH
  01059	6a 02		 push	 2
  0105b	6a 02		 push	 2
  0105d	8d 55 e4	 lea	 edx, DWORD PTR _cDropY$228843[ebp]
  01060	52		 push	 edx
  01061	8d 45 e0	 lea	 eax, DWORD PTR _cDropX$228842[ebp]
  01064	50		 push	 eax
  01065	51		 push	 ecx
  01066	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  0106b	83 c4 18	 add	 esp, 24			; 00000018H
  0106e	85 c0		 test	 eax, eax
  01070	75 12		 jne	 SHORT $LN104@gObjMonste@19

; 3990 : 			{
; 3991 : 				cDropX = lpObj->X;

  01072	8a 96 44 01 00
	00		 mov	 dl, BYTE PTR [esi+324]

; 3992 : 				cDropY = lpObj->Y;

  01078	8a 86 46 01 00
	00		 mov	 al, BYTE PTR [esi+326]
  0107e	88 55 e0	 mov	 BYTE PTR _cDropX$228842[ebp], dl
  01081	88 45 e4	 mov	 BYTE PTR _cDropY$228843[ebp], al
$LN104@gObjMonste@19:

; 3993 : 			}
; 3994 : 
; 3995 : 			level = randlevel[rand() % 2];

  01084	e8 00 00 00 00	 call	 _rand
  01089	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0108e	79 05		 jns	 SHORT $LN311@gObjMonste@19
  01090	48		 dec	 eax
  01091	83 c8 fe	 or	 eax, -2			; fffffffeH
  01094	40		 inc	 eax
$LN311@gObjMonste@19:

; 3996 : 			//type = ItemGetNumberMake(ItemType, ItemIndex);
; 3997 : 			type = ItemGetNumberMake(ZtConfig.GoldenDrop.ItemType501, ZtConfig.GoldenDrop.ItemIndex501);

  01095	8b 0d 30 0a 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2608
  0109b	8b 15 2c 0a 00
	00		 mov	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2604
  010a1	8b 7c 85 f4	 mov	 edi, DWORD PTR _randlevel$228844[ebp+eax*4]
  010a5	51		 push	 ecx
  010a6	52		 push	 edx
  010a7	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3998 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)cDropX, (BYTE)cDropY, type, (BYTE)level, (BYTE)dur,
; 3999 : 			(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  010ac	8b 4d e0	 mov	 ecx, DWORD PTR _cDropX$228842[ebp]
  010af	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  010b6	6a 00		 push	 0
  010b8	6a 00		 push	 0
  010ba	53		 push	 ebx
  010bb	6a 00		 push	 0
  010bd	6a 00		 push	 0
  010bf	6a 00		 push	 0
  010c1	68 ff 00 00 00	 push	 255			; 000000ffH
  010c6	57		 push	 edi
  010c7	50		 push	 eax
  010c8	8b 45 e4	 mov	 eax, DWORD PTR _cDropY$228843[ebp]
  010cb	50		 push	 eax
  010cc	8b 06		 mov	 eax, DWORD PTR [esi]
  010ce	51		 push	 ecx
  010cf	52		 push	 edx
  010d0	50		 push	 eax
  010d1	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  010d6	83 c4 3c	 add	 esp, 60			; 0000003cH
  010d9	ff 4d d8	 dec	 DWORD PTR tv1882[ebp]
  010dc	0f 85 6e ff ff
	ff		 jne	 $LL107@gObjMonste@19
  010e2	5f		 pop	 edi
  010e3	5e		 pop	 esi
  010e4	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  010e5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  010e8	33 cd		 xor	 ecx, ebp
  010ea	e8 00 00 00 00	 call	 @__security_check_cookie@4
  010ef	8b e5		 mov	 esp, ebp
  010f1	5d		 pop	 ebp
  010f2	c3		 ret	 0
$LN108@gObjMonste@19:

; 4000 : 
; 4001 : 		}
; 4002 : 		
; 4003 : 		return;
; 4004 : 	}
; 4005 : 
; 4006 : 	
; 4007 : 	
; 4008 : 	if ( lpObj->Class == 55 )	// Death King

  010f3	83 f8 37	 cmp	 eax, 55			; 00000037H
  010f6	75 14		 jne	 SHORT $LN103@gObjMonste@19

; 4009 : 	{
; 4010 : 		if ( AttackEvent55BagOpen(lpObj)==1 )

  010f8	56		 push	 esi
  010f9	e8 00 00 00 00	 call	 ?AttackEvent55BagOpen@@YAHPAUOBJECTSTRUCT@@@Z ; AttackEvent55BagOpen
  010fe	83 c4 04	 add	 esp, 4
  01101	3b c3		 cmp	 eax, ebx
  01103	0f 84 01 0b 00
	00		 je	 $LN188@gObjMonste@19

; 4011 : 			return;
; 4012 : 
; 4013 : 		itemrate = 1;

  01109	89 5d dc	 mov	 DWORD PTR _itemrate$[ebp], ebx
$LN103@gObjMonste@19:

; 4014 : 	}
; 4015 : 
; 4016 : #ifdef IMPERIAL_CONFLICT_OLD
; 4017 : 	if(IMPERIAL_MAP_RANGE(lpObj->MapNumber))	//Season 5 ImperialFort

  0110c	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  01113	3c 45		 cmp	 al, 69			; 00000045H
  01115	72 1d		 jb	 SHORT $LN100@gObjMonste@19
  01117	b1 48		 mov	 cl, 72			; 00000048H
  01119	3a c8		 cmp	 cl, al
  0111b	1b c0		 sbb	 eax, eax
  0111d	40		 inc	 eax
  0111e	74 14		 je	 SHORT $LN100@gObjMonste@19

; 4018 : 	{
; 4019 : 		if ( g_Imperial.ImperialReward(lpTargetObj, lpObj) ) return;

  01120	56		 push	 esi
  01121	57		 push	 edi
  01122	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Imperial@@3VCImperial@@A ; g_Imperial
  01127	e8 00 00 00 00	 call	 ?ImperialReward@CImperial@@QAE_NPAUOBJECTSTRUCT@@0@Z ; CImperial::ImperialReward
  0112c	84 c0		 test	 al, al
  0112e	0f 85 d6 0a 00
	00		 jne	 $LN188@gObjMonste@19
$LN100@gObjMonste@19:

; 4020 : 	}
; 4021 : #endif
; 4022 : 	if(g_ZtLicense.user.Rage)

  01134	80 3d cd 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+205, 0
  0113b	74 0c		 je	 SHORT $LN99@gObjMonste@19

; 4023 : 	{
; 4024 : 		gSystemOfRage.JewelsDropRate(lpTargetObj, lpObj);

  0113d	56		 push	 esi
  0113e	57		 push	 edi
  0113f	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSystemOfRage@@3VcSystemOfRage@@A ; gSystemOfRage
  01144	e8 00 00 00 00	 call	 ?JewelsDropRate@cSystemOfRage@@QAEXPAUOBJECTSTRUCT@@0@Z ; cSystemOfRage::JewelsDropRate
$LN99@gObjMonste@19:

; 4025 : 	}
; 4026 : 
; 4027 : 	if ( gEventMonsterItemDrop(lpObj, lpTargetObj) )

  01149	57		 push	 edi
  0114a	56		 push	 esi
  0114b	e8 00 00 00 00	 call	 ?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z ; gEventMonsterItemDrop
  01150	83 c4 08	 add	 esp, 8
  01153	85 c0		 test	 eax, eax
  01155	0f 85 af 0a 00
	00		 jne	 $LN188@gObjMonste@19

; 4028 : 		return;
; 4029 : 
; 4030 : 	if ( g_QuestInfo.MonsterItemDrop(lpObj) )

  0115b	56		 push	 esi
  0115c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_QuestInfo@@3VCQuestInfo@@A ; g_QuestInfo
  01161	e8 00 00 00 00	 call	 ?MonsterItemDrop@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@@Z ; CQuestInfo::MonsterItemDrop
  01166	85 c0		 test	 eax, eax
  01168	0f 85 9c 0a 00
	00		 jne	 $LN188@gObjMonste@19

; 4031 : 		return;
; 4032 : 
; 4033 : 	if ( lpTargetObj->Level <= 20 )

  0116e	66 83 bf be 00
	00 00 14	 cmp	 WORD PTR [edi+190], 20	; 00000014H
  01176	7f 65		 jg	 SHORT $LN95@gObjMonste@19

; 4034 : 	{
; 4035 : 		if ( (rand()%10000) < 2000 )

  01178	e8 00 00 00 00	 call	 _rand
  0117d	99		 cdq
  0117e	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01183	f7 f9		 idiv	 ecx
  01185	81 fa d0 07 00
	00		 cmp	 edx, 2000		; 000007d0H
  0118b	7d 50		 jge	 SHORT $LN95@gObjMonste@19

; 4036 : 		{
; 4037 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  0118d	56		 push	 esi
  0118e	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 4038 : 			x = lpObj->X;

  01193	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  0119a	8b d8		 mov	 ebx, eax

; 4039 : 			y = lpObj->Y;

  0119c	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]

; 4040 : 			dur = 1.0f;
; 4041 : 			level = 0;
; 4042 : 			type = ItemGetNumberMake(14, 0);	// Apple

  011a3	6a 00		 push	 0
  011a5	6a 0e		 push	 14			; 0000000eH
  011a7	89 55 e0	 mov	 DWORD PTR _x$[ebp], edx
  011aa	89 45 c8	 mov	 DWORD PTR _y$[ebp], eax
  011ad	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 4043 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 4044 : 				(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, 0, 0);

  011b2	8b 4d c8	 mov	 ecx, DWORD PTR _y$[ebp]
  011b5	8b 55 e0	 mov	 edx, DWORD PTR _x$[ebp]
  011b8	6a 00		 push	 0
  011ba	6a 00		 push	 0
  011bc	53		 push	 ebx
  011bd	6a 00		 push	 0
  011bf	6a 00		 push	 0
  011c1	6a 00		 push	 0
  011c3	6a 01		 push	 1
  011c5	6a 00		 push	 0
  011c7	50		 push	 eax
  011c8	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  011cf	51		 push	 ecx
  011d0	8b 0e		 mov	 ecx, DWORD PTR [esi]
  011d2	52		 push	 edx
  011d3	50		 push	 eax
  011d4	51		 push	 ecx
  011d5	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  011da	83 c4 40	 add	 esp, 64			; 00000040H
$LN95@gObjMonste@19:

; 4045 : 		}
; 4046 : 	}
; 4047 : 
; 4048 : 	//ExtDropPer = rand()%10000;	// Excellent Drop Percent #warning
; 4049 : 
; 4050 : 
; 4051 : 
; 4052 : 	//int ItemDropPer = gItemDropPer;'
; 4053 : 	int ItemDropPer = gItemDropManager.GetMapDropRate(lpObj->MapNumber);

  011dd	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  011e4	52		 push	 edx
  011e5	b9 00 00 00 00	 mov	 ecx, OFFSET ?gItemDropManager@@3VCItemDropManager@@A ; gItemDropManager
  011ea	e8 00 00 00 00	 call	 ?GetMapDropRate@CItemDropManager@@QAEHH@Z ; CItemDropManager::GetMapDropRate

; 4054 : 
; 4055 : 	ItemDropPer += gItemDropPer * lpTargetObj->SetOpImproveItemDropRate / 100;

  011ef	0f b6 8f 45 11
	00 00		 movzx	 ecx, BYTE PTR [edi+4421]
  011f6	0f af 0d 00 00
	00 00		 imul	 ecx, DWORD PTR ?gItemDropPer@@3HA ; gItemDropPer
  011fd	8b d8		 mov	 ebx, eax
  011ff	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  01204	f7 e9		 imul	 ecx
  01206	c1 fa 05	 sar	 edx, 5
  01209	8b c2		 mov	 eax, edx
  0120b	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0120e	03 c2		 add	 eax, edx

; 4056 : 
; 4057 : 	int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj); //season3.5 add-on

  01210	56		 push	 esi
  01211	03 d8		 add	 ebx, eax
  01213	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01218	83 c4 04	 add	 esp, 4

; 4058 : 
; 4059 : 	if(iMaxHitUser >= 0)

  0121b	85 c0		 test	 eax, eax
  0121d	78 31		 js	 SHORT $LN93@gObjMonste@19

; 4060 : 	{
; 4061 : 		int iDropRate = gObjGetActiveEffect(&gObj[iMaxHitUser], ADD_OPTION_DROP_RATE); //Seal Drop Option in BuffEffect

  0121f	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  01225	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0122b	6a 07		 push	 7
  0122d	50		 push	 eax
  0122e	e8 00 00 00 00	 call	 ?gObjGetActiveEffect@@YAHPAUOBJECTSTRUCT@@H@Z ; gObjGetActiveEffect
  01233	83 c4 08	 add	 esp, 8

; 4062 : 
; 4063 : 		if(iDropRate > 0)

  01236	85 c0		 test	 eax, eax
  01238	7e 16		 jle	 SHORT $LN93@gObjMonste@19

; 4064 : 		{
; 4065 : 			ItemDropPer = ItemDropPer * iDropRate / 100; //Increase Item Drop

  0123a	0f af c3	 imul	 eax, ebx
  0123d	8b c8		 mov	 ecx, eax
  0123f	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  01244	f7 e9		 imul	 ecx
  01246	c1 fa 05	 sar	 edx, 5
  01249	8b da		 mov	 ebx, edx
  0124b	c1 eb 1f	 shr	 ebx, 31			; 0000001fH
  0124e	03 da		 add	 ebx, edx
$LN93@gObjMonste@19:

; 4066 : 			//ExtDropPer = rand()%((2000/iDropRate)*100); //Increase Exc Drop
; 4067 : 		}
; 4068 : 	}
; 4069 : 	
; 4070 : 	
; 4071 : 	if ( ZtConfig.CommonServer.ExlDropRate > rand()%10000 )//if ( ExtDropPer == TRUE )

  01250	e8 00 00 00 00	 call	 _rand
  01255	99		 cdq
  01256	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  0125b	f7 f9		 idiv	 ecx
  0125d	39 15 18 01 00
	00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+280, edx
  01263	0f 8e 56 01 00
	00		 jle	 $LN92@gObjMonste@19

; 4072 : 	{
; 4073 : 		ExtDropPer = TRUE;
; 4074 : 
; 4075 : 		DropItem = g_MonsterItemMng.GetItem(lpObj->Level-25);

  01269	0f bf 96 be 00
	00 00		 movsx	 edx, WORD PTR [esi+190]
  01270	83 ea 19	 sub	 edx, 25			; 00000019H
  01273	52		 push	 edx
  01274	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMng@@3VCMonsterItemMng@@A ; g_MonsterItemMng
  01279	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _ExtDropPer$[ebp], 1
  01280	e8 00 00 00 00	 call	 ?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z ; CMonsterItemMng::GetItem
  01285	89 45 e8	 mov	 DWORD PTR _DropItem$[ebp], eax

; 4076 : 		
; 4077 : 		if(DropItem != 0)

  01288	85 c0		 test	 eax, eax
  0128a	74 32		 je	 SHORT $LN280@gObjMonste@19

; 4078 : 		{
; 4079 : 			if ( g_kItemSystemFor380.Is380Item(DropItem) != 0 )

  0128c	50		 push	 eax
  0128d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kItemSystemFor380@@3VCItemSystemFor380@@A ; g_kItemSystemFor380
  01292	e8 00 00 00 00	 call	 ?Is380Item@CItemSystemFor380@@QAEHPBVCItem@@@Z ; CItemSystemFor380::Is380Item
  01297	85 c0		 test	 eax, eax

; 4080 : 			{
; 4081 :                 DropItem = 0;
; 4082 : 			}
; 4083 : 		}
; 4084 : 
; 4085 : 		if ( !DropItem )
; 4086 : 			item_drop = FALSE;
; 4087 : 		else

  01299	75 23		 jne	 SHORT $LN280@gObjMonste@19

; 4088 : 		{
; 4089 : 			int foundChangeupitem=0;
; 4090 : 			
; 4091 : 			for ( int i=0;i< 4 ;i++)	// #NEED TO CHECK IN GS-N

  0129b	8b 4d e8	 mov	 ecx, DWORD PTR _DropItem$[ebp]
  0129e	8b ff		 npad	 2
$LL87@gObjMonste@19:

; 4092 : 			{
; 4093 : 				if ( DropItem->m_RequireClass[i] > 1 )

  012a0	80 7c 08 58 01	 cmp	 BYTE PTR [eax+ecx+88], 1
  012a5	77 06		 ja	 SHORT $LN273@gObjMonste@19

; 4088 : 		{
; 4089 : 			int foundChangeupitem=0;
; 4090 : 			
; 4091 : 			for ( int i=0;i< 4 ;i++)	// #NEED TO CHECK IN GS-N

  012a7	40		 inc	 eax
  012a8	83 f8 04	 cmp	 eax, 4
  012ab	7c f3		 jl	 SHORT $LL87@gObjMonste@19
$LN273@gObjMonste@19:

; 4094 : 				{
; 4095 : 					foundChangeupitem = TRUE;
; 4096 : 					break;
; 4097 : 				}
; 4098 : 			}
; 4099 : 
; 4100 : 			//if ( foundChangeupitem )
; 4101 : 			//	ExtDropPer = rand()%100;
; 4102 : 
; 4103 : 			if ( ExtDropPer )
; 4104 : 				if ( (rand()%itemrate) < ItemDropPer )

  012ad	e8 00 00 00 00	 call	 _rand
  012b2	99		 cdq
  012b3	f7 7d dc	 idiv	 DWORD PTR _itemrate$[ebp]
  012b6	3b d3		 cmp	 edx, ebx
  012b8	0f 8c 2f 01 00
	00		 jl	 $LN315@gObjMonste@19
$LN280@gObjMonste@19:

; 4286 : 	}
; 4287 : 	else if ( lpObj->Money < 1 )

  012be	83 be f0 00 00
	00 01		 cmp	 DWORD PTR [esi+240], 1
  012c5	0f 8c 3f 09 00
	00		 jl	 $LN188@gObjMonste@19

; 4288 : 	{
; 4289 : 		return;
; 4290 : 	}
; 4291 : 	else if ( (rand()%moneyrate) < 10 )

  012cb	e8 00 00 00 00	 call	 _rand
  012d0	99		 cdq
  012d1	f7 7d d0	 idiv	 DWORD PTR _moneyrate$[ebp]
  012d4	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  012d7	0f 8d 43 07 00
	00		 jge	 $LN283@gObjMonste@19

; 4292 : 	{
; 4293 : 		int x = lpObj->X;
; 4294 : 		int y = lpObj->Y;
; 4295 : 		float money = (float)lpObj->Money;
; 4296 : 		money /= 2.0f;

  012dd	db 86 f0 00 00
	00		 fild	 DWORD PTR [esi+240]

; 4297 : 		money += money / 100.0f * lpTargetObj->MonsterDieGetMoney;
; 4298 : 		money = money * gAddZen; 

  012e3	0f bf 8f 72 01
	00 00		 movsx	 ecx, WORD PTR [edi+370]
  012ea	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  012f1	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@3fe0000000000000
  012f7	0f bf 9e 44 01
	00 00		 movsx	 ebx, WORD PTR [esi+324]
  012fe	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
  01301	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
  01304	89 4d f8	 mov	 DWORD PTR tv2674[ebp], ecx
  01307	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4059000000000000

; 4299 : #if(S4E6||S5E3||S5E4)
; 4300 : 		if(lpTargetObj->m_MLPassiveSkill.m_iML_ZenIncrease > 0)
; 4301 : 		{
; 4302 : 			money += money * lpTargetObj->m_MLPassiveSkill.m_iML_ZenIncrease / 100.0f;
; 4303 : 		}
; 4304 : #endif
; 4305 : 
; 4306 : 		if(lpTargetObj->pInventory[11].IsItem()==1 && lpTargetObj->pInventory[11].m_Type == ITEMGET(13,76) ||
; 4307 : 			lpTargetObj->pInventory[10].IsItem()==1 && lpTargetObj->pInventory[10].m_Type == ITEMGET(13,76) 
; 4308 : 			|| gObjUnicornSprite(lpTargetObj) == TRUE) // Season 5 Episode 2 JPN

  0130d	8b 8f 24 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3620]
  01313	d8 f9		 fdivr	 ST(0), ST(1)
  01315	81 c1 1c 09 00
	00		 add	 ecx, 2332		; 0000091cH
  0131b	89 45 c4	 mov	 DWORD PTR _y$228961[ebp], eax
  0131e	db 45 f8	 fild	 DWORD PTR tv2674[ebp]
  01321	de c9		 fmulp	 ST(1), ST(0)
  01323	de c1		 faddp	 ST(1), ST(0)
  01325	d9 5d f8	 fstp	 DWORD PTR tv2673[ebp]
  01328	d9 45 f8	 fld	 DWORD PTR tv2673[ebp]
  0132b	d8 0d 00 00 00
	00		 fmul	 DWORD PTR ?gAddZen@@3MA	; gAddZen
  01331	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
  01334	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  01339	83 f8 01	 cmp	 eax, 1
  0133c	75 14		 jne	 SHORT $LN35@gObjMonste@19
  0133e	8b 97 24 0e 00
	00		 mov	 edx, DWORD PTR [edi+3620]
  01344	b8 4c 1a 00 00	 mov	 eax, 6732		; 00001a4cH
  01349	66 39 82 22 09
	00 00		 cmp	 WORD PTR [edx+2338], ax
  01350	74 38		 je	 SHORT $LN277@gObjMonste@19
$LN35@gObjMonste@19:
  01352	8b 8f 24 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3620]
  01358	81 c1 48 08 00
	00		 add	 ecx, 2120		; 00000848H
  0135e	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  01363	83 f8 01	 cmp	 eax, 1
  01366	75 14		 jne	 SHORT $LN34@gObjMonste@19
  01368	8b 8f 24 0e 00
	00		 mov	 ecx, DWORD PTR [edi+3620]
  0136e	ba 4c 1a 00 00	 mov	 edx, 6732		; 00001a4cH
  01373	66 39 91 4e 08
	00 00		 cmp	 WORD PTR [ecx+2126], dx
  0137a	74 0e		 je	 SHORT $LN277@gObjMonste@19
$LN34@gObjMonste@19:
  0137c	57		 push	 edi
  0137d	e8 00 00 00 00	 call	 ?gObjUnicornSprite@@YAHPAUOBJECTSTRUCT@@@Z ; gObjUnicornSprite
  01382	83 c4 04	 add	 esp, 4
  01385	83 f8 01	 cmp	 eax, 1
  01388	75 16		 jne	 SHORT $LN278@gObjMonste@19
$LN277@gObjMonste@19:

; 4309 : 		{
; 4310 : 			money += money * 50 / 100;

  0138a	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
  0138d	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4049000000000000
  01393	d8 c9		 fmul	 ST(0), ST(1)
  01395	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  0139b	de c1		 faddp	 ST(1), ST(0)
  0139d	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
$LN278@gObjMonste@19:

; 4311 : 		}
; 4312 : 
; 4313 : 
; 4314 : 
; 4315 : 		if ( money < 1.0f )

  013a0	d9 e8		 fld1
  013a2	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
  013a5	d8 d1		 fcom	 ST(1)
  013a7	df e0		 fnstsw	 ax
  013a9	f6 c4 05	 test	 ah, 5
  013ac	0f 8a e9 03 00
	00		 jp	 $LN290@gObjMonste@19

; 4316 : 		{
; 4317 :            money = 1.0f;

  013b2	dd d8		 fstp	 ST(0)
  013b4	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
  013b7	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
  013ba	e9 de 03 00 00	 jmp	 $LN33@gObjMonste@19
$LN92@gObjMonste@19:

; 4105 : 					item_drop=TRUE;
; 4106 : 		}
; 4107 : 	}
; 4108 : 	else
; 4109 : 	{
; 4110 : 		if ( (rand()%itemrate) < ItemDropPer )

  013bf	e8 00 00 00 00	 call	 _rand
  013c4	99		 cdq
  013c5	f7 7d dc	 idiv	 DWORD PTR _itemrate$[ebp]
  013c8	3b d3		 cmp	 edx, ebx
  013ca	0f 8d ee fe ff
	ff		 jge	 $LN280@gObjMonste@19

; 4111 : 		{
; 4112 : 			DropItem = g_MonsterItemMng.GetItem(lpObj->Level);

  013d0	0f bf 8e be 00
	00 00		 movsx	 ecx, WORD PTR [esi+190]
  013d7	51		 push	 ecx
  013d8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMng@@3VCMonsterItemMng@@A ; g_MonsterItemMng
  013dd	e8 00 00 00 00	 call	 ?GetItem@CMonsterItemMng@@QAEPAVCItem@@H@Z ; CMonsterItemMng::GetItem
  013e2	89 45 e8	 mov	 DWORD PTR _DropItem$[ebp], eax

; 4113 : 
; 4114 : 			if ( !DropItem )

  013e5	85 c0		 test	 eax, eax
  013e7	0f 84 d1 fe ff
	ff		 je	 $LN280@gObjMonste@19
$LN315@gObjMonste@19:

; 4115 : 				item_drop = FALSE;
; 4116 : 			else
; 4117 : 				item_drop = TRUE;
; 4118 : 
; 4119 : 		}
; 4120 : 	}
; 4121 : 
; 4122 : 	if ( item_drop )
; 4123 : 	{
; 4124 : 		if ( !DropItem->IsItem() )

  013ed	8b 5d e8	 mov	 ebx, DWORD PTR _DropItem$[ebp]
  013f0	8b cb		 mov	 ecx, ebx
  013f2	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _item_drop$[ebp], 1
  013f9	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  013fe	85 c0		 test	 eax, eax
  01400	75 03		 jne	 SHORT $LN281@gObjMonste@19

; 4125 : 		{
; 4126 : 			item_drop = FALSE;

  01402	89 45 ec	 mov	 DWORD PTR _item_drop$[ebp], eax
$LN281@gObjMonste@19:

; 4127 : 		}
; 4128 : 
; 4129 : 		int I;
; 4130 : 
; 4131 : 		if ( DropItem->m_Type >= ITEMGET(15,0)  && DropItem->m_Type <= ITEMGET(16,0) )
; 4132 : 		{
; 4133 : 			I = 0;
; 4134 : 		}
; 4135 : 
; 4136 : 		if ( DS_MAP_RANGE(lpObj->MapNumber ) )

  01405	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  0140b	3c 09		 cmp	 al, 9
  0140d	74 0d		 je	 SHORT $LN275@gObjMonste@19
  0140f	33 d2		 xor	 edx, edx
  01411	3c 20		 cmp	 al, 32			; 00000020H
  01413	0f 94 c2	 sete	 dl
  01416	8b c2		 mov	 eax, edx
  01418	85 c0		 test	 eax, eax
  0141a	74 29		 je	 SHORT $LN72@gObjMonste@19
$LN275@gObjMonste@19:

; 4137 : 		{
; 4138 : 			if ( !IsCanNotItemDtopInDevilSquare(DropItem->m_Type) )

  0141c	0f bf 43 06	 movsx	 eax, WORD PTR [ebx+6]
  01420	50		 push	 eax
  01421	e8 00 00 00 00	 call	 ?IsCanNotItemDtopInDevilSquare@@YAHH@Z ; IsCanNotItemDtopInDevilSquare
  01426	83 c4 04	 add	 esp, 4
  01429	85 c0		 test	 eax, eax
  0142b	75 18		 jne	 SHORT $LN72@gObjMonste@19

; 4139 : 			{
; 4140 : 				if ( (rand()%10) )

  0142d	e8 00 00 00 00	 call	 _rand
  01432	99		 cdq
  01433	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  01438	f7 f9		 idiv	 ecx
  0143a	85 d2		 test	 edx, edx
  0143c	74 07		 je	 SHORT $LN72@gObjMonste@19

; 4141 : 				{
; 4142 : 					item_drop = FALSE;

  0143e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _item_drop$[ebp], 0
$LN72@gObjMonste@19:

; 4143 : 				}
; 4144 : 			}
; 4145 : 		}
; 4146 : 		
; 4147 : 		if (g_SocketOption.CheckItemType(DropItem->m_Type) == 1 && // Season 4.5 addon
; 4148 : 			g_SocketOption.CheckMapNumber(lpObj->MapNumber) == 0)

  01445	0f bf 53 06	 movsx	 edx, WORD PTR [ebx+6]
  01449	52		 push	 edx
  0144a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  0144f	e8 00 00 00 00	 call	 ?CheckItemType@CSocketOption@@QAEEH@Z ; CSocketOption::CheckItemType
  01454	3c 01		 cmp	 al, 1
  01456	75 1d		 jne	 SHORT $LN288@gObjMonste@19
  01458	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0145f	50		 push	 eax
  01460	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketOption@@3VCSocketOption@@A ; g_SocketOption
  01465	e8 00 00 00 00	 call	 ?CheckMapNumber@CSocketOption@@QAEEH@Z ; CSocketOption::CheckMapNumber
  0146a	84 c0		 test	 al, al
  0146c	75 07		 jne	 SHORT $LN288@gObjMonste@19

; 4149 : 		{
; 4150 : 			item_drop = FALSE;

  0146e	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _item_drop$[ebp], 0
$LN288@gObjMonste@19:

; 4151 : 		}
; 4152 : 		
; 4153 : 
; 4154 : 		if ( DropItem->m_Type == ITEMGET(13,14) && lpObj->MapNumber != MAP_INDEX_ICARUS) // Loch Feather

  01475	b9 0e 1a 00 00	 mov	 ecx, 6670		; 00001a0eH
  0147a	66 39 4b 06	 cmp	 WORD PTR [ebx+6], cx
  0147e	75 10		 jne	 SHORT $LN70@gObjMonste@19
  01480	80 be 49 01 00
	00 0a		 cmp	 BYTE PTR [esi+329], 10	; 0000000aH
  01487	74 07		 je	 SHORT $LN70@gObjMonste@19

; 4155 : 		{	
; 4156 : 			item_drop = FALSE;

  01489	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _item_drop$[ebp], 0
$LN70@gObjMonste@19:

; 4157 : 		}
; 4158 : 
; 4159 : 		if ( g_CrywolfSync.GetOccupationState() == 1 && g_iCrywolfApplyMvpPenalty )

  01490	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  01495	e8 00 00 00 00	 call	 ?GetOccupationState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetOccupationState
  0149a	83 f8 01	 cmp	 eax, 1
  0149d	75 6d		 jne	 SHORT $LN66@gObjMonste@19
  0149f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iCrywolfApplyMvpPenalty@@3HA, 0 ; g_iCrywolfApplyMvpPenalty
  014a6	74 64		 je	 SHORT $LN66@gObjMonste@19

; 4160 : 		{
; 4161 : 			// Jewels
; 4162 : 			if ( DropItem->m_Type == ITEMGET(14,13) ||  DropItem->m_Type == ITEMGET(14,14) ||  DropItem->m_Type == ITEMGET(14,16) ||
; 4163 : 				 DropItem->m_Type == ITEMGET(14,22) ||  DropItem->m_Type == ITEMGET(12,15) ||  DropItem->m_Type == ITEMGET(14,31) )

  014a8	8b 55 e8	 mov	 edx, DWORD PTR _DropItem$[ebp]
  014ab	0f b7 42 06	 movzx	 eax, WORD PTR [edx+6]
  014af	b9 0d 1c 00 00	 mov	 ecx, 7181		; 00001c0dH
  014b4	66 3b c1	 cmp	 ax, cx
  014b7	74 32		 je	 SHORT $LN67@gObjMonste@19
  014b9	ba 0e 1c 00 00	 mov	 edx, 7182		; 00001c0eH
  014be	66 3b c2	 cmp	 ax, dx
  014c1	74 28		 je	 SHORT $LN67@gObjMonste@19
  014c3	b9 10 1c 00 00	 mov	 ecx, 7184		; 00001c10H
  014c8	66 3b c1	 cmp	 ax, cx
  014cb	74 1e		 je	 SHORT $LN67@gObjMonste@19
  014cd	ba 16 1c 00 00	 mov	 edx, 7190		; 00001c16H
  014d2	66 3b c2	 cmp	 ax, dx
  014d5	74 14		 je	 SHORT $LN67@gObjMonste@19
  014d7	b9 0f 18 00 00	 mov	 ecx, 6159		; 0000180fH
  014dc	66 3b c1	 cmp	 ax, cx
  014df	74 0a		 je	 SHORT $LN67@gObjMonste@19
  014e1	ba 1f 1c 00 00	 mov	 edx, 7199		; 00001c1fH
  014e6	66 3b c2	 cmp	 ax, dx
  014e9	75 21		 jne	 SHORT $LN66@gObjMonste@19
$LN67@gObjMonste@19:

; 4164 : 			{
; 4165 : 				if ( (rand()%100) > g_CrywolfSync.GetGemDropPenaltiyRate() )

  014eb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  014f0	e8 00 00 00 00	 call	 ?GetGemDropPenaltiyRate@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetGemDropPenaltiyRate
  014f5	8b d8		 mov	 ebx, eax
  014f7	e8 00 00 00 00	 call	 _rand
  014fc	99		 cdq
  014fd	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  01502	f7 f9		 idiv	 ecx
  01504	3b d3		 cmp	 edx, ebx
  01506	0f 8f b2 fd ff
	ff		 jg	 $LN280@gObjMonste@19
$LN66@gObjMonste@19:

; 4166 : 				{
; 4167 : 					item_drop = FALSE;
; 4168 : 				}
; 4169 : 
; 4170 : 			}
; 4171 : 		}
; 4172 : 	}
; 4173 : 
; 4174 : 	if ( item_drop)

  0150c	83 7d ec 00	 cmp	 DWORD PTR _item_drop$[ebp], 0
  01510	0f 84 a8 fd ff
	ff		 je	 $LN280@gObjMonste@19

; 4175 : 	{
; 4176 : 		type = DropItem->m_Type;

  01516	8b 45 e8	 mov	 eax, DWORD PTR _DropItem$[ebp]
  01519	0f bf 48 06	 movsx	 ecx, WORD PTR [eax+6]

; 4177 : 		level = DropItem->m_Level;

  0151d	0f bf 50 08	 movsx	 edx, WORD PTR [eax+8]

; 4178 : 
; 4179 : 		if ( ExtDropPer == TRUE )

  01521	8b 7d cc	 mov	 edi, DWORD PTR _ExtDropPer$[ebp]
  01524	89 4d e4	 mov	 DWORD PTR tv2709[ebp], ecx
  01527	89 55 ec	 mov	 DWORD PTR _level$[ebp], edx
  0152a	83 ff 01	 cmp	 edi, 1
  0152d	75 16		 jne	 SHORT $LN64@gObjMonste@19

; 4180 : 		{
; 4181 : 			dur = (float)ItemGetDurability(DropItem->m_Type, 0, 1, 0);

  0152f	6a 00		 push	 0
  01531	57		 push	 edi
  01532	6a 00		 push	 0
  01534	51		 push	 ecx
  01535	e8 00 00 00 00	 call	 ?ItemGetDurability@@YAHHHHH@Z ; ItemGetDurability
  0153a	89 45 d0	 mov	 DWORD PTR tv2751[ebp], eax
  0153d	db 45 d0	 fild	 DWORD PTR tv2751[ebp]
  01540	83 c4 10	 add	 esp, 16			; 00000010H

; 4182 : 		}
; 4183 : 		else

  01543	eb 03		 jmp	 SHORT $LN316@gObjMonste@19
$LN64@gObjMonste@19:

; 4184 : 		{
; 4185 : 			dur = DropItem->m_Durability;

  01545	d9 40 24	 fld	 DWORD PTR [eax+36]
$LN316@gObjMonste@19:

; 4186 : 		}
; 4187 : 
; 4188 : 		x = lpObj->X;

  01548	0f bf 86 44 01
	00 00		 movsx	 eax, WORD PTR [esi+324]
  0154f	d9 5d d8	 fstp	 DWORD PTR _dur$[ebp]

; 4189 : 		y = lpObj->Y;

  01552	0f bf 8e 46 01
	00 00		 movsx	 ecx, WORD PTR [esi+326]
  01559	89 45 e0	 mov	 DWORD PTR _x$[ebp], eax
  0155c	89 4d c8	 mov	 DWORD PTR _y$[ebp], ecx

; 4190 : 
; 4191 : 		int option1rand;
; 4192 : 		int option2rand;
; 4193 : 		int option3rand;
; 4194 : 		int optionc;
; 4195 : 
; 4196 : 		if ( ExtDropPer == TRUE )

  0155f	83 ff 01	 cmp	 edi, 1
  01562	0f 85 78 00 00
	00		 jne	 $LN62@gObjMonste@19

; 4197 : 		{
; 4198 : 			option1rand=100;

  01568	bf 64 00 00 00	 mov	 edi, 100		; 00000064H

; 4199 : 			option2rand=1;

  0156d	8d 5f 9d	 lea	 ebx, DWORD PTR [edi-99]

; 4200 : 			option3rand=rand()%100;

  01570	e8 00 00 00 00	 call	 _rand
  01575	99		 cdq
  01576	8b cf		 mov	 ecx, edi
  01578	f7 f9		 idiv	 ecx
  0157a	89 55 cc	 mov	 DWORD PTR _option3rand$228920[ebp], edx

; 4201 : 			optionc=rand()%3;

  0157d	e8 00 00 00 00	 call	 _rand
  01582	99		 cdq
  01583	b9 03 00 00 00	 mov	 ecx, 3
  01588	f7 f9		 idiv	 ecx

; 4202 : 
; 4203 : 			if( g_ZtLicense.CheckUser(eZtUB::ulasevich) || g_ZtLicense.CheckUser(eZtUB::ulasevich2) )

  0158a	6a 17		 push	 23			; 00000017H
  0158c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  01591	89 55 d0	 mov	 DWORD PTR _optionc$228921[ebp], edx
  01594	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  01599	84 c0		 test	 al, al
  0159b	75 36		 jne	 SHORT $LN60@gObjMonste@19
  0159d	6a 24		 push	 36			; 00000024H
  0159f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  015a4	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  015a9	84 c0		 test	 al, al
  015ab	75 26		 jne	 SHORT $LN60@gObjMonste@19

; 4206 : 			}
; 4207 : 			else
; 4208 : 			{
; 4209 : 				//NOption = NewOptionRand(lpObj->Level);
; 4210 : 				int iRandExl = rand() % 2;

  015ad	e8 00 00 00 00	 call	 _rand
  015b2	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  015b7	79 05		 jns	 SHORT $LN312@gObjMonste@19
  015b9	48		 dec	 eax
  015ba	83 c8 fe	 or	 eax, -2			; fffffffeH
  015bd	40		 inc	 eax
$LN312@gObjMonste@19:

; 4211 : 				NOption = NewOptionRand(iRandExl);

  015be	50		 push	 eax
  015bf	e8 00 00 00 00	 call	 ?NewOptionRand@@YAEH@Z	; NewOptionRand
  015c4	83 c4 04	 add	 esp, 4
  015c7	88 45 dc	 mov	 BYTE PTR _NOption$[ebp], al

; 4212 : 			}
; 4213 : 			
; 4214 : 			level = 0;

  015ca	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _level$[ebp], 0

; 4215 : 		}
; 4216 : 		else

  015d1	eb 39		 jmp	 SHORT $LN58@gObjMonste@19
$LN60@gObjMonste@19:

; 4204 : 			{
; 4205 : 				NOption = 0;

  015d3	c6 45 dc 00	 mov	 BYTE PTR _NOption$[ebp], 0

; 4212 : 			}
; 4213 : 			
; 4214 : 			level = 0;

  015d7	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _level$[ebp], 0

; 4215 : 		}
; 4216 : 		else

  015de	eb 2c		 jmp	 SHORT $LN58@gObjMonste@19
$LN62@gObjMonste@19:

; 4217 : 		{
; 4218 : 			option1rand=6;

  015e0	bf 06 00 00 00	 mov	 edi, 6

; 4219 : 			option2rand=4;

  015e5	8d 5f fe	 lea	 ebx, DWORD PTR [edi-2]

; 4220 : 			option3rand=rand()%100;

  015e8	e8 00 00 00 00	 call	 _rand
  015ed	99		 cdq
  015ee	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  015f3	f7 f9		 idiv	 ecx
  015f5	89 55 cc	 mov	 DWORD PTR _option3rand$228920[ebp], edx

; 4221 : 			optionc=rand()%3;

  015f8	e8 00 00 00 00	 call	 _rand
  015fd	99		 cdq
  015fe	b9 03 00 00 00	 mov	 ecx, 3
  01603	f7 f9		 idiv	 ecx

; 4222 : 			NOption = 0;

  01605	c6 45 dc 00	 mov	 BYTE PTR _NOption$[ebp], 0
  01609	89 55 d0	 mov	 DWORD PTR _optionc$228921[ebp], edx
$LN58@gObjMonste@19:

; 4223 : 		}
; 4224 : 
; 4225 : 		if ( (rand()%100) < option1rand )

  0160c	e8 00 00 00 00	 call	 _rand
  01611	99		 cdq
  01612	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  01617	f7 f9		 idiv	 ecx
  01619	3b d7		 cmp	 edx, edi
  0161b	7d 07		 jge	 SHORT $LN284@gObjMonste@19

; 4226 : 			Option1 = 1;

  0161d	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _Option1$[ebp], 1
$LN284@gObjMonste@19:

; 4227 : 
; 4228 : 		if ( (rand()%100) < option2rand )

  01624	e8 00 00 00 00	 call	 _rand
  01629	99		 cdq
  0162a	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0162f	f7 f9		 idiv	 ecx
  01631	3b d3		 cmp	 edx, ebx

; 4229 : 			Option2 = 1;

  01633	8d 59 9d	 lea	 ebx, DWORD PTR [ecx-99]
  01636	7c 03		 jl	 SHORT $LN56@gObjMonste@19
  01638	8b 5d c4	 mov	 ebx, DWORD PTR _Option2$[ebp]
$LN56@gObjMonste@19:

; 4230 : 
; 4231 : 		switch ( optionc )

  0163b	8b 45 d0	 mov	 eax, DWORD PTR _optionc$228921[ebp]
  0163e	83 e8 00	 sub	 eax, 0
  01641	74 1e		 je	 SHORT $LN53@gObjMonste@19
  01643	48		 dec	 eax
  01644	74 0e		 je	 SHORT $LN51@gObjMonste@19
  01646	48		 dec	 eax
  01647	75 23		 jne	 SHORT $LN286@gObjMonste@19

; 4241 : 			case 2:
; 4242 : 				if ( option3rand < 12 )

  01649	83 7d cc 0c	 cmp	 DWORD PTR _option3rand$228920[ebp], 12 ; 0000000cH
  0164d	7d 1d		 jge	 SHORT $LN286@gObjMonste@19

; 4243 : 					Option3=1;

  0164f	8d 78 01	 lea	 edi, DWORD PTR [eax+1]

; 4244 : 				break;

  01652	eb 1b		 jmp	 SHORT $LN52@gObjMonste@19
$LN51@gObjMonste@19:

; 4236 : 				break;
; 4237 : 			case 1:
; 4238 : 				if ( option3rand < 8 )

  01654	83 7d cc 08	 cmp	 DWORD PTR _option3rand$228920[ebp], 8
  01658	7d 12		 jge	 SHORT $LN286@gObjMonste@19

; 4239 : 					Option3=2;

  0165a	bf 02 00 00 00	 mov	 edi, 2

; 4240 : 				break;

  0165f	eb 0e		 jmp	 SHORT $LN52@gObjMonste@19
$LN53@gObjMonste@19:

; 4232 : 		{
; 4233 : 			case 0:
; 4234 : 				if ( option3rand < 4 )

  01661	83 7d cc 04	 cmp	 DWORD PTR _option3rand$228920[ebp], 4

; 4235 : 					Option3=3;

  01665	bf 03 00 00 00	 mov	 edi, 3
  0166a	7c 03		 jl	 SHORT $LN52@gObjMonste@19
$LN286@gObjMonste@19:
  0166c	8b 7d f8	 mov	 edi, DWORD PTR _Option3$[ebp]
$LN52@gObjMonste@19:

; 4245 : 		}
; 4246 : 
; 4247 : 		if ( lpObj->Class == 43 ) // Golden Budge Dragon

  0166f	66 83 be b8 00
	00 00 2b	 cmp	 WORD PTR [esi+184], 43	; 0000002bH
  01677	75 1b		 jne	 SHORT $LN47@gObjMonste@19

; 4248 : 		{
; 4249 : 			Option1 = DropItem->m_Option1;

  01679	8b 45 e8	 mov	 eax, DWORD PTR _DropItem$[ebp]
  0167c	0f b6 90 94 00
	00 00		 movzx	 edx, BYTE PTR [eax+148]

; 4250 : 			Option2 = DropItem->m_Option2;

  01683	0f b6 98 95 00
	00 00		 movzx	 ebx, BYTE PTR [eax+149]

; 4251 : 			Option3 = DropItem->m_Option3;

  0168a	0f b6 b8 96 00
	00 00		 movzx	 edi, BYTE PTR [eax+150]
  01691	89 55 d4	 mov	 DWORD PTR _Option1$[ebp], edx
$LN47@gObjMonste@19:

; 4252 : 		}
; 4253 : 
; 4254 : 		if ( type == ITEMGET(12,15) ||	// Chaos
; 4255 : 			 type == ITEMGET(14,13) ||	// Bless
; 4256 : 			 type == ITEMGET(14,14) ||	// Soul
; 4257 : 			 type == ITEMGET(14,31) ||	// Guardian
; 4258 : 			 type == ITEMGET(14,16))	// Life

  01694	8b 45 e4	 mov	 eax, DWORD PTR tv2709[ebp]
  01697	3d 0f 18 00 00	 cmp	 eax, 6159		; 0000180fH
  0169c	74 1c		 je	 SHORT $LN45@gObjMonste@19
  0169e	3d 0d 1c 00 00	 cmp	 eax, 7181		; 00001c0dH
  016a3	74 15		 je	 SHORT $LN45@gObjMonste@19
  016a5	3d 0e 1c 00 00	 cmp	 eax, 7182		; 00001c0eH
  016aa	74 0e		 je	 SHORT $LN45@gObjMonste@19
  016ac	3d 1f 1c 00 00	 cmp	 eax, 7199		; 00001c1fH
  016b1	74 07		 je	 SHORT $LN45@gObjMonste@19
  016b3	3d 10 1c 00 00	 cmp	 eax, 7184		; 00001c10H
  016b8	75 0e		 jne	 SHORT $LN46@gObjMonste@19
$LN45@gObjMonste@19:

; 4259 : 		{
; 4260 : 			Option1=0;
; 4261 : 			Option2=0;

  016ba	33 db		 xor	 ebx, ebx
  016bc	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _Option1$[ebp], 0

; 4262 : 			Option3=0;

  016c3	33 ff		 xor	 edi, edi

; 4263 : 			NOption=0;

  016c5	88 5d dc	 mov	 BYTE PTR _NOption$[ebp], bl
$LN46@gObjMonste@19:

; 4264 : 		}
; 4265 : 
; 4266 : 		//if(g_ZtLicense.CheckUser(Local) || g_ZtLicense.CheckUser(ulasevich) || g_ZtLicense.CheckUser(ulasevich2) || g_ZtLicense.CheckUser(MU2Play))
; 4267 : 		//{
; 4268 : 			if(!gItemDropManager.BlockItemDrop(lpObj->m_Index,type,lpObj->MapNumber))

  016c8	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  016cf	8b 4d e4	 mov	 ecx, DWORD PTR tv2709[ebp]
  016d2	8b 16		 mov	 edx, DWORD PTR [esi]
  016d4	50		 push	 eax
  016d5	51		 push	 ecx
  016d6	52		 push	 edx
  016d7	b9 00 00 00 00	 mov	 ecx, OFFSET ?gItemDropManager@@3VCItemDropManager@@A ; gItemDropManager
  016dc	e8 00 00 00 00	 call	 ?BlockItemDrop@CItemDropManager@@QAE_NHHH@Z ; CItemDropManager::BlockItemDrop
  016e1	84 c0		 test	 al, al
  016e3	0f 84 21 05 00
	00		 je	 $LN188@gObjMonste@19

; 4269 : 			{
; 4270 : 				return;
; 4271 : 			}
; 4272 : 		//}
; 4273 : 
; 4274 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  016e9	56		 push	 esi
  016ea	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 4275 : 
; 4276 : 		if ( DropItem->m_serial )
; 4277 : 		{
; 4278 : 			ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y, type, (BYTE)level, (BYTE)dur,
; 4279 : 				(BYTE)Option1, (BYTE)Option2, (BYTE)Option3, MaxHitUser, (BYTE)NOption, 0);

  016ef	d9 45 d8	 fld	 DWORD PTR _dur$[ebp]
  016f2	8b 4d e8	 mov	 ecx, DWORD PTR _DropItem$[ebp]
  016f5	83 c4 04	 add	 esp, 4
  016f8	80 79 04 00	 cmp	 BYTE PTR [ecx+4], 0
  016fc	74 54		 je	 SHORT $LN43@gObjMonste@19
  016fe	8b 55 dc	 mov	 edx, DWORD PTR _NOption$[ebp]
  01701	d9 7d ea	 fnstcw	 WORD PTR tv2697[ebp]
  01704	6a 00		 push	 0
  01706	52		 push	 edx
  01707	50		 push	 eax
  01708	8b 45 d4	 mov	 eax, DWORD PTR _Option1$[ebp]
  0170b	57		 push	 edi
  0170c	53		 push	 ebx
  0170d	50		 push	 eax
  0170e	0f b7 45 ea	 movzx	 eax, WORD PTR tv2697[ebp]
  01712	0d 00 0c 00 00	 or	 eax, 3072		; 00000c00H
  01717	89 45 f8	 mov	 DWORD PTR tv2694[ebp], eax
  0171a	8b 45 ec	 mov	 eax, DWORD PTR _level$[ebp]
  0171d	d9 6d f8	 fldcw	 WORD PTR tv2694[ebp]
  01720	db 5d f8	 fistp	 DWORD PTR tv2692[ebp]
  01723	8a 4d f8	 mov	 cl, BYTE PTR tv2692[ebp]
  01726	0f b6 d1	 movzx	 edx, cl
  01729	8b 4d e4	 mov	 ecx, DWORD PTR tv2709[ebp]
  0172c	52		 push	 edx
  0172d	8b 55 c8	 mov	 edx, DWORD PTR _y$[ebp]
  01730	d9 6d ea	 fldcw	 WORD PTR tv2697[ebp]
  01733	50		 push	 eax
  01734	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  01737	51		 push	 ecx
  01738	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  0173f	52		 push	 edx
  01740	8b 16		 mov	 edx, DWORD PTR [esi]
  01742	50		 push	 eax
  01743	51		 push	 ecx
  01744	52		 push	 edx
  01745	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  0174a	83 c4 34	 add	 esp, 52			; 00000034H

; 4280 : 		}
; 4281 : 		else

  0174d	e9 ce 02 00 00	 jmp	 $LN283@gObjMonste@19
$LN43@gObjMonste@19:

; 4282 : 		{
; 4283 : 			MapC[lpObj->MapNumber].MonsterItemDrop(type, level, dur, x, y, 
; 4284 : 				Option1, Option2, Option3, NOption, 0, MaxHitUser, 0, 0, 0, 0xFF);

  01752	8b 4d d4	 mov	 ecx, DWORD PTR _Option1$[ebp]
  01755	8b 55 c8	 mov	 edx, DWORD PTR _y$[ebp]
  01758	68 ff 00 00 00	 push	 255			; 000000ffH
  0175d	6a 00		 push	 0
  0175f	6a 00		 push	 0
  01761	6a 00		 push	 0
  01763	50		 push	 eax
  01764	8b 45 dc	 mov	 eax, DWORD PTR _NOption$[ebp]
  01767	6a 00		 push	 0
  01769	50		 push	 eax
  0176a	8b 45 e0	 mov	 eax, DWORD PTR _x$[ebp]
  0176d	57		 push	 edi
  0176e	53		 push	 ebx
  0176f	51		 push	 ecx
  01770	52		 push	 edx
  01771	8b 55 e4	 mov	 edx, DWORD PTR tv2709[ebp]
  01774	50		 push	 eax
  01775	51		 push	 ecx
  01776	8b 4d ec	 mov	 ecx, DWORD PTR _level$[ebp]
  01779	d9 1c 24	 fstp	 DWORD PTR [esp]
  0177c	51		 push	 ecx
  0177d	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  01784	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  0178a	52		 push	 edx
  0178b	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  01791	e8 00 00 00 00	 call	 ?MonsterItemDrop@MapClass@@QAEHHHMHHEEEEEHKEQAEE@Z ; MapClass::MonsterItemDrop

; 4285 : 		}

  01796	e9 85 02 00 00	 jmp	 $LN283@gObjMonste@19
$LN290@gObjMonste@19:

; 4316 : 		{
; 4317 :            money = 1.0f;

  0179b	dd d9		 fstp	 ST(1)
$LN33@gObjMonste@19:

; 4318 : 		}
; 4319 : 
; 4320 : 		if ( DS_MAP_RANGE(lpObj->MapNumber) )

  0179d	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  017a3	3c 09		 cmp	 al, 9
  017a5	74 0d		 je	 SHORT $LN282@gObjMonste@19
  017a7	33 c9		 xor	 ecx, ecx
  017a9	3c 20		 cmp	 al, 32			; 00000020H
  017ab	0f 94 c1	 sete	 cl
  017ae	8b c1		 mov	 eax, ecx
  017b0	85 c0		 test	 eax, eax
  017b2	74 31		 je	 SHORT $LN32@gObjMonste@19
$LN282@gObjMonste@19:

; 4321 : 		{
; 4322 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  017b4	56		 push	 esi
  017b5	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  017ba	83 c4 04	 add	 esp, 4

; 4323 : 
; 4324 : 			if( MaxHitUser == -1)

  017bd	83 f8 ff	 cmp	 eax, -1
  017c0	0f 84 42 04 00
	00		 je	 $LN303@gObjMonste@19

; 4325 : 			{
; 4326 : 				return;
; 4327 : 			}
; 4328 : 
; 4329 : 			gObj[MaxHitUser].m_nEventMoney += (__int64)money;

  017c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  017cc	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  017d2	8d bc 10 98 0e
	00 00		 lea	 edi, DWORD PTR [eax+edx+3736]
  017d9	e8 00 00 00 00	 call	 __ftol2
  017de	01 07		 add	 DWORD PTR [edi], eax

; 4330 : 		}
; 4331 : 		else

  017e0	e9 3b 02 00 00	 jmp	 $LN283@gObjMonste@19
$LN32@gObjMonste@19:

; 4332 : 		{
; 4333 : 			if(lpTargetObj->PartyNumber != -1)

  017e5	83 bf 2c 04 00
	00 ff		 cmp	 DWORD PTR [edi+1068], -1
  017ec	74 0c		 je	 SHORT $LN29@gObjMonste@19

; 4334 : 			{
; 4335 : 				money = money * ExDropZenParty;

  017ee	da 0d 00 00 00
	00		 fimul	 DWORD PTR ?ExDropZenParty@@3HA ; ExDropZenParty
  017f4	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
  017f7	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
$LN29@gObjMonste@19:

; 4336 : 			}
; 4337 : 			if ( lpTargetObj->m_Change == 503 ) //Panda Ring (Season 4.6 Add-on)

  017fa	81 bf 54 04 00
	00 f7 01 00 00	 cmp	 DWORD PTR [edi+1108], 503 ; 000001f7H
  01804	75 15		 jne	 SHORT $LN300@gObjMonste@19

; 4338 : 			{
; 4339 : 				money = money + ( money * ZtConfig.Pet.Zt_PandaRingZen / 100 );

  01806	db 05 9c 08 00
	00		 fild	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2204
  0180c	d8 c9		 fmul	 ST(0), ST(1)
  0180e	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  01814	de c1		 faddp	 ST(1), ST(0)
  01816	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
  01819	eb 02		 jmp	 SHORT $LN28@gObjMonste@19
$LN300@gObjMonste@19:
  0181b	dd d8		 fstp	 ST(0)
$LN28@gObjMonste@19:

; 4340 : 			}
; 4341 : 			//Master Drop Zen
; 4342 : 			
; 4343 : #ifdef PRIDEMU_CONFIG
; 4344 : 		if(lpTargetObj->Level == 400 && ( lpTargetObj->DbClass == 3 || lpTargetObj->DbClass == 19 || 
; 4345 : 					lpTargetObj->DbClass == 35 || lpTargetObj->DbClass == 50 || lpTargetObj->DbClass == 66 || lpTargetObj->DbClass == 83 || lpTargetObj->DbClass ==98) )

  0181d	b8 90 01 00 00	 mov	 eax, 400		; 00000190H
  01822	66 39 87 be 00
	00 00		 cmp	 WORD PTR [edi+190], ax
  01829	0f 85 b4 00 00
	00		 jne	 $LN20@gObjMonste@19
  0182f	8a 87 ba 00 00
	00		 mov	 al, BYTE PTR [edi+186]
  01835	3c 03		 cmp	 al, 3
  01837	74 1c		 je	 SHORT $LN26@gObjMonste@19
  01839	3c 13		 cmp	 al, 19			; 00000013H
  0183b	74 18		 je	 SHORT $LN26@gObjMonste@19
  0183d	3c 23		 cmp	 al, 35			; 00000023H
  0183f	74 14		 je	 SHORT $LN26@gObjMonste@19
  01841	3c 32		 cmp	 al, 50			; 00000032H
  01843	74 10		 je	 SHORT $LN26@gObjMonste@19
  01845	3c 42		 cmp	 al, 66			; 00000042H
  01847	74 0c		 je	 SHORT $LN26@gObjMonste@19
  01849	3c 53		 cmp	 al, 83			; 00000053H
  0184b	74 08		 je	 SHORT $LN26@gObjMonste@19
  0184d	3c 62		 cmp	 al, 98			; 00000062H
  0184f	0f 85 8e 00 00
	00		 jne	 $LN20@gObjMonste@19
$LN26@gObjMonste@19:

; 4346 : 				{
; 4347 : 					if(g_ZtLicense.CheckUser(eZtUB::PrideMuLocal) || g_ZtLicense.CheckUser(eZtUB::PrideMu) || g_ZtLicense.CheckUser(eZtUB::Local3) || g_ZtLicense.CheckUser(eZtUB::Local))

  01855	6a 1a		 push	 26			; 0000001aH
  01857	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0185c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  01861	84 c0		 test	 al, al
  01863	75 3b		 jne	 SHORT $LN24@gObjMonste@19
  01865	6a 11		 push	 17			; 00000011H
  01867	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0186c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  01871	84 c0		 test	 al, al
  01873	75 2b		 jne	 SHORT $LN24@gObjMonste@19
  01875	6a 1c		 push	 28			; 0000001cH
  01877	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0187c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  01881	84 c0		 test	 al, al
  01883	75 1b		 jne	 SHORT $LN24@gObjMonste@19
  01885	6a 00		 push	 0
  01887	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0188c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  01891	84 c0		 test	 al, al
  01893	75 0b		 jne	 SHORT $LN24@gObjMonste@19

; 4361 : 						}
; 4362 : 
; 4363 : 					}
; 4364 : 					else
; 4365 : 					{
; 4366 : 						money = money * ZtConfig.CommonServer.Zt_MasterDropZen;

  01895	db 05 a8 00 00
	00		 fild	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+168
  0189b	d8 4d ec	 fmul	 DWORD PTR _money$228962[ebp]
  0189e	eb 40		 jmp	 SHORT $LN317@gObjMonste@19
$LN24@gObjMonste@19:

; 4348 : 					{
; 4349 : 						if (ZtConfig.PrideMu.MasterMoney < 1)

  018a0	b8 01 00 00 00	 mov	 eax, 1
  018a5	39 05 a0 0b 00
	00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2976, eax
  018ab	7d 0b		 jge	 SHORT $LN23@gObjMonste@19

; 4350 : 						{
; 4351 : 							money = money * ZtConfig.CommonServer.Zt_MasterDropZen;

  018ad	db 05 a8 00 00
	00		 fild	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+168
  018b3	d8 4d ec	 fmul	 DWORD PTR _money$228962[ebp]
  018b6	eb 28		 jmp	 SHORT $LN317@gObjMonste@19
$LN23@gObjMonste@19:

; 4352 : 						}
; 4353 : 						else if (ZtConfig.PrideMu.DiapasonMasterMoney < 1)

  018b8	39 05 a4 0b 00
	00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2980, eax
  018be	7d 08		 jge	 SHORT $LN21@gObjMonste@19

; 4354 : 						{
; 4355 : 							money = ZtConfig.PrideMu.MasterMoney;

  018c0	db 05 a0 0b 00
	00		 fild	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2976

; 4356 : 						}
; 4357 : 						else

  018c6	eb 18		 jmp	 SHORT $LN317@gObjMonste@19
$LN21@gObjMonste@19:

; 4358 : 						{
; 4359 : 							
; 4360 : 							money = (rand() % ZtConfig.PrideMu.DiapasonMasterMoney) + ZtConfig.PrideMu.MasterMoney;

  018c8	e8 00 00 00 00	 call	 _rand
  018cd	99		 cdq
  018ce	f7 3d a4 0b 00
	00		 idiv	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2980
  018d4	03 15 a0 0b 00
	00		 add	 edx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+2976
  018da	89 55 f8	 mov	 DWORD PTR tv2628[ebp], edx
  018dd	db 45 f8	 fild	 DWORD PTR tv2628[ebp]
$LN317@gObjMonste@19:
  018e0	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
$LN20@gObjMonste@19:

; 4367 : 					}
; 4368 : 				}
; 4369 : #else		
; 4370 : 		if(lpTargetObj->Level == 400 && ( lpTargetObj->DbClass == 3 || lpTargetObj->DbClass == 19 || 
; 4371 : 				lpTargetObj->DbClass == 35 || lpTargetObj->DbClass == 50 || lpTargetObj->DbClass == 66 || lpTargetObj->DbClass == 83))
; 4372 : 				{
; 4373 : 					money = money * ZtConfig.CommonServer.Zt_MasterDropZen;
; 4374 : 				}
; 4375 : 
; 4376 : 			
; 4377 : #endif
; 4378 : 
; 4379 : 			HappyHour.UserBonusZen(money);

  018e3	8d 4d ec	 lea	 ecx, DWORD PTR _money$228962[ebp]
  018e6	51		 push	 ecx
  018e7	b9 00 00 00 00	 mov	 ecx, OFFSET ?HappyHour@@3VcHappyHour@@A ; HappyHour
  018ec	e8 00 00 00 00	 call	 ?UserBonusZen@cHappyHour@@QAEXAAM@Z ; cHappyHour::UserBonusZen

; 4380 : 
; 4381 : 			Premium.Zen(lpTargetObj,money);// Conflict Bag lpObj => lpTargetObj 

  018f1	8d 55 ec	 lea	 edx, DWORD PTR _money$228962[ebp]
  018f4	52		 push	 edx
  018f5	57		 push	 edi
  018f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?Premium@@3VPremiumSystem@@A ; Premium
  018fb	e8 00 00 00 00	 call	 ?Zen@PremiumSystem@@QAEXPAUOBJECTSTRUCT@@AAM@Z ; PremiumSystem::Zen

; 4382 : 
; 4383 : 			if(g_ZtLicense.user.Rage)

  01900	80 3d cd 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+205, 0
  01907	74 11		 je	 SHORT $LN18@gObjMonste@19

; 4384 : 			{
; 4385 : 				gSystemOfRage.DropZen (lpObj->m_Index, money);

  01909	8b 0e		 mov	 ecx, DWORD PTR [esi]
  0190b	8d 45 ec	 lea	 eax, DWORD PTR _money$228962[ebp]
  0190e	50		 push	 eax
  0190f	51		 push	 ecx
  01910	b9 00 00 00 00	 mov	 ecx, OFFSET ?gSystemOfRage@@3VcSystemOfRage@@A ; gSystemOfRage
  01915	e8 00 00 00 00	 call	 ?DropZen@cSystemOfRage@@QAEXHAAM@Z ; cSystemOfRage::DropZen
$LN18@gObjMonste@19:

; 4386 : 			}
; 4387 : 
; 4388 : 			if(g_ZtLicense.user.WinQuest) gWinQuestSystem.ZenOption(lpObj->m_Index, money);

  0191a	80 3d ce 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+206, 0
  01921	74 11		 je	 SHORT $LN17@gObjMonste@19
  01923	8b 06		 mov	 eax, DWORD PTR [esi]
  01925	8d 55 ec	 lea	 edx, DWORD PTR _money$228962[ebp]
  01928	52		 push	 edx
  01929	50		 push	 eax
  0192a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gWinQuestSystem@@3VcWinQuestSystem@@A ; gWinQuestSystem
  0192f	e8 00 00 00 00	 call	 ?ZenOption@cWinQuestSystem@@QAEXHAAM@Z ; cWinQuestSystem::ZenOption
$LN17@gObjMonste@19:

; 4389 : 
; 4390 : 			gExclusiveOptions.DropZen(lpObj->m_Index, money);

  01934	8b 16		 mov	 edx, DWORD PTR [esi]
  01936	8d 4d ec	 lea	 ecx, DWORD PTR _money$228962[ebp]
  01939	51		 push	 ecx
  0193a	52		 push	 edx
  0193b	b9 00 00 00 00	 mov	 ecx, OFFSET ?gExclusiveOptions@@3VcExclusiveOptions@@A ; gExclusiveOptions
  01940	e8 00 00 00 00	 call	 ?DropZen@cExclusiveOptions@@QAEXHAAM@Z ; cExclusiveOptions::DropZen

; 4391 : 
; 4392 : 			#if(ENABLE_PETZT)
; 4393 : 			g_PetZt.Zen(lpObj->m_Index, money);

  01945	8b 0e		 mov	 ecx, DWORD PTR [esi]
  01947	8d 45 ec	 lea	 eax, DWORD PTR _money$228962[ebp]
  0194a	50		 push	 eax
  0194b	51		 push	 ecx
  0194c	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_PetZt@@3VCPetZt@@A ; g_PetZt
  01951	e8 00 00 00 00	 call	 ?Zen@CPetZt@@QAEXHAAM@Z	; CPetZt::Zen

; 4394 : 			#endif
; 4395 : 
; 4396 : 			#if(SYSTEMOF_BROTHER==TRUE)
; 4397 : 			gBrotherhood.UserBonusZen(lpObj,money);

  01956	8d 55 ec	 lea	 edx, DWORD PTR _money$228962[ebp]
  01959	52		 push	 edx
  0195a	56		 push	 esi
  0195b	b9 00 00 00 00	 mov	 ecx, OFFSET ?gBrotherhood@@3VBrotherhood@@A ; gBrotherhood
  01960	e8 00 00 00 00	 call	 ?UserBonusZen@Brotherhood@@QAEXPAUOBJECTSTRUCT@@AAM@Z ; Brotherhood::UserBonusZen

; 4398 : 			#endif
; 4399 : 
; 4400 : 			money = ( money * ZtConfig.CommonServer.ProcentDropZen ) / 100;

  01965	db 05 f0 00 00
	00		 fild	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+240

; 4401 : 
; 4402 : 			if (ZtConfig.CommonServer.MaxDropZen > 0)

  0196b	83 3d ec 00 00
	00 00		 cmp	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+236, 0
  01972	d8 4d ec	 fmul	 DWORD PTR _money$228962[ebp]
  01975	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  0197b	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
  0197e	7e 21		 jle	 SHORT $LN15@gObjMonste@19

; 4403 : 			{
; 4404 : 				if (money > ZtConfig.CommonServer.MaxDropZen)

  01980	db 05 ec 00 00
	00		 fild	 DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+236
  01986	d9 5d f8	 fstp	 DWORD PTR tv2883[ebp]
  01989	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
  0198c	d9 45 f8	 fld	 DWORD PTR tv2883[ebp]
  0198f	d8 d1		 fcom	 ST(1)
  01991	df e0		 fnstsw	 ax
  01993	dd d9		 fstp	 ST(1)
  01995	f6 c4 05	 test	 ah, 5
  01998	7a 05		 jp	 SHORT $LN306@gObjMonste@19

; 4405 : 				{
; 4406 : 					money = ZtConfig.CommonServer.MaxDropZen;

  0199a	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
  0199d	eb 02		 jmp	 SHORT $LN15@gObjMonste@19
$LN306@gObjMonste@19:
  0199f	dd d8		 fstp	 ST(0)
$LN15@gObjMonste@19:

; 4407 : 				}
; 4408 : 			}
; 4409 : 
; 4410 : 			#if(CUSTOM_PREMIUM_SYSTEM==TRUE)
; 4411 : 			g_PremiumSystemZt.UserZenPlus(lpObj->m_Index, money);

  019a1	8b 0e		 mov	 ecx, DWORD PTR [esi]
  019a3	8d 45 ec	 lea	 eax, DWORD PTR _money$228962[ebp]
  019a6	50		 push	 eax
  019a7	51		 push	 ecx
  019a8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_PremiumSystemZt@@3VPremiumSystemZt@@A ; g_PremiumSystemZt
  019ad	e8 00 00 00 00	 call	 ?UserZenPlus@PremiumSystemZt@@QAEXHAAM@Z ; PremiumSystemZt::UserZenPlus

; 4412 : 			#endif
; 4413 : 
; 4414 : 			#if(CUSTOM_NPC_BUFFER==TRUE)
; 4415 : 			if(g_ZtLicense.user.NpcBuffer)

  019b2	80 3d dd 00 00
	00 00		 cmp	 BYTE PTR ?g_ZtLicense@@3VCZtLicense@@A+221, 0
  019b9	74 1f		 je	 SHORT $LN13@gObjMonste@19

; 4416 : 			{
; 4417 : 				if( lpTargetObj->DropBuffTime > 0 )

  019bb	83 bf a0 28 00
	00 00		 cmp	 DWORD PTR [edi+10400], 0
  019c2	76 16		 jbe	 SHORT $LN13@gObjMonste@19

; 4418 : 				{
; 4419 : 					money += ( money * 50 ) / 100;

  019c4	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
  019c7	dd 05 00 00 00
	00		 fld	 QWORD PTR __real@4049000000000000
  019cd	d8 c9		 fmul	 ST(0), ST(1)
  019cf	dc 35 00 00 00
	00		 fdiv	 QWORD PTR __real@4059000000000000
  019d5	de c1		 faddp	 ST(1), ST(0)
  019d7	d9 5d ec	 fstp	 DWORD PTR _money$228962[ebp]
$LN13@gObjMonste@19:

; 4420 : 				}
; 4421 : 			}
; 4422 : 			#endif
; 4423 : 
; 4424 : 			DropZenManager.Main(lpObj,money);

  019da	8d 55 ec	 lea	 edx, DWORD PTR _money$228962[ebp]
  019dd	52		 push	 edx
  019de	56		 push	 esi
  019df	b9 00 00 00 00	 mov	 ecx, OFFSET ?DropZenManager@@3VcDropZenManager@@A ; DropZenManager
  019e4	e8 00 00 00 00	 call	 ?Main@cDropZenManager@@QAEXPAUOBJECTSTRUCT@@AAM@Z ; cDropZenManager::Main

; 4425 : 
; 4426 : 			if (money > 0)

  019e9	d9 ee		 fldz
  019eb	d9 45 ec	 fld	 DWORD PTR _money$228962[ebp]
  019ee	d8 d1		 fcom	 ST(1)
  019f0	df e0		 fnstsw	 ax
  019f2	dd d9		 fstp	 ST(1)
  019f4	f6 c4 41	 test	 ah, 65			; 00000041H
  019f7	75 25		 jne	 SHORT $LN309@gObjMonste@19

; 4427 : 			{
; 4428 : 				MapC[lpObj->MapNumber].MoneyItemDrop((int)money, x, y);

  019f9	8b 45 c4	 mov	 eax, DWORD PTR _y$228961[ebp]
  019fc	50		 push	 eax
  019fd	53		 push	 ebx
  019fe	e8 00 00 00 00	 call	 __ftol2_sse
  01a03	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  01a0a	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  01a10	50		 push	 eax
  01a11	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  01a17	e8 00 00 00 00	 call	 ?MoneyItemDrop@MapClass@@QAEHHHH@Z ; MapClass::MoneyItemDrop
  01a1c	eb 02		 jmp	 SHORT $LN283@gObjMonste@19
$LN309@gObjMonste@19:
  01a1e	dd d8		 fstp	 ST(0)
$LN283@gObjMonste@19:

; 4429 : 			}	
; 4430 : 		}
; 4431 : 	}
; 4432 : 
; 4433 : 	if ( lpObj->Money < 1 )

  01a20	83 be f0 00 00
	00 01		 cmp	 DWORD PTR [esi+240], 1
  01a27	0f 8c dd 01 00
	00		 jl	 $LN188@gObjMonste@19

; 4434 : 		return;
; 4435 : 
; 4436 : 	if ( DS_MAP_RANGE(lpObj->MapNumber) )

  01a2d	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  01a33	3c 09		 cmp	 al, 9
  01a35	0f 84 cf 01 00
	00		 je	 $LN188@gObjMonste@19
  01a3b	33 c9		 xor	 ecx, ecx
  01a3d	3c 20		 cmp	 al, 32			; 00000020H
  01a3f	0f 94 c1	 sete	 cl
  01a42	8b c1		 mov	 eax, ecx
  01a44	85 c0		 test	 eax, eax
  01a46	0f 85 be 01 00
	00		 jne	 $LN188@gObjMonste@19

; 4437 : 		return;
; 4438 : 	
; 4439 : 	if ( (rand()%400) == 1 )

  01a4c	e8 00 00 00 00	 call	 _rand
  01a51	99		 cdq
  01a52	b9 90 01 00 00	 mov	 ecx, 400		; 00000190H
  01a57	f7 f9		 idiv	 ecx
  01a59	83 fa 01	 cmp	 edx, 1
  01a5c	75 7a		 jne	 SHORT $LN6@gObjMonste@19

; 4440 : 	{
; 4441 : 		for ( n=0;n<4;n++)

  01a5e	c7 45 d0 04 00
	00 00		 mov	 DWORD PTR tv1836[ebp], 4
  01a65	eb 09 8d a4 24
	00 00 00 00 8b
	ff		 npad	 11
$LL8@gObjMonste@19:

; 4442 : 		{
; 4443 : 			int x = lpObj->X-2;

  01a70	0f bf be 44 01
	00 00		 movsx	 edi, WORD PTR [esi+324]

; 4444 : 			int y = lpObj->Y-2;

  01a77	0f bf 9e 46 01
	00 00		 movsx	 ebx, WORD PTR [esi+326]
  01a7e	83 ef 02	 sub	 edi, 2
  01a81	83 eb 02	 sub	 ebx, 2

; 4445 : 			x+= rand()%3;

  01a84	e8 00 00 00 00	 call	 _rand
  01a89	99		 cdq
  01a8a	b9 03 00 00 00	 mov	 ecx, 3
  01a8f	f7 f9		 idiv	 ecx
  01a91	03 fa		 add	 edi, edx

; 4446 : 			y+= rand()%3;

  01a93	e8 00 00 00 00	 call	 _rand
  01a98	99		 cdq
  01a99	b9 03 00 00 00	 mov	 ecx, 3
  01a9e	f7 f9		 idiv	 ecx

; 4447 : 
; 4448 : 			int mOn = lpObj->Money;

  01aa0	8b 86 f0 00 00
	00		 mov	 eax, DWORD PTR [esi+240]

; 4449 : 
; 4450 : 			if( mOn > ZtConfig.CommonServer.MaxDropZen )

  01aa6	8b 0d ec 00 00
	00		 mov	 ecx, DWORD PTR ?ZtConfig@@3VcZtConfigs@@A+236
  01aac	03 da		 add	 ebx, edx
  01aae	3b c1		 cmp	 eax, ecx
  01ab0	7e 02		 jle	 SHORT $LN5@gObjMonste@19

; 4451 : 			{
; 4452 : 				mOn =	ZtConfig.CommonServer.MaxDropZen;

  01ab2	8b c1		 mov	 eax, ecx
$LN5@gObjMonste@19:

; 4453 : 			}
; 4454 : 			if (mOn > 0)

  01ab4	85 c0		 test	 eax, eax
  01ab6	7e 1b		 jle	 SHORT $LN7@gObjMonste@19

; 4455 : 			{
; 4456 : 				MapC[lpObj->MapNumber].MoneyItemDrop(mOn, x, y);

  01ab8	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  01abf	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  01ac5	53		 push	 ebx
  01ac6	57		 push	 edi
  01ac7	50		 push	 eax
  01ac8	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  01ace	e8 00 00 00 00	 call	 ?MoneyItemDrop@MapClass@@QAEHHHH@Z ; MapClass::MoneyItemDrop
$LN7@gObjMonste@19:

; 4440 : 	{
; 4441 : 		for ( n=0;n<4;n++)

  01ad3	ff 4d d0	 dec	 DWORD PTR tv1836[ebp]
  01ad6	75 98		 jne	 SHORT $LL8@gObjMonste@19
$LN6@gObjMonste@19:

; 4457 : 			}
; 4458 : 		}
; 4459 : 	}
; 4460 : 
; 4461 : 	if ( gEvent1ItemDropTodayPercent > 0 )

  01ad8	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEvent1ItemDropTodayPercent@@3HA, 0 ; gEvent1ItemDropTodayPercent
  01adf	0f 8e 25 01 00
	00		 jle	 $LN188@gObjMonste@19

; 4462 : 	{
; 4463 : 		if ( (rand()%gEvent1ItemDropTodayPercent) == 0 )

  01ae5	e8 00 00 00 00	 call	 _rand
  01aea	99		 cdq
  01aeb	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?gEvent1ItemDropTodayPercent@@3HA ; gEvent1ItemDropTodayPercent
  01af1	85 d2		 test	 edx, edx
  01af3	0f 85 11 01 00
	00		 jne	 $LN188@gObjMonste@19

; 4464 : 		{
; 4465 : 			if ( gEvent1ItemDropTodayCount < gEvent1ItemDropTodayMax )

  01af9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gEvent1ItemDropTodayCount@@3HA ; gEvent1ItemDropTodayCount
  01aff	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gEvent1ItemDropTodayMax@@3HA ; gEvent1ItemDropTodayMax
  01b05	0f 8d ff 00 00
	00		 jge	 $LN188@gObjMonste@19

; 4466 : 			{
; 4467 : 				gEvent1ItemDropTodayCount++;

  01b0b	ff 05 00 00 00
	00		 inc	 DWORD PTR ?gEvent1ItemDropTodayCount@@3HA ; gEvent1ItemDropTodayCount

; 4468 : 				type = ItemGetNumberMake(14, 12);	// Heart

  01b11	6a 0c		 push	 12			; 0000000cH
  01b13	6a 0e		 push	 14			; 0000000eH
  01b15	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 4469 : 				dur = 0;
; 4470 : 				x = lpObj->X;
; 4471 : 				y = lpObj->Y;
; 4472 : 				level = 1;
; 4473 : 				ItemSerialCreateSend(lpObj->m_Index, (BYTE)lpObj->MapNumber, (BYTE)x, (BYTE)y,
; 4474 : 					type, (BYTE)level, (BYTE)dur, 0, 0, 0, -1, 0, 0);

  01b1a	0f b6 8e 44 01
	00 00		 movzx	 ecx, BYTE PTR [esi+324]
  01b21	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  01b28	6a 00		 push	 0
  01b2a	6a 00		 push	 0
  01b2c	6a ff		 push	 -1
  01b2e	6a 00		 push	 0
  01b30	6a 00		 push	 0
  01b32	6a 00		 push	 0
  01b34	6a 00		 push	 0
  01b36	6a 01		 push	 1
  01b38	50		 push	 eax
  01b39	0f b6 86 46 01
	00 00		 movzx	 eax, BYTE PTR [esi+326]
  01b40	50		 push	 eax
  01b41	8b 06		 mov	 eax, DWORD PTR [esi]
  01b43	51		 push	 ecx
  01b44	52		 push	 edx
  01b45	50		 push	 eax
  01b46	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEE@Z ; ItemSerialCreateSend
  01b4b	83 c4 3c	 add	 esp, 60			; 0000003cH
  01b4e	5f		 pop	 edi
  01b4f	5e		 pop	 esi
  01b50	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  01b51	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01b54	33 cd		 xor	 ecx, ebp
  01b56	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01b5b	8b e5		 mov	 esp, ebp
  01b5d	5d		 pop	 ebp
  01b5e	c3		 ret	 0
$LN190@gObjMonste@19:

; 3175 : 	{
; 3176 : 		if ( g_bKanturuMayaHandItemDrop )

  01b5f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bKanturuMayaHandItemDrop@@3HA, 0 ; g_bKanturuMayaHandItemDrop
  01b66	0f 84 9e 00 00
	00		 je	 $LN188@gObjMonste@19

; 3177 : 		{
; 3178 : 			int ItemDropRate = rand()%10000;

  01b6c	e8 00 00 00 00	 call	 _rand
  01b71	99		 cdq
  01b72	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  01b77	f7 f9		 idiv	 ecx

; 3179 : 
; 3180 : 			if ( ItemDropRate <= g_iKanturuMayaHandItemDropRate )

  01b79	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKanturuMayaHandItemDropRate@@3HA ; g_iKanturuMayaHandItemDropRate
  01b7f	0f 8f 85 00 00
	00		 jg	 $LN188@gObjMonste@19

; 3181 : 			{
; 3182 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3183 : 
; 3184 : 				LogAddTD("[ KANTURU ][ Reward ] MayaHand ItemDrop MaxHitUser [%s][%s]",
; 3185 : 					lpTargetObj->AccountID, lpTargetObj->Name);

  01b85	8d 57 77	 lea	 edx, DWORD PTR [edi+119]
  01b88	52		 push	 edx
  01b89	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  01b8c	50		 push	 eax
  01b8d	68 00 00 00 00	 push	 OFFSET ??_C@_0DM@ILMMGJKK@?$FL?5KANTURU?5?$FN?$FL?5Reward?5?$FN?5MayaHand?5I@
  01b92	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3186 : 
; 3187 : 				BYTE cDropX = lpObj->X;

  01b98	8a 8e 44 01 00
	00		 mov	 cl, BYTE PTR [esi+324]

; 3188 : 				BYTE cDropY = lpObj->Y;

  01b9e	8a 96 46 01 00
	00		 mov	 dl, BYTE PTR [esi+326]

; 3189 : 
; 3190 : 				if ( !gObjGetRandomItemDropLocation(lpObj->MapNumber, cDropX, cDropY, 4, 4, 10))

  01ba4	6a 0a		 push	 10			; 0000000aH
  01ba6	6a 04		 push	 4
  01ba8	6a 04		 push	 4
  01baa	8d 45 d8	 lea	 eax, DWORD PTR _cDropY$228568[ebp]
  01bad	88 4d e4	 mov	 BYTE PTR _cDropX$228567[ebp], cl
  01bb0	88 55 d8	 mov	 BYTE PTR _cDropY$228568[ebp], dl
  01bb3	0f b6 96 49 01
	00 00		 movzx	 edx, BYTE PTR [esi+329]
  01bba	50		 push	 eax
  01bbb	8d 4d e4	 lea	 ecx, DWORD PTR _cDropX$228567[ebp]
  01bbe	51		 push	 ecx
  01bbf	52		 push	 edx
  01bc0	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  01bc5	83 c4 24	 add	 esp, 36			; 00000024H
  01bc8	85 c0		 test	 eax, eax
  01bca	75 12		 jne	 SHORT $LN187@gObjMonste@19

; 3191 : 				{
; 3192 : 					cDropX = lpObj->X;

  01bcc	8a 86 44 01 00
	00		 mov	 al, BYTE PTR [esi+324]

; 3193 : 					cDropY = lpObj->Y;

  01bd2	8a 8e 46 01 00
	00		 mov	 cl, BYTE PTR [esi+326]
  01bd8	88 45 e4	 mov	 BYTE PTR _cDropX$228567[ebp], al
  01bdb	88 4d d8	 mov	 BYTE PTR _cDropY$228568[ebp], cl
$LN187@gObjMonste@19:

; 3194 : 				}
; 3195 : 
; 3196 : 				KanturuMayaHandItemBagOpen(lpTargetObj, lpObj->MapNumber, cDropX, cDropY);

  01bde	8b 55 d8	 mov	 edx, DWORD PTR _cDropY$228568[ebp]
  01be1	8b 45 e4	 mov	 eax, DWORD PTR _cDropX$228567[ebp]
  01be4	0f b6 8e 49 01
	00 00		 movzx	 ecx, BYTE PTR [esi+329]
  01beb	52		 push	 edx
  01bec	50		 push	 eax
  01bed	51		 push	 ecx
  01bee	57		 push	 edi
  01bef	e8 00 00 00 00	 call	 ?KanturuMayaHandItemBagOpen@@YAXPAUOBJECTSTRUCT@@EEE@Z ; KanturuMayaHandItemBagOpen
  01bf4	83 c4 10	 add	 esp, 16			; 00000010H
  01bf7	5f		 pop	 edi
  01bf8	5e		 pop	 esi
  01bf9	5b		 pop	 ebx

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  01bfa	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01bfd	33 cd		 xor	 ecx, ebp
  01bff	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01c04	8b e5		 mov	 esp, ebp
  01c06	5d		 pop	 ebp
  01c07	c3		 ret	 0
$LN303@gObjMonste@19:

; 4323 : 
; 4324 : 			if( MaxHitUser == -1)

  01c08	dd d8		 fstp	 ST(0)
$LN188@gObjMonste@19:

; 4475 : 			}
; 4476 : 		}
; 4477 : 	}
; 4478 : 
; 4479 : }

  01c0a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01c0d	5f		 pop	 edi
  01c0e	5e		 pop	 esi
  01c0f	33 cd		 xor	 ecx, ebp
  01c11	5b		 pop	 ebx
  01c12	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01c17	8b e5		 mov	 esp, ebp
  01c19	5d		 pop	 ebp
  01c1a	c3		 ret	 0
?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z ENDP	; gObjMonsterDieGiveItem
_TEXT	ENDS
PUBLIC	??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@ ; `string'
PUBLIC	??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@ ; `string'
PUBLIC	__$ArrayPad$
PUBLIC	?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z ; gObjMonsterStateProc
EXTRN	?gObjBackSpring2@@YAHPAUOBJECTSTRUCT@@0H@Z:PROC	; gObjBackSpring2
EXTRN	?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z:PROC ; gObjApplyBuffEffectDuration
EXTRN	?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z:PROC	; retResistance
EXTRN	?gObjMemFree@@YAFH@Z:PROC			; gObjMemFree
EXTRN	?gObjBackSpring@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjBackSpring
EXTRN	?SetSaintStatue@CBloodCastle@@QAEXH@Z:PROC	; CBloodCastle::SetSaintStatue
EXTRN	?CheckBossKillCount@CBloodCastle@@QAE_NH@Z:PROC	; CBloodCastle::CheckBossKillCount
EXTRN	?SendNoticeMessage@CBloodCastle@@QAEXHPAD@Z:PROC ; CBloodCastle::SendNoticeMessage
EXTRN	?Get@CMsg@@QAEPADH@Z:PROC			; CMsg::Get
EXTRN	?lMsg@@3VCMsg@@A:BYTE				; lMsg
EXTRN	?GetCurrentLiveUserCount@CBloodCastle@@QAEHH@Z:PROC ; CBloodCastle::GetCurrentLiveUserCount
EXTRN	?ReleaseCastleBridge@CBloodCastle@@QAEXH@Z:PROC	; CBloodCastle::ReleaseCastleBridge
EXTRN	?SendBridgeAnyMsg@CBloodCastle@@QAEXPAEHH@Z:PROC ; CBloodCastle::SendBridgeAnyMsg
EXTRN	?PHeadSetB@@YAXPAEEH@Z:PROC			; PHeadSetB
EXTRN	?CheckMonsterKillCount@CBloodCastle@@QAE_NH@Z:PROC ; CBloodCastle::CheckMonsterKillCount
EXTRN	?GetBridgeIndex@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::GetBridgeIndex
EXTRN	?g_BloodCastle@@3VCBloodCastle@@A:BYTE		; g_BloodCastle
EXTRN	?gObjMonsterCallKill@@YAXH@Z:PROC		; gObjMonsterCallKill
EXTRN	?MonsterPlusKillCountParty@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@0@Z:PROC ; CQuestInfo::MonsterPlusKillCountParty
EXTRN	?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z:PROC	; CKalimaGate::CreateKalimaGate2
EXTRN	?g_KalimaGate@@3VCKalimaGate@@A:BYTE		; g_KalimaGate
EXTRN	?DeleteLifeStone@CLifeStone@@QAEHH@Z:PROC	; CLifeStone::DeleteLifeStone
EXTRN	?g_CsNPC_LifeStone@@3VCLifeStone@@A:DWORD	; g_CsNPC_LifeStone
EXTRN	?DeleteMercenary@CMercenary@@QAEHH@Z:PROC	; CMercenary::DeleteMercenary
EXTRN	?g_CsNPC_Mercenary@@3VCMercenary@@A:QWORD	; g_CsNPC_Mercenary
EXTRN	?DelNPC@CCastleSiege@@QAEHHHHH@Z:PROC		; CCastleSiege::DelNPC
EXTRN	?g_CastleSiege@@3VCCastleSiege@@A:BYTE		; g_CastleSiege
EXTRN	?CheckWall2@MapClass@@QAEEHHHH@Z:PROC		; MapClass::CheckWall2
EXTRN	?KillMob@cMonsterSpawner@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; cMonsterSpawner::KillMob
EXTRN	?gMonsterSpawner@@3VcMonsterSpawner@@A:BYTE	; gMonsterSpawner
;	COMDAT ??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@
CONST	SEGMENT
??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@ DB '['
	DB	'Blood Castle] (%d) All of the Boss Monster Terminated -> %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@
CONST	SEGMENT
??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@ DB '['
	DB	'Blood Castle] (%d) All of the Monster Terminated -> %d', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z
_TEXT	SEGMENT
tv1232 = -28						; size = 4
_EnemyMap$227691 = -28					; size = 4
tv987 = -24						; size = 4
tv909 = -24						; size = 4
_map$227661 = -24					; size = 4
_pMsg$227729 = -20					; size = 14
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_aMsgCode$ = 12						; size = 4
_aIndex$ = 16						; size = 4
_aMsgSubCode$ = 20					; size = 4
?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z PROC	; gObjMonsterStateProc, COMDAT

; 839  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 840  : 	if ( lpObj->m_iMonsterBattleDelay > 0 )

  00014	80 be c9 03 00
	00 00		 cmp	 BYTE PTR [esi+969], 0
  0001b	57		 push	 edi
  0001c	8b 7d 10	 mov	 edi, DWORD PTR _aIndex$[ebp]
  0001f	0f 8f 2e 09 00
	00		 jg	 $LN87@gObjMonste@20

; 841  : 	{
; 842  : 		return;
; 843  : 	}
; 844  : 	if(g_ZtLicense.CheckUser(eZtUB::ulasevich) || g_ZtLicense.CheckUser(eZtUB::Local3) || g_ZtLicense.CheckUser(eZtUB::ulasevich2))

  00025	6a 17		 push	 23			; 00000017H
  00027	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0002c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00031	84 c0		 test	 al, al
  00033	75 30		 jne	 SHORT $LN91@gObjMonste@20
  00035	6a 1c		 push	 28			; 0000001cH
  00037	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0003c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00041	84 c0		 test	 al, al
  00043	75 20		 jne	 SHORT $LN91@gObjMonste@20
  00045	6a 24		 push	 36			; 00000024H
  00047	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0004c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00051	84 c0		 test	 al, al
  00053	75 10		 jne	 SHORT $LN91@gObjMonste@20

; 847  : 	}
; 848  : 	#if(LICENSE_UKRAINE)
; 849  : 	else if(g_ZtLicense.CheckUser(eZtUB::AlterMU))

  00055	6a 3e		 push	 62			; 0000003eH
  00057	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ZtLicense@@3VCZtLicense@@A ; g_ZtLicense
  0005c	e8 00 00 00 00	 call	 ?CheckUser@CZtLicense@@QAE_NH@Z ; CZtLicense::CheckUser
  00061	84 c0		 test	 al, al
  00063	74 0b		 je	 SHORT $LN89@gObjMonste@20
$LN91@gObjMonste@20:

; 845  : 	{
; 846  : 		gMonsterSpawner.KillMob(lpObj);

  00065	56		 push	 esi
  00066	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMonsterSpawner@@3VcMonsterSpawner@@A ; gMonsterSpawner
  0006b	e8 00 00 00 00	 call	 ?KillMob@cMonsterSpawner@@QAEXPAUOBJECTSTRUCT@@@Z ; cMonsterSpawner::KillMob
$LN89@gObjMonste@20:

; 850  : 	{
; 851  : 		gMonsterSpawner.KillMob(lpObj);
; 852  : 	}						
; 853  : 	#endif
; 854  : 	switch ( aMsgCode )

  00070	8b 45 0c	 mov	 eax, DWORD PTR _aMsgCode$[ebp]
  00073	83 f8 39	 cmp	 eax, 57			; 00000039H
  00076	0f 87 d7 08 00
	00		 ja	 $LN87@gObjMonste@20
  0007c	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN117@gObjMonste@20[eax]
  00083	53		 push	 ebx
  00084	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN126@gObjMonste@20[eax*4]
$LN86@gObjMonste@20:

; 855  : 	{
; 856  : 		case 0:
; 857  : 
; 858  : 			if ( lpObj->m_Attribute == 0 )

  0008b	66 83 be b6 04
	00 00 00	 cmp	 WORD PTR [esi+1206], 0
  00093	0f 84 b9 08 00
	00		 je	 $LN119@gObjMonste@20

; 859  : 			{
; 860  : 				return;
; 861  : 			}
; 862  : 			
; 863  : 			if ( gObj[aIndex].Live == FALSE || gObj[aIndex].m_State != 2)

  00099	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009e	8b df		 mov	 ebx, edi
  000a0	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H
  000a6	80 7c 03 6a 00	 cmp	 BYTE PTR [ebx+eax+106], 0
  000ab	89 5d e8	 mov	 DWORD PTR tv909[ebp], ebx
  000ae	0f 84 9e 08 00
	00		 je	 $LN119@gObjMonste@20
  000b4	83 bc 03 20 02
	00 00 02	 cmp	 DWORD PTR [ebx+eax+544], 2
  000bc	0f 85 90 08 00
	00		 jne	 $LN119@gObjMonste@20

; 864  : 			{
; 865  : 				return;
; 866  : 			}
; 867  : 
; 868  : 			if ( lpObj->m_ActState.Emotion == 0 )

  000c2	8b 86 18 02 00
	00		 mov	 eax, DWORD PTR [esi+536]
  000c8	8b c8		 mov	 ecx, eax
  000ca	c1 e9 04	 shr	 ecx, 4
  000cd	83 e1 0f	 and	 ecx, 15			; 0000000fH
  000d0	75 10		 jne	 SHORT $LN82@gObjMonste@20

; 869  : 			{
; 870  : 				lpObj->m_ActState.Emotion = 1;

  000d2	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  000d7	83 c8 10	 or	 eax, 16			; 00000010H
  000da	89 86 18 02 00
	00		 mov	 DWORD PTR [esi+536], eax

; 871  : 				lpObj->m_ActState.EmotionCount = 10;

  000e0	eb 05		 jmp	 SHORT $LN121@gObjMonste@20
$LN82@gObjMonste@20:

; 872  : 			}
; 873  : 			else if ( lpObj->m_ActState.Emotion == 1 )

  000e2	83 f9 01	 cmp	 ecx, 1
  000e5	75 07		 jne	 SHORT $LN80@gObjMonste@20
$LN121@gObjMonste@20:

; 874  : 			{
; 875  : 				lpObj->m_ActState.EmotionCount = 10;

  000e7	c6 86 19 02 00
	00 0a		 mov	 BYTE PTR [esi+537], 10	; 0000000aH
$LN80@gObjMonste@20:

; 876  : 			}
; 877  : #ifdef IMPERIAL_CONFLICT_NEW
; 878  : 		if ( lpObj->Class >= 504 && lpObj->Class <= 521)
; 879  : 			g_ImperialGuardian.SetTargetMoveAllMonster(lpObj->m_ImperialZoneID, aIndex);
; 880  : #endif
; 881  : 			if ( lpObj->m_ActState.Attack == 0 && lpObj->PathStartEnd == 0)

  000ee	f6 86 18 02 00
	00 02		 test	 BYTE PTR [esi+536], 2
  000f5	0f 85 7f 01 00
	00		 jne	 $LN79@gObjMonste@20
  000fb	80 be 8c 01 00
	00 00		 cmp	 BYTE PTR [esi+396], 0
  00102	0f 85 72 01 00
	00		 jne	 $LN79@gObjMonste@20

; 882  : 			{
; 883  : 				if ( OBJMAX_RANGE(aIndex) )

  00108	85 ff		 test	 edi, edi
  0010a	0f 88 42 08 00
	00		 js	 $LN119@gObjMonste@20
  00110	33 c0		 xor	 eax, eax
  00112	81 ff 97 3a 00
	00		 cmp	 edi, 14999		; 00003a97H
  00118	0f 9e c0	 setle	 al
  0011b	85 c0		 test	 eax, eax
  0011d	0f 84 2f 08 00
	00		 je	 $LN119@gObjMonste@20

; 884  : 				{
; 885  : 					int map = gObj[aIndex].MapNumber;

  00123	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00129	0f b6 94 0b 49
	01 00 00	 movzx	 edx, BYTE PTR [ebx+ecx+329]
  00131	8d 04 0b	 lea	 eax, DWORD PTR [ebx+ecx]

; 886  : 					BYTE attr;
; 887  : 					int dis = gObjCalDistance(lpObj, &gObj[aIndex]);

  00134	50		 push	 eax
  00135	56		 push	 esi
  00136	89 55 e8	 mov	 DWORD PTR _map$227661[ebp], edx
  00139	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 888  : 					int range;
; 889  : 
; 890  : 					if ( lpObj->m_AttackType >= 100 )
; 891  : 					{
; 892  : 						range = lpObj->m_AttackRange +2;

  0013e	0f bf 8e b0 04
	00 00		 movsx	 ecx, WORD PTR [esi+1200]
  00145	83 c4 08	 add	 esp, 8
  00148	66 83 be b2 04
	00 00 64	 cmp	 WORD PTR [esi+1202], 100 ; 00000064H
  00150	7c 03		 jl	 SHORT $LN76@gObjMonste@20
  00152	83 c1 02	 add	 ecx, 2
$LN76@gObjMonste@20:

; 893  : 					}
; 894  : 					else
; 895  : 					{
; 896  : 						range = lpObj->m_AttackRange;
; 897  : 					}
; 898  : 
; 899  : 					if ( dis <= range )

  00155	3b c1		 cmp	 eax, ecx
  00157	7f 60		 jg	 SHORT $LN75@gObjMonste@20

; 900  : 					{
; 901  : 						if ( gObj[aIndex].m_RecallMon >= 0 )

  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0015e	83 bc 03 50 04
	00 00 00	 cmp	 DWORD PTR [ebx+eax+1104], 0
  00166	7c 1e		 jl	 SHORT $LN74@gObjMonste@20

; 902  : 						{
; 903  : 							if ( lpObj->m_RecallMon >= 0 )

  00168	83 be 50 04 00
	00 00		 cmp	 DWORD PTR [esi+1104], 0
  0016f	0f 8c b4 00 00
	00		 jl	 $LN122@gObjMonste@20

; 904  : 							{
; 905  : 								if ( gObj[aIndex].Type == OBJ_MONSTER )

  00175	66 83 7c 03 68
	02		 cmp	 WORD PTR [ebx+eax+104], 2
  0017b	0f 85 af 00 00
	00		 jne	 $LN118@gObjMonste@20

; 906  : 								{
; 907  : 									lpObj->TargetNumber = aIndex;
; 908  : 								}
; 909  : 							}
; 910  : 							else

  00181	e9 a3 00 00 00	 jmp	 $LN122@gObjMonste@20
$LN74@gObjMonste@20:

; 911  : 							{
; 912  : 								lpObj->TargetNumber = aIndex;
; 913  : 							}
; 914  : 						}
; 915  : 						else if ( (rand()%100) < 90 )

  00186	e8 00 00 00 00	 call	 _rand
  0018b	99		 cdq
  0018c	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00191	f7 f9		 idiv	 ecx
  00193	83 fa 5a	 cmp	 edx, 90			; 0000005aH
  00196	0f 8d 94 00 00
	00		 jge	 $LN118@gObjMonste@20

; 916  : 						{
; 917  : 							if ( lpObj->m_RecallMon >= 0 )

  0019c	83 be 50 04 00
	00 00		 cmp	 DWORD PTR [esi+1104], 0
  001a3	0f 8c 80 00 00
	00		 jl	 $LN122@gObjMonste@20

; 918  : 							{
; 919  : 								if ( gObj[aIndex].Type == OBJ_MONSTER )

  001a9	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001af	66 83 7c 13 68
	02		 cmp	 WORD PTR [ebx+edx+104], 2
  001b5	75 79		 jne	 SHORT $LN118@gObjMonste@20

; 920  : 								{
; 921  : 									lpObj->TargetNumber = aIndex;
; 922  : 								}
; 923  : 							}
; 924  : 							else

  001b7	eb 70		 jmp	 SHORT $LN122@gObjMonste@20
$LN75@gObjMonste@20:

; 925  : 							{
; 926  : 								lpObj->TargetNumber = aIndex;
; 927  : 							}
; 928  : 						}
; 929  : 					}
; 930  : 					else
; 931  : 					{
; 932  : #ifdef IMPERIAL_CONFLICT_NEW
; 933  : 					if ( CImperialGuardian::IsEventMap(lpObj->MapNumber) )
; 934  : 					{
; 935  : 						if ( lpObj->Class >= 504 && lpObj->Class <= 521 )
; 936  : 							g_ImperialGuardian.SetTargetMoveAllMonster(lpObj->m_ImperialZoneID, aIndex);
; 937  : 					}
; 938  : 					else
; 939  : #endif
; 940  : 					{
; 941  : 						BYTE wall = 0;
; 942  : 
; 943  : 						wall = MapC[map].CheckWall2(lpObj->X, lpObj->Y, gObj[aIndex].X, gObj[aIndex].Y);

  001b9	8b 45 e8	 mov	 eax, DWORD PTR _map$227661[ebp]
  001bc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001c2	69 c0 48 3d 05
	00		 imul	 eax, 343368		; 00053d48H
  001c8	8d 88 00 00 00
	00		 lea	 ecx, DWORD PTR ?MapC@@3PAVMapClass@@A[eax]

; 944  : 
; 945  : 						if ( wall == 1 )

  001ce	0f bf 84 13 46
	01 00 00	 movsx	 eax, WORD PTR [ebx+edx+326]
  001d6	0f bf 94 13 44
	01 00 00	 movsx	 edx, WORD PTR [ebx+edx+324]
  001de	50		 push	 eax
  001df	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  001e6	52		 push	 edx
  001e7	0f bf 96 44 01
	00 00		 movsx	 edx, WORD PTR [esi+324]
  001ee	50		 push	 eax
  001ef	52		 push	 edx
  001f0	89 4d e8	 mov	 DWORD PTR tv987[ebp], ecx
  001f3	e8 00 00 00 00	 call	 ?CheckWall2@MapClass@@QAEEHHHH@Z ; MapClass::CheckWall2
  001f8	3c 01		 cmp	 al, 1
  001fa	75 34		 jne	 SHORT $LN118@gObjMonste@20

; 946  : 						{
; 947  : 							attr = MapC[map].GetAttr(gObj[aIndex].X, gObj[aIndex].Y);

  001fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 948  : 
; 949  : 							if ( (attr&1) != 1 )

  00201	0f bf 8c 03 46
	01 00 00	 movsx	 ecx, WORD PTR [ebx+eax+326]
  00209	0f bf 94 03 44
	01 00 00	 movsx	 edx, WORD PTR [ebx+eax+324]
  00211	51		 push	 ecx
  00212	8b 4d e8	 mov	 ecx, DWORD PTR tv987[ebp]
  00215	52		 push	 edx
  00216	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  0021b	a8 01		 test	 al, 1
  0021d	75 11		 jne	 SHORT $LN118@gObjMonste@20

; 950  : 							{
; 951  : 								if ( lpObj->TargetNumber < 0 )

  0021f	66 83 be 58 04
	00 00 00	 cmp	 WORD PTR [esi+1112], 0
  00227	7d 07		 jge	 SHORT $LN118@gObjMonste@20
$LN122@gObjMonste@20:

; 952  : 								{
; 953  : 									lpObj->TargetNumber = aIndex;

  00229	66 89 be 58 04
	00 00		 mov	 WORD PTR [esi+1112], di
$LN118@gObjMonste@20:

; 954  : 								}
; 955  : 							}
; 956  : 						}
; 957  : 						else if( wall == 0x02 ) //   ..
; 958  : 						{
; 959  : 						}
; 960  : 						else {	//    ..
; 961  : 							//lpObj->TargetNumber = aIndex;	//  	
; 962  : 						}
; 963  : 					}	
; 964  : 					}
; 965  : 
; 966  : 
; 967  : 					if ( lpObj->m_bIsInMonsterHerd != false && lpObj->TargetNumber == aIndex )

  00230	83 be e8 10 00
	00 00		 cmp	 DWORD PTR [esi+4328], 0
  00237	0f 84 15 07 00
	00		 je	 $LN119@gObjMonste@20
  0023d	0f bf 86 58 04
	00 00		 movsx	 eax, WORD PTR [esi+1112]
  00244	3b c7		 cmp	 eax, edi
  00246	0f 85 06 07 00
	00		 jne	 $LN119@gObjMonste@20

; 968  : 					{
; 969  : 						if ( lpObj->m_lpMonsterHerd )

  0024c	8b 8e f0 10 00
	00		 mov	 ecx, DWORD PTR [esi+4336]
  00252	85 c9		 test	 ecx, ecx
  00254	0f 84 f8 06 00
	00		 je	 $LN119@gObjMonste@20

; 970  : 						{
; 971  : 							lpObj->m_lpMonsterHerd->BeenAttacked (lpObj, &gObj[aIndex]);

  0025a	03 1d 00 00 00
	00		 add	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00260	8b 11		 mov	 edx, DWORD PTR [ecx]
  00262	8b 52 38	 mov	 edx, DWORD PTR [edx+56]
  00265	53		 push	 ebx
  00266	56		 push	 esi
  00267	ff d2		 call	 edx
  00269	5b		 pop	 ebx
  0026a	5f		 pop	 edi
  0026b	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  0026c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0026f	33 cd		 xor	 ecx, ebp
  00271	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00276	8b e5		 mov	 esp, ebp
  00278	5d		 pop	 ebp
  00279	c3		 ret	 0
$LN79@gObjMonste@20:

; 972  : 						}
; 973  : 					}
; 974  : 				}
; 975  : 			}
; 976  : 			else
; 977  : 			{
; 978  : 				if ( (rand() % 2 )== 1 && lpObj->PathStartEnd == 0)

  0027a	e8 00 00 00 00	 call	 _rand
  0027f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00284	79 05		 jns	 SHORT $LN120@gObjMonste@20
  00286	48		 dec	 eax
  00287	83 c8 fe	 or	 eax, -2			; fffffffeH
  0028a	40		 inc	 eax
$LN120@gObjMonste@20:
  0028b	83 f8 01	 cmp	 eax, 1
  0028e	0f 85 ce 00 00
	00		 jne	 $LN55@gObjMonste@20
  00294	80 be 8c 01 00
	00 00		 cmp	 BYTE PTR [esi+396], 0
  0029b	0f 85 c1 00 00
	00		 jne	 $LN55@gObjMonste@20

; 979  : 				{
; 980  : 					int IndexEnemy = lpObj->TargetNumber;

  002a1	0f bf 9e 58 04
	00 00		 movsx	 ebx, WORD PTR [esi+1112]

; 981  : 
; 982  : 					if ( !OBJMAX_RANGE(IndexEnemy) )//Season 4.5 addon

  002a8	85 db		 test	 ebx, ebx
  002aa	0f 88 a2 06 00
	00		 js	 $LN119@gObjMonste@20
  002b0	33 c0		 xor	 eax, eax
  002b2	81 fb 97 3a 00
	00		 cmp	 ebx, 14999		; 00003a97H
  002b8	0f 9e c0	 setle	 al
  002bb	85 c0		 test	 eax, eax
  002bd	0f 84 8f 06 00
	00		 je	 $LN119@gObjMonste@20

; 983  : 					{
; 984  : 						return;
; 985  : 					}
; 986  : 
; 987  : 					int EnemyMap = gObj[IndexEnemy].MapNumber;

  002c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002c8	69 db 50 2b 00
	00		 imul	 ebx, 11088		; 00002b50H

; 988  : 
; 989  : 					int enemydis = gObjCalDistance(lpObj, &gObj[aIndex]);

  002ce	8b 55 e8	 mov	 edx, DWORD PTR tv909[ebp]
  002d1	0f b6 8c 03 49
	01 00 00	 movzx	 ecx, BYTE PTR [ebx+eax+329]
  002d9	03 d0		 add	 edx, eax
  002db	52		 push	 edx
  002dc	56		 push	 esi
  002dd	89 4d e4	 mov	 DWORD PTR _EnemyMap$227691[ebp], ecx
  002e0	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 990  : 					int range;
; 991  : 
; 992  : 					if ( lpObj->m_AttackType >= 100 )
; 993  : 					{
; 994  : 						range = lpObj->m_AttackRange + 2;

  002e5	0f bf 8e b0 04
	00 00		 movsx	 ecx, WORD PTR [esi+1200]
  002ec	83 c4 08	 add	 esp, 8
  002ef	66 83 be b2 04
	00 00 64	 cmp	 WORD PTR [esi+1202], 100 ; 00000064H
  002f7	7c 03		 jl	 SHORT $LN52@gObjMonste@20
  002f9	83 c1 02	 add	 ecx, 2
$LN52@gObjMonste@20:

; 995  : 					}
; 996  : 					else
; 997  : 					{
; 998  : 						range = lpObj->m_AttackRange;
; 999  : 					}
; 1000 : 
; 1001 : 					if ( enemydis <= range )

  002fc	3b c1		 cmp	 eax, ecx

; 1002 : 					{
; 1003 : 						lpObj->m_ActState.Attack = 1;
; 1004 : 						lpObj->TargetNumber = aIndex;
; 1005 : 					}
; 1006 : 					else

  002fe	7e 43		 jle	 SHORT $LN125@gObjMonste@20

; 1007 : 					{
; 1008 : 						if ( MapC[EnemyMap].CheckWall2(lpObj->X, lpObj->Y, gObj[IndexEnemy].X, gObj[IndexEnemy].Y) == 1 )

  00300	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00305	0f bf 8c 03 46
	01 00 00	 movsx	 ecx, WORD PTR [ebx+eax+326]
  0030d	0f bf 94 03 44
	01 00 00	 movsx	 edx, WORD PTR [ebx+eax+324]
  00315	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  0031c	51		 push	 ecx
  0031d	0f bf 8e 44 01
	00 00		 movsx	 ecx, WORD PTR [esi+324]
  00324	52		 push	 edx
  00325	50		 push	 eax
  00326	51		 push	 ecx
  00327	8b 4d e4	 mov	 ecx, DWORD PTR _EnemyMap$227691[ebp]
  0032a	69 c9 48 3d 05
	00		 imul	 ecx, 343368		; 00053d48H
  00330	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00336	e8 00 00 00 00	 call	 ?CheckWall2@MapClass@@QAEEHHHH@Z ; MapClass::CheckWall2
  0033b	3c 01		 cmp	 al, 1
  0033d	0f 85 0f 06 00
	00		 jne	 $LN119@gObjMonste@20
$LN125@gObjMonste@20:

; 1009 : 						{
; 1010 : 							lpObj->m_ActState.Attack = 1;

  00343	83 8e 18 02 00
	00 02		 or	 DWORD PTR [esi+536], 2
  0034a	5b		 pop	 ebx

; 1011 : 							lpObj->TargetNumber = aIndex;

  0034b	66 89 be 58 04
	00 00		 mov	 WORD PTR [esi+1112], di
  00352	5f		 pop	 edi
  00353	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  00354	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00357	33 cd		 xor	 ecx, ebp
  00359	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0035e	8b e5		 mov	 esp, ebp
  00360	5d		 pop	 ebp
  00361	c3		 ret	 0
$LN55@gObjMonste@20:

; 1012 : 						}
; 1013 : 					}
; 1014 : 				}
; 1015 : 				else
; 1016 : 				{
; 1017 : 					int MaxLife = (int)lpObj->MaxLife;
; 1018 : 					MaxLife >>= 1;
; 1019 : 
; 1020 : 					if ( MaxLife > lpObj->Life )

  00362	d9 86 00 01 00
	00		 fld	 DWORD PTR [esi+256]
  00368	e8 00 00 00 00	 call	 __ftol2_sse
  0036d	d1 f8		 sar	 eax, 1
  0036f	89 45 e4	 mov	 DWORD PTR tv1232[ebp], eax
  00372	db 45 e4	 fild	 DWORD PTR tv1232[ebp]
  00375	d9 86 fc 00 00
	00		 fld	 DWORD PTR [esi+252]
  0037b	de d9		 fcompp
  0037d	df e0		 fnstsw	 ax
  0037f	f6 c4 05	 test	 ah, 5
  00382	0f 8a ca 05 00
	00		 jp	 $LN119@gObjMonste@20

; 1021 : 					{
; 1022 : 						if ( lpObj->m_Attribute != 2 )

  00388	66 83 be b6 04
	00 00 02	 cmp	 WORD PTR [esi+1206], 2
  00390	0f 84 bc 05 00
	00		 je	 $LN119@gObjMonste@20

; 1023 : 						{
; 1024 : 							lpObj->m_ActState.Emotion = 2;

  00396	8b 96 18 02 00
	00		 mov	 edx, DWORD PTR [esi+536]
  0039c	81 e2 2f ff ff
	ff		 and	 edx, -209		; ffffff2fH
  003a2	5b		 pop	 ebx
  003a3	83 ca 20	 or	 edx, 32			; 00000020H
  003a6	89 96 18 02 00
	00		 mov	 DWORD PTR [esi+536], edx
  003ac	5f		 pop	 edi

; 1025 : 							lpObj->m_ActState.EmotionCount = 2;

  003ad	c6 86 19 02 00
	00 02		 mov	 BYTE PTR [esi+537], 2
  003b4	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  003b5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003b8	33 cd		 xor	 ecx, ebp
  003ba	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003bf	8b e5		 mov	 esp, ebp
  003c1	5d		 pop	 ebp
  003c2	c3		 ret	 0
$LN45@gObjMonste@20:

; 1026 : 						}
; 1027 : 					}
; 1028 : 				}
; 1029 : 			}
; 1030 : 			break;
; 1031 : 		case 1:
; 1032 : //#if(GS_CASTLE == 1)
; 1033 : 			if(lpObj->m_btCsNpcType != 0) //ok

  003c3	8a 86 f8 1b 00
	00		 mov	 al, BYTE PTR [esi+7160]
  003c9	bb 01 00 00 00	 mov	 ebx, 1
  003ce	84 c0		 test	 al, al
  003d0	74 7e		 je	 SHORT $LN44@gObjMonste@20

; 1034 : 			{
; 1035 : 				switch(lpObj->m_btCsNpcType)

  003d2	0f b6 c0	 movzx	 eax, al
  003d5	2b c3		 sub	 eax, ebx
  003d7	74 0c		 je	 SHORT $LN41@gObjMonste@20
  003d9	2b c3		 sub	 eax, ebx
  003db	74 04		 je	 SHORT $LN40@gObjMonste@20
  003dd	2b c3		 sub	 eax, ebx
  003df	75 21		 jne	 SHORT $LN42@gObjMonste@20
$LN40@gObjMonste@20:

; 1039 : 						break;
; 1040 : 					case 2:
; 1041 : 						g_CastleSiege.DelNPC(lpObj->m_Index,lpObj->Class,lpObj->m_iCsNpcExistVal,0);
; 1042 : 						break;
; 1043 : 					case 3:
; 1044 : 						g_CastleSiege.DelNPC(lpObj->m_Index,lpObj->Class,lpObj->m_iCsNpcExistVal,0);

  003e1	6a 00		 push	 0

; 1045 : 						break;

  003e3	eb 01		 jmp	 SHORT $LN123@gObjMonste@20
$LN41@gObjMonste@20:

; 1036 : 				{
; 1037 : 					case 1:
; 1038 : 						g_CastleSiege.DelNPC(lpObj->m_Index,lpObj->Class,lpObj->m_iCsNpcExistVal,1);

  003e5	53		 push	 ebx
$LN123@gObjMonste@20:
  003e6	0f b7 8e b8 00
	00 00		 movzx	 ecx, WORD PTR [esi+184]
  003ed	8b 86 f4 1b 00
	00		 mov	 eax, DWORD PTR [esi+7156]
  003f3	8b 16		 mov	 edx, DWORD PTR [esi]
  003f5	50		 push	 eax
  003f6	51		 push	 ecx
  003f7	52		 push	 edx
  003f8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  003fd	e8 00 00 00 00	 call	 ?DelNPC@CCastleSiege@@QAEHHHHH@Z ; CCastleSiege::DelNPC
$LN42@gObjMonste@20:

; 1046 : 				}
; 1047 : 				if( lpObj->Class == 287 || lpObj->Class == 286)

  00402	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00409	b9 1f 01 00 00	 mov	 ecx, 287		; 0000011fH
  0040e	66 3b c1	 cmp	 ax, cx
  00411	74 0a		 je	 SHORT $LN37@gObjMonste@20
  00413	ba 1e 01 00 00	 mov	 edx, 286		; 0000011eH
  00418	66 3b c2	 cmp	 ax, dx
  0041b	75 0d		 jne	 SHORT $LN38@gObjMonste@20
$LN37@gObjMonste@20:

; 1048 : 				{
; 1049 : 					g_CsNPC_Mercenary.DeleteMercenary(lpObj->m_Index);

  0041d	8b 06		 mov	 eax, DWORD PTR [esi]
  0041f	50		 push	 eax
  00420	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_Mercenary@@3VCMercenary@@A ; g_CsNPC_Mercenary
  00425	e8 00 00 00 00	 call	 ?DeleteMercenary@CMercenary@@QAEHH@Z ; CMercenary::DeleteMercenary
$LN38@gObjMonste@20:

; 1050 : 				}
; 1051 : 				if(lpObj->Class == 278)

  0042a	b9 16 01 00 00	 mov	 ecx, 278		; 00000116H
  0042f	66 39 8e b8 00
	00 00		 cmp	 WORD PTR [esi+184], cx
  00436	75 0d		 jne	 SHORT $LN36@gObjMonste@20

; 1052 : 				{
; 1053 : 					g_CsNPC_LifeStone.DeleteLifeStone(lpObj->m_Index);

  00438	8b 16		 mov	 edx, DWORD PTR [esi]
  0043a	52		 push	 edx
  0043b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_LifeStone@@3VCLifeStone@@A ; g_CsNPC_LifeStone
  00440	e8 00 00 00 00	 call	 ?DeleteLifeStone@CLifeStone@@QAEHH@Z ; CLifeStone::DeleteLifeStone
$LN36@gObjMonste@20:

; 1054 : 				}
; 1055 : 				gObjDel(lpObj->m_Index);

  00445	8b 06		 mov	 eax, DWORD PTR [esi]
  00447	50		 push	 eax
  00448	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  0044d	83 c4 04	 add	 esp, 4
$LN44@gObjMonste@20:

; 1056 : 			}
; 1057 : //#endif
; 1058 : 			if ( KALIMA_MAP_RANGE(lpObj->MapNumber)  )

  00450	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00456	3c 18		 cmp	 al, 24			; 00000018H
  00458	72 67		 jb	 SHORT $LN34@gObjMonste@20
  0045a	3c 1d		 cmp	 al, 29			; 0000001dH
  0045c	76 0b		 jbe	 SHORT $LN114@gObjMonste@20
  0045e	33 c9		 xor	 ecx, ecx
  00460	3c 24		 cmp	 al, 36			; 00000024H
  00462	0f 94 c1	 sete	 cl
  00465	85 c9		 test	 ecx, ecx
  00467	74 58		 je	 SHORT $LN34@gObjMonste@20
$LN114@gObjMonste@20:

; 1059 : 			{
; 1060 : 				if ( lpObj->Class == 161 || lpObj->Class == 181 || lpObj->Class == 189 || lpObj->Class == 197 || lpObj->Class == 267 )

  00469	0f b7 8e b8 00
	00 00		 movzx	 ecx, WORD PTR [esi+184]
  00470	ba a1 00 00 00	 mov	 edx, 161		; 000000a1H
  00475	66 3b ca	 cmp	 cx, dx
  00478	74 28		 je	 SHORT $LN33@gObjMonste@20
  0047a	ba b5 00 00 00	 mov	 edx, 181		; 000000b5H
  0047f	66 3b ca	 cmp	 cx, dx
  00482	74 1e		 je	 SHORT $LN33@gObjMonste@20
  00484	ba bd 00 00 00	 mov	 edx, 189		; 000000bdH
  00489	66 3b ca	 cmp	 cx, dx
  0048c	74 14		 je	 SHORT $LN33@gObjMonste@20
  0048e	ba c5 00 00 00	 mov	 edx, 197		; 000000c5H
  00493	66 3b ca	 cmp	 cx, dx
  00496	74 0a		 je	 SHORT $LN33@gObjMonste@20
  00498	ba 0b 01 00 00	 mov	 edx, 267		; 0000010bH
  0049d	66 3b ca	 cmp	 cx, dx
  004a0	75 1f		 jne	 SHORT $LN34@gObjMonste@20
$LN33@gObjMonste@20:

; 1061 : 				{
; 1062 : 					g_KalimaGate.CreateKalimaGate2(aIndex, lpObj->MapNumber, lpObj->X, lpObj->Y);

  004a2	0f b6 8e 46 01
	00 00		 movzx	 ecx, BYTE PTR [esi+326]
  004a9	0f b6 96 44 01
	00 00		 movzx	 edx, BYTE PTR [esi+324]
  004b0	51		 push	 ecx
  004b1	0f b6 c0	 movzx	 eax, al
  004b4	52		 push	 edx
  004b5	50		 push	 eax
  004b6	57		 push	 edi
  004b7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  004bc	e8 00 00 00 00	 call	 ?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z ; CKalimaGate::CreateKalimaGate2
$LN34@gObjMonste@20:

; 1063 : 				}
; 1064 : 			}
; 1065 : 
; 1066 : 			if(lpObj->Class == 409 || lpObj->Class == 410 || lpObj->Class == 411 || lpObj->Class == 412 )

  004c1	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  004c8	b9 99 01 00 00	 mov	 ecx, 409		; 00000199H
  004cd	66 3b c1	 cmp	 ax, cx
  004d0	74 1e		 je	 SHORT $LN31@gObjMonste@20
  004d2	ba 9a 01 00 00	 mov	 edx, 410		; 0000019aH
  004d7	66 3b c2	 cmp	 ax, dx
  004da	74 14		 je	 SHORT $LN31@gObjMonste@20
  004dc	b9 9b 01 00 00	 mov	 ecx, 411		; 0000019bH
  004e1	66 3b c1	 cmp	 ax, cx
  004e4	74 0a		 je	 SHORT $LN31@gObjMonste@20
  004e6	ba 9c 01 00 00	 mov	 edx, 412		; 0000019cH
  004eb	66 3b c2	 cmp	 ax, dx
  004ee	75 1a		 jne	 SHORT $LN32@gObjMonste@20
$LN31@gObjMonste@20:

; 1067 : 			{
; 1068 : 				//Quest Count Function
; 1069 : 				g_QuestInfo.MonsterPlusKillCountParty(lpObj, &gObj[aIndex]);

  004f0	8b c7		 mov	 eax, edi
  004f2	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  004f8	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004fe	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_QuestInfo@@3VCQuestInfo@@A ; g_QuestInfo
  00503	50		 push	 eax
  00504	56		 push	 esi
  00505	e8 00 00 00 00	 call	 ?MonsterPlusKillCountParty@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@0@Z ; CQuestInfo::MonsterPlusKillCountParty
$LN32@gObjMonste@20:

; 1070 : 			}
; 1071 : 
; 1072 : 			gObjMonsterDieGiveItem(lpObj, &gObj[aIndex] );

  0050a	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00510	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00516	57		 push	 edi
  00517	56		 push	 esi
  00518	e8 00 00 00 00	 call	 ?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z ; gObjMonsterDieGiveItem

; 1073 : 			lpObj->NextActionTime = 500;
; 1074 : 
; 1075 : 			if ( lpObj->m_RecallMon >= 0 )

  0051d	8b 86 50 04 00
	00		 mov	 eax, DWORD PTR [esi+1104]
  00523	83 c4 08	 add	 esp, 8
  00526	c7 86 bc 03 00
	00 f4 01 00 00	 mov	 DWORD PTR [esi+956], 500 ; 000001f4H
  00530	85 c0		 test	 eax, eax
  00532	78 09		 js	 SHORT $LN30@gObjMonste@20

; 1076 : 			{
; 1077 : 				gObjMonsterCallKill(lpObj->m_RecallMon);

  00534	50		 push	 eax
  00535	e8 00 00 00 00	 call	 ?gObjMonsterCallKill@@YAXH@Z ; gObjMonsterCallKill
  0053a	83 c4 04	 add	 esp, 4
$LN30@gObjMonste@20:

; 1078 : 			}
; 1079 : 
; 1080 : 			if (  BC_MAP_RANGE(lpObj->MapNumber) != FALSE && lpObj->Type >= OBJ_MONSTER)

  0053d	8a 86 49 01 00
	00		 mov	 al, BYTE PTR [esi+329]
  00543	3c 34		 cmp	 al, 52			; 00000034H
  00545	74 18		 je	 SHORT $LN115@gObjMonste@20
  00547	3c 0b		 cmp	 al, 11			; 0000000bH
  00549	0f 82 03 04 00
	00		 jb	 $LN119@gObjMonste@20
  0054f	b9 11 00 00 00	 mov	 ecx, 17			; 00000011H
  00554	3a c8		 cmp	 cl, al
  00556	1b c9		 sbb	 ecx, ecx
  00558	41		 inc	 ecx
  00559	0f 84 f3 03 00
	00		 je	 $LN119@gObjMonste@20
$LN115@gObjMonste@20:
  0055f	66 83 7e 68 02	 cmp	 WORD PTR [esi+104], 2
  00564	0f 82 e8 03 00
	00		 jb	 $LN119@gObjMonste@20

; 1081 : 			{
; 1082 : 				int iBridgeIndex = g_BloodCastle.GetBridgeIndex(lpObj->MapNumber); //season3 add-on

  0056a	0f b6 d0	 movzx	 edx, al
  0056d	52		 push	 edx
  0056e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  00573	e8 00 00 00 00	 call	 ?GetBridgeIndex@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeIndex
  00578	8b f8		 mov	 edi, eax

; 1083 : 
; 1084 : 				if ( lpObj->Class == 89 || lpObj->Class == 95 || lpObj->Class == 112 || lpObj->Class == 118 || lpObj->Class == 124 || lpObj->Class == 130 || lpObj->Class == 143 || lpObj->Class == 433) //season3 changed

  0057a	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00581	83 f8 59	 cmp	 eax, 89			; 00000059H
  00584	74 42		 je	 SHORT $LN27@gObjMonste@20
  00586	83 f8 5f	 cmp	 eax, 95			; 0000005fH
  00589	74 3d		 je	 SHORT $LN27@gObjMonste@20
  0058b	83 f8 70	 cmp	 eax, 112		; 00000070H
  0058e	74 38		 je	 SHORT $LN27@gObjMonste@20
  00590	83 f8 76	 cmp	 eax, 118		; 00000076H
  00593	74 33		 je	 SHORT $LN27@gObjMonste@20
  00595	83 f8 7c	 cmp	 eax, 124		; 0000007cH
  00598	74 2e		 je	 SHORT $LN27@gObjMonste@20
  0059a	b9 82 00 00 00	 mov	 ecx, 130		; 00000082H
  0059f	66 3b c1	 cmp	 ax, cx
  005a2	74 24		 je	 SHORT $LN27@gObjMonste@20
  005a4	ba 8f 00 00 00	 mov	 edx, 143		; 0000008fH
  005a9	66 3b c2	 cmp	 ax, dx
  005ac	74 1a		 je	 SHORT $LN27@gObjMonste@20
  005ae	b9 b1 01 00 00	 mov	 ecx, 433		; 000001b1H
  005b3	66 3b c1	 cmp	 ax, cx
  005b6	74 10		 je	 SHORT $LN27@gObjMonste@20

; 1087 : 				}
; 1088 : 				else
; 1089 : 				{
; 1090 : 					g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_MONSTER_KILL_COUNT++;

  005b8	8b f7		 mov	 esi, edi
  005ba	69 f6 60 04 00
	00		 imul	 esi, 1120		; 00000460H
  005c0	01 9e d0 03 00
	00		 add	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+976], ebx
  005c6	eb 0e		 jmp	 SHORT $LN26@gObjMonste@20
$LN27@gObjMonste@20:

; 1085 : 				{
; 1086 : 					g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_KILL_COUNT++;

  005c8	8b f7		 mov	 esi, edi
  005ca	69 f6 60 04 00
	00		 imul	 esi, 1120		; 00000460H
  005d0	01 9e e0 03 00
	00		 add	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+992], ebx
$LN26@gObjMonste@20:

; 1091 : 				}
; 1092 : 
; 1093 : 				if ( g_BloodCastle.CheckMonsterKillCount(iBridgeIndex) != false )

  005d6	57		 push	 edi
  005d7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  005dc	e8 00 00 00 00	 call	 ?CheckMonsterKillCount@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckMonsterKillCount
  005e1	84 c0		 test	 al, al
  005e3	0f 84 e3 00 00
	00		 je	 $LN22@gObjMonste@20

; 1094 : 				{
; 1095 : 					if (g_BloodCastle.m_BridgeData[iBridgeIndex].m_bBC_MONSTER_KILL_COMPLETE == false )

  005e9	80 be b8 03 00
	00 00		 cmp	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+952], 0
  005f0	0f 85 aa 00 00
	00		 jne	 $LN23@gObjMonste@20

; 1096 : 					{
; 1097 : 						g_BloodCastle.m_BridgeData[iBridgeIndex].m_bBC_MONSTER_KILL_COMPLETE = true;
; 1098 : 						g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_MONSTER_MAX_COUNT = -1;
; 1099 : 
; 1100 : 						PMSG_STATEBLOODCASTLE pMsg;
; 1101 : 
; 1102 : 						PHeadSetB((LPBYTE)&pMsg, 0x9B, sizeof(PMSG_STATEBLOODCASTLE));

  005f6	6a 0e		 push	 14			; 0000000eH
  005f8	8d 55 ec	 lea	 edx, DWORD PTR _pMsg$227729[ebp]
  005fb	68 9b 00 00 00	 push	 155			; 0000009bH
  00600	52		 push	 edx
  00601	88 9e b8 03 00
	00		 mov	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+952], bl
  00607	c7 86 cc 03 00
	00 ff ff ff ff	 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+972], -1
  00611	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB

; 1103 : 
; 1104 : 						pMsg.btPlayState = BC_STATE_PLAYEND;
; 1105 : 						pMsg.wRemainSec = 0;
; 1106 : 						pMsg.wMaxKillMonster = 0;
; 1107 : 						pMsg.wCurKillMonster = 0;
; 1108 : 						pMsg.wUserHaveWeapon = 0;
; 1109 : 						pMsg.btWeaponNum = -1;
; 1110 : 
; 1111 : 						g_BloodCastle.SendBridgeAnyMsg((LPBYTE)&pMsg, pMsg.h.size, iBridgeIndex);

  00616	0f b6 4d ed	 movzx	 ecx, BYTE PTR _pMsg$227729[ebp+1]
  0061a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0061d	33 d2		 xor	 edx, edx
  0061f	57		 push	 edi
  00620	89 55 f4	 mov	 DWORD PTR _pMsg$227729[ebp+8], edx
  00623	51		 push	 ecx
  00624	8d 55 ec	 lea	 edx, DWORD PTR _pMsg$227729[ebp]
  00627	33 c0		 xor	 eax, eax
  00629	52		 push	 edx
  0062a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  0062f	c6 45 ef 03	 mov	 BYTE PTR _pMsg$227729[ebp+3], 3
  00633	89 45 f0	 mov	 DWORD PTR _pMsg$227729[ebp+4], eax
  00636	c6 45 f8 ff	 mov	 BYTE PTR _pMsg$227729[ebp+12], 255 ; 000000ffH
  0063a	e8 00 00 00 00	 call	 ?SendBridgeAnyMsg@CBloodCastle@@QAEXPAEHH@Z ; CBloodCastle::SendBridgeAnyMsg

; 1112 : 						g_BloodCastle.ReleaseCastleBridge(iBridgeIndex);

  0063f	57		 push	 edi
  00640	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  00645	e8 00 00 00 00	 call	 ?ReleaseCastleBridge@CBloodCastle@@QAEXH@Z ; CBloodCastle::ReleaseCastleBridge

; 1113 : 
; 1114 : 						g_BloodCastle.m_BridgeData[iBridgeIndex].m_dwBC_TICK_DOOR_OPEN = GetTickCount() + 3000;

  0064a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00650	05 b8 0b 00 00	 add	 eax, 3000		; 00000bb8H
  00655	89 86 d8 03 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+984], eax

; 1115 : 
; 1116 : 						LogAddTD("[Blood Castle] (%d) All of the Monster Terminated -> %d", iBridgeIndex+1, g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_MONSTER_KILL_COUNT);

  0065b	8b 86 d0 03 00
	00		 mov	 eax, DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+976]
  00661	50		 push	 eax
  00662	8d 4f 01	 lea	 ecx, DWORD PTR [edi+1]
  00665	51		 push	 ecx
  00666	68 00 00 00 00	 push	 OFFSET ??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@
  0066b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00671	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1117 : 
; 1118 : 						g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_MAX_COUNT = g_BloodCastle.GetCurrentLiveUserCount(iBridgeIndex)*2;

  00674	57		 push	 edi
  00675	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  0067a	e8 00 00 00 00	 call	 ?GetCurrentLiveUserCount@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetCurrentLiveUserCount
  0067f	03 c0		 add	 eax, eax
  00681	89 86 dc 03 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+988], eax

; 1119 : 						g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_KILL_COUNT = 0;

  00687	c7 86 e0 03 00
	00 00 00 00 00	 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+992], 0

; 1120 : 
; 1121 : 						if ( g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_MAX_COUNT > 10) 

  00691	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  00694	7e 0a		 jle	 SHORT $LN23@gObjMonste@20

; 1122 : 						{
; 1123 : 							g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_MAX_COUNT = 10;

  00696	c7 86 dc 03 00
	00 0a 00 00 00	 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+988], 10 ; 0000000aH
$LN23@gObjMonste@20:

; 1124 : 						}
; 1125 : 					}
; 1126 : 
; 1127 : 					if (g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_MONSTER_SUCCESS_MSG_COUNT < 1 )

  006a0	8b 86 d4 03 00
	00		 mov	 eax, DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+980]
  006a6	3b c3		 cmp	 eax, ebx
  006a8	7d 22		 jge	 SHORT $LN22@gObjMonste@20

; 1128 : 					{
; 1129 : 						g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_MONSTER_SUCCESS_MSG_COUNT++;

  006aa	40		 inc	 eax

; 1130 : 						g_BloodCastle.SendNoticeMessage(iBridgeIndex, lMsg.Get(MSGGET(4, 144))); 

  006ab	68 90 04 00 00	 push	 1168			; 00000490H
  006b0	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  006b5	89 86 d4 03 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+980], eax
  006bb	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  006c0	50		 push	 eax
  006c1	57		 push	 edi
  006c2	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  006c7	e8 00 00 00 00	 call	 ?SendNoticeMessage@CBloodCastle@@QAEXHPAD@Z ; CBloodCastle::SendNoticeMessage
$LN22@gObjMonste@20:

; 1131 : 					}
; 1132 : 					
; 1133 : 				}
; 1134 : 
; 1135 : 				if ( g_BloodCastle.m_BridgeData[iBridgeIndex].m_bBC_MONSTER_KILL_COMPLETE != false )

  006cc	80 be b8 03 00
	00 00		 cmp	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+952], 0
  006d3	0f 84 79 02 00
	00		 je	 $LN119@gObjMonste@20

; 1136 : 				{
; 1137 : 					if ( g_BloodCastle.CheckBossKillCount(iBridgeIndex) != false )

  006d9	57		 push	 edi
  006da	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  006df	e8 00 00 00 00	 call	 ?CheckBossKillCount@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckBossKillCount
  006e4	84 c0		 test	 al, al
  006e6	0f 84 66 02 00
	00		 je	 $LN119@gObjMonste@20

; 1138 : 					{
; 1139 : 						if ( g_BloodCastle.m_BridgeData[iBridgeIndex].m_bBC_BOSS_MONSTER_KILL_COMPLETE == false )

  006ec	80 be b9 03 00
	00 00		 cmp	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+953], 0
  006f3	75 34		 jne	 SHORT $LN19@gObjMonste@20

; 1140 : 						{
; 1141 : 							g_BloodCastle.m_BridgeData[iBridgeIndex].m_bBC_BOSS_MONSTER_KILL_COMPLETE = true;
; 1142 : 							g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_MAX_COUNT = -1;
; 1143 : 
; 1144 : 							g_BloodCastle.SetSaintStatue(iBridgeIndex);

  006f5	57		 push	 edi
  006f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  006fb	88 9e b9 03 00
	00		 mov	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+953], bl
  00701	c7 86 dc 03 00
	00 ff ff ff ff	 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+988], -1
  0070b	e8 00 00 00 00	 call	 ?SetSaintStatue@CBloodCastle@@QAEXH@Z ; CBloodCastle::SetSaintStatue

; 1145 : 
; 1146 : 							LogAddTD("[Blood Castle] (%d) All of the Boss Monster Terminated -> %d", iBridgeIndex+1, g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_KILL_COUNT);

  00710	8b 96 e0 03 00
	00		 mov	 edx, DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+992]
  00716	52		 push	 edx
  00717	8d 47 01	 lea	 eax, DWORD PTR [edi+1]
  0071a	50		 push	 eax
  0071b	68 00 00 00 00	 push	 OFFSET ??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@
  00720	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00726	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN19@gObjMonste@20:

; 1147 : 						}
; 1148 : 
; 1149 : 						if ( g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_SUCCESS_MSG_COUNT < 1 )

  00729	8b 86 e4 03 00
	00		 mov	 eax, DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+996]
  0072f	3b c3		 cmp	 eax, ebx
  00731	0f 8d 1b 02 00
	00		 jge	 $LN119@gObjMonste@20

; 1150 : 						{
; 1151 : 							g_BloodCastle.m_BridgeData[iBridgeIndex].m_iBC_BOSS_MONSTER_SUCCESS_MSG_COUNT++;

  00737	40		 inc	 eax

; 1152 : 							g_BloodCastle.SendNoticeMessage(iBridgeIndex, lMsg.Get(MSGGET(4, 156)));

  00738	68 9c 04 00 00	 push	 1180			; 0000049cH
  0073d	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VCMsg@@A ; lMsg
  00742	89 86 e4 03 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+996], eax
  00748	e8 00 00 00 00	 call	 ?Get@CMsg@@QAEPADH@Z	; CMsg::Get
  0074d	50		 push	 eax
  0074e	57		 push	 edi
  0074f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  00754	e8 00 00 00 00	 call	 ?SendNoticeMessage@CBloodCastle@@QAEXHPAD@Z ; CBloodCastle::SendNoticeMessage
  00759	5b		 pop	 ebx
  0075a	5f		 pop	 edi
  0075b	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  0075c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0075f	33 cd		 xor	 ecx, ebp
  00761	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00766	8b e5		 mov	 esp, ebp
  00768	5d		 pop	 ebp
  00769	c3		 ret	 0
$LN17@gObjMonste@20:

; 1153 : 						}
; 1154 : 					}
; 1155 : 				}
; 1156 : 			}
; 1157 : 			
; 1158 : 			break;
; 1159 : 
; 1160 : 
; 1161 : 		case 2:
; 1162 : 			if ( gObj[aIndex].Live != FALSE )

  0076a	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00770	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00776	80 7f 6a 00	 cmp	 BYTE PTR [edi+106], 0
  0077a	0f 84 d2 01 00
	00		 je	 $LN119@gObjMonste@20

; 1163 : 			{
; 1164 : 				if ( BC_MAP_RANGE(gObj[aIndex].MapNumber) == FALSE )

  00780	0f b6 87 49 01
	00 00		 movzx	 eax, BYTE PTR [edi+329]
  00787	3c 34		 cmp	 al, 52			; 00000034H
  00789	0f 84 c3 01 00
	00		 je	 $LN119@gObjMonste@20
  0078f	3c 0b		 cmp	 al, 11			; 0000000bH
  00791	72 0d		 jb	 SHORT $LN116@gObjMonste@20
  00793	b2 11		 mov	 dl, 17			; 00000011H
  00795	3a d0		 cmp	 dl, al
  00797	1b c0		 sbb	 eax, eax
  00799	40		 inc	 eax
  0079a	0f 85 b2 01 00
	00		 jne	 $LN119@gObjMonste@20
$LN116@gObjMonste@20:

; 1165 : 				{
; 1166 : 					if ( gObj[aIndex].Class != 131 || ((  (lpObj->Class-132)<0)?FALSE:((lpObj->Class-132)>2)?FALSE:TRUE)==FALSE )

  007a0	b8 83 00 00 00	 mov	 eax, 131		; 00000083H
  007a5	66 39 87 b8 00
	00 00		 cmp	 WORD PTR [edi+184], ax
  007ac	75 20		 jne	 SHORT $LN13@gObjMonste@20
  007ae	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  007b5	05 7c ff ff ff	 add	 eax, -132		; ffffff7cH
  007ba	78 12		 js	 SHORT $LN13@gObjMonste@20
  007bc	33 c9		 xor	 ecx, ecx
  007be	83 f8 02	 cmp	 eax, 2
  007c1	0f 9e c1	 setle	 cl
  007c4	8b c1		 mov	 eax, ecx
  007c6	85 c0		 test	 eax, eax
  007c8	0f 85 84 01 00
	00		 jne	 $LN119@gObjMonste@20
$LN13@gObjMonste@20:

; 1167 : 					{
; 1168 : 						gObjBackSpring(lpObj, &gObj[aIndex]);

  007ce	57		 push	 edi
  007cf	56		 push	 esi
  007d0	e8 00 00 00 00	 call	 ?gObjBackSpring@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjBackSpring
  007d5	83 c4 08	 add	 esp, 8
  007d8	5b		 pop	 ebx
  007d9	5f		 pop	 edi
  007da	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  007db	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  007de	33 cd		 xor	 ecx, ebp
  007e0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  007e5	8b e5		 mov	 esp, ebp
  007e7	5d		 pop	 ebp
  007e8	c3		 ret	 0
$LN12@gObjMonste@20:

; 1169 : 					}
; 1170 : 				}
; 1171 : 			}
; 1172 : 
; 1173 : 			break;
; 1174 : 
; 1175 : 		case 3:
; 1176 : 			lpObj->TargetNumber = -1;

  007e9	83 ca ff	 or	 edx, -1
  007ec	5b		 pop	 ebx

; 1177 : 			lpObj->LastAttackerID = -1;

  007ed	0b c2		 or	 eax, edx

; 1178 : 			lpObj->m_ActState.Emotion = 0;
; 1179 : 			lpObj->m_ActState.Attack = 0;
; 1180 : 			lpObj->m_ActState.Move = 0;

  007ef	81 a6 18 02 00
	00 09 ff ff ff	 and	 DWORD PTR [esi+536], -247 ; ffffff09H
  007f9	5f		 pop	 edi
  007fa	66 89 96 58 04
	00 00		 mov	 WORD PTR [esi+1112], dx
  00801	66 89 86 5e 04
	00 00		 mov	 WORD PTR [esi+1118], ax

; 1181 : 			lpObj->NextActionTime = 1000;

  00808	c7 86 bc 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+956], 1000 ; 000003e8H
  00812	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  00813	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00816	33 cd		 xor	 ecx, ebp
  00818	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0081d	8b e5		 mov	 esp, ebp
  0081f	5d		 pop	 ebp
  00820	c3		 ret	 0
$LN11@gObjMonste@20:

; 1182 : 			break;
; 1183 : 
; 1184 : 		case 4:
; 1185 : 			lpObj->m_ActState.Emotion = 3;

  00821	8b 8e 18 02 00
	00		 mov	 ecx, DWORD PTR [esi+536]
  00827	81 e1 3f ff ff
	ff		 and	 ecx, -193		; ffffff3fH
  0082d	5b		 pop	 ebx
  0082e	83 c9 30	 or	 ecx, 48			; 00000030H
  00831	89 8e 18 02 00
	00		 mov	 DWORD PTR [esi+536], ecx
  00837	5f		 pop	 edi

; 1186 : 			lpObj->m_ActState.EmotionCount = 1;

  00838	c6 86 19 02 00
	00 01		 mov	 BYTE PTR [esi+537], 1
  0083f	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  00840	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00843	33 cd		 xor	 ecx, ebp
  00845	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0084a	8b e5		 mov	 esp, ebp
  0084c	5d		 pop	 ebp
  0084d	c3		 ret	 0
$LN10@gObjMonste@20:

; 1187 : 			break;
; 1188 : 
; 1189 : 		case 5:
; 1190 : 			gObjMemFree(lpObj->m_Index);

  0084e	8b 16		 mov	 edx, DWORD PTR [esi]
  00850	52		 push	 edx
  00851	e8 00 00 00 00	 call	 ?gObjMemFree@@YAFH@Z	; gObjMemFree
  00856	83 c4 04	 add	 esp, 4
  00859	5b		 pop	 ebx
  0085a	5f		 pop	 edi
  0085b	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  0085c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0085f	33 cd		 xor	 ecx, ebp
  00861	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00866	8b e5		 mov	 esp, ebp
  00868	5d		 pop	 ebp
  00869	c3		 ret	 0
$LN9@gObjMonste@20:

; 1191 : 			break;
; 1192 : 
; 1193 : 		case 6:
; 1194 : 			if ( gObj[aIndex].Live != FALSE )

  0086a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0086f	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00875	03 c7		 add	 eax, edi
  00877	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  0087b	0f 84 d1 00 00
	00		 je	 $LN119@gObjMonste@20

; 1195 : 			{
; 1196 : 				gObjBackSpring2(lpObj, &gObj[aIndex], 2);

  00881	6a 02		 push	 2
  00883	50		 push	 eax
  00884	56		 push	 esi

; 1197 : 			}
; 1198 : 
; 1199 : 			break;

  00885	e9 c0 00 00 00	 jmp	 $LN124@gObjMonste@20
$LN7@gObjMonste@20:

; 1200 : 
; 1201 : 		case 7:
; 1202 : 			if ( gObj[aIndex].Live != FALSE )

  0088a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00890	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00896	80 7c 0f 6a 00	 cmp	 BYTE PTR [edi+ecx+106], 0
  0089b	8d 04 0f	 lea	 eax, DWORD PTR [edi+ecx]
  0089e	0f 84 ae 00 00
	00		 je	 $LN119@gObjMonste@20

; 1203 : 			{
; 1204 : 				gObjBackSpring2(lpObj, &gObj[aIndex], 3);

  008a4	6a 03		 push	 3
  008a6	50		 push	 eax
  008a7	56		 push	 esi

; 1205 : 			}
; 1206 : 			break;

  008a8	e9 9d 00 00 00	 jmp	 $LN124@gObjMonste@20
$LN5@gObjMonste@20:

; 1207 : 
; 1208 : 		case 55:
; 1209 : 			gObjAttack(lpObj, &gObj[aIndex], NULL, FALSE, 0, 0, FALSE,0,0);

  008ad	6a 00		 push	 0
  008af	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  008b5	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008bb	6a 00		 push	 0
  008bd	6a 00		 push	 0
  008bf	6a 00		 push	 0
  008c1	6a 00		 push	 0
  008c3	6a 00		 push	 0
  008c5	6a 00		 push	 0
  008c7	57		 push	 edi
  008c8	56		 push	 esi
  008c9	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  008ce	83 c4 24	 add	 esp, 36			; 00000024H
  008d1	5b		 pop	 ebx
  008d2	5f		 pop	 edi
  008d3	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  008d4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  008d7	33 cd		 xor	 ecx, ebp
  008d9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  008de	8b e5		 mov	 esp, ebp
  008e0	5d		 pop	 ebp
  008e1	c3		 ret	 0
$LN4@gObjMonste@20:

; 1210 : 			break;
; 1211 : 
; 1212 : 		case 56:
; 1213 : 			{
; 1214 : 				LPOBJ lpTargetObj = &gObj[aIndex];

  008e2	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  008e8	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 1215 : 
; 1216 : 				if(gObjSearchActiveEffect(lpTargetObj, AT_POISON) == FALSE ) //season3 changed

  008ee	6a 37		 push	 55			; 00000037H
  008f0	57		 push	 edi
  008f1	e8 00 00 00 00	 call	 ?gObjSearchActiveEffect@@YAEPAUOBJECTSTRUCT@@H@Z ; gObjSearchActiveEffect
  008f6	83 c4 08	 add	 esp, 8
  008f9	84 c0		 test	 al, al
  008fb	75 55		 jne	 SHORT $LN119@gObjMonste@20

; 1217 : 				{
; 1218 : 					if ( retResistance(lpTargetObj, 1) == 0 )

  008fd	6a 01		 push	 1
  008ff	57		 push	 edi
  00900	e8 00 00 00 00	 call	 ?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retResistance
  00905	83 c4 08	 add	 esp, 8
  00908	85 c0		 test	 eax, eax
  0090a	75 46		 jne	 SHORT $LN119@gObjMonste@20

; 1219 : 					{
; 1220 : 						lpTargetObj->lpAttackObj = lpObj;
; 1221 : 						gObjApplyBuffEffectDuration(lpTargetObj, AT_POISON, 19, 3, 0, 0, aMsgSubCode);

  0090c	8b 55 14	 mov	 edx, DWORD PTR _aMsgSubCode$[ebp]
  0090f	52		 push	 edx
  00910	50		 push	 eax
  00911	50		 push	 eax
  00912	6a 03		 push	 3
  00914	6a 13		 push	 19			; 00000013H
  00916	6a 37		 push	 55			; 00000037H
  00918	57		 push	 edi
  00919	89 b7 d4 03 00
	00		 mov	 DWORD PTR [edi+980], esi
  0091f	e8 00 00 00 00	 call	 ?gObjApplyBuffEffectDuration@@YAEPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjApplyBuffEffectDuration
  00924	83 c4 1c	 add	 esp, 28			; 0000001cH
  00927	5b		 pop	 ebx
  00928	5f		 pop	 edi
  00929	5e		 pop	 esi

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  0092a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0092d	33 cd		 xor	 ecx, ebp
  0092f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00934	8b e5		 mov	 esp, ebp
  00936	5d		 pop	 ebp
  00937	c3		 ret	 0
$LN1@gObjMonste@20:

; 1222 : 					}
; 1223 : 				}
; 1224 : 			}
; 1225 : 			break;
; 1226 : 
; 1227 : 		case 57:
; 1228 : 			{
; 1229 : 				LPOBJ lpTargetObj = &gObj[aIndex];
; 1230 : 				gObjBackSpring2(lpTargetObj, lpObj, aMsgSubCode);

  00938	8b 45 14	 mov	 eax, DWORD PTR _aMsgSubCode$[ebp]
  0093b	69 ff 50 2b 00
	00		 imul	 edi, 11088		; 00002b50H
  00941	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00947	50		 push	 eax
  00948	56		 push	 esi
  00949	57		 push	 edi
$LN124@gObjMonste@20:
  0094a	e8 00 00 00 00	 call	 ?gObjBackSpring2@@YAHPAUOBJECTSTRUCT@@0H@Z ; gObjBackSpring2
  0094f	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN119@gObjMonste@20:
  00952	5b		 pop	 ebx
$LN87@gObjMonste@20:

; 1231 : 			}
; 1232 : 			break;
; 1233 : 		//Miss Case 58 for Eletrict Surge
; 1234 : 	}
; 1235 : }

  00953	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00956	5f		 pop	 edi
  00957	33 cd		 xor	 ecx, ebp
  00959	5e		 pop	 esi
  0095a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0095f	8b e5		 mov	 esp, ebp
  00961	5d		 pop	 ebp
  00962	c3		 ret	 0
  00963	90		 npad	 1
$LN126@gObjMonste@20:
  00964	00 00 00 00	 DD	 $LN86@gObjMonste@20
  00968	00 00 00 00	 DD	 $LN45@gObjMonste@20
  0096c	00 00 00 00	 DD	 $LN17@gObjMonste@20
  00970	00 00 00 00	 DD	 $LN12@gObjMonste@20
  00974	00 00 00 00	 DD	 $LN11@gObjMonste@20
  00978	00 00 00 00	 DD	 $LN10@gObjMonste@20
  0097c	00 00 00 00	 DD	 $LN9@gObjMonste@20
  00980	00 00 00 00	 DD	 $LN7@gObjMonste@20
  00984	00 00 00 00	 DD	 $LN5@gObjMonste@20
  00988	00 00 00 00	 DD	 $LN4@gObjMonste@20
  0098c	00 00 00 00	 DD	 $LN1@gObjMonste@20
  00990	00 00 00 00	 DD	 $LN119@gObjMonste@20
$LN117@gObjMonste@20:
  00994	00		 DB	 0
  00995	01		 DB	 1
  00996	02		 DB	 2
  00997	03		 DB	 3
  00998	04		 DB	 4
  00999	05		 DB	 5
  0099a	06		 DB	 6
  0099b	07		 DB	 7
  0099c	0b		 DB	 11			; 0000000bH
  0099d	0b		 DB	 11			; 0000000bH
  0099e	0b		 DB	 11			; 0000000bH
  0099f	0b		 DB	 11			; 0000000bH
  009a0	0b		 DB	 11			; 0000000bH
  009a1	0b		 DB	 11			; 0000000bH
  009a2	0b		 DB	 11			; 0000000bH
  009a3	0b		 DB	 11			; 0000000bH
  009a4	0b		 DB	 11			; 0000000bH
  009a5	0b		 DB	 11			; 0000000bH
  009a6	0b		 DB	 11			; 0000000bH
  009a7	0b		 DB	 11			; 0000000bH
  009a8	0b		 DB	 11			; 0000000bH
  009a9	0b		 DB	 11			; 0000000bH
  009aa	0b		 DB	 11			; 0000000bH
  009ab	0b		 DB	 11			; 0000000bH
  009ac	0b		 DB	 11			; 0000000bH
  009ad	0b		 DB	 11			; 0000000bH
  009ae	0b		 DB	 11			; 0000000bH
  009af	0b		 DB	 11			; 0000000bH
  009b0	0b		 DB	 11			; 0000000bH
  009b1	0b		 DB	 11			; 0000000bH
  009b2	0b		 DB	 11			; 0000000bH
  009b3	0b		 DB	 11			; 0000000bH
  009b4	0b		 DB	 11			; 0000000bH
  009b5	0b		 DB	 11			; 0000000bH
  009b6	0b		 DB	 11			; 0000000bH
  009b7	0b		 DB	 11			; 0000000bH
  009b8	0b		 DB	 11			; 0000000bH
  009b9	0b		 DB	 11			; 0000000bH
  009ba	0b		 DB	 11			; 0000000bH
  009bb	0b		 DB	 11			; 0000000bH
  009bc	0b		 DB	 11			; 0000000bH
  009bd	0b		 DB	 11			; 0000000bH
  009be	0b		 DB	 11			; 0000000bH
  009bf	0b		 DB	 11			; 0000000bH
  009c0	0b		 DB	 11			; 0000000bH
  009c1	0b		 DB	 11			; 0000000bH
  009c2	0b		 DB	 11			; 0000000bH
  009c3	0b		 DB	 11			; 0000000bH
  009c4	0b		 DB	 11			; 0000000bH
  009c5	0b		 DB	 11			; 0000000bH
  009c6	0b		 DB	 11			; 0000000bH
  009c7	0b		 DB	 11			; 0000000bH
  009c8	0b		 DB	 11			; 0000000bH
  009c9	0b		 DB	 11			; 0000000bH
  009ca	0b		 DB	 11			; 0000000bH
  009cb	08		 DB	 8
  009cc	09		 DB	 9
  009cd	0a		 DB	 10			; 0000000aH
?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z ENDP	; gObjMonsterStateProc
_TEXT	ENDS
PUBLIC	?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterProcess
EXTRN	?UseMonsterSkill@TMonsterSkillManager@@SAXHHHHPAVCMagicInf@@@Z:PROC ; TMonsterSkillManager::UseMonsterSkill
EXTRN	?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z:PROC	; GCActionSend
EXTRN	?CheckMonsterSkill@TMonsterSkillManager@@SAHH@Z:PROC ; TMonsterSkillManager::CheckMonsterSkill
EXTRN	?MoveProc@CDoppelGanger@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CDoppelGanger::MoveProc
EXTRN	?gObjTeleportMagicUse@@YAXHEE@Z:PROC		; gObjTeleportMagicUse
EXTRN	?MercenaryAct@CMercenary@@QAEXH@Z:PROC		; CMercenary::MercenaryAct
EXTRN	?gBattleSoccerScoreUpdate@@YAHHH@Z:PROC		; gBattleSoccerScoreUpdate
EXTRN	?gCheckGoal@@YAHHHAAH@Z:PROC			; gCheckGoal
EXTRN	?KalimaGateAct@CKalimaGate@@QAEXH@Z:PROC	; CKalimaGate::KalimaGateAct
EXTRN	?KalimaGateAct2@CKalimaGate@@QAEXH@Z:PROC	; CKalimaGate::KalimaGateAct2
EXTRN	?gObjMsgProc@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; gObjMsgProc
; Function compile flags: /Ogtp
;	COMDAT ?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_ground$227779 = 8					; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterProcess, COMDAT

; 1238 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 1239 : 	gObjMsgProc(lpObj);

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00007	56		 push	 esi
  00008	e8 00 00 00 00	 call	 ?gObjMsgProc@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMsgProc
  0000d	83 c4 04	 add	 esp, 4

; 1240 : 
; 1241 : 	if ( lpObj->Live == FALSE )

  00010	80 7e 6a 00	 cmp	 BYTE PTR [esi+106], 0
  00014	0f 84 f7 04 00
	00		 je	 $LN25@gObjMonste@21

; 1242 : 	{
; 1243 : 		return;
; 1244 : 	}
; 1245 : 
; 1246 : 	if ( lpObj->m_iMonsterBattleDelay > 0 )

  0001a	8a 86 c9 03 00
	00		 mov	 al, BYTE PTR [esi+969]
  00020	84 c0		 test	 al, al
  00022	7e 08		 jle	 SHORT $LN68@gObjMonste@21

; 1247 : 	{
; 1248 : 		lpObj->m_iMonsterBattleDelay--;

  00024	fe c8		 dec	 al
  00026	88 86 c9 03 00
	00		 mov	 BYTE PTR [esi+969], al
$LN68@gObjMonste@21:

; 1249 : 	}
; 1250 : 
; 1251 : 	if ( (GetTickCount() - lpObj->CurActionTime ) < (lpObj->NextActionTime + lpObj->DelayActionTime) )

  0002c	57		 push	 edi
  0002d	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR __imp__GetTickCount@0
  00033	ff d7		 call	 edi
  00035	8b 8e c0 03 00
	00		 mov	 ecx, DWORD PTR [esi+960]
  0003b	2b 86 b8 03 00
	00		 sub	 eax, DWORD PTR [esi+952]
  00041	03 8e bc 03 00
	00		 add	 ecx, DWORD PTR [esi+956]
  00047	3b c1		 cmp	 eax, ecx
  00049	0f 82 c1 04 00
	00		 jb	 $LN91@gObjMonste@21

; 1252 : 	{
; 1253 : 		return;
; 1254 : 	}
; 1255 : 
; 1256 : 	lpObj->CurActionTime = GetTickCount();

  0004f	53		 push	 ebx
  00050	ff d7		 call	 edi
  00052	89 86 b8 03 00
	00		 mov	 DWORD PTR [esi+952], eax

; 1257 : 
; 1258 : 	if ( BC_MAP_RANGE(lpObj->MapNumber) != FALSE )

  00058	0f b6 86 49 01
	00 00		 movzx	 eax, BYTE PTR [esi+329]
  0005f	3c 34		 cmp	 al, 52			; 00000034H
  00061	74 0d		 je	 SHORT $LN84@gObjMonste@21
  00063	3c 0b		 cmp	 al, 11			; 0000000bH
  00065	72 3d		 jb	 SHORT $LN86@gObjMonste@21
  00067	b2 11		 mov	 dl, 17			; 00000011H
  00069	3a d0		 cmp	 dl, al
  0006b	1b c0		 sbb	 eax, eax
  0006d	40		 inc	 eax
  0006e	74 34		 je	 SHORT $LN86@gObjMonste@21
$LN84@gObjMonste@21:

; 1259 : 	{
; 1260 : 		if ( lpObj->Class == 131|| ((lpObj->Class-132<0)?FALSE:(lpObj->Class-132>2)?FALSE:TRUE) != FALSE )

  00070	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  00077	b9 83 00 00 00	 mov	 ecx, 131		; 00000083H
  0007c	66 3b c1	 cmp	 ax, cx
  0007f	0f 84 8a 04 00
	00		 je	 $LN92@gObjMonste@21
  00085	05 7c ff ff ff	 add	 eax, -132		; ffffff7cH
  0008a	bb 02 00 00 00	 mov	 ebx, 2
  0008f	78 18		 js	 SHORT $LN65@gObjMonste@21
  00091	33 d2		 xor	 edx, edx
  00093	3b c3		 cmp	 eax, ebx
  00095	0f 9e c2	 setle	 dl
  00098	8b c2		 mov	 eax, edx
  0009a	85 c0		 test	 eax, eax

; 1261 : 		{
; 1262 : 			return;

  0009c	0f 85 6d 04 00
	00		 jne	 $LN92@gObjMonste@21
  000a2	eb 05		 jmp	 SHORT $LN65@gObjMonste@21
$LN86@gObjMonste@21:
  000a4	bb 02 00 00 00	 mov	 ebx, 2
$LN65@gObjMonste@21:

; 1263 : 		}
; 1264 : 	}
; 1265 : 
; 1266 : 	if ( ((lpObj->m_Attribute < 51)?FALSE:(lpObj->m_Attribute > 58)?FALSE:TRUE) != FALSE )

  000a9	0f b7 86 b6 04
	00 00		 movzx	 eax, WORD PTR [esi+1206]
  000b0	66 83 f8 33	 cmp	 ax, 51			; 00000033H
  000b4	7c 37		 jl	 SHORT $LN90@gObjMonste@21
  000b6	33 c9		 xor	 ecx, ecx
  000b8	66 83 f8 3a	 cmp	 ax, 58			; 0000003aH
  000bc	0f 9e c1	 setle	 cl
  000bf	85 c9		 test	 ecx, ecx
  000c1	74 2a		 je	 SHORT $LN90@gObjMonste@21

; 1267 : 	{
; 1268 : 		if ( lpObj->m_Attribute == 58 )

  000c3	66 83 f8 3a	 cmp	 ax, 58			; 0000003aH
  000c7	75 12		 jne	 SHORT $LN62@gObjMonste@21

; 1269 : 		{
; 1270 : 			g_KalimaGate.KalimaGateAct2(lpObj->m_Index);

  000c9	8b 06		 mov	 eax, DWORD PTR [esi]
  000cb	50		 push	 eax
  000cc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  000d1	e8 00 00 00 00	 call	 ?KalimaGateAct2@CKalimaGate@@QAEXH@Z ; CKalimaGate::KalimaGateAct2
  000d6	5b		 pop	 ebx
  000d7	5f		 pop	 edi
  000d8	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  000d9	5d		 pop	 ebp
  000da	c3		 ret	 0
$LN62@gObjMonste@21:

; 1271 : 			return;
; 1272 : 		}
; 1273 : 
; 1274 : 		g_KalimaGate.KalimaGateAct(lpObj->m_Index);

  000db	8b 0e		 mov	 ecx, DWORD PTR [esi]
  000dd	51		 push	 ecx
  000de	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  000e3	e8 00 00 00 00	 call	 ?KalimaGateAct@CKalimaGate@@QAEXH@Z ; CKalimaGate::KalimaGateAct
  000e8	5b		 pop	 ebx
  000e9	5f		 pop	 edi
  000ea	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  000eb	5d		 pop	 ebp
  000ec	c3		 ret	 0
$LN90@gObjMonste@21:

; 1275 : 		return;
; 1276 : 	}
; 1277 : 
; 1278 : //#if(GS_CASTLE==1)
; 1279 : 	if(lpObj->Class == 283)

  000ed	0f b7 86 b8 00
	00 00		 movzx	 eax, WORD PTR [esi+184]
  000f4	ba 1b 01 00 00	 mov	 edx, 283		; 0000011bH
  000f9	66 3b c2	 cmp	 ax, dx
  000fc	0f 84 0d 04 00
	00		 je	 $LN92@gObjMonste@21

; 1280 : 	{
; 1281 : 		return;
; 1282 : 	}
; 1283 : 	else if(lpObj->Class == 288)

  00102	b9 20 01 00 00	 mov	 ecx, 288		; 00000120H
  00107	66 3b c1	 cmp	 ax, cx
  0010a	0f 84 ff 03 00
	00		 je	 $LN92@gObjMonste@21

; 1284 : 	{
; 1285 : 		return;
; 1286 : 	}
; 1287 : 	else if(lpObj->Class == 278)

  00110	ba 16 01 00 00	 mov	 edx, 278		; 00000116H
  00115	66 3b c2	 cmp	 ax, dx
  00118	0f 84 f1 03 00
	00		 je	 $LN92@gObjMonste@21

; 1288 : 	{
; 1289 : 		return;
; 1290 : 	}
; 1291 : //#endif
; 1292 : 
; 1293 : 	if ( lpObj->Class >= 100 && lpObj->Class <= 110 )

  0011e	83 f8 64	 cmp	 eax, 100		; 00000064H
  00121	72 13		 jb	 SHORT $LN56@gObjMonste@21
  00123	83 f8 6e	 cmp	 eax, 110		; 0000006eH
  00126	77 0e		 ja	 SHORT $LN56@gObjMonste@21

; 1294 : 	{
; 1295 : 		gObjMonsterTrapAct(lpObj);

  00128	56		 push	 esi
  00129	e8 00 00 00 00	 call	 ?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterTrapAct
  0012e	83 c4 04	 add	 esp, 4
  00131	e9 8d 00 00 00	 jmp	 $LN89@gObjMonste@21
$LN56@gObjMonste@21:

; 1296 : 		
; 1297 : 	}
; 1298 : 	else if ( lpObj->Class == 200 )

  00136	b9 c8 00 00 00	 mov	 ecx, 200		; 000000c8H
  0013b	66 3b c1	 cmp	 ax, cx
  0013e	75 3a		 jne	 SHORT $LN54@gObjMonste@21

; 1299 : 	{
; 1300 : 		int ground;
; 1301 : 		int team = gCheckGoal(lpObj->X, lpObj->Y, ground);

  00140	0f bf 86 46 01
	00 00		 movsx	 eax, WORD PTR [esi+326]
  00147	0f bf 8e 44 01
	00 00		 movsx	 ecx, WORD PTR [esi+324]
  0014e	8d 55 08	 lea	 edx, DWORD PTR _ground$227779[ebp]
  00151	52		 push	 edx
  00152	50		 push	 eax
  00153	51		 push	 ecx
  00154	e8 00 00 00 00	 call	 ?gCheckGoal@@YAHHHAAH@Z	; gCheckGoal
  00159	8b f8		 mov	 edi, eax
  0015b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1302 : 
; 1303 : 		if ( team >= 0 )

  0015e	85 ff		 test	 edi, edi
  00160	78 61		 js	 SHORT $LN89@gObjMonste@21

; 1304 : 		{
; 1305 : 			gObjMonsterRegen(lpObj);

  00162	56		 push	 esi
  00163	e8 00 00 00 00	 call	 ?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterRegen

; 1306 : 			gBattleSoccerScoreUpdate(ground, team);

  00168	8b 55 08	 mov	 edx, DWORD PTR _ground$227779[ebp]
  0016b	57		 push	 edi
  0016c	52		 push	 edx
  0016d	e8 00 00 00 00	 call	 ?gBattleSoccerScoreUpdate@@YAHHH@Z ; gBattleSoccerScoreUpdate
  00172	83 c4 0c	 add	 esp, 12			; 0000000cH
  00175	5b		 pop	 ebx
  00176	5f		 pop	 edi
  00177	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  00178	5d		 pop	 ebp
  00179	c3		 ret	 0
$LN54@gObjMonste@21:

; 1307 : 			return;
; 1308 : 		}
; 1309 : 	}
; 1310 : 	else 
; 1311 : 	{
; 1312 : 		if ( lpObj->Class == 287 || lpObj->Class == 286 )

  0017a	b9 1f 01 00 00	 mov	 ecx, 287		; 0000011fH
  0017f	66 3b c1	 cmp	 ax, cx
  00182	74 32		 je	 SHORT $LN50@gObjMonste@21
  00184	ba 1e 01 00 00	 mov	 edx, 286		; 0000011eH
  00189	66 3b c2	 cmp	 ax, dx
  0018c	74 28		 je	 SHORT $LN50@gObjMonste@21

; 1315 : 		}
; 1316 : 		
; 1317 : #ifdef IMPERIAL_CONFLICT_NEW
; 1318 : 		else if ( lpObj->Class >= 504 && lpObj->Class <= 521)
; 1319 : 		{
; 1320 : 			g_ImperialGuardian.MonsterBaseAct(lpObj);
; 1321 : 		}
; 1322 : #endif
; 1323 : 		else if ( lpObj->m_bIsInMonsterHerd != false )

  0018e	83 be e8 10 00
	00 00		 cmp	 DWORD PTR [esi+4328], 0
  00195	74 14		 je	 SHORT $LN48@gObjMonste@21

; 1324 : 		{
; 1325 : 			if ( lpObj->m_lpMonsterHerd != NULL )

  00197	8b 8e f0 10 00
	00		 mov	 ecx, DWORD PTR [esi+4336]
  0019d	85 c9		 test	 ecx, ecx
  0019f	74 22		 je	 SHORT $LN89@gObjMonste@21

; 1326 : 			{
; 1327 : 				lpObj->m_lpMonsterHerd->MonsterBaseAct(lpObj);

  001a1	8b 01		 mov	 eax, DWORD PTR [ecx]
  001a3	8b 50 40	 mov	 edx, DWORD PTR [eax+64]
  001a6	56		 push	 esi
  001a7	ff d2		 call	 edx

; 1328 : 			}
; 1329 : 		}
; 1330 : 		else

  001a9	eb 18		 jmp	 SHORT $LN89@gObjMonste@21
$LN48@gObjMonste@21:

; 1331 : 		{
; 1332 : 			gObjMonsterBaseAct(lpObj);

  001ab	56		 push	 esi
  001ac	e8 00 00 00 00	 call	 ?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterBaseAct
  001b1	83 c4 04	 add	 esp, 4
  001b4	eb 0d		 jmp	 SHORT $LN89@gObjMonste@21
$LN50@gObjMonste@21:

; 1313 : 		{
; 1314 : 			g_CsNPC_Mercenary.MercenaryAct(lpObj->m_Index);

  001b6	8b 06		 mov	 eax, DWORD PTR [esi]
  001b8	50		 push	 eax
  001b9	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_Mercenary@@3VCMercenary@@A ; g_CsNPC_Mercenary
  001be	e8 00 00 00 00	 call	 ?MercenaryAct@CMercenary@@QAEXH@Z ; CMercenary::MercenaryAct
$LN89@gObjMonste@21:

; 1333 : 		}
; 1334 : 	}
; 1335 : 
; 1336 : 	if ( lpObj->m_Attribute == 100 )

  001c3	66 83 be b6 04
	00 00 64	 cmp	 WORD PTR [esi+1206], 100 ; 00000064H
  001cb	75 7f		 jne	 SHORT $LN41@gObjMonste@21

; 1337 : 	{
; 1338 : 		if ( lpObj->m_RecallMon >= 0 && lpObj->m_RecallMon < OBJMAX )

  001cd	8b 86 50 04 00
	00		 mov	 eax, DWORD PTR [esi+1104]
  001d3	85 c0		 test	 eax, eax
  001d5	78 75		 js	 SHORT $LN41@gObjMonste@21
  001d7	3d 98 3a 00 00	 cmp	 eax, 15000		; 00003a98H
  001dc	7d 6e		 jge	 SHORT $LN41@gObjMonste@21

; 1339 : 		{
; 1340 : 			LPOBJ lpCallMonObj;
; 1341 : 			BOOL Success = FALSE;
; 1342 : 
; 1343 : 			lpCallMonObj = &gObj[lpObj->m_RecallMon];
; 1344 : 
; 1345 : 
; 1346 : 			if ( lpObj->MapNumber != lpCallMonObj->MapNumber )

  001de	8a 8e 49 01 00
	00		 mov	 cl, BYTE PTR [esi+329]
  001e4	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  001ea	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001f0	33 db		 xor	 ebx, ebx
  001f2	8b f8		 mov	 edi, eax
  001f4	3a 8f 49 01 00
	00		 cmp	 cl, BYTE PTR [edi+329]
  001fa	74 05		 je	 SHORT $LN43@gObjMonste@21

; 1347 : 			{
; 1348 : 				Success = TRUE;

  001fc	bb 01 00 00 00	 mov	 ebx, 1
$LN43@gObjMonste@21:

; 1349 : 			}
; 1350 : 	
; 1351 : 			if ( gObjCalDistance(lpCallMonObj, lpObj)> 14 )

  00201	56		 push	 esi
  00202	57		 push	 edi
  00203	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00208	83 c4 08	 add	 esp, 8
  0020b	83 f8 0e	 cmp	 eax, 14			; 0000000eH

; 1352 : 			{
; 1353 : 				Success = TRUE;
; 1354 : 			}
; 1355 : 
; 1356 : 			if ( Success == TRUE )

  0020e	7f 05		 jg	 SHORT $LN81@gObjMonste@21
  00210	83 fb 01	 cmp	 ebx, 1
  00213	75 32		 jne	 SHORT $LN88@gObjMonste@21
$LN81@gObjMonste@21:

; 1357 : 			{
; 1358 : 				gObjTeleportMagicUse(lpObj->m_Index, (BYTE)lpCallMonObj->X+1, lpCallMonObj->Y);

  00215	0f b6 87 44 01
	00 00		 movzx	 eax, BYTE PTR [edi+324]
  0021c	0f b6 97 46 01
	00 00		 movzx	 edx, BYTE PTR [edi+326]
  00223	fe c0		 inc	 al
  00225	52		 push	 edx
  00226	8b 16		 mov	 edx, DWORD PTR [esi]
  00228	0f b6 c8	 movzx	 ecx, al
  0022b	51		 push	 ecx
  0022c	52		 push	 edx
  0022d	e8 00 00 00 00	 call	 ?gObjTeleportMagicUse@@YAXHEE@Z ; gObjTeleportMagicUse

; 1359 : 				lpObj->MapNumber = lpCallMonObj->MapNumber;

  00232	0f b6 87 49 01
	00 00		 movzx	 eax, BYTE PTR [edi+329]
  00239	83 c4 0c	 add	 esp, 12			; 0000000cH
  0023c	5b		 pop	 ebx
  0023d	5f		 pop	 edi
  0023e	88 86 49 01 00
	00		 mov	 BYTE PTR [esi+329], al
  00244	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  00245	5d		 pop	 ebp
  00246	c3		 ret	 0
$LN88@gObjMonste@21:

; 1360 : 
; 1361 : 				return;

  00247	bb 02 00 00 00	 mov	 ebx, 2
$LN41@gObjMonste@21:

; 1362 : 			}
; 1363 : 		}
; 1364 : 	}
; 1365 : 
; 1366 : 	if ( lpObj->m_ActState.Move != 0 )

  0024c	8b 86 18 02 00
	00		 mov	 eax, DWORD PTR [esi+536]
  00252	a8 04		 test	 al, 4
  00254	74 4e		 je	 SHORT $LN40@gObjMonste@21

; 1367 : 	{
; 1368 : 		if ( g_DoppelGanger.IsDGMonster(lpObj) )	//Season 5 DoppelGanger

  00256	56		 push	 esi
  00257	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  0025c	e8 00 00 00 00	 call	 ?IsDGMonster@CDoppelGanger@@QAE_NPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::IsDGMonster
  00261	bf fb ff ff ff	 mov	 edi, -5			; fffffffbH

; 1369 : 		{
; 1370 : 			g_DoppelGanger.MoveProc(lpObj);

  00266	56		 push	 esi
  00267	84 c0		 test	 al, al
  00269	74 1b		 je	 SHORT $LN39@gObjMonste@21
  0026b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_DoppelGanger@@3VCDoppelGanger@@A ; g_DoppelGanger
  00270	e8 00 00 00 00	 call	 ?MoveProc@CDoppelGanger@@QAEXPAUOBJECTSTRUCT@@@Z ; CDoppelGanger::MoveProc

; 1374 : 		{
; 1375 : 			lpObj->m_ActState.Move  = (DWORD)0;

  00275	21 be 18 02 00
	00		 and	 DWORD PTR [esi+536], edi

; 1376 : 		}
; 1377 : 		lpObj->m_ActState.Move = (DWORD)0;

  0027b	21 be 18 02 00
	00		 and	 DWORD PTR [esi+536], edi
  00281	5b		 pop	 ebx
  00282	5f		 pop	 edi
  00283	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  00284	5d		 pop	 ebp
  00285	c3		 ret	 0
$LN39@gObjMonste@21:

; 1371 : 			lpObj->m_ActState.Move = (DWORD)0;
; 1372 : 		}
; 1373 : 		else if ( PathFindMoveMsgSend(lpObj ) == TRUE )

  00286	e8 00 00 00 00	 call	 ?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z ; PathFindMoveMsgSend
  0028b	83 c4 04	 add	 esp, 4
  0028e	83 f8 01	 cmp	 eax, 1
  00291	75 06		 jne	 SHORT $LN37@gObjMonste@21

; 1374 : 		{
; 1375 : 			lpObj->m_ActState.Move  = (DWORD)0;

  00293	21 be 18 02 00
	00		 and	 DWORD PTR [esi+536], edi
$LN37@gObjMonste@21:

; 1376 : 		}
; 1377 : 		lpObj->m_ActState.Move = (DWORD)0;

  00299	21 be 18 02 00
	00		 and	 DWORD PTR [esi+536], edi
  0029f	5b		 pop	 ebx
  002a0	5f		 pop	 edi
  002a1	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  002a2	5d		 pop	 ebp
  002a3	c3		 ret	 0
$LN40@gObjMonste@21:

; 1378 : 		return;
; 1379 : 	}
; 1380 : 
; 1381 : 	if ( lpObj->m_ActState.Attack == 1 )

  002a4	a8 02		 test	 al, 2
  002a6	0f 84 63 02 00
	00		 je	 $LN92@gObjMonste@21

; 1382 : 	{
; 1383 : 		if(lpObj->Connected == PLAYER_PLAYING && lpObj->Type == OBJ_MONSTER && lpObj->Class == 459 )//Season 4.5 addon

  002ac	83 7e 04 03	 cmp	 DWORD PTR [esi+4], 3
  002b0	75 18		 jne	 SHORT $LN35@gObjMonste@21
  002b2	66 39 5e 68	 cmp	 WORD PTR [esi+104], bx
  002b6	75 12		 jne	 SHORT $LN35@gObjMonste@21
  002b8	b9 cb 01 00 00	 mov	 ecx, 459		; 000001cbH
  002bd	66 39 8e b8 00
	00 00		 cmp	 WORD PTR [esi+184], cx
  002c4	0f 84 45 02 00
	00		 je	 $LN92@gObjMonste@21
$LN35@gObjMonste@21:

; 1384 : 		{
; 1385 : 			return;
; 1386 : 		}
; 1387 : 
; 1388 : 		if ( TMonsterSkillManager::CheckMonsterSkill(lpObj->Class) )

  002ca	0f b7 96 b8 00
	00 00		 movzx	 edx, WORD PTR [esi+184]
  002d1	52		 push	 edx
  002d2	e8 00 00 00 00	 call	 ?CheckMonsterSkill@TMonsterSkillManager@@SAHH@Z ; TMonsterSkillManager::CheckMonsterSkill
  002d7	83 c4 04	 add	 esp, 4
  002da	85 c0		 test	 eax, eax
  002dc	0f 84 00 01 00
	00		 je	 $LN34@gObjMonste@21

; 1389 : 		{
; 1390 : 			BOOL bEnableAttack = TRUE;
; 1391 : 
; 1392 : 			if ( lpObj->TargetNumber < 0 )//Season 4.5 remake

  002e2	0f b7 86 58 04
	00 00		 movzx	 eax, WORD PTR [esi+1112]
  002e9	b9 01 00 00 00	 mov	 ecx, 1
  002ee	66 85 c0	 test	 ax, ax
  002f1	79 23		 jns	 SHORT $LN33@gObjMonste@21

; 1393 : 			{
; 1394 : 				lpObj->TargetNumber = -1;

  002f3	5b		 pop	 ebx
  002f4	83 c8 ff	 or	 eax, -1

; 1395 : 				lpObj->m_ActState.Emotion = 0;
; 1396 : 				lpObj->m_ActState.Attack = 0;
; 1397 : 				lpObj->m_ActState.Move = 0;

  002f7	81 a6 18 02 00
	00 09 ff ff ff	 and	 DWORD PTR [esi+536], -247 ; ffffff09H
  00301	5f		 pop	 edi
  00302	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax

; 1398 : 				lpObj->NextActionTime = 1000;

  00309	c7 86 bc 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+956], 1000 ; 000003e8H
  00313	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  00314	5d		 pop	 ebp
  00315	c3		 ret	 0
$LN33@gObjMonste@21:

; 1399 : 				return;
; 1400 : 			}
; 1401 : 
; 1402 : 			if ( gObj[lpObj->TargetNumber].Live == FALSE || gObj[lpObj->TargetNumber].Teleport != 0)

  00316	0f bf d0	 movsx	 edx, ax
  00319	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0031e	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00324	03 c2		 add	 eax, edx
  00326	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  0032a	74 09		 je	 SHORT $LN31@gObjMonste@21
  0032c	80 b8 a0 03 00
	00 00		 cmp	 BYTE PTR [eax+928], 0
  00333	74 02		 je	 SHORT $LN32@gObjMonste@21
$LN31@gObjMonste@21:

; 1403 : 				bEnableAttack = FALSE;

  00335	33 c9		 xor	 ecx, ecx
$LN32@gObjMonste@21:

; 1404 : 
; 1405 : 			if ( gObj[lpObj->TargetNumber].Connected <= PLAYER_LOGGED || gObj[lpObj->TargetNumber].CloseCount != -1 )

  00337	39 58 04	 cmp	 DWORD PTR [eax+4], ebx
  0033a	7e 0a		 jle	 SHORT $LN82@gObjMonste@21
  0033c	80 78 0a ff	 cmp	 BYTE PTR [eax+10], -1

; 1406 : 				bEnableAttack = FALSE;
; 1407 : 
; 1408 : 			if ( bEnableAttack == FALSE )

  00340	75 04		 jne	 SHORT $LN82@gObjMonste@21
  00342	85 c9		 test	 ecx, ecx
  00344	75 23		 jne	 SHORT $LN28@gObjMonste@21
$LN82@gObjMonste@21:
  00346	5b		 pop	 ebx

; 1409 : 			{
; 1410 : 				lpObj->TargetNumber = -1;

  00347	83 c9 ff	 or	 ecx, -1

; 1411 : 				lpObj->m_ActState.Emotion = 0;
; 1412 : 				lpObj->m_ActState.Attack = 0;
; 1413 : 				lpObj->m_ActState.Move = 0;

  0034a	81 a6 18 02 00
	00 09 ff ff ff	 and	 DWORD PTR [esi+536], -247 ; ffffff09H
  00354	5f		 pop	 edi
  00355	66 89 8e 58 04
	00 00		 mov	 WORD PTR [esi+1112], cx

; 1414 : 				lpObj->NextActionTime = 1000;

  0035c	c7 86 bc 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+956], 1000 ; 000003e8H
  00366	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  00367	5d		 pop	 ebp
  00368	c3		 ret	 0
$LN28@gObjMonste@21:

; 1415 : 				return;
; 1416 : 			}
; 1417 : 			
; 1418 : 			if ( rand()%4 == 0 )

  00369	e8 00 00 00 00	 call	 _rand
  0036e	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  00373	79 05		 jns	 SHORT $LN93@gObjMonste@21
  00375	48		 dec	 eax
  00376	83 c8 fc	 or	 eax, -4			; fffffffcH
  00379	40		 inc	 eax
$LN93@gObjMonste@21:

; 1419 : 			{
; 1420 : 				PMSG_ATTACK pAttackMsg;
; 1421 : 
; 1422 : 				pAttackMsg.AttackAction = 120;
; 1423 : 				pAttackMsg.DirDis = lpObj->Dir;
; 1424 : 				pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1425 : 				pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1426 : 
; 1427 : 				GCActionSend(lpObj, 120, lpObj->m_Index, lpObj->TargetNumber);

  0037a	0f bf 96 58 04
	00 00		 movsx	 edx, WORD PTR [esi+1112]
  00381	8b 06		 mov	 eax, DWORD PTR [esi]
  00383	75 41		 jne	 SHORT $LN27@gObjMonste@21
  00385	52		 push	 edx
  00386	50		 push	 eax
  00387	6a 78		 push	 120			; 00000078H
  00389	56		 push	 esi
  0038a	e8 00 00 00 00	 call	 ?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z ; GCActionSend

; 1428 : 				gObjAttack(lpObj, &gObj[lpObj->TargetNumber], NULL, FALSE, 0, 0, FALSE,0,0);

  0038f	0f bf 8e 58 04
	00 00		 movsx	 ecx, WORD PTR [esi+1112]
  00396	6a 00		 push	 0
  00398	69 c9 50 2b 00
	00		 imul	 ecx, 11088		; 00002b50H
  0039e	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003a4	6a 00		 push	 0
  003a6	6a 00		 push	 0
  003a8	6a 00		 push	 0
  003aa	6a 00		 push	 0
  003ac	6a 00		 push	 0
  003ae	6a 00		 push	 0
  003b0	51		 push	 ecx
  003b1	56		 push	 esi
  003b2	e8 00 00 00 00	 call	 ?gObjAttack@@YAHPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  003b7	83 c4 34	 add	 esp, 52			; 00000034H

; 1533 : 					}
; 1534 : 				}
; 1535 : 			}
; 1536 : 
; 1537 : 			lpObj->m_ActState.Attack = 0;

  003ba	83 a6 18 02 00
	00 fd		 and	 DWORD PTR [esi+536], -3	; fffffffdH
  003c1	5b		 pop	 ebx
  003c2	5f		 pop	 edi
  003c3	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  003c4	5d		 pop	 ebp
  003c5	c3		 ret	 0
$LN27@gObjMonste@21:

; 1429 : 			}
; 1430 : 			else
; 1431 : 			{
; 1432 : 				TMonsterSkillManager::UseMonsterSkill(lpObj->m_Index, lpObj->TargetNumber, 0, -1, NULL);

  003c6	6a 00		 push	 0
  003c8	6a ff		 push	 -1
  003ca	6a 00		 push	 0
  003cc	52		 push	 edx
  003cd	50		 push	 eax
  003ce	e8 00 00 00 00	 call	 ?UseMonsterSkill@TMonsterSkillManager@@SAXHHHHPAVCMagicInf@@@Z ; TMonsterSkillManager::UseMonsterSkill
  003d3	83 c4 14	 add	 esp, 20			; 00000014H

; 1533 : 					}
; 1534 : 				}
; 1535 : 			}
; 1536 : 
; 1537 : 			lpObj->m_ActState.Attack = 0;

  003d6	83 a6 18 02 00
	00 fd		 and	 DWORD PTR [esi+536], -3	; fffffffdH
  003dd	5b		 pop	 ebx
  003de	5f		 pop	 edi
  003df	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  003e0	5d		 pop	 ebp
  003e1	c3		 ret	 0
$LN34@gObjMonste@21:

; 1433 : 			}
; 1434 : 
; 1435 : 			lpObj->m_ActState.Attack = 0;
; 1436 : 		}
; 1437 : 		else
; 1438 : 		{
; 1439 : 			int AttackType = lpObj->m_AttackType;
; 1440 : 			int lc6 = 0;
; 1441 : 
; 1442 : 			if ( AttackType >= 100 )

  003e2	66 83 be b2 04
	00 00 64	 cmp	 WORD PTR [esi+1202], 100 ; 00000064H
  003ea	7c 11		 jl	 SHORT $LN83@gObjMonste@21

; 1443 : 			{
; 1444 : 				if ( (rand()%5) == 0 )

  003ec	e8 00 00 00 00	 call	 _rand
  003f1	99		 cdq
  003f2	b9 05 00 00 00	 mov	 ecx, 5
  003f7	f7 f9		 idiv	 ecx
  003f9	85 d2		 test	 edx, edx

; 1445 : 				{
; 1446 : 					AttackType -= 100;
; 1447 : 					lc6 = TRUE;
; 1448 : 				}
; 1449 : 				else
; 1450 : 				{
; 1451 : 					AttackType = 0;
; 1452 : 				}
; 1453 : 			}
; 1454 : 
; 1455 : 			if ( lc6 != FALSE || lpObj->m_AttackType == 50)

  003fb	74 68		 je	 SHORT $LN20@gObjMonste@21
$LN83@gObjMonste@21:
  003fd	66 83 be b2 04
	00 00 32	 cmp	 WORD PTR [esi+1202], 50	; 00000032H
  00405	74 5e		 je	 SHORT $LN20@gObjMonste@21

; 1492 : 					}
; 1493 : 				}
; 1494 : 			}
; 1495 : 			else
; 1496 : 			{
; 1497 : 				if ( lpObj->TargetNumber >= 0 )

  00407	0f b7 86 58 04
	00 00		 movzx	 eax, WORD PTR [esi+1112]
  0040e	66 85 c0	 test	 ax, ax
  00411	0f 88 f1 00 00
	00		 js	 $LN11@gObjMonste@21

; 1498 : 				{
; 1499 : 					if ( gObj[lpObj->TargetNumber].Connected > PLAYER_LOGGED &&  gObj[lpObj->TargetNumber].CloseCount == -1 )

  00417	0f bf d0	 movsx	 edx, ax
  0041a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0041f	69 d2 50 2b 00
	00		 imul	 edx, 11088		; 00002b50H
  00425	03 c2		 add	 eax, edx
  00427	39 58 04	 cmp	 DWORD PTR [eax+4], ebx
  0042a	0f 8e ba 00 00
	00		 jle	 $LN18@gObjMonste@21
  00430	80 78 0a ff	 cmp	 BYTE PTR [eax+10], -1
  00434	0f 85 b0 00 00
	00		 jne	 $LN18@gObjMonste@21

; 1500 : 					{
; 1501 : 						if ( gObj[lpObj->TargetNumber].Live == FALSE )

  0043a	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0
  0043e	75 0f		 jne	 SHORT $LN7@gObjMonste@21

; 1502 : 						{
; 1503 : 							lpObj->TargetNumber = -1;

  00440	83 c9 ff	 or	 ecx, -1
  00443	66 89 8e 58 04
	00 00		 mov	 WORD PTR [esi+1112], cx

; 1504 : 							lpObj->m_ActState.Emotion = 0;
; 1505 : 							lpObj->m_ActState.Attack = 0;
; 1506 : 							lpObj->m_ActState.Move = 0;
; 1507 : 							lpObj->NextActionTime = 1000;

  0044a	e9 a5 00 00 00	 jmp	 $LN95@gObjMonste@21
$LN7@gObjMonste@21:

; 1508 : 						}
; 1509 : 						else if ( gObj[lpObj->TargetNumber].Teleport == 0 )

  0044f	80 b8 a0 03 00
	00 00		 cmp	 BYTE PTR [eax+928], 0
  00456	0f 85 ac 00 00
	00		 jne	 $LN11@gObjMonste@21

; 1510 : 						{
; 1511 : 							gObjMonsterAttack(lpObj, &gObj[lpObj->TargetNumber]);

  0045c	50		 push	 eax
  0045d	56		 push	 esi
  0045e	e8 00 00 00 00	 call	 ?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z ; gObjMonsterAttack

; 1512 : 
; 1513 : 							if ( lpObj->Type == OBJ_MONSTER )
; 1514 : 							{
; 1515 : 								if ( lpObj->m_bIsInMonsterHerd != false )
; 1516 : 								{
; 1517 : 									if (lpObj->m_lpMonsterHerd != NULL )
; 1518 : 									{
; 1519 : 										lpObj->m_lpMonsterHerd->MonsterAttackAction(lpObj, &gObj[lpObj->TargetNumber]);
; 1520 : 									}
; 1521 : 								}
; 1522 : 							}
; 1523 : 						}
; 1524 : 						
; 1525 : 					}
; 1526 : 					else
; 1527 : 					{
; 1528 : 						lpObj->TargetNumber = -1;
; 1529 : 						lpObj->m_ActState.Emotion = 0;
; 1530 : 						lpObj->m_ActState.Attack = 0;
; 1531 : 						lpObj->m_ActState.Move = 0;
; 1532 : 						lpObj->NextActionTime = 1000;

  00463	eb 41		 jmp	 SHORT $LN99@gObjMonste@21
$LN20@gObjMonste@21:

; 1456 : 			{
; 1457 : 				if ( lpObj->TargetNumber >= 0 )

  00465	0f b7 86 58 04
	00 00		 movzx	 eax, WORD PTR [esi+1112]
  0046c	66 85 c0	 test	 ax, ax
  0046f	0f 88 93 00 00
	00		 js	 $LN11@gObjMonste@21

; 1458 : 				{
; 1459 : 					if ( gObj[lpObj->TargetNumber].Connected > PLAYER_LOGGED && gObj[lpObj->TargetNumber].CloseCount == -1 )

  00475	0f bf c0	 movsx	 eax, ax
  00478	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  0047e	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00484	39 58 04	 cmp	 DWORD PTR [eax+4], ebx
  00487	7e 61		 jle	 SHORT $LN18@gObjMonste@21
  00489	80 78 0a ff	 cmp	 BYTE PTR [eax+10], -1
  0048d	75 5b		 jne	 SHORT $LN18@gObjMonste@21

; 1460 : 					{
; 1461 : 						if ( gObj[lpObj->TargetNumber].Live == FALSE )

  0048f	80 78 6a 00	 cmp	 BYTE PTR [eax+106], 0

; 1462 : 						{
; 1463 : 							lpObj->TargetNumber = -1;
; 1464 : 							lpObj->m_ActState.Emotion = 0;
; 1465 : 							lpObj->m_ActState.Attack = 0;
; 1466 : 							lpObj->m_ActState.Move = 0;
; 1467 : 							lpObj->NextActionTime = 1000;

  00493	74 55		 je	 SHORT $LN18@gObjMonste@21

; 1468 : 						}
; 1469 : 						else if ( gObj[lpObj->TargetNumber].Teleport == 0 )

  00495	80 b8 a0 03 00
	00 00		 cmp	 BYTE PTR [eax+928], 0
  0049c	75 6a		 jne	 SHORT $LN11@gObjMonste@21

; 1470 : 						{
; 1471 : 							gObjMonsterMagicAttack(lpObj, -1);

  0049e	6a ff		 push	 -1
  004a0	56		 push	 esi
  004a1	e8 00 00 00 00	 call	 ?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjMonsterMagicAttack
$LN99@gObjMonste@21:
  004a6	83 c4 08	 add	 esp, 8

; 1472 : 
; 1473 : 							if ( lpObj->Type == OBJ_MONSTER )

  004a9	66 39 5e 68	 cmp	 WORD PTR [esi+104], bx
  004ad	75 59		 jne	 SHORT $LN11@gObjMonste@21

; 1474 : 							{
; 1475 : 								if ( lpObj->m_bIsInMonsterHerd != false )

  004af	83 be e8 10 00
	00 00		 cmp	 DWORD PTR [esi+4328], 0
  004b6	74 50		 je	 SHORT $LN11@gObjMonste@21

; 1476 : 								{
; 1477 : 									if (lpObj->m_lpMonsterHerd != NULL )

  004b8	8b 8e f0 10 00
	00		 mov	 ecx, DWORD PTR [esi+4336]
  004be	85 c9		 test	 ecx, ecx
  004c0	74 46		 je	 SHORT $LN11@gObjMonste@21

; 1478 : 									{
; 1479 : 										lpObj->m_lpMonsterHerd->MonsterAttackAction(lpObj, &gObj[lpObj->TargetNumber]);

  004c2	0f bf 86 58 04
	00 00		 movsx	 eax, WORD PTR [esi+1112]
  004c9	8b 11		 mov	 edx, DWORD PTR [ecx]
  004cb	69 c0 50 2b 00
	00		 imul	 eax, 11088		; 00002b50H
  004d1	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004d7	8b 52 48	 mov	 edx, DWORD PTR [edx+72]
  004da	50		 push	 eax
  004db	56		 push	 esi
  004dc	ff d2		 call	 edx

; 1533 : 					}
; 1534 : 				}
; 1535 : 			}
; 1536 : 
; 1537 : 			lpObj->m_ActState.Attack = 0;

  004de	83 a6 18 02 00
	00 fd		 and	 DWORD PTR [esi+536], -3	; fffffffdH
  004e5	5b		 pop	 ebx
  004e6	5f		 pop	 edi
  004e7	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  004e8	5d		 pop	 ebp
  004e9	c3		 ret	 0
$LN18@gObjMonste@21:

; 1480 : 									}
; 1481 : 								}
; 1482 : 							}
; 1483 : 						}
; 1484 : 					}
; 1485 : 					else
; 1486 : 					{
; 1487 : 						lpObj->TargetNumber = -1;

  004ea	83 c8 ff	 or	 eax, -1
  004ed	66 89 86 58 04
	00 00		 mov	 WORD PTR [esi+1112], ax
$LN95@gObjMonste@21:

; 1488 : 						lpObj->m_ActState.Emotion = 0;
; 1489 : 						lpObj->m_ActState.Attack = 0;
; 1490 : 						lpObj->m_ActState.Move = 0;

  004f4	81 a6 18 02 00
	00 09 ff ff ff	 and	 DWORD PTR [esi+536], -247 ; ffffff09H

; 1491 : 						lpObj->NextActionTime = 1000;

  004fe	c7 86 bc 03 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+956], 1000 ; 000003e8H
$LN11@gObjMonste@21:

; 1533 : 					}
; 1534 : 				}
; 1535 : 			}
; 1536 : 
; 1537 : 			lpObj->m_ActState.Attack = 0;

  00508	83 a6 18 02 00
	00 fd		 and	 DWORD PTR [esi+536], -3	; fffffffdH
$LN92@gObjMonste@21:
  0050f	5b		 pop	 ebx
$LN91@gObjMonste@21:
  00510	5f		 pop	 edi
$LN25@gObjMonste@21:
  00511	5e		 pop	 esi

; 1538 : 		}
; 1539 : 	}
; 1540 : }

  00512	5d		 pop	 ebp
  00513	c3		 ret	 0
?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterProcess
_TEXT	ENDS
PUBLIC	??_C@_0BB@BACGIKG@KUNDUN_EVENT_LOG?$AA@		; `string'
PUBLIC	??_C@_0BD@CIMLGFIE@?4?2KUNDUN_EVENT_LOG?$AA@	; `string'
EXTRN	_atexit:PROC
EXTRN	??0CLogToFile@@QAE@QAD0H@Z:PROC			; CLogToFile::CLogToFile
;	COMDAT ??_C@_0BB@BACGIKG@KUNDUN_EVENT_LOG?$AA@
CONST	SEGMENT
??_C@_0BB@BACGIKG@KUNDUN_EVENT_LOG?$AA@ DB 'KUNDUN_EVENT_LOG', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@CIMLGFIE@?4?2KUNDUN_EVENT_LOG?$AA@
CONST	SEGMENT
??_C@_0BD@CIMLGFIE@?4?2KUNDUN_EVENT_LOG?$AA@ DB '.\KUNDUN_EVENT_LOG', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ??__EKUNDUN_EVENT_LOG@@YAXXZ
text$yc	SEGMENT
??__EKUNDUN_EVENT_LOG@@YAXXZ PROC			; `dynamic initializer for 'KUNDUN_EVENT_LOG'', COMDAT

; 71   : CLogToFile KUNDUN_EVENT_LOG("KUNDUN_EVENT_LOG", ".\\KUNDUN_EVENT_LOG", 1);

  00000	6a 01		 push	 1
  00002	68 00 00 00 00	 push	 OFFSET ??_C@_0BD@CIMLGFIE@?4?2KUNDUN_EVENT_LOG?$AA@
  00007	68 00 00 00 00	 push	 OFFSET ??_C@_0BB@BACGIKG@KUNDUN_EVENT_LOG?$AA@
  0000c	b9 00 00 00 00	 mov	 ecx, OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00011	e8 00 00 00 00	 call	 ??0CLogToFile@@QAE@QAD0H@Z ; CLogToFile::CLogToFile
  00016	68 00 00 00 00	 push	 OFFSET ??__FKUNDUN_EVENT_LOG@@YAXXZ ; `dynamic atexit destructor for 'KUNDUN_EVENT_LOG''
  0001b	e8 00 00 00 00	 call	 _atexit
  00020	59		 pop	 ecx
  00021	c3		 ret	 0
??__EKUNDUN_EVENT_LOG@@YAXXZ ENDP			; `dynamic initializer for 'KUNDUN_EVENT_LOG''
text$yc	ENDS
PUBLIC	?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A	; gQeustNpcTeleport
_DATA	SEGMENT
	ORG $+4
?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A DD 00H	; gQeustNpcTeleport
	DB	28 DUP(00H)
	DD	0ffffffffH
; Function compile flags: /Ogtp
_DATA	ENDS
;	COMDAT ??__EgQeustNpcTeleport@@YAXXZ
text$yc	SEGMENT
??__EgQeustNpcTeleport@@YAXXZ PROC			; `dynamic initializer for 'gQeustNpcTeleport'', COMDAT

; 72   : CQeustNpcTeleport gQeustNpcTeleport;

  00000	68 04 00 00 00	 push	 OFFSET ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+4
  00005	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4
  0000b	b8 02 00 00 00	 mov	 eax, 2
  00010	33 c9		 xor	 ecx, ecx
  00012	68 00 00 00 00	 push	 OFFSET ??__FgQeustNpcTeleport@@YAXXZ ; `dynamic atexit destructor for 'gQeustNpcTeleport''
  00017	89 0d 1c 00 00
	00		 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+28, ecx
  0001d	a3 24 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+36, eax
  00022	c7 05 28 00 00
	00 c6 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+40, 198 ; 000000c6H
  0002c	c7 05 2c 00 00
	00 2f 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+44, 47 ; 0000002fH
  00036	a3 30 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+48, eax
  0003b	89 0d 34 00 00
	00		 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+52, ecx
  00041	c7 05 38 00 00
	00 89 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+56, 137 ; 00000089H
  0004b	c7 05 3c 00 00
	00 57 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+60, 87 ; 00000057H
  00055	c7 05 40 00 00
	00 01 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+64, 1
  0005f	c7 05 44 00 00
	00 03 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+68, 3
  00069	c7 05 48 00 00
	00 a9 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+72, 169 ; 000000a9H
  00073	c7 05 4c 00 00
	00 59 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+76, 89 ; 00000059H
  0007d	a3 50 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+80, eax
  00082	c7 05 54 00 00
	00 07 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+84, 7
  0008c	c7 05 58 00 00
	00 11 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+88, 17 ; 00000011H
  00096	c7 05 5c 00 00
	00 19 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+92, 25 ; 00000019H
  000a0	a3 60 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+96, eax
  000a5	e8 00 00 00 00	 call	 _atexit
  000aa	59		 pop	 ecx
  000ab	c3		 ret	 0
??__EgQeustNpcTeleport@@YAXXZ ENDP			; `dynamic initializer for 'gQeustNpcTeleport''
text$yc	ENDS
EXTRN	??1CLogToFile@@QAE@XZ:PROC			; CLogToFile::~CLogToFile
; Function compile flags: /Ogtp
;	COMDAT ??__FKUNDUN_EVENT_LOG@@YAXXZ
text$yd	SEGMENT
??__FKUNDUN_EVENT_LOG@@YAXXZ PROC			; `dynamic atexit destructor for 'KUNDUN_EVENT_LOG'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00005	e9 00 00 00 00	 jmp	 ??1CLogToFile@@QAE@XZ	; CLogToFile::~CLogToFile
??__FKUNDUN_EVENT_LOG@@YAXXZ ENDP			; `dynamic atexit destructor for 'KUNDUN_EVENT_LOG''
; Function compile flags: /Ogtp
text$yd	ENDS
;	COMDAT ??__FgQeustNpcTeleport@@YAXXZ
text$yd	SEGMENT
??__FgQeustNpcTeleport@@YAXXZ PROC			; `dynamic atexit destructor for 'gQeustNpcTeleport'', COMDAT
  00000	68 04 00 00 00	 push	 OFFSET ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+4
  00005	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4
  0000b	c3		 ret	 0
??__FgQeustNpcTeleport@@YAXXZ ENDP			; `dynamic atexit destructor for 'gQeustNpcTeleport''
text$yd	ENDS
PUBLIC	?KUNDUN_EVENT_LOG@@3VCLogToFile@@A		; KUNDUN_EVENT_LOG
_BSS	SEGMENT
?KUNDUN_EVENT_LOG@@3VCLogToFile@@A DB 010228H DUP (?)	; KUNDUN_EVENT_LOG
_BSS	ENDS
CRT$XCU	SEGMENT
_KUNDUN_EVENT_LOG$initializer$ DD FLAT:??__EKUNDUN_EVENT_LOG@@YAXXZ
_gQeustNpcTeleport$initializer$ DD FLAT:??__EgQeustNpcTeleport@@YAXXZ
CRT$XCU	ENDS
END
